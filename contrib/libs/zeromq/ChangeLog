# Generated by Makefile. Do not edit.

commit 58d8206c0500d0c14c5da94ee6d9e24a9504c9e9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 15 11:39:27 2015 +0200

    Updated NEWS for 4.1.2

 NEWS |   84 ++++++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 49 insertions(+), 35 deletions(-)

commit d62bf335034a312acc625e3f8bf00509586f07b8
Merge: f2c3295 7e89feb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 11 23:54:51 2015 +0200

    Merge pull request #39 from hintjens/master

    Problem: 4.1 broke the ABI yet did not bump ABI number

commit 7e89feb7ced2b36250698f8977ffe1de74d20f85
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 11 23:52:30 2015 +0200

    Problem: 4.1 broke the ABI yet did not bump ABI number

    Solution: bump to ABI version 5

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f2c32954eb259c4631e899d40fe9a97c2f2cfdb0
Merge: b2f7881 87c888a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 8 09:03:25 2015 +0200

    Merge pull request #38 from minrk/4.1.2

    bump version to 4.1.2

commit 87c888a9c007ff4bb65c99acdb01b989b7073df5
Author: Min RK <benjaminrk@gmail.com>
Date:   Sun Jun 7 21:33:22 2015 -0700

    bump version to 4.1.2

    4.1.1 has been released

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b2f788135a0bb536ad5b6f3d4c59638d701fd9b3
Merge: a2e6e12 9be539a
Author: Constantin Rack <c-rack@users.noreply.github.com>
Date:   Sun Jun 7 20:22:13 2015 +0200

    Merge pull request #37 from minrk/proxy-single-socket

    backport fix for #1428

commit 9be539a1e1e8196ad5b276f8c341ae366c82842b
Author: Min RK <benjaminrk@gmail.com>
Date:   Sat Jun 6 21:05:55 2015 -0700

    test proxy with single REP socket

 Makefile.am                        |    4 ++
 tests/CMakeLists.txt               |    1 +
 tests/test_proxy_single_socket.cpp |  113 ++++++++++++++++++++++++++++++++++++
 3 files changed, 118 insertions(+)

commit fd7ba4d5098ebd37e5c678ba981ecdf0eaec2ba8
Author: Min RK <benjaminrk@gmail.com>
Date:   Sat Jun 6 21:05:32 2015 -0700

    don't check POLLOUT for single-socket proxies

 src/proxy.cpp |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit a2e6e12b6c3d420d7eb173c408743140010e7178
Merge: 23f68d2 c75cc9e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jun 7 01:11:09 2015 +0200

    Merge pull request #36 from junovitch/fix-man-install-without-doc-build

    Enable install of man pages when BUILD_DOC is not set by shifting INSâ€¦

commit c75cc9ec5b8886b291e3ad8b8a05b6d255822c8f
Author: Jason Unovitch <jason.unovitch@gmail.com>
Date:   Sat Jun 6 18:49:21 2015 -0400

    Enable install of man pages when BUILD_DOC is not set by shifting INSTALL_MAN outside of BUILD_DOC's if/endif

 doc/Makefile.am |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 23f68d2b39c422970df12440fbe413fe2c3f254f
Merge: 25cd81b 4f0fd36
Author: Constantin Rack <c-rack@users.noreply.github.com>
Date:   Thu Jun 4 13:51:47 2015 +0200

    Merge pull request #35 from hintjens/master

    Problem: event interface isn't compatible with CZMQ 3.0

commit 4f0fd36410248ed69480844c94a5562f7a601c91
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 4 13:19:52 2015 +0200

    Problem: event interface isn't compatible with CZMQ 3.0

    Solution: backport the latest STDINT definitions from libzmq.

    Fixes #34

 include/zmq.h |   11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

commit 25cd81b7f37e9352ec8dda40a571e6ff48b2754c
Merge: d5a66f7 7515323
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 2 23:46:49 2015 +0200

    Merge pull request #33 from hintjens/master

    Fixes to README

commit 7515323295e9e6d5bca1706fb4d0050cd0828741
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 2 23:46:05 2015 +0200

    Fixes to README

 README.md |   39 ++++++++++++++++++++++++++++-----------
 1 file changed, 28 insertions(+), 11 deletions(-)

commit d5a66f7b7d947b2f5344808cedc9df24b16be2b8
Merge: 203cd80 b0a69fc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 2 23:41:02 2015 +0200

    Merge pull request #32 from hintjens/master

    Problem: source file headers are somewhat confusing about LGPLv3

commit b0a69fc623b8c267f1d7d7dd8621f2f74b522478
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 2 22:47:01 2015 +0200

    Problem: source file headers are somewhat confusing about LGPLv3

    Of course people still "can" distributed the sources under the
    LGPLv3. However we provide COPYING.LESSER with additional grants.

    Solution: specify these grants in the header of each source file.

 AUTHORS                              |  238 +++++++++++++++++-----------------
 builds/mingw32/platform.hpp          |   29 +++--
 builds/msvc/platform.hpp             |   29 +++--
 builds/zos/test_fork.cpp             |   36 +++--
 include/zmq.h                        |    4 +-
 include/zmq_utils.h                  |    2 +-
 perf/inproc_lat.cpp                  |   28 ++--
 perf/inproc_thr.cpp                  |   26 ++--
 perf/local_lat.cpp                   |   28 ++--
 perf/local_thr.cpp                   |   28 ++--
 perf/remote_lat.cpp                  |   28 ++--
 perf/remote_thr.cpp                  |   28 ++--
 src/address.cpp                      |   28 ++--
 src/address.hpp                      |   28 ++--
 src/array.hpp                        |   28 ++--
 src/atomic_counter.hpp               |   28 ++--
 src/atomic_ptr.hpp                   |   28 ++--
 src/blob.hpp                         |   28 ++--
 src/clock.cpp                        |   28 ++--
 src/clock.hpp                        |   28 ++--
 src/command.hpp                      |   30 +++--
 src/config.hpp                       |   28 ++--
 src/ctx.cpp                          |   28 ++--
 src/ctx.hpp                          |   30 +++--
 src/curve_client.cpp                 |   28 ++--
 src/curve_client.hpp                 |   28 ++--
 src/curve_server.cpp                 |   28 ++--
 src/curve_server.hpp                 |   28 ++--
 src/dbuffer.hpp                      |   28 ++--
 src/dealer.cpp                       |   28 ++--
 src/dealer.hpp                       |   28 ++--
 src/decoder.hpp                      |   28 ++--
 src/devpoll.cpp                      |   28 ++--
 src/devpoll.hpp                      |   28 ++--
 src/dist.cpp                         |   30 +++--
 src/dist.hpp                         |   28 ++--
 src/encoder.hpp                      |   30 +++--
 src/epoll.cpp                        |   28 ++--
 src/epoll.hpp                        |   28 ++--
 src/err.cpp                          |  130 ++++++++++---------
 src/err.hpp                          |   30 +++--
 src/fd.hpp                           |   28 ++--
 src/fq.cpp                           |   28 ++--
 src/fq.hpp                           |   28 ++--
 src/gssapi_client.cpp                |   28 ++--
 src/gssapi_client.hpp                |   28 ++--
 src/gssapi_mechanism_base.cpp        |   28 ++--
 src/gssapi_mechanism_base.hpp        |   28 ++--
 src/gssapi_server.cpp                |   28 ++--
 src/gssapi_server.hpp                |   28 ++--
 src/i_decoder.hpp                    |   28 ++--
 src/i_encoder.hpp                    |   28 ++--
 src/i_engine.hpp                     |   28 ++--
 src/i_poll_events.hpp                |   48 ++++---
 src/io_object.cpp                    |   28 ++--
 src/io_object.hpp                    |   28 ++--
 src/io_thread.cpp                    |   28 ++--
 src/io_thread.hpp                    |   28 ++--
 src/ip.cpp                           |   28 ++--
 src/ip.hpp                           |   28 ++--
 src/ipc_address.cpp                  |   28 ++--
 src/ipc_address.hpp                  |   28 ++--
 src/ipc_connecter.cpp                |   34 +++--
 src/ipc_connecter.hpp                |   28 ++--
 src/ipc_listener.cpp                 |   30 +++--
 src/ipc_listener.hpp                 |   28 ++--
 src/kqueue.cpp                       |   28 ++--
 src/kqueue.hpp                       |   28 ++--
 src/lb.cpp                           |   28 ++--
 src/lb.hpp                           |   28 ++--
 src/likely.hpp                       |   28 ++--
 src/mailbox.cpp                      |   28 ++--
 src/mailbox.hpp                      |   28 ++--
 src/mechanism.cpp                    |   28 ++--
 src/mechanism.hpp                    |   28 ++--
 src/metadata.cpp                     |   28 ++--
 src/metadata.hpp                     |   28 ++--
 src/msg.cpp                          |   28 ++--
 src/msg.hpp                          |   28 ++--
 src/mtrie.cpp                        |   36 +++--
 src/mtrie.hpp                        |   28 ++--
 src/mutex.hpp                        |   28 ++--
 src/null_mechanism.cpp               |   28 ++--
 src/null_mechanism.hpp               |   28 ++--
 src/object.cpp                       |   32 +++--
 src/object.hpp                       |   28 ++--
 src/options.cpp                      |   28 ++--
 src/options.hpp                      |   28 ++--
 src/own.cpp                          |   30 +++--
 src/own.hpp                          |   28 ++--
 src/pair.cpp                         |   28 ++--
 src/pair.hpp                         |   28 ++--
 src/pgm_receiver.cpp                 |   30 +++--
 src/pgm_receiver.hpp                 |   30 +++--
 src/pgm_sender.cpp                   |   36 +++--
 src/pgm_sender.hpp                   |   30 +++--
 src/pgm_socket.cpp                   |   54 ++++----
 src/pgm_socket.hpp                   |   40 +++---
 src/pipe.cpp                         |   28 ++--
 src/pipe.hpp                         |   28 ++--
 src/plain_client.cpp                 |   28 ++--
 src/plain_client.hpp                 |   28 ++--
 src/plain_server.cpp                 |   28 ++--
 src/plain_server.hpp                 |   28 ++--
 src/poll.cpp                         |   28 ++--
 src/poll.hpp                         |   28 ++--
 src/poller.hpp                       |   28 ++--
 src/poller_base.cpp                  |   28 ++--
 src/poller_base.hpp                  |   28 ++--
 src/precompiled.cpp                  |   28 ++--
 src/precompiled.hpp                  |   28 ++--
 src/proxy.cpp                        |   28 ++--
 src/proxy.hpp                        |   28 ++--
 src/pub.cpp                          |   28 ++--
 src/pub.hpp                          |   28 ++--
 src/pull.cpp                         |   28 ++--
 src/pull.hpp                         |   28 ++--
 src/push.cpp                         |   28 ++--
 src/push.hpp                         |   28 ++--
 src/random.cpp                       |   28 ++--
 src/random.hpp                       |   28 ++--
 src/raw_decoder.cpp                  |   28 ++--
 src/raw_decoder.hpp                  |   28 ++--
 src/raw_encoder.cpp                  |   28 ++--
 src/raw_encoder.hpp                  |   28 ++--
 src/reaper.cpp                       |   28 ++--
 src/reaper.hpp                       |   28 ++--
 src/rep.cpp                          |   28 ++--
 src/rep.hpp                          |   28 ++--
 src/req.cpp                          |   28 ++--
 src/req.hpp                          |   28 ++--
 src/router.cpp                       |   48 ++++---
 src/router.hpp                       |   30 +++--
 src/select.cpp                       |   28 ++--
 src/select.hpp                       |   28 ++--
 src/session_base.cpp                 |   28 ++--
 src/session_base.hpp                 |   28 ++--
 src/signaler.cpp                     |   28 ++--
 src/signaler.hpp                     |   28 ++--
 src/socket_base.cpp                  |   36 +++--
 src/socket_base.hpp                  |   30 +++--
 src/socks.cpp                        |   28 ++--
 src/socks.hpp                        |   28 ++--
 src/socks_connecter.cpp              |   28 ++--
 src/socks_connecter.hpp              |   28 ++--
 src/stdint.hpp                       |   28 ++--
 src/stream.cpp                       |   28 ++--
 src/stream.hpp                       |   30 +++--
 src/stream_engine.cpp                |   28 ++--
 src/stream_engine.hpp                |   28 ++--
 src/sub.cpp                          |   28 ++--
 src/sub.hpp                          |   28 ++--
 src/tcp.cpp                          |   28 ++--
 src/tcp.hpp                          |   30 +++--
 src/tcp_address.cpp                  |   28 ++--
 src/tcp_address.hpp                  |   28 ++--
 src/tcp_connecter.cpp                |   28 ++--
 src/tcp_connecter.hpp                |   28 ++--
 src/tcp_listener.cpp                 |   28 ++--
 src/tcp_listener.hpp                 |   28 ++--
 src/thread.cpp                       |   32 +++--
 src/thread.hpp                       |   30 +++--
 src/tipc_address.cpp                 |   28 ++--
 src/tipc_address.hpp                 |   28 ++--
 src/tipc_connecter.cpp               |   28 ++--
 src/tipc_connecter.hpp               |   28 ++--
 src/tipc_listener.cpp                |   28 ++--
 src/tipc_listener.hpp                |   28 ++--
 src/trie.cpp                         |   28 ++--
 src/trie.hpp                         |   28 ++--
 src/v1_decoder.cpp                   |   28 ++--
 src/v1_decoder.hpp                   |   28 ++--
 src/v1_encoder.cpp                   |   28 ++--
 src/v1_encoder.hpp                   |   28 ++--
 src/v2_decoder.cpp                   |   28 ++--
 src/v2_decoder.hpp                   |   28 ++--
 src/v2_encoder.cpp                   |   28 ++--
 src/v2_encoder.hpp                   |   28 ++--
 src/v2_protocol.hpp                  |   28 ++--
 src/windows.hpp                      |   30 +++--
 src/wire.hpp                         |   28 ++--
 src/xpub.cpp                         |   30 +++--
 src/xpub.hpp                         |   28 ++--
 src/xsub.cpp                         |   34 +++--
 src/xsub.hpp                         |   28 ++--
 src/ypipe.hpp                        |   28 ++--
 src/ypipe_base.hpp                   |   28 ++--
 src/ypipe_conflate.hpp               |   28 ++--
 src/yqueue.hpp                       |   32 +++--
 src/zmq.cpp                          |   28 ++--
 src/zmq_utils.cpp                    |   54 ++++----
 tests/test_abstract_ipc.cpp          |   30 +++--
 tests/test_bind_src_address.cpp      |   28 ++--
 tests/test_capabilities.cpp          |   36 +++--
 tests/test_conflate.cpp              |   28 ++--
 tests/test_connect_delay_tipc.cpp    |   28 ++--
 tests/test_connect_resolve.cpp       |   34 +++--
 tests/test_connect_rid.cpp           |   46 ++++---
 tests/test_ctx_destroy.cpp           |   38 ++++--
 tests/test_ctx_options.cpp           |   38 ++++--
 tests/test_diffserv.cpp              |   28 ++--
 tests/test_disconnect_inproc.cpp     |   44 ++++---
 tests/test_filter_ipc.cpp            |   30 +++--
 tests/test_fork.cpp                  |   36 +++--
 tests/test_hwm.cpp                   |   30 +++--
 tests/test_hwm_pubsub.cpp            |   30 +++--
 tests/test_id2fd.cpp                 |   52 +++++---
 tests/test_immediate.cpp             |   62 +++++----
 tests/test_inproc_connect.cpp        |   28 ++--
 tests/test_invalid_rep.cpp           |   34 +++--
 tests/test_iov.cpp                   |   38 ++++--
 tests/test_ipc_wildcard.cpp          |   30 +++--
 tests/test_issue_566.cpp             |   34 +++--
 tests/test_last_endpoint.cpp         |   30 +++--
 tests/test_many_sockets.cpp          |   28 ++--
 tests/test_metadata.cpp              |   30 +++--
 tests/test_monitor.cpp               |   42 +++---
 tests/test_msg_flags.cpp             |   28 ++--
 tests/test_pair_inproc.cpp           |   36 +++--
 tests/test_pair_ipc.cpp              |   30 +++--
 tests/test_pair_tcp.cpp              |   30 +++--
 tests/test_pair_tipc.cpp             |   26 ++--
 tests/test_probe_router.cpp          |   34 +++--
 tests/test_proxy.cpp                 |   28 ++--
 tests/test_proxy_terminate.cpp       |   26 ++--
 tests/test_req_correlate.cpp         |   28 ++--
 tests/test_req_relaxed.cpp           |   28 ++--
 tests/test_reqrep_device.cpp         |   28 ++--
 tests/test_reqrep_device_tipc.cpp    |   26 ++--
 tests/test_reqrep_inproc.cpp         |   30 +++--
 tests/test_reqrep_ipc.cpp            |   30 +++--
 tests/test_reqrep_tcp.cpp            |   30 +++--
 tests/test_reqrep_tipc.cpp           |   26 ++--
 tests/test_router_handover.cpp       |   36 +++--
 tests/test_router_mandatory.cpp      |   30 +++--
 tests/test_router_mandatory_hwm.cpp  |   28 ++--
 tests/test_router_mandatory_tipc.cpp |   26 ++--
 tests/test_security_curve.cpp        |   30 +++--
 tests/test_security_null.cpp         |   34 +++--
 tests/test_security_plain.cpp        |   28 ++--
 tests/test_shutdown_stress.cpp       |   28 ++--
 tests/test_shutdown_stress_tipc.cpp  |   26 ++--
 tests/test_spec_dealer.cpp           |   28 ++--
 tests/test_spec_pushpull.cpp         |   28 ++--
 tests/test_spec_rep.cpp              |   28 ++--
 tests/test_spec_req.cpp              |   36 +++--
 tests/test_spec_router.cpp           |   28 ++--
 tests/test_srcfd.cpp                 |   36 +++--
 tests/test_stream.cpp                |   28 ++--
 tests/test_stream_disconnect.cpp     |   26 ++--
 tests/test_stream_empty.cpp          |   42 +++---
 tests/test_stream_timeout.cpp        |   34 +++--
 tests/test_sub_forward.cpp           |   28 ++--
 tests/test_sub_forward_tipc.cpp      |   26 ++--
 tests/test_system.cpp                |   30 +++--
 tests/test_term_endpoint.cpp         |   28 ++--
 tests/test_term_endpoint_tipc.cpp    |   26 ++--
 tests/test_timeo.cpp                 |   34 +++--
 tests/test_xpub_nodrop.cpp           |   34 +++--
 tests/testutil.hpp                   |   32 +++--
 tools/curve_keygen.cpp               |   37 +++---
 261 files changed, 5303 insertions(+), 2732 deletions(-)

commit 203cd808e249c06e1818cc3d70de4e48caf5f92b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 2 12:34:28 2015 +0200

    Updated NEWS for release 4.1.1

 NEWS |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e31c10888542ba5d65be50c09d9da58641ed82f5
Merge: 7b786b2 610a956
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 27 15:32:00 2015 +0200

    Merge pull request #31 from c-rack/fix-travis-ci-badge

    Solution: Use the correct URL. Fixes #30

commit 610a956bed2d339cb276934f618212b347ca096f
Author: Constantin Rack <c-rack@users.noreply.github.com>
Date:   Wed May 27 14:44:31 2015 +0200

    Solution: Use the correct URL. Fixes #30

 README.md |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b786b25379d6046a7816d9ecdc8254ebf2624e7
Merge: 1d18b39 b5a00b7
Author: Constantin Rack <c-rack@users.noreply.github.com>
Date:   Wed May 27 14:34:55 2015 +0200

    Merge pull request #29 from rikvdh/master

    Fix another degradation, CPU maxes out when POLLOUT is set

commit b5a00b76e8f52f9bbd4894684e5051bffc7b0f2f
Author: Rik van der Heijden <rik.vanderheijden@dualinventive.com>
Date:   Wed May 27 14:21:47 2015 +0200

    Fix another degradation, CPU maxes out when POLLOUT is set because poll exits on POLLOUT and doesn't wait for POLLIN.

 src/proxy.cpp |   18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 1d18b39c4be273016c642f5246aa20d80155d39b
Merge: 934b599 3a0f218
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 24 22:59:10 2015 +0200

    Merge pull request #28 from rikvdh/master

    Fix degradation from #1382, POLLOUT was tested but not requested

commit 3a0f218cae1d8af36ce19df1ed52e3fb431a8a28
Author: Rik van der Heijden <rik.vanderheijden@dualinventive.com>
Date:   Sun May 24 22:38:22 2015 +0200

    Fix degradation from #1382, POLLOUT was tested but not requested

 src/proxy.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 934b5999385cd9d905e95bce7541412f8b65af73
Merge: c188667 d41b1ec
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 1 11:36:58 2015 +0200

    Merge pull request #26 from hintjens/master

    Backported fix for #1382

commit d41b1ecdf7259cb413457f7bc7f53af2069d4b18
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 1 11:35:35 2015 +0200

    Problem: Makefile.am doesn't built test_proxy_terminate correctly

    Solution: fix it.

 Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit c1886679638a74aecd984db1ea5319bd560b7ddf
Merge: 752338e f5e1c60
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 1 11:33:30 2015 +0200

    Merge pull request #25 from hintjens/master

    Merged fix for #1382

commit 1c7b09afaf29ad7e1b767c716f674fb56fc13cd7
Author: Rik van der Heijden <mail@rikvanderheijden.com>
Date:   Fri Apr 24 23:01:20 2015 +0200

    Merged fix for #1382

    Also fixed Makefile.am with missing specs for test case.

 .gitignore                     |    1 +
 AUTHORS                        |    1 +
 Makefile.am                    |    1 +
 NEWS                           |    4 +-
 src/proxy.cpp                  |    6 ++-
 tests/CMakeLists.txt           |    1 +
 tests/test_proxy_terminate.cpp |  113 ++++++++++++++++++++++++++++++++++++++++
 7 files changed, 124 insertions(+), 3 deletions(-)

commit f5e1c607a5e8202809ca223d40138761a21e15b9
Author: Rik van der Heijden <mail@rikvanderheijden.com>
Date:   Fri Apr 24 23:01:20 2015 +0200

    Merged fix for #1382

 .gitignore                     |    1 +
 AUTHORS                        |    1 +
 Makefile.am                    |    1 +
 NEWS                           |    4 +-
 src/proxy.cpp                  |    6 ++-
 tests/CMakeLists.txt           |    1 +
 tests/test_proxy_terminate.cpp |  113 ++++++++++++++++++++++++++++++++++++++++
 7 files changed, 124 insertions(+), 3 deletions(-)

commit 752338ec872e05771752f4558d02ea32db3d64cd
Merge: 837cc2c 3ef80ce
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 1 08:45:46 2015 +0200

    Merge pull request #24 from hintjens/master

    Fix for #1384

commit 3ef80cec74346e4c79b7974b53639ece2af55167
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 1 08:43:34 2015 +0200

    Updated NEWS for #1389

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 6f75687c9eab9a4e3ac49f34caba7ab7364ddb39
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Apr 28 07:44:22 2015 +0200

    pub: Don't delay pipe termination

 src/pub.cpp |   13 +++++++++++++
 src/pub.hpp |    1 +
 2 files changed, 14 insertions(+)

commit 8e26e4b35c248aaa0dff28a6746a9746ac7f1455
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Apr 28 07:40:31 2015 +0200

    push: Don't delay pipe termination

 src/push.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit 837cc2cd75c57de1866754ebafb13ae585aac139
Merge: f22094b 7b4c323
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 22 00:29:41 2015 +0300

    Merge pull request #23 from hintjens/master

    Backported 594e3d

commit 7b4c323bfddc84509d98bf67de4560feba7e42c6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 21 23:28:38 2015 +0200

    Updated NEWS for 594e3d

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit fee19e26acc6106ecc0365d433f2984f0dd82742
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 20 12:51:10 2015 +0200

    Problem: shutdown asserts if WSASTARUP wasn't done previously

    This is a silly assertion that causes problems if libzmq.dll is
    called in some esoteric ways.

    Solution: if the shutdown code detects WSANOTINITIALISED, then
    exit silently.

    Fixes #1377
    Fixes #1144

 src/signaler.cpp |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit f22094b61a8ba3b360e1b043c3758a4beab02c4f
Merge: 6072d3d ff0380d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 15 11:25:44 2015 +0100

    Merge pull request #22 from calid/docfix-zmq-msg-init

    doc: zmq_msg_init does not set errno

commit ff0380d1f6a908f95f86249d2d9345a92ac4554d
Author: Dylan Cali <calid1984@gmail.com>
Date:   Sun Mar 15 04:02:44 2015 -0500

    doc: zmq_msg_init does not set errno

    In fact it always returns zero.

    Backport of zeromq/libzmq#1368

 doc/zmq_msg_init.txt |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 6072d3dbdc6bd68206d2df0e2029ccf9d9c5627a
Merge: aa2237b 609ec13
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 20 09:15:02 2015 +0100

    Merge pull request #21 from hintjens/master

    Fixed issue #1362

commit 609ec133b4c888dbb0506823b2339e7f8dad008b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 20 09:14:02 2015 +0100

    Updated news for #1362

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 160a7efae4d11f2ee3411792a7fae2edb03c9030
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Feb 19 21:38:10 2015 +0100

    Adjust number of sent messages on hiccups

    Not adjusting the sent message count may lead to situation when SUB
    socket does not forward its subscriptions.

 src/pipe.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit aa2237b8d6eea3241378c36cdfe8590586677abb
Merge: 2a3379a 73fa40b
Author: Constantin Rack <c-rack@users.noreply.github.com>
Date:   Thu Feb 19 20:33:49 2015 +0100

    Merge pull request #20 from rodgert/master

    resolve #1347 addresses issue of no metadata on identity frame

commit 73fa40b9ac5d30c93dc78b23bf86aa65a24e4a6d
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Thu Feb 19 13:31:26 2015 -0600

    resolve #1347 addresses issue of no metadata on identity frame

 src/stream.cpp        |    6 ++++++
 tests/test_stream.cpp |    3 +++
 2 files changed, 9 insertions(+)

commit 2a3379af4d58bbd016f7b9fd339c9fed22420546
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Thu Feb 19 13:27:18 2015 -0600

    Revert "resolve #1347 addresses issue of no metadata on identity frame"

    This reverts commit f75ed8565e984f423e748717108486b458d5a724.

 src/stream.cpp        |    6 ------
 tests/test_stream.cpp |    3 ---
 2 files changed, 9 deletions(-)

commit f75ed8565e984f423e748717108486b458d5a724
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Thu Feb 19 13:26:26 2015 -0600

    resolve #1347 addresses issue of no metadata on identity frame

 src/stream.cpp        |    6 ++++++
 tests/test_stream.cpp |    3 +++
 2 files changed, 9 insertions(+)

commit 5b6b850d9ae847952c438b709403cc3549ffcdcd
Merge: 5e60f18 d172875
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 18 21:18:43 2015 +0100

    Merge pull request #19 from rodgert/master

    Revert previous accidental push directly to zeromq/zeromq4-1

commit d172875f5252489be68018992a5e5cbc2bbc4d08
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 13:09:11 2015 -0600

    Backport resolve #1357 Support limited metadata for STREAM sockets

 src/stream.cpp        |    8 +++++++-
 src/stream_engine.cpp |   19 +++++++++++++++++--
 src/stream_engine.hpp |    4 +++-
 tests/test_stream.cpp |   22 ++++++++++++++--------
 4 files changed, 41 insertions(+), 12 deletions(-)

commit 9fe4fb39290b61c1343f3dc5e058268f40793f8a
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 12:41:33 2015 -0600

    Remove autogen.sh warning due to id2fd test cruft

 Makefile.am |    3 ---
 1 file changed, 3 deletions(-)

commit 48ed789c18bc3c8be7d42da32bc7a9d1776daa84
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 12:36:21 2015 -0600

    Revert "STREAM socket support for limited metadata"

    This reverts commit 5afd4e16edb51a3996c8d4b9f698dea8d2917c43.

 Makefile.am           |    3 +++
 src/stream.cpp        |    9 +--------
 src/stream_engine.cpp |   24 ++++--------------------
 src/stream_engine.hpp |    4 +---
 tests/test_stream.cpp |   23 ++++++++---------------
 5 files changed, 17 insertions(+), 46 deletions(-)

commit c6d5c965fa6b401da85ef3a0bd4e899084c60d02
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 12:36:19 2015 -0600

    Revert "Remove debugging cruft"

    This reverts commit bbecdf397e0661ff469eb4898008c09d00efc397.

 src/stream_engine.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit a69a043e145249364a174ced17776776e87b5bd1
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 12:36:13 2015 -0600

    Revert "Add connector.close() back"

    This reverts commit 5e60f18d3a68947f469346162deae7e65732ba50.

 src/stream_engine.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 5e60f18d3a68947f469346162deae7e65732ba50
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 11:17:41 2015 -0600

    Add connector.close() back

    Needed if session->push() ever fails

 src/stream_engine.cpp |    1 +
 1 file changed, 1 insertion(+)

commit bbecdf397e0661ff469eb4898008c09d00efc397
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 11:14:23 2015 -0600

    Remove debugging cruft

 src/stream_engine.cpp |    2 --
 1 file changed, 2 deletions(-)

commit 5afd4e16edb51a3996c8d4b9f698dea8d2917c43
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Wed Feb 18 09:35:04 2015 -0600

    STREAM socket support for limited metadata

    WIP - STREAM socket support for limited metadata

    STREAM socket support for limited metadata

 Makefile.am           |    3 ---
 src/stream.cpp        |    9 ++++++++-
 src/stream_engine.cpp |   24 ++++++++++++++++++++----
 src/stream_engine.hpp |    4 +++-
 tests/test_stream.cpp |   23 +++++++++++++++--------
 5 files changed, 46 insertions(+), 17 deletions(-)

commit ea3b9c28ae5e940682bb5f6681f0faee786e2c33
Merge: 29b7266 fa27700
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Feb 14 17:48:13 2015 +0100

    Merge pull request #18 from hintjens/master

    Updated NEWS

commit fa277000d056153a3ba44b7eb5edc96e81d4e5e0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Feb 14 17:47:55 2015 +0100

    Updated NEWS

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 29b72660418e05851860ad4e95d2e304c68a287c
Merge: 712e74e 5229eee
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Feb 14 17:47:01 2015 +0100

    Merge pull request #17 from rodgert/master

    resolve #1347 Backport zmq_msg_gets "Peer-Address"

commit 5229eeef5b92616c34e7f9b469a014f61d9070ad
Author: Thomas Rodgers <rodgert@twrodgers.com>
Date:   Sat Feb 14 10:44:52 2015 -0600

    resolve #1347 Backport zmq_msg_gets "Peer-Address"

 .gitignore              |    1 +
 doc/zmq_msg_gets.txt    |   16 +++++++++++++++-
 src/stream_engine.cpp   |   17 +++++++----------
 tests/test_metadata.cpp |    1 +
 4 files changed, 24 insertions(+), 11 deletions(-)

commit 712e74eebd8762dca18c9c7de8abc0f1ae044054
Merge: 583a5f9 89dd9fd
Author: Constantin Rack <c-rack@users.noreply.github.com>
Date:   Thu Jan 22 23:02:24 2015 +0100

    Merge pull request #16 from topher200/master

    close (clean up) unsendable messages

commit 89dd9fddaf55e0d9d2eabc3fc392b7b232d0b5ba
Author: Topher Brown <chris.brown@farsounder.com>
Date:   Tue Jan 13 17:36:09 2015 -0500

    close (clean up) unsendable messages

 src/router.cpp |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 583a5f960153670a5baec38b0a07d9d2a6e7ab1f
Merge: 20e3a9f d206fe2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 14 13:31:24 2015 +0100

    Merge pull request #14 from metadings/master

    Upgrading zmq_msg_t to 64 bytes

commit 20e3a9f5351b8adc79206e5e537a55158a6f8eb1
Merge: 67afb90 8f236dc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 14 13:30:20 2015 +0100

    Merge pull request #12 from rodgert/master

    resolve #1296 Remove of ZMQ_IDENTITY_FD socket option

commit d206fe2d45399f12d0b827832e38a813d563c262
Author: metadings <metadings@live.de>
Date:   Wed Jan 14 13:26:48 2015 +0100

    Upgrading zmq_msg_t to 64 bytes

 include/zmq.h |    2 +-
 src/msg.hpp   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 67afb90ba82ddfbdfe912346d90a32e8e937dd4f
Merge: 4a8bf12 79e3de2
Author: Constantin Rack <c-rack@users.noreply.github.com>
Date:   Sun Jan 11 21:55:38 2015 +0100

    Merge pull request #13 from hintjens/master

    Problem: patch version was not updated yet for 4.1.1

commit 79e3de21c3d92a03cbdc9857b11669b811690c9d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 11 21:54:05 2015 +0100

    Problem: patch version was not updated yet for 4.1.1

    Solution: ZMQ_VERSION_PATCH is now 1

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f236dc55ed299c902b41712b96e11c34090fe55
Author: Thomas Rodgers <rodgert@twrodgers.com>
Date:   Fri Jan 9 18:14:22 2015 -0600

    resolve #1296 Remove of ZMQ_IDENTITY_FD socket option

    Revert "linking fd to pipe identity via socket option"

    This reverts commit fe3e8c5c70dc3fbcb0244c5f4c52dcd71b80f858.

    Conflicts:
        include/zmq.h
        src/pipe.hpp
        src/session_base.cpp

 Makefile.am            |    1 -
 doc/zmq_getsockopt.txt |   17 -----------------
 include/zmq.h          |    1 -
 src/i_engine.hpp       |    7 +------
 src/pipe.cpp           |    1 -
 src/pipe.hpp           |    3 ---
 src/router.cpp         |   27 ---------------------------
 src/router.hpp         |    1 -
 src/session_base.cpp   |    4 +---
 src/socket_base.cpp    |   10 ----------
 src/socket_base.hpp    |    5 +----
 src/stream_engine.hpp  |    2 --
 12 files changed, 3 insertions(+), 76 deletions(-)

commit 4a8bf129b320ed903d46ddd71b66effc41fa213f
Merge: b272cca c477182
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 7 17:08:24 2014 +0100

    Merge pull request #11 from hintjens/master

    Problem: zmq_epgm man page is confusing and redundant

commit c477182735731e6208c056b8879295e30ef756b8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 7 17:07:22 2014 +0100

    Problem: zmq_epgm man page is confusing and redundant

    Solution: delete it. The epgm:// transport is documented in zmq_pgm.

 doc/Makefile.am  |    4 +---
 doc/zmq_epgm.txt |    1 -
 2 files changed, 1 insertion(+), 4 deletions(-)

commit b272cca3e876c037214010e21e5673fef1d512a8
Merge: 66c8b70 61a3242
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 5 09:10:26 2014 +0100

    Merge pull request #10 from hintjens/master

    Backported fix for #1273 (protocol downgrade attack)

commit 61a3242085cee0828c0543f0f3b72969e482ffa6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 5 09:09:05 2014 +0100

    Updated NEWS for #1273

 NEWS |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 934973acf0035c92cf7d5100d218ed6013c369b8
Author: Phillip Mienk <mienkphi@gmail.com>
Date:   Thu Dec 4 14:09:14 2014 -0800

    Alter --with-libsodium default.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e28b752aada9d498856270c28987f0d6e69aaf8d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 4 14:01:56 2014 +0100

    Fixed .gitignore for test files

 .gitignore |  156 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 78 insertions(+), 78 deletions(-)

commit aa91fec01526efe7261b1e9aea20e9375446a8c8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 4 13:43:41 2014 +0100

    Updated news for issue #1273

 .gitignore |    7 +++++++
 NEWS       |    4 +++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit fffaf6fd42f92a3d53bc800fb001ecfdfb0279b4
Author: Min RK <benjaminrk@gmail.com>
Date:   Wed Dec 3 14:51:57 2014 -0800

    craft vanilla socket security test messages

    use explicit ZMTP/1.0 anonymous greeting
    rather than HTTP request that just happened to work

 tests/test_security_curve.cpp |   10 ++++++++--
 tests/test_security_null.cpp  |   12 +++++++++---
 tests/test_security_plain.cpp |   10 ++++++++--
 3 files changed, 25 insertions(+), 7 deletions(-)

commit 4cff7bf372c8a66b72b17b0733dc5d60a0b95de1
Author: Min RK <benjaminrk@gmail.com>
Date:   Wed Dec 3 13:58:49 2014 -0800

    allow vanilla socket security tests to run on Windows

    - add ws2tcpip.h
    - alias close->closesocket
    - increment port in sec_null test

 tests/test_security_curve.cpp |    2 ++
 tests/test_security_null.cpp  |    6 ++++--
 tests/test_security_plain.cpp |    2 ++
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 14c94c0df9cf04d28124b94d7bdccc5cfa03ab15
Author: Min RK <benjaminrk@gmail.com>
Date:   Wed Dec 3 13:46:28 2014 -0800

    add session->zap_enabled()

    checks mechanism != NULL, or NULL + non-empty zap_domain

 src/session_base.cpp  |    8 ++++++++
 src/session_base.hpp  |    1 +
 src/stream_engine.cpp |    6 +++---
 3 files changed, 12 insertions(+), 3 deletions(-)

commit 56e09c80f83882692fbe335106ed0bf38e2df1fe
Author: Min RK <benjaminrk@gmail.com>
Date:   Wed Dec 3 12:39:28 2014 -0800

    reject old ZMTP connections if auth enabled

    auth mechanisms were only enabled when ZMTP handshake
    is latest version, meaning that connections from old sockets
    would skip authentication altogether

 src/stream_engine.cpp |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 3c1a710d0620456a91bf3b644b2adb6eca1499cd
Author: Min RK <benjaminrk@gmail.com>
Date:   Wed Dec 3 10:34:34 2014 -0800

    Resolved conflict when picking c35c0ca

 tests/test_security_curve.cpp |   42 +++++++++++++++++++++++++++++++++++++++++
 tests/test_security_null.cpp  |   35 ++++++++++++++++++++++++++++++++++
 tests/test_security_plain.cpp |   27 ++++++++++++++++++++++++++
 3 files changed, 104 insertions(+)

commit 66c8b70c7d8b33406797564139466ab1b6d2336c
Merge: 06d5d60 b1cba6b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Nov 8 10:32:53 2014 +0100

    Merge pull request #9 from hintjens/master

    Updated for issue #1213

commit b1cba6b8b6e0e82630373a6f5e66df5e10c28f23
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Nov 8 10:32:34 2014 +0100

    Updated for issue #1213

 NEWS |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 06d5d6010e3e77ca17b8a6206bbc1ecc49686b12
Merge: a90183d 8a2052c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Nov 8 10:29:45 2014 +0100

    Merge pull request #8 from hintjens/master

    Fix builds/msvc/Makefile.am to include all properties files in the build

commit 8a2052cc523baaca4189ff86e2f55b2e11efa059
Author: Dan Mick <dan.mick@inktank.com>
Date:   Thu Oct 16 14:10:17 2014 -0700

    Fix builds/msvc/Makefile.am to include all properties files in the build

    I attempted to fix up the properties files manifests in the Makefile,
    but neglected the end-of-line escape characters.  It was good enough
    to pass whatever make dist on Linux did, but I had no Windows build
    env to test in.  The broken change was in commit de4a442.

    Signed-off-by: Dan Mick <dan.mick@inktank.com>

 builds/msvc/Makefile.am |   46 +++++++++++++++++++++++-----------------------
 1 file changed, 23 insertions(+), 23 deletions(-)

commit a90183d0deeb8cf5eece6c17bfc95eabad45c328
Merge: ef71d6f 88c9a4e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 6 10:58:20 2014 +0100

    Merge pull request #7 from hintjens/master

    Problem: zmq_ctx_term has insane behavior by default

commit 88c9a4e5ec6cb276f784efd7c00f092cdd0288b3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 6 10:57:04 2014 +0100

    Problem: zmq_ctx_term has insane behavior by default

    Solution: document this with a clear warning. It would be
    nicer perhaps to change the default LINGER to e.g. a few
    seconds. However this could break existing applications.

 doc/zmq_ctx_term.txt |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit ef71d6f930537f4c7ad897da4a8d34b4175e14ad
Merge: acd55c7 ed6bf9f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 29 17:00:46 2014 +0100

    Merge pull request #6 from lysyloren/master

    Unbind socket with real endpoint when binding by wild-card * address

commit ed6bf9f1781d082d198b098e06b906762f38f15e
Author: lysyloren <lysy_loren@gmail.com>
Date:   Wed Oct 29 10:17:30 2014 +0100

    Unbind socket with real endpoint when binding by wild-card * address

 doc/zmq_ipc.txt              |    6 +++++
 doc/zmq_tcp.txt              |    5 ++++
 doc/zmq_unbind.txt           |   27 +++++++++++++++++++--
 src/socket_base.cpp          |    4 +--
 tests/test_term_endpoint.cpp |   55 +++++++++++++++++++++++++++++++++++++++++-
 5 files changed, 92 insertions(+), 5 deletions(-)

commit acd55c74644dc53c34fb8ec8d2eb3a38170a8d3a
Merge: 95fa16f a87c0d4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 28 13:38:51 2014 +0100

    Merge pull request #5 from johntconklin/master

    backport configure and rpmbuild fixes.

commit a87c0d495f11a4c2c9264dc90361bfc68748a07d
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Tue Oct 28 05:01:52 2014 -0700

    Support both --enable-eventfd and --disable-eventfd options.

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3b9049f163b96dd8dac5debcc03b24f1896c69d6
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Mon Oct 27 21:19:03 2014 -0700

    Correct libgssapi_krb5 packages.

 builds/redhat/zeromq.spec.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3592c1ec1a82003f059bb685b845ba6c7fcefaa8
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Mon Oct 27 20:36:06 2014 -0700

    Pass --with/--without-libgssapi_krb5 to configure.

 builds/redhat/zeromq.spec.in |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c0579448d8df29929b22c4686dad089bd557a519
Author: Phillip Mienk <mienkphi@gmail.com>
Date:   Sat Oct 25 01:31:30 2014 -0700

    Add support for --with/--without libgssapi_krb5

 builds/redhat/zeromq.spec.in |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 0b1b5f283fff0618186dc5b178d17c5ae006b1a4
Author: Phillip Mienk <mienkphi@gmail.com>
Date:   Sat Oct 25 01:10:53 2014 -0700

    Add --with-libgssapi_krb5 to match libsodium and pgm.

 configure.ac |   16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit 95fa16f3efd8ff7f87f2f1202490a201a5406d17
Merge: 966256d 68f16a0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 23 10:30:00 2014 +0200

    Merge pull request #4 from hintjens/master

    Backported fixes from master

commit 68f16a06ae4257be41dc77df762b1618ccff66f8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 23 10:29:37 2014 +0200

    Backported pull request #1225

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 03c35d2659bc4d66e957b450dc869547f1260642
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Oct 23 10:24:03 2014 +0200

    Fix issue #1224

 src/xpub.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 966256d1b6d954ff3b1e58ea81397295da58a8cf
Merge: 779a2c1 663781f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Oct 19 18:33:39 2014 +0200

    Merge pull request #3 from johntconklin/master

    Cherry-picked configure and rpmbuild fixes from libzmq/master

commit 663781fbd46ae92c2612f38bd4ef2a434e400400
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Sat Oct 18 16:48:40 2014 -0700

    Support both --with-* and --without-* options for libsodium and pgm

 configure.ac |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 1251d06dcc621816833d8087a0f6434878b8b9fe
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Thu Oct 16 20:11:33 2014 -0700

    Append to libzmq_la_CPPFLAGS and libzmq_la_LIBADD.

 Makefile.am |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit bf950e4241ac245e13d8cbff97e401ac30bdc239
Author: Phillip Mienk <mienkphi@gmail.com>
Date:   Thu Oct 16 04:44:08 2014 -0700

    Correct declaration of HAVE_LIBSODIUM.

 configure.ac |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 2b36c01870dd659dbeeaa1a798a36c425c5cf156
Author: Phillip Mienk <mienkphi@gmail.com>
Date:   Thu Oct 16 00:37:57 2014 -0700

    Require pkg-config, use pkg-config to pull seek libsodium.

 Makefile.am  |    5 ++++
 configure.ac |   75 ++++++++++++++++------------------------------------------
 2 files changed, 26 insertions(+), 54 deletions(-)

commit 08a5014e730086f41a341d7ccb87380e2b7ef2bc
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Sat Oct 18 17:08:53 2014 -0700

    Add support for --with/--without libsodium and --with/--without pgm
    command line options.

 builds/redhat/zeromq.spec.in |   43 +++++++++++++++++++++++++++++++++++-------
 1 file changed, 36 insertions(+), 7 deletions(-)

commit 7daeb846ecd437f9b8dc2e7e5799c0d5d5bdc604
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Thu Oct 16 06:13:36 2014 -0700

    Remove build and runtime dependencies on e2fsprogs and e2fsprogs-devel.

 builds/redhat/zeromq.spec.in |    5 -----
 1 file changed, 5 deletions(-)

commit 779a2c1e76f21faac6dce1703ad994303f0ba675
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 16 06:49:22 2014 +0200

    Updated NEWS for #1208

 NEWS |    6 ++++++
 1 file changed, 6 insertions(+)

commit f67b723ed4ce1668f2cad4aab8d4650a9e88fe31
Merge: 8185c80 6f9ad96
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 16 06:44:54 2014 +0200

    Merge pull request #2 from pmienk/master

    Reduce automake recursion; simplify pgm dependency

commit 6f9ad962259354ddc901794c58809db31ad47a28
Author: Phillip Mienk <mienkphi@gmail.com>
Date:   Mon Oct 13 19:10:36 2014 -0700

    Remove local pgm configuration option, cleanup configure.ac, remove unused Makefile.am instances.

 Makefile.am                                |   33 ++-
 configure.ac                               |  335 +++++++++++++---------------
 doc/Makefile.am                            |   18 +-
 foreign/openpgm/Makefile.am                |    8 -
 foreign/openpgm/libpgm-5.2.122~dfsg.tar.gz |  Bin 951536 -> 0 bytes
 perf/Makefile.am                           |   22 --
 src/Makefile.am                            |  219 ------------------
 tests/Makefile.am                          |  165 --------------
 tools/Makefile.am                          |    9 -
 9 files changed, 184 insertions(+), 625 deletions(-)

commit 898ef212fa946b400a85cae28ad10fa0e63c475b
Author: Phillip Mienk <mienkphi@gmail.com>
Date:   Fri Oct 10 14:36:12 2014 -0700

    Partial migration to nonrecursive make.

 Makefile.am  |  592 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 configure.ac |   11 +-
 2 files changed, 591 insertions(+), 12 deletions(-)

commit 8185c8039eee78c3f8f76b20e4576cecf42ea8d0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 14 16:31:37 2014 +0200

    Updated change history

 NEWS |   26 +++++++++++++++++++++++++-
 1 file changed, 25 insertions(+), 1 deletion(-)

commit f31aafd63c1ccf50a27f0222a3dd2650f9c5ef1f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 14 16:29:15 2014 +0200

    Marked TCP and IPC filters as deprecated (ZAP)

 doc/zmq_setsockopt.txt |  188 +++++++++++++++++++++++++-----------------------
 include/zmq.h          |    8 +--
 2 files changed, 102 insertions(+), 94 deletions(-)

commit 25af7d97680ead9dc5a81bbdb0ec970ad86660c1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 14 10:57:23 2014 +0200

    Updated for release 4.1.0

 NEWS |   55 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 3aa5a9d409c9d93fd9a984f6d1221ca596eae659
Merge: 432c849 18ee219
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 9 10:46:58 2014 +0200

    Merge pull request #1202 from pavel-pimenov/fix-pvs-studio

    PVS Studio small fix

commit 18ee219ce753228ad0118c76168b549504e2d505
Author: Pavel Pimenov <pavel.pimenov@gmail.com>
Date:   Thu Oct 9 09:41:49 2014 +0400

    Fix V815 Decreased performance. Consider replacing the expression 'peer_address = ""' with 'peer_address.clear()'. stream_engine.cpp 99

 src/stream_engine.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0e3d40c806eadb4d1f5d519de3c176ddeb11d265
Author: Pavel Pimenov <pavel.pimenov@gmail.com>
Date:   Thu Oct 9 09:40:59 2014 +0400

    Fix V815 Decreased performance. Consider replacing the expression 'options.socks_proxy_address != ""' with '!options.socks_proxy_address.empty()'. session_base.cpp 497

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b541b789a1aa7d78b96acfbbf92b9ad2f6ab171
Author: Pavel Pimenov <pavel.pimenov@gmail.com>
Date:   Thu Oct 9 09:37:55 2014 +0400

    Fix V803 Decreased performance. In case 'it' is iterator it's more effective to use prefix form of increment.
        Replace iterator++ with ++iterator. stream_engine.cpp
        http://www.viva64.com/en/d/0165/print/

 src/stream_engine.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 432c8496ea20a87e9e0d05482502198d5102a932
Merge: cb9a0d2 fbce7a2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 7 09:26:07 2014 +0200

    Merge pull request #1201 from johntconklin/master

    Remove build and runtime dependencies on uuid and uuid-devel.

commit fbce7a2407aaef9c09953ab6c5c5537679734e0e
Author: J.T. Conklin <jtc@acorntoolworks.com>
Date:   Tue Oct 7 00:11:53 2014 -0700

    Remove build and runtime dependencies on uuid and uuid-devel.

 builds/redhat/zeromq.spec.in |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit cb9a0d2af418005c440fb8aba2f640cfa6c106a4
Merge: 43028c7 dfd021b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 2 21:31:47 2014 +0200

    Merge pull request #1200 from dmick/master

    Fix up spec build

commit dfd021b133eb683214413f57f0f181e8753f0bb6
Author: Dan Mick <dmick@redhat.com>
Date:   Wed Oct 1 20:50:04 2014 -0700

    builds/redhat/zeromq.spec: fix manpage lists

    Signed-off-by: Dan Mick <dmick@redhat.com>

 builds/redhat/zeromq.spec.in |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 8fde2d646ccb91453d83e48d0f822f6137cdff77
Author: Dan Mick <dmick@redhat.com>
Date:   Wed Oct 1 20:49:38 2014 -0700

    src/Makefile.am: libzmq.vers must go in dist tarball

    Signed-off-by: Dan Mick <dmick@redhat.com>

 src/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2a0fa6baf556cc6cb4228b62a81673ec90792fed
Author: Dan Mick <dmick@redhat.com>
Date:   Wed Oct 1 20:49:00 2014 -0700

    builds/redhat/zeromq.spec: missing '%'

    Signed-off-by: Dan Mick <dmick@redhat.com>

 builds/redhat/zeromq.spec.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de4a442263456213f49a46428b4b2fe8a7ea47d4
Author: Dan Mick <dmick@redhat.com>
Date:   Wed Oct 1 15:53:15 2014 -0700

    builds/msvc/Makefile.am: fix up project file/property file paths

    Signed-off-by: Dan Mick <dmick@redhat.com>

 builds/msvc/Makefile.am |  102 ++++++++++++++++++++++++-----------------------
 1 file changed, 52 insertions(+), 50 deletions(-)

commit 91cc9a2fd0f3f3ef803a3ca493768c61bb087d07
Author: Dan Mick <dmick@redhat.com>
Date:   Wed Oct 1 15:39:03 2014 -0700

    src/Makefile.am: i_properties.hpp removed some time ago

    Signed-off-by: Dan Mick <dmick@localhost.localdomain>

 src/Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit d3c391c3d4c735bdf4295b03bef475d758b173d1
Author: Dan Mick <dmick@redhat.com>
Date:   Tue Sep 30 20:04:57 2014 -0700

    zeromq.spec.in: shared library version bump

    Signed-off-by: Dan Mick <dmick@redhat.com>

 builds/redhat/zeromq.spec.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6e53253d11943cb3d8890f440769084e5182c4e2
Author: Dan Mick <dmick@redhat.com>
Date:   Tue Sep 30 20:02:18 2014 -0700

    zeromq.spec.in: Missing build dependencies in specfile: asciidoc, xmlto

    Signed-off-by: Dan Mick <dmick@redhat.com>

 builds/redhat/zeromq.spec.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 43028c72295b23610d8df44485819f1e268d731f
Merge: ca0a216 7c5906d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 24 17:34:36 2014 +0200

    Merge pull request #1198 from toussa/master

    Problem : Build failed with MinGW on windows

commit 7c5906d138b13f2ab3524dd2ab9e4609b02c2352
Author: MichaÃ«l Paul <michael.paul@fivesgroup.com>
Date:   Wed Sep 24 15:46:43 2014 +0200

    Problem : Build failed with MinGW on windows

 src/signaler.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit ca0a216f5262a510d883fa2249bb5733069b130d
Merge: e40d4b2 cf4c03c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 24 11:55:46 2014 +0200

    Merge pull request #1196 from evoskuil/master

    Update NuGet package.

commit cf4c03cf01b4af0cdc10c1c346bb21b99a3ed7d5
Author: evoskuil <eric@voskuil.org>
Date:   Tue Sep 23 14:58:37 2014 -0700

    Update NuGet package.

 packaging/nuget/package.config  |    2 +-
 packaging/nuget/package.nuspec  |   50 +++++++++++++++++++--------------------
 packaging/nuget/package.targets |   40 +++++++++++++++----------------
 3 files changed, 46 insertions(+), 46 deletions(-)

commit e40d4b23762502c2de9bc2bc4817dfe2f33b8ed9
Merge: fe4396c 0900a48
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Sep 20 10:22:33 2014 +0200

    Merge pull request #1189 from steamraven/master

    Problem: curve messages can be replayed

commit 0900a489213d74feb86fc0b343308fe7884a2a3c
Author: Matthew Hawn <steamraven@yahoo.com>
Date:   Fri Sep 19 18:07:57 2014 -0600

    Problem: curve messages can be replayed

    Solution: ensure message short nonces are strictly increasing and validate them

 src/curve_client.cpp |   20 +++++++++++++++-----
 src/curve_client.hpp |    1 +
 src/curve_server.cpp |   17 +++++++++++++----
 src/curve_server.hpp |    1 +
 4 files changed, 30 insertions(+), 9 deletions(-)

commit fe4396c597929382214c7966e60f025114d4f32d
Merge: 8e9005d 77f14aa
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Sep 19 20:16:09 2014 +0200

    Merge pull request #1188 from hintjens/master

    Problem: stream_engine.cpp security can be downgraded

commit 77f14aad95cdf0d2a244ae9b4a025e5ba0adf01a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 19 19:24:45 2014 +0200

    Problem: stream_engine.cpp security can be downgraded

    Solution: accept only the mechanism defined by the socket options.

    I've not tested this yet, so it's a speculative fix.

 src/stream_engine.cpp         |   12 ++++++++----
 tests/test_security_curve.cpp |    4 ++--
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 8e9005d59197306d1033c70eeba3322474c3b097
Merge: 2bf89bd 57ade6d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Sep 18 10:09:49 2014 +0200

    Merge pull request #1186 from hintjens/master

    Problem: test_security_curve does't try wrong mechanisms

commit 57ade6d5bbc900bc11ce787018005104e7d2994b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 18 07:32:07 2014 +0200

    Problem: test_security_curve does't try wrong mechanisms

    Solution: check that it rejects attempts to connect to a CURVE server
    using NULL or PLAIN client.

 tests/test_security_curve.cpp |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 2bf89bd0f866d6cf934b5bf47a776d67f37c359c
Merge: 19712d3 94943ba
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Sep 17 18:39:45 2014 +0200

    Merge pull request #1185 from banburybill/master

    Fix hang terminating PGM ZMQ_SUB (#822).

commit 94943bab3b23ca19e39e4cd65ef59ece93461c2c
Author: Jim Hague <jim.hague@acm.org>
Date:   Wed Sep 17 17:21:44 2014 +0100

    Fix hang terminating PGM ZMQ_SUB (#822).

 src/pgm_receiver.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19712d3fbb49eca89f2b722a7dd5badcc0d7073e
Merge: 4b70793 5642366
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Sep 17 00:41:29 2014 +0200

    Merge pull request #1181 from whoshuu/patch-1

    Fix non-constant-expression narrowing

commit 5642366f10fa86cc6593f53953cf4d3f346aea8c
Author: Huu Nguyen <whoshuu@gmail.com>
Date:   Tue Sep 16 14:27:00 2014 -0700

    Fix non-constant-expression narrowing

    For OS X, the microseconds field is implemented as an int type. The implicit narrowing in the initializer list throws a compiler error for some compilers with C++11 support turned on. The specific error message is: "error: non-constant-expression cannot be narrowed from type 'long' to '__darwin_suseconds_t' (aka 'int') in initializer list [-Wc++11-narrowing]".

    Tested on Clang 5.1.0 and Mac OS X 10.9.4.

 src/select.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 4b70793f1fecceb45e5acd473597b7932b5780ac
Merge: be9fecd 50e0915
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 12 17:25:47 2014 +0200

    Merge pull request #1179 from hurtonm/master

    Stop session's timer when pipe terminates

commit 50e0915f984a55ba32bad3907af6b8f9875651fc
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Sep 12 16:39:11 2014 +0200

    Stop session's timer when pipe terminates

 src/session_base.cpp |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit be9fecdbc345165360973c482f2ddd18914a2149
Merge: c897af5 a8e900c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 12 07:22:51 2014 +0200

    Merge pull request #1178 from evoskuil/master

    Update nuget package.

commit a8e900c7b314e511e191a5e6828343563e4190cd
Author: evoskuil <eric@voskuil.org>
Date:   Thu Sep 11 17:31:48 2014 -0700

    Update nuget package

 .gitignore                      |    1 +
 packaging/nuget/package.config  |    2 +-
 packaging/nuget/package.nuspec  |   52 +++++++++++++++++++--------------------
 packaging/nuget/package.targets |   40 +++++++++++++++---------------
 4 files changed, 48 insertions(+), 47 deletions(-)

commit c897af508dc4b19ef08035548416b59f1a9e71e1
Merge: 41a9968 5a497d7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 11 16:16:43 2014 +0200

    Merge pull request #1177 from hurtonm/master

    Code cleanup

commit 5a497d7d0cd4035187046b29ffef592378c4d2af
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Sep 11 16:00:48 2014 +0200

    Code cleanup

 src/session_base.cpp |   37 ++++++++++++++-----------------------
 src/session_base.hpp |    5 +----
 src/xpub.cpp         |    6 +++---
 3 files changed, 18 insertions(+), 30 deletions(-)

commit 41a9968c2e89fa5b36424de777a87e47f0e8bca6
Merge: cca297c 51c8c1d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Sep 10 10:08:04 2014 +0200

    Merge pull request #1176 from hintjens/master

    Problem: undocumented limit on IPC paths in Linux is 107 chars

commit 51c8c1d67a1ca7f647835b15ff72773ba2029f3b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 10 09:38:04 2014 +0200

    Problem: undocumented limit on IPC paths in Linux is 107 chars

    Solution: document the limit of 113 chars including ipc://. We might
    fix this in libzmq by shortening an over-long IPC pathname into a
    unique string; so long as this is done consistently in bind and in
    connect, it will save applications from weird failures when they
    use external data to generate IPC pathnames.

 doc/zmq_ipc.txt |    4 ++++
 1 file changed, 4 insertions(+)

commit cca297c31376d712c4a4a752a4fe015ac03a2bcc
Merge: 2c1d5f5 8cd8585
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 4 07:09:43 2014 +0200

    Merge pull request #1173 from evoskuil/master

    Fix configure warning.

commit 8cd85857fb88fb735116795247ce9bb344f56e21
Author: evoskuil <eric@voskuil.org>
Date:   Tue Sep 2 23:39:33 2014 -0700

    Fix potential redefinition of common DEBUG symbol, replace tabs.

 tests/test_router_mandatory_hwm.cpp |   35 ++++++++++++++++++++---------------
 1 file changed, 20 insertions(+), 15 deletions(-)

commit 2c1d5f5a96be57b12bce65ff8224e37a45688c84
Merge: 83c6bc2 d1881ac
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Aug 31 20:34:10 2014 +0200

    Merge pull request #1174 from jbreams/master

    Clean up after using randombytes from libsodium

commit d1881acbdcffbc43c5a38e357562f0f814783039
Author: Jonathan Reams <jbreams@gmail.com>
Date:   Sun Aug 31 13:30:44 2014 -0400

    Clean up after using randombytes from libsodium

    When Curve authentication is used, libsodium opens a file
    descriptor to /dev/urandom to generate random bytes. When
    the ZMQ context terminates, it should ensure that file gets
    closed.

 src/ctx.cpp                                |   14 ++++++++++++++
 tweetnacl/contrib/randombytes/devurandom.c |   10 ++++++++++
 tweetnacl/contrib/randombytes/devurandom.h |    1 +
 3 files changed, 25 insertions(+)

commit 992dca6ba76fdd88f6d2d002c91b79cf9f66b4f9
Author: anonymous <eric@voskuil.org>
Date:   Sat Aug 30 21:38:54 2014 -0700

    Fix configure warning.

 perf/Makefile.am  |    4 ++--
 tools/Makefile.am |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 83c6bc20db560f211bbab3dc63b48e26ec6ebead
Merge: 21e2012 d76536e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Aug 29 10:06:58 2014 +0200

    Merge pull request #1172 from evoskuil/master

    Fix clang build break from unused var.

commit d76536eb704486be1aee833036c57ee296b923ab
Author: evoskuil <eric@voskuil.org>
Date:   Thu Aug 28 18:25:35 2014 -0700

    Default Travis clang build fails on unused variable 'MAX_SENDS'.

 tests/test_hwm_pubsub.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2208907a884dcc83c92bf1bf2bfba266f701384c
Author: evoskuil <eric@voskuil.org>
Date:   Thu Aug 28 18:20:40 2014 -0700

    Hide VS turd.

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 21e20127b6ef0b4cb16b89bc7bb62f9d314c82aa
Merge: 128bed4 f15146b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Aug 27 13:58:56 2014 +0200

    Merge pull request #1171 from hintjens/master

    Problem: nodrop code is ugly

commit f15146b5d2cfabc166977e078a423db4d06c1be8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 27 13:48:47 2014 +0200

    Problem: nodrop code is ugly

    It's bad practice to start by testing all exceptional conditions
    and then dropping through to the 'normal' condition. Apart from
    being inefficient, it's deceptive to the user. Conditional code
    should always try to show the natural expectation of the code,
    with exceptional cases coming last.

    Solution: clean up this code.

 src/xpub.cpp |   31 +++++++++++++------------------
 1 file changed, 13 insertions(+), 18 deletions(-)

commit 128bed472be34eed7880ab0bbb5b3252896f2df2
Merge: 81485c7 2584c3a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Aug 27 13:25:27 2014 +0200

    Merge pull request #1170 from hintjens/master

    Fixed issues with xpub nodrop property

commit 2584c3a72450eb106efd1223e734f5bdcf98195d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 27 12:06:49 2014 +0200

    Added test cases to .gitignore

 .gitignore |    3 +++
 1 file changed, 3 insertions(+)

commit 35040aaf1833feed9628d6589200cb2b51c5b247
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 27 12:04:51 2014 +0200

    Problem: issues with nodrop property

    - not initialized before use
    - name is nasty (boolean variables should not have negative names)

    Solution: rename to 'lossy' and initialize to 'true'.

 src/xpub.cpp |   15 ++++++++-------
 src/xpub.hpp |    4 ++--
 2 files changed, 10 insertions(+), 9 deletions(-)

commit 81485c7688a19cb947f77aad7765a2de59f10eb5
Merge: 3811b0b 8926cb3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 26 11:14:09 2014 +0200

    Merge pull request #1168 from ricnewton/master

    Fix test broken when we changed FD_SETSIZE.

commit 8926cb3ddbb7f8f31c364b177c106745baff45bc
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Aug 26 08:36:51 2014 +0100

    Fix test broken when we changed FD_SETSIZE.

 tests/test_ctx_options.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3811b0b1ef15871c6ea4e28feddd8ed3da6bd60d
Merge: 72b8a19 1acc1b1
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Aug 26 08:29:47 2014 +0100

    Merge pull request #1166 from hintjens/master

    Problem: FD_SETSIZE 1024 is too restrictive under Windows

commit 1acc1b15820f8c437fae1a5d2f13a8ebbcecbd06
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 23 13:59:53 2014 +0200

    Problem: FD_SETSIZE 1024 is too restrictive under Windows

    Solution: increased to 4096 by default for all MSVC builds, for MinGW,
    and for CMake.

    Note: this is a speculative change, it needs confirmation before we
    can keep it. Particularly, there is some doubt that changing this in
    libzmq will affect upstream applications using libzmq.dll.

 CMakeLists.txt                          |    2 +-
 builds/mingw32/Makefile.mingw32         |    2 +-
 builds/msvc/vs2008/libzmq/libzmq.vcproj |   10 +++++-----
 builds/msvc/vs2010/libzmq/libzmq.props  |    2 +-
 builds/msvc/vs2012/libzmq/libzmq.props  |    2 +-
 builds/msvc/vs2013/libzmq/libzmq.props  |    2 +-
 6 files changed, 10 insertions(+), 10 deletions(-)

commit 72b8a19691bad5e91789ff39c61c2f3c3cd25e38
Merge: b817f3c f550d66
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Aug 14 10:10:10 2014 +0200

    Merge pull request #1163 from hurtonm/master

    Code cleanup

commit f550d66ae3c958a29188a5dcbcc1e3ba53e978f9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Aug 14 08:56:48 2014 +0200

    Code cleanup

 src/pipe.cpp |   18 +++++++++---------
 src/pipe.hpp |    2 +-
 2 files changed, 10 insertions(+), 10 deletions(-)

commit b817f3c61ea60fbca60954dcc2a186cabd86e426
Merge: fadb2a3 fbdc5aa
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Aug 14 07:33:24 2014 +0200

    Merge pull request #1162 from xaqq/encode_decode

    Add const qualifier to source parameters for z85 encode/decode

commit fbdc5aa22d2c510dcc7f202ed5770f226cbb97f1
Author: Kapp Arnaud <kapp.arno@gmail.com>
Date:   Thu Aug 14 00:00:00 2014 +0200

    Add const qualifier to source parameters in zmq_z85_decode and zmq_z85_encode

 doc/zmq_z85_decode.txt |    4 ++--
 doc/zmq_z85_encode.txt |    2 +-
 include/zmq.h          |    4 ++--
 src/zmq_utils.cpp      |    4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit fadb2a38d9b1afae5f35cdb9c3f24712e14c5469
Merge: 25de6a0 a54d8d7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 13 09:21:46 2014 +0200

    Merge pull request #1161 from hurtonm/master

    Reset metadata for outbound messages

commit a54d8d7b0c1f5fa423d91fb7420b4a6835200459
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Aug 13 08:51:13 2014 +0200

    Reset metadata for outbound messages

 src/msg.cpp         |    9 +++++++++
 src/msg.hpp         |    1 +
 src/socket_base.cpp |    2 ++
 3 files changed, 12 insertions(+)

commit 25de6a03ac55a39d03dd83c35f4a46950a852266
Merge: ea719a8 212220d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 13 06:12:29 2014 +0200

    Merge pull request #1159 from kreuzberger/master

    Bugfix wrong CMakeLists.txt after rename of file

commit 212220dda7c3f4d810315e35d2366cd060ec0125
Author: kreuzberger <joerg@kreuzberger.eu>
Date:   Tue Aug 12 21:34:30 2014 +0200

    Bugfix wrong CMakeLists.txt after rename of file

 tests/CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ea719a8dff7670b3de5ce37a39268a9b04139c98
Merge: acc4fe8 f20b70b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Aug 12 14:04:34 2014 +0200

    Merge pull request #1151 from hintjens/master

    Documentation patches

commit f20b70bef53cf41752388a3c0e12adcfad013b20
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 12 12:36:56 2014 +0200

    Cleaned up test_xpub_nodrop

    Renamed test case to actually explain what it's testing, and cleaned up
    the code a little.

 tests/Makefile.am          |    2 +-
 tests/test_xpub_nodrop.cpp |   61 ++++++++++++++++++++------------------------
 2 files changed, 29 insertions(+), 34 deletions(-)

commit a7fed989a690f3b817a68469f65ff6e8a7c16119
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 12 12:30:43 2014 +0200

    Minor changes to Travis CI script

 .travis.yml |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 785aebc6a83d51107e6f89e4e7ef28104c9b9c70
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 12 12:22:17 2014 +0200

    Reworking Travis script

 .travis.yml                     |   13 ++---
 tests/Makefile.am               |    2 +-
 tests/test_xpub_nodrop.cpp      |  111 +++++++++++++++++++++++++++++++++++++++
 tests/test_xpub_wait_inproc.cpp |  111 ---------------------------------------
 4 files changed, 115 insertions(+), 122 deletions(-)

commit 75d4f50be32690769d16361c1c1b73cd6a99088f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 9 10:24:26 2014 +0200

    Problem: ZMQ_CURVE_SECRETKEY reads beyond end of Z85 data

    Solution: change setsockopts on printable keys to expect 41, nor 40
    bytes. Code still accepts 40 bytes for compatibility, and copies the
    key to a well-terminated string before using it.

    Fixes #1148

 doc/zmq_getsockopt.txt        |    6 +++++-
 doc/zmq_setsockopt.txt        |   32 +++++++++++++++++++++----------
 src/options.cpp               |   42 +++++++++++++++++++++++++++++++++++++----
 tests/test_security_curve.cpp |   32 +++++++++++++++----------------
 4 files changed, 81 insertions(+), 31 deletions(-)

commit 0dcf6b5e2b52fe5184c1cbabc7daca0bad16ef9b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Aug 4 19:38:31 2014 +0200

    Added AppDynamics as corporate author

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 2c5baff95f4f2e0aff5374738ea2b5e43ea66f64
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jul 30 11:29:55 2014 +0200

    Note that ZMQ_TCP_ACCEPT_FILTER is deprecated

 doc/zmq_setsockopt.txt |    3 +++
 1 file changed, 3 insertions(+)

commit acc4fe87944ce2ec6ca5dcdb616b05531260d5b2
Merge: bb6d18d 2145539
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 12 12:32:24 2014 +0200

    Merge pull request #1158 from hurtonm/master

    Code cleanup

commit 214553972d126784157d6f6c2c12ce420a4de6c6
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Aug 12 10:51:27 2014 +0200

    Return -1 when failed to publish message

 src/xpub.cpp |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 228426ac4464196f79fcf1cf59b3ddcaa8ec9d79
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Aug 12 09:31:19 2014 +0200

    Code cleanup

 src/dist.cpp    |   18 ++++--------------
 src/options.cpp |   18 +++---------------
 src/options.hpp |    3 ---
 src/pipe.cpp    |    2 +-
 src/pipe.hpp    |    6 +++---
 src/xpub.cpp    |   14 ++++----------
 6 files changed, 15 insertions(+), 46 deletions(-)

commit bb6d18d5a2d01ed1a8d6352456f4cfffb66492a9
Merge: 446e8ef f042ea9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 9 00:52:21 2014 +0200

    Merge pull request #1156 from kreuzberger/master

    Provide socket option for pub sockets to not silently drop message

commit f042ea9e265576efe3e5534941dc697068eab11e
Author: kreuzberger <joerg@kreuzberger.eu>
Date:   Fri Aug 8 19:45:41 2014 +0200

    better naming of flags and variables to real functionality: nodrop

 include/zmq.h                   |    2 +-
 src/options.cpp                 |    8 ++++----
 src/options.hpp                 |    4 ++--
 src/xpub.cpp                    |    8 ++++----
 src/xpub.hpp                    |    4 ++--
 tests/test_hwm_pubsub.cpp       |    2 +-
 tests/test_xpub_wait_inproc.cpp |    2 +-
 7 files changed, 15 insertions(+), 15 deletions(-)

commit d9a3cc48d478f85d55d826f7b0fd7a4558255f72
Author: kreuzberger <joerg@kreuzberger.eu>
Date:   Fri Aug 8 19:36:00 2014 +0200

    do not silently drop messages in publisher if hwm is reached

 include/zmq.h                   |    1 +
 src/dist.cpp                    |   20 +++++
 src/dist.hpp                    |    3 +
 src/options.cpp                 |   14 +++-
 src/options.hpp                 |    3 +
 src/pipe.cpp                    |    6 ++
 src/pipe.hpp                    |    2 +
 src/xpub.cpp                    |   17 ++++-
 src/xpub.hpp                    |    3 +
 tests/CMakeLists.txt            |    2 +
 tests/Makefile.am               |    6 +-
 tests/test_hwm_pubsub.cpp       |  161 +++++++++++++++++++++++++++++++++++++++
 tests/test_xpub_wait_inproc.cpp |  111 +++++++++++++++++++++++++++
 13 files changed, 345 insertions(+), 4 deletions(-)

commit 446e8efb076282c058c48d526a877df4516081e2
Merge: bbbe8d7 da6cf63
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Aug 7 13:29:14 2014 +0200

    Merge pull request #1155 from mrvn/pull-document_hwm_behaviour_with_ZMQ_ROUTER_MANDATORY

    Document altered HWM behaviour when ZMQ_ROUTER_MANDATORY is set.

commit da6cf6385763c6f01fbf3d7104b560d154df6521
Author: Goswin von Brederlow <brederlo@q-leap.de>
Date:   Thu Aug 7 13:16:12 2014 +0200

    Document altered HWM behaviour when ZMQ_ROUTER_MANDATORY is set.

 doc/zmq_setsockopt.txt |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit bbbe8d7832bcf9a2d381cd9eb9a95583d2f28d53
Merge: 0f780ef 893995e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Aug 7 13:09:54 2014 +0200

    Merge pull request #1154 from mrvn/pull-test_router_mandatory_hwm

    Add test for HWM behaviour for mandatory ROUTER sockets over tcp

commit 893995e698dfec0249115e3444e4f3bca1e8987c
Author: Goswin von Brederlow <brederlo@q-leap.de>
Date:   Thu Aug 7 12:50:00 2014 +0200

    Add test for HWM behaviour for mandatory ROUTER sockets over tcp

 tests/Makefile.am                   |    2 +
 tests/test_router_mandatory_hwm.cpp |  111 +++++++++++++++++++++++++++++++++++
 2 files changed, 113 insertions(+)

commit 0f780ef733c7522ba15efce432bef433e10a6a0e
Merge: 0c4ee0a 6537e20
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 5 13:37:37 2014 +0200

    Merge pull request #1152 from drodri/task/cmake_structure

    moved root CMakeLists.txt tests config to tests/CMakeLists.txt

commit 6537e202d67f35414f5af9604c35f59a0878dbe2
Author: Diego <diego.rlosada@gmail.com>
Date:   Tue Aug 5 13:24:32 2014 +0200

    moved root CMakeLists.txt tests config to tests/CMakeLists.txt

 CMakeLists.txt       |   82 ++------------------------------------------------
 tests/CMakeLists.txt |   79 ++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 82 insertions(+), 79 deletions(-)

commit 0c4ee0a9b095bc78e68674f75abcf49805997665
Merge: 416ee8e 03f097a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jul 29 21:12:24 2014 +0200

    Merge pull request #1147 from rodgert/master

    Update zmq_msg_get(ZMQ_SHARED) to return true for type_cmsg messages

commit 03f097a5417f026488fcc98df4671b4de73c62f2
Author: Thomas Rodgers <trodgers@drw.com>
Date:   Tue Jul 29 13:43:38 2014 -0500

    Update zmq_msg_get(ZMQ_SHARED) to return true for type_cmsg messages

 doc/zmq_msg_get.txt      |   10 +++++-----
 src/zmq.cpp              |   21 +++++++++++----------
 tests/test_msg_flags.cpp |   34 ++++++++++++++++++++++++++--------
 3 files changed, 42 insertions(+), 23 deletions(-)

commit 416ee8e75c978f5ad9aa1e95f903863c068aed15
Merge: 10a2e6c 4406329
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jul 29 01:02:43 2014 +0200

    Merge pull request #1146 from minrk/utf8-metadata

    define encoding for message metadata to be UTF8

commit 10a2e6c24db1ab5d437eada34d0d5942737c0d02
Merge: ac99d50 6bcced7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 28 22:29:09 2014 +0200

    Merge pull request #1145 from pijyoi/master

    use enum retired_fd instead of -1

commit 4406329100a7a2293186c69cbb86c4620a7a40bc
Author: MinRK <benjaminrk@gmail.com>
Date:   Mon Jul 28 13:23:56 2014 -0700

    define encoding for message metadata to be UTF8

    clarifies that these are text fields,
    and removes ambiguity about how to create proper
    text object from stored bytes.

 doc/zmq_msg_gets.txt |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 6bcced7537473193eb5e2b30655108e7e850b5df
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Tue Jul 29 04:16:44 2014 +0800

    use enum retired_fd instead of -1

 src/socks_connecter.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ac99d50abb2a8f6b0e8888151b9b0ced8d4693b8
Merge: 817912d cdbe557
Author: Trevor Bernard <tbernard@liveops.com>
Date:   Fri Jul 25 16:49:34 2014 -0300

    Merge pull request #1142 from hintjens/master

    Problem: does not install man pages correctly when out of tree

commit cdbe5577273af1c87301644c4bd4db6ecfbc3e08
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jul 25 21:39:51 2014 +0200

    Problem: does not install man pages correctly when out of tree

    Solution: fix Makefile.am

    As per Richard Sharpe on zeromq-dev.

 doc/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 817912d7955075c0d75164c045d906d0f43e0c9c
Merge: 57a70d5 326dec0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jul 25 00:40:15 2014 +0200

    Merge pull request #1139 from ewen-naos-nz/zos

    z/OS: Updated to build libzmq git master

commit 326dec067fe499761e41977b967ec4e58ff2c59a
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 14:48:49 2014 +1200

    z/OS: Updated portability notes

    Updated:
        builds/zos/README.md: Updated with portability notes resulting
           from building zeromq/libzmq/master as of 2014-07-23 on z/OS
           UNIX System Services.

           Current z/OS UNIX status: all expected tests pass, except
           "test_proxy", which hangs and times out.

 builds/zos/README.md |   51 +++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 44 insertions(+), 7 deletions(-)

commit f1cd2055de6a4e98f4c1501cc45c835a7e71e764
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 14:13:59 2014 +1200

    z/OS: chmod +x builds/zos/{cxxall,runtests}

 0 files changed

commit 256c32d1fb52fa5c5ae2f4143a4cac849c970f5b
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 14:06:00 2014 +1200

    z/OS: builds/zos/platform.hpp for libzmq 4.1.0

 builds/zos/platform.hpp |   37 ++++++++++++++++++++++++++++++-------
 1 file changed, 30 insertions(+), 7 deletions(-)

commit 501666d07e15347082993ea4c00c459c5ba14be9
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 13:54:21 2014 +1200

    z/OS: Skip pthread_{get,set}schedparam

    Updated:
        src/thread.cpp: On older z/OS UNIX System Services,
            pthread_{get,set}schedparam is not present (searching the
            Internet suggests it may be present in later version than
            the one being used for z/OS UNIX System Services porting).

            Make zmq::thread_t::setSchedulingParameters() a no-op on
            z/OS UNIX System Services.

        NOTE: pthread_{get,set}schedparam appear to have been introduced
        by POSIX.1-2001 or IEEE 1003.1-2004 so may not be universally
        available, and thus more platforms may need this "no-op" treatment.

 src/thread.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit b27bafff60467bfeec218daf69d3394455df304d
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 13:50:38 2014 +1200

    z/OS: Autodetect tests to run

    Updated:
        builds/zos/runtests: Extract tests to run from tests/Makefile.am
          at runtime, rather than hard coding tests list (to simplfy
          later maintenance).  test_*_tipc is excluded as BUILD_TIPC is
          not defined on z/OS UNIX System Services.  XFAIL_TESTS are also
          excluded, following current logic in tests/Makefile.am

 builds/zos/runtests |  114 +++++++++++++++++++--------------------------------
 1 file changed, 43 insertions(+), 71 deletions(-)

commit 9d4f719e942001235e3abd65bc77322bbd54a113
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 13:48:19 2014 +1200

    z/OS: Update build defines:

    Updated:
        builds/zos/cxxall: Defines ZMQ_HAVE_ZOS for platform portability;
            define ZMQ_USE_POLL _instead_ of ZMQ_FORCE_POLL, due to change
            in src/poller.hpp since ZeroMQ 4.0.x branch

 builds/zos/cxxall |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 829b1bb4d4436e1d12ecdce4d26308e14565d5a5
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 13:00:21 2014 +1200

    Include testutil.hpp if using SETTLE_TIME

    Updated:
       tests/test_connect_delay_tipc.cpp
       tests/test_sub_forward_tipc.cpp
       tests/test_term_endpoint_tipc.cpp

 tests/test_connect_delay_tipc.cpp |    2 ++
 tests/test_sub_forward_tipc.cpp   |    2 ++
 tests/test_term_endpoint_tipc.cpp |    2 ++
 3 files changed, 6 insertions(+)

commit 217e0ae9c6fdf108cc11ebd3c8cc55777f8d99b3
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 12:26:13 2014 +1200

    Remove "const" from std::map key

    Updated:
        src/metdata.hpp: Remove explicit "const" from key of std::map<>
           because the key is implicitly const already (see
           http://en.cppreference.com/w/cpp/container/map and
           http://www.cplusplus.com/reference/map/map/).

    On some platforms (such as z/OS UNIX System Services) explicitly
    declaring the map key as "const" causes template expansion errors
    as it tries to create separate allocators for "const const std::string"
    and "const std::string" only to find that they clash.  (Presumably
    some compilers collapse these into one earlier.)

    There are no template expansion errors if the map key is left to be
    implicitly const.

 src/metadata.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b21b1ecfa60a4a929c423e392eb01f62c45a53e
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 11:13:24 2014 +1200

    z/OS: Avoid removing libzmq.pc.in in makeclean

 builds/zos/makeclean |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5cab63e1a14b9c604007de6453729c84b77b4449
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 10:42:30 2014 +1200

    z/OS: Transferrring from GitHub to z/OS UNIX

    Updated:
       builds/zos/README.md: Outlined process to transfer source from
         GitHub to z/OS UNIX System Services, including character set
         conversion for the source

 builds/zos/README.md |   55 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit f8ec9b5fade6fca582b1e35274174ace5cf8ef9c
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Thu Jul 24 09:28:06 2014 +1200

    z/OS: Make builds/zos scripts executable

 0 files changed

commit 57a70d5e3bd84e6f4a32d1bb265f19b74e372246
Merge: 070fcd4 0af693c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jul 23 07:06:53 2014 +0200

    Merge pull request #1138 from ewen-naos-nz/zos

    z/OS UNIX System Services port: EAGAIN, SIGPIPE

commit 0af693c4969e4747322297a9345e130fbee93de2
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Wed Jul 23 13:45:42 2014 +1200

    z/OS: Loop on EAGAIN on close() in ~signaler

    Updated:
        src/signaler.cpp: Add close_wait_ms() static function to loop
           when receiving EAGAIN in response to close(), with ms long
           sleeps, up to a maximum limit (default 2000ms == 2 seconds);
           used in signaler_t::~signaler_t() destructor.

 src/signaler.cpp |   55 +++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 52 insertions(+), 3 deletions(-)

commit fc80e8cda177116ab4dff68cdc25065bb19047d7
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Wed Jul 23 13:39:45 2014 +1200

    z/OS: signal(SIGPIPE, SIG_IGN) for tests

    Updated:
       tests/testutil.hpp: Add signal(SIGPIPE, SIG_IGN) to
            setup_test_environment(), on z/OS (__MVS__)

 tests/testutil.hpp |    5 +++++
 1 file changed, 5 insertions(+)

commit 19808ff878ecab5feb958fc14ea6866975558fcf
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Wed Jul 23 13:09:28 2014 +1200

    z/OS: Documented SIGPIPE considerations

    Updated:
        README.md: Documented need for application to handle/ignore SIGPIPE

 builds/zos/README.md |   98 ++++++++++++++++++++++++++++++++------------------
 1 file changed, 64 insertions(+), 34 deletions(-)

commit 070fcd472e6d43af1d5689f6d2a4833aa99d5da4
Merge: b0103de f96ebba
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jul 22 21:43:55 2014 +0200

    Merge pull request #1137 from evoskuil/master

    VS updates for socks, rem libsodium VS crypt32 dependency.

commit f96ebba7c2bcde04854e1ca37b9b373cf30987bb
Author: evoskuil <eric@voskuil.org>
Date:   Tue Jul 22 12:02:23 2014 -0700

    Add socks files to VS2010 builds, update VS2012/2010 filters.

 builds/msvc/vs2010/libzmq/libzmq.vcxproj         |    4 ++++
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters |   14 +++++++++++++-
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |   14 +++++++++++++-
 3 files changed, 30 insertions(+), 2 deletions(-)

commit 126b9d3a2a322e88e9e4f1c9d11b3e33bfec7224
Author: evoskuil <eric@voskuil.org>
Date:   Tue Jul 22 12:01:15 2014 -0700

    Remove libsodium VS import props crypt32.lib dependency.

 builds/msvc/vs2010/libsodium.import.props |    2 +-
 builds/msvc/vs2012/libsodium.import.props |    2 +-
 builds/msvc/vs2013/libsodium.import.props |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 0efd8d9bf3e7a82d71067ac587151334598e6235
Author: evoskuil <eric@voskuil.org>
Date:   Tue Jul 22 11:21:57 2014 -0700

    Update VS filters for socks additions.

 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |   14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit b0103de608686f86f10e54bd58cd41ad23a97e3f
Merge: 81b9f21 f72f4b2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jul 22 07:59:45 2014 +0200

    Merge pull request #1136 from ewen-naos-nz/zos

    z/OS UNIX System Services port

commit f72f4b2526c7bc731071d50afabb26f09e83ee31
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Tue Jul 22 16:44:56 2014 +1200

    Extend z/OS UNIX port to allow building DLL

    Updated:
       README.md:  describes process of building/using DLL
       makelibzmq: Build DLL as well as static library (unless BUILD_DLL=false)
       maketests:  Dynamically link to ../src/libzmq.so if present
       runtests:   Explicitly place ../src at start of LIBPATH
       makeclean:  Also remove files created for DLL
       cxxall:     Bumped updated date to reflect last edit

 builds/zos/README.md  |   80 +++++++++++++++++++++++++++++++++++++++++--------
 builds/zos/cxxall     |    2 +-
 builds/zos/makeclean  |    2 +-
 builds/zos/makelibzmq |   28 +++++++++++++++--
 builds/zos/maketests  |   39 +++++++++++++++++++-----
 builds/zos/runtests   |    8 ++++-
 6 files changed, 134 insertions(+), 25 deletions(-)

commit 6e0c1c0a80ea3b5a3619758fb9b2d70cdfd3fd37
Author: Ewen McNeill <ewen@naos.co.nz>
Date:   Tue Jul 22 12:05:51 2014 +1200

    builds/zos/* portability files to z/OS UNIX

    builds/zos includes:
        README.md: Overview of z/OS UNIX System Services port (Markdown)
        makelibzmq: Compile src/*.cpp and make libzmq.a
        maketests:  Compile tests/*.cpp and make test_* executables
        runtests:   Run tests/test_* executables and report results
        makeclean:  Remove built files
        zc++: /bin/c++ wrapper supplying required build arguments
        cxxall: run zc++ for all *.cpp files in directory

        platform.hpp: pre-generated (and edited) src/platform.hpp for z/OS
        test_fork.cpp: updated tests/test_fork.cpp that completes on z/OS

 builds/zos/README.md     |  285 ++++++++++++++++++++++++++++++++++++++++++++++
 builds/zos/cxxall        |   62 ++++++++++
 builds/zos/makeclean     |   35 ++++++
 builds/zos/makelibzmq    |   30 +++++
 builds/zos/maketests     |   79 +++++++++++++
 builds/zos/platform.hpp  |  277 ++++++++++++++++++++++++++++++++++++++++++++
 builds/zos/runtests      |  210 ++++++++++++++++++++++++++++++++++
 builds/zos/test_fork.cpp |   85 ++++++++++++++
 builds/zos/zc++          |   42 +++++++
 9 files changed, 1105 insertions(+)

commit 81b9f21bdd3f04f88d2d9ab7303bfafaa9d4bf0f
Merge: d4d65da 82282d6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 13 02:03:51 2014 +0200

    Merge pull request #1132 from rodgert/master

    Added test and doc section for ZMQ_SHARED message flag

commit 82282d6973c45998f97f948406759cdc7b4bbd13
Author: Thomas Rodgers <rodgert@twrodgers.com>
Date:   Sat Jul 12 18:05:49 2014 -0500

    Added test and doc section for ZMQ_SHARED message flag

 doc/zmq_msg_get.txt      |    4 ++++
 tests/test_msg_flags.cpp |   20 ++++++++++++++++++++
 2 files changed, 24 insertions(+)

commit d4d65da20d2a2570fd83923f6a17e7bf67717701
Merge: 5dc4066 3497244
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jul 12 16:06:26 2014 +0200

    Merge pull request #1131 from rodgert/master

    Added ZMQ_SHARED message option to zmq_msg_get()

commit 3497244c41eb467df7c3748701f2e1a5e4c32224
Author: Thomas Rodgers <rodgert@twrodgers.com>
Date:   Sat Jul 12 09:01:27 2014 -0500

    Added ZMQ_SHARED message option to zmq_msg_get()

 AUTHORS       |    1 +
 include/zmq.h |    1 +
 src/zmq.cpp   |    2 ++
 3 files changed, 4 insertions(+)

commit 5dc4066de4c9b82afc4c21e01a6fab3b0c1e322c
Merge: d846fbf a62e6f4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jul 12 08:58:51 2014 +0200

    Merge pull request #1130 from trevorbernard/master

    Add Docker support

commit a62e6f473da956e78cf8addb7f08e69281ac77dd
Author: Trevor Bernard <tbernard@liveops.com>
Date:   Fri Jul 11 22:41:16 2014 -0300

    Add Docker support

 Dockerfile |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit d846fbf10739831c3b004f0f38b8d3ba47f6f4e3
Merge: 428cf02 6099acd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jul 10 00:36:35 2014 +0200

    Merge pull request #1127 from twhittock/utils-eol

    Ensure EOL is present at end of utils file.

commit 6099acd2bebf92c3f3e5cb67c6c500c7522e911e
Author: Tom Whittock <tom.whittock@gmail.com>
Date:   Wed Jul 9 22:45:03 2014 +0100

    Ensure EOL is present at end of utils file.

    MacOS/Clang complain due to presence of -Wnewline-eof in CZMQ.

 include/zmq_utils.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 428cf0255c06cb2adadea05d17c4ae14f3f30efb
Merge: bf74c0c 816299f
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jul 9 13:21:56 2014 +0100

    Merge pull request #1125 from hurtonm/master

    Code cleanup

commit 816299f11c72f922674b1bbe4e7426f598a0ad30
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 9 13:49:40 2014 +0200

    Code cleanup

 src/ctx.cpp         |   13 +++++-----
 src/mailbox.cpp     |    6 ++---
 src/mailbox.hpp     |    6 ++---
 src/signaler.cpp    |   72 +++++++++++++++++++++++++--------------------------
 src/signaler.hpp    |    6 ++---
 src/socket_base.cpp |   36 ++++++++++++--------------
 6 files changed, 69 insertions(+), 70 deletions(-)

commit bf74c0cfb176bf1b9bf3bd4e162abb85167f923d
Merge: e71ebbb 31cff7c
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 9 13:20:01 2014 +0200

    Merge pull request #1124 from ricnewton/master

    Add test for unbinding inproc socket.

commit 31cff7ccf906d6c9a6c9ba96291cf6cf992086c7
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jul 9 10:28:26 2014 +0100

    Add test for unbinding inproc socket.

 tests/test_inproc_connect.cpp |   51 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 3c614074a2cfe2b6cf31083c80511365e910eda6
Merge: fe2532e e71ebbb
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jul 9 10:03:17 2014 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit e71ebbb77116bd3f98a3d6e2a91c63a8061892ed
Merge: 36d529c 54e0fde
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jul 9 10:01:48 2014 +0100

    Merge pull request #1123 from hurtonm/master

    Resolve issue #949

commit 54e0fde1ccf37e5bb1591bf66e8ca01e8074a155
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 9 09:57:28 2014 +0200

    Resolve issue #949

 src/ctx.cpp         |   20 ++++++++++++++++++++
 src/ctx.hpp         |    1 +
 src/object.cpp      |    6 ++++++
 src/object.hpp      |    2 ++
 src/socket_base.cpp |    2 ++
 5 files changed, 31 insertions(+)

commit 36d529cba9120daa8df61462aeac40373056b1f6
Merge: 660bf43 993cb32
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 7 18:03:53 2014 +0200

    Merge pull request #1122 from twhittock/win-errhandle

    Windows: if WSA error number is held, use directly.

commit 993cb32e967cf6e011a90f2d498b073cbdff99ae
Author: Tom Whittock <tom.whittock@gmail.com>
Date:   Mon Jul 7 16:00:22 2014 +0100

    Windows: if WSA error number is held, use directly.
    It must be done this way, as WSAGetLastError returns 0 in these circumstances

 src/tcp_connecter.cpp |   21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit 660bf4311b42c15cbedf5c757178a0e7e39f74d7
Merge: 1353d28 cb2582b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 7 15:52:09 2014 +0200

    Merge pull request #1121 from twhittock/master

    vs2012: Add missing socks files

commit cb2582b09ed9cf9b8bcb1b8f680406016778fc73
Author: Tom Whittock <tom.whittock@gmail.com>
Date:   Mon Jul 7 14:47:39 2014 +0100

    vs2012: Add missing socks files

 builds/msvc/vs2012/libzmq/libzmq.vcxproj |    4 ++++
 1 file changed, 4 insertions(+)

commit 1353d28708ef420568e390067719565f958fadff
Merge: 3696d0d ccfbaea
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 6 23:00:08 2014 +0200

    Merge pull request #1120 from hurtonm/master

    Don't delay reception of signal

commit ccfbaea397dc8227a37279dbf1363996badd5d6c
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Jul 6 22:23:48 2014 +0200

    Don't delay reception of signal

    - new code may help undersdtand issue #1108
      (https://github.com/zeromq/libzmq/issues/1108)
    - code cleanups

 src/mailbox.cpp |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 3696d0d74fd259373e44706e7c701dfd6312c624
Merge: e6b7c7a 4ae4896
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jul 3 10:28:40 2014 +0200

    Merge pull request #1119 from mosconi/master

    Fix to build on OpenBSD

commit 4ae4896978348c92e34bb2ef6fa5b2d3111996b2
Author: Rodrigo Mosconi <mosconi.rmg@gmail.com>
Date:   Wed Jul 2 23:24:35 2014 -0300

    duplicated type definitions when using CMAKE

 tweetnacl/src/tweetnacl.c |    2 ++
 1 file changed, 2 insertions(+)

commit 3a16b0b108096ca0fc1df1f07f5c3f78e77054e4
Merge: 51b3fad e6b7c7a
Author: Rodrigo Mosconi <mosconi.rmg@gmail.com>
Date:   Wed Jul 2 21:22:51 2014 -0300

    Merge remote-tracking branch 'upstream/master'

commit 51b3fad8ab0f3bb32ebefa0a1a847fd657eca5c4
Author: Rodrigo Mosconi <mosconi.rmg@gmail.com>
Date:   Wed Jul 2 21:06:33 2014 -0300

    Fix to build on OpenBSD

 src/ipc_listener.cpp  |    3 +++
 src/stream_engine.cpp |    3 +++
 2 files changed, 6 insertions(+)

commit e6b7c7acd6434e8755aa6bbb108d581400dc3acc
Merge: 13ed711 9c42d28
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jul 2 21:59:32 2014 +0200

    Merge pull request #1118 from guidefloripa/master

    Add static compilation on CMake

commit 9c42d28a207f62f6407cd778b5edc5a242bb5812
Author: Guilherme Steinmann <guidefloripa@gmail.com>
Date:   Wed Jul 2 16:51:34 2014 -0300

    Add static compilation on CMake

 CMakeLists.txt |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 13ed7114481277fdf30218df789dc694b46a222b
Merge: 00fe56c 219310b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jul 2 17:49:40 2014 +0200

    Merge pull request #1117 from jlauenercern/master

    Thread scheduling parameters: Use ZMQ context options instead of environment variables.

commit 219310b4f08ab2a3d09523e8499b9baa990d284b
Author: Joel Lauener <Joel.Lauener@cern.ch>
Date:   Wed Jul 2 12:07:35 2014 +0200

    Thread scheduling parameters: Use ZMQ context options instead of
    environment variables.

 include/zmq.h     |    4 ++++
 src/ctx.cpp       |   22 +++++++++++++++++++++-
 src/ctx.hpp       |    8 ++++++++
 src/devpoll.cpp   |    5 +++--
 src/devpoll.hpp   |    6 +++++-
 src/epoll.cpp     |    5 +++--
 src/epoll.hpp     |    6 +++++-
 src/io_thread.cpp |    2 +-
 src/kqueue.cpp    |    5 +++--
 src/kqueue.hpp    |    6 +++++-
 src/poll.cpp      |    5 +++--
 src/poll.hpp      |    6 +++++-
 src/reaper.cpp    |    2 +-
 src/select.cpp    |    5 +++--
 src/select.hpp    |    6 +++++-
 src/thread.cpp    |   49 +++++++++++++++++++++++++++----------------------
 src/thread.hpp    |    4 ++++
 17 files changed, 106 insertions(+), 40 deletions(-)

commit 00fe56c4bfe55535636ad81a9945d7cdba7ae85a
Merge: bbf5971 079ff8b
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Jul 1 09:22:28 2014 +0100

    Merge pull request #1115 from hurtonm/master

    Code cleanup

commit bbf597196e789bc92b8d1906e40d6189856cd2dd
Merge: fa3ae97 39f2e8f
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Jul 1 09:21:33 2014 +0100

    Merge pull request #1112 from hintjens/master

    Problem: two header files for a single library

commit 079ff8b759d21575d67b64666f75ef1760f9541e
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Jul 1 09:17:19 2014 +0200

    Code cleanup

 src/address.cpp      |   19 ++++++++++---------
 src/ipc_address.cpp  |   23 +++++++++++------------
 src/ipc_address.hpp  |    4 ++--
 src/tcp_address.cpp  |    4 ++--
 src/tipc_address.cpp |   24 +++++++++++-------------
 src/tipc_address.hpp |    2 +-
 6 files changed, 37 insertions(+), 39 deletions(-)

commit fa3ae97480c65607293207946544cb4b7cf3bc72
Merge: 1b9f67c a9cb902
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jun 29 17:35:50 2014 +0200

    Merge pull request #1114 from PalmStoneGames/master

    Add missing socks files

commit a9cb9022fd666e98aa5a545b6b0d5f6d5e60ee93
Author: Diego Duclos <diego.duclos@palmstonegames.com>
Date:   Sun Jun 29 15:14:54 2014 +0200

    Add missing socks files

 builds/msvc/vs2013/libzmq/libzmq.vcxproj |    4 ++++
 1 file changed, 4 insertions(+)

commit 1b9f67cac6ecdb80eb67066b56e0b0be0705f12d
Merge: 7e8dd46 f1207e6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 27 20:35:59 2014 +0200

    Merge pull request #1113 from fichtner/socks_include

    socks: fix build on FreeBSD

commit f1207e6af19119158225d74d573b90dbfccabdac
Author: Franco Fichtner <franco@lastsummer.de>
Date:   Fri Jun 27 20:15:08 2014 +0200

    socks: fix build on FreeBSD

    The fix should be sane on all UNIX-like systems, so there's
    no ZMQ_HAVE_FREEBSD involved.  It's likely that other BSDs
    stumble across this problem too.

 src/socks.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 39f2e8f273bf2aeeeb44139effc2c2070048de74
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 27 16:41:27 2014 +0200

    Problem: missing stdlib.h include in curve_keygen.cpp

    Solution: fixed this. Also minor code cleanups.

 tools/curve_keygen.cpp |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit a087ce55ea2d86d70c0038b543d4d3b8ecca84a0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 27 15:56:29 2014 +0200

    Problem: two header files for a single library

    Users who need e.g. zmq_curve_keypair() have to remember to include
    zmq_utils.h, which is counter-intuitive. The whole library should be
    represented by a single include file.

    Solution: merge all contents of zmq_utils.h into zmq.h, and deprecate
    zmq_utils.h. Existing apps can continue unchanged. New apps can ignore
    zmq_utils.h completely.

 include/zmq.h       |   61 +++++++++++++++++++++++++++++++-----
 include/zmq_utils.h |   87 +--------------------------------------------------
 tests/testutil.hpp  |    2 +-
 3 files changed, 56 insertions(+), 94 deletions(-)

commit 7e8dd46631053137eb775551a8d2c3e333b275e1
Merge: 3b505f1 dd05a64
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jun 25 16:38:43 2014 +0100

    Merge pull request #1111 from hintjens/master

    Problem: zmq_msg_gets did not set errno on unknown properties

commit dd05a64462a3454153b0391c1f8ab19f7fbf3b47
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 25 17:22:02 2014 +0200

    Problem: zmq_msg_gets did not set errno on unknown properties

    Solution: set errno to EINVAL when a property does not exist.

    Also fixed test_metadata.cpp to test this case.

 src/zmq.cpp             |    9 +++++++--
 tests/test_metadata.cpp |    2 ++
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 3b505f1f6a7acda0566c12d38b38e595582527d0
Merge: 47c7962 6e91330
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jun 25 15:10:07 2014 +0100

    Merge pull request #1110 from hintjens/master

    Reverted removal of [ ] support

commit 6e91330a0cb18f8ac2d87151ad084d196481147e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 25 14:37:54 2014 +0200

    Added clarifying comment

 src/tcp_address.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58c067ff0e0dbd009b8afbf2f17615102cc5500d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 25 14:36:55 2014 +0200

    Revert "Problem: tcp_address.cpp allowed [ and ] around address"

    This reverts commit 78a7b469a1993b681031f513d0c750c3a8454bb8.

 src/tcp_address.cpp |    5 +++++
 1 file changed, 5 insertions(+)

commit 47c796276fe641478a3c43f7796d1b89bb87fa2c
Merge: 859b43f ce8fbb2
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jun 25 12:41:37 2014 +0100

    Merge pull request #1109 from hintjens/master

    Set EINVAL on invalid tcp:// endpoint in zmq_connect

commit ce8fbb26cb864c8e55978a614743d88019aeda4a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 25 12:48:26 2014 +0200

    Problem: zmq_connect doesn't return EINVAL on invalid endpoint

    Solution: set errno to EINVAL when tcp:// endpoint is invalid (was just
    leaving errno to previous value).

 src/socket_base.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 2524e268935dd8bf42596855bea027222b1344a1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 25 12:47:39 2014 +0200

    Code cleanups

 src/socket_base.cpp |   42 +++++++++++++-----------------------------
 src/thread.cpp      |   15 ++++++---------
 src/ypipe.hpp       |    6 +++---
 3 files changed, 22 insertions(+), 41 deletions(-)

commit 859b43f1ebf9b2814352eb4cb983df3b4e946631
Merge: 64513d8 112ef6f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 25 11:29:07 2014 +0200

    Merge pull request #1107 from jlauenercern/master

    Allow change of pthread priority

commit 112ef6f1721ab1059729e8a77ee3c9f32f0b77d4
Author: Joel Lauener <Joel.Lauener@cern.ch>
Date:   Wed Jun 25 09:51:10 2014 +0200

    Allow change of pthread priority

    Rationale: In a real-time environment it is sometime mandatory to tune
    threads priority and scheduling policy. This is required by our users
    who mixes real-time and server threads within
    the same process. It's not planned to support this on non-pthread
    platforms (e.g. Windows).

 src/thread.cpp |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 64513d8522b183b1882d6b0b87abef4bd1ac4bf9
Merge: 4078433 78a7b46
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Jun 24 13:56:00 2014 +0100

    Merge pull request #1106 from hintjens/master

    Problem: zmq_connect() does not validate TCP addresses

commit 78a7b469a1993b681031f513d0c750c3a8454bb8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 24 14:36:21 2014 +0200

    Problem: tcp_address.cpp allowed [ and ] around address

    This syntax is undocumented and has no known meaning. It was in libzmq
    since 3.x.

    Solution: remove this code.

 src/tcp_address.cpp |    5 -----
 1 file changed, 5 deletions(-)

commit deaad00ad91fa7a45909c85df6a7dbdb945dad39
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 24 14:31:28 2014 +0200

    Problem: zmq_connect() does not validate TCP addresses

    Since https://github.com/zeromq/libzmq/commit/350a1a, TCP addresses
    get resolved asynchronously, so zmq_connect no longer returned an
    error on incorrect addresses.

    This is troublesome since we rely on some error checking to catch
    blatant errors.

    Solution add some upfront syntax checking that catches at least the
    obvious kinds of errors (invalid characters, wrong or missing port
    number).

 src/socket_base.cpp            |   34 +++++++++++++++++++++++++++++++++-
 src/tcp_address.cpp            |    3 ++-
 tests/test_connect_resolve.cpp |   12 ++++++++----
 3 files changed, 43 insertions(+), 6 deletions(-)

commit 407843374d754d9a8d4741d625beaa8dd1ac01c6
Merge: 1f063dc 18d2225
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Jun 24 10:38:46 2014 +0100

    Merge pull request #1105 from hintjens/master

    Fixed typo in doc example

commit 18d222515f1caa4f4075660298ae696a43aa4f7b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 23 20:24:36 2014 +0200

    Fixed typo in doc example

 doc/zmq_tcp.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f063dc30a8e19fa3b9e564f72ee3e7228f54690
Merge: 61c2a7d 369725a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 23 20:23:20 2014 +0200

    Merge pull request #1103 from ricnewton/master

    Fix windows build

commit 61c2a7d47186b0beec059856212b424b7cfcb229
Merge: 82be399 232e6ff
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 23 20:23:06 2014 +0200

    Merge pull request #1104 from tristianc/master

    Updated spec file for libzmq 4.0.4

commit fe2532e883d0da7494df9bce131d16f8898f1d2b
Merge: 369725a 82be399
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jun 23 13:23:39 2014 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 82be399527ca15c243cbe16689249ea1184a5ce9
Merge: de3832d 36db9c0
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jun 23 13:23:20 2014 +0100

    Merge pull request #1097 from hintjens/master

    Added capabilities API

commit 369725ab8f15099d4b81b63dbe7d60a52cf2433b
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jun 23 13:10:43 2014 +0100

    Fix windows build

 CMakeLists.txt          |    2 ++
 src/socks.cpp           |    7 +++++--
 src/socks_connecter.hpp |    2 +-
 3 files changed, 8 insertions(+), 3 deletions(-)

commit de3832d2f86666103a1e5573b287d02c079a72f9
Merge: 79d578e b73d1c8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 23 00:18:36 2014 +0200

    Merge pull request #1101 from hurtonm/master

    Fix memory leak in socks connecter

commit b73d1c8fed705c4d0f06affaaf327937eaf45919
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jun 23 00:01:58 2014 +0200

    Fix memory leak in socks connecter

 src/socks_connecter.cpp |    1 +
 src/socks_connecter.hpp |    1 +
 2 files changed, 2 insertions(+)

commit 79d578ef0bfcc3a66d326771c4115a1ed3f5af29
Merge: 883e95b f06ca69
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jun 22 23:42:23 2014 +0200

    Merge pull request #1100 from hurtonm/master

    Add support for SOCKS proxies

commit f06ca69ae910a0bedb211e92080bbb6932183112
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Jun 22 10:32:22 2014 +0200

    Add support for SOCKS proxies

    This is still raw and experimental.
    To connect through a SOCKS proxy, set ZMQ_SOCKS_PROXY socket option on
    socket before issuing a connect call, e.g.:

        zmq_setsockopt (s, ZMQ_SOCKS_PROXY,
            "127.0.0.1:22222", strlen ("127.0.0.1:22222"));
        zmq_connect (s, "tcp://127.0.0.1:5555");

    Known limitations:
    - only SOCKS version 5 supported
    - authentication not supported
    - new option is still undocumented

 include/zmq.h           |    1 +
 src/Makefile.am         |    4 +
 src/options.cpp         |   21 +++
 src/options.hpp         |    3 +
 src/session_base.cpp    |   21 ++-
 src/socks.cpp           |  269 +++++++++++++++++++++++++++
 src/socks.hpp           |  125 +++++++++++++
 src/socks_connecter.cpp |  467 +++++++++++++++++++++++++++++++++++++++++++++++
 src/socks_connecter.hpp |  153 ++++++++++++++++
 src/stream_engine.cpp   |  110 +----------
 src/stream_engine.hpp   |   10 -
 src/tcp.cpp             |  101 ++++++++++
 src/tcp.hpp             |   10 +
 13 files changed, 1176 insertions(+), 119 deletions(-)

commit 883e95b22e0bffffa72312ea1fec76199afbe458
Merge: 8b80197 bdf6427
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jun 22 12:17:35 2014 +0200

    Merge pull request #1099 from chrox/master

    Fixed build with arm-linux-androideabi toolchain

commit bdf6427a0017ccbd87d8b0a0a7e211bf9d6c14a4
Author: chrox <chrox.huang@gmail.com>
Date:   Sun Jun 22 18:05:50 2014 +0800

    Fixed build with arm-linux-androideabi toolchain

 src/tcp_address.cpp       |    4 ++--
 tests/test_filter_ipc.cpp |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 8b80197207fdb117573db8bb8b47f9529d3f3f36
Merge: cac5e74 0a4123f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 20 07:14:21 2014 +0200

    Merge pull request #1098 from mgatny/add_gssapi_documentation

    Add documentation for GSSAPI options.

commit 0a4123fd91ec40222a880788b70e0075a018105f
Author: Mike Gatny <mgatny@gmail.com>
Date:   Thu Jun 19 23:57:48 2014 -0400

    Add documentation for GSSAPI options.

 doc/zmq_getsockopt.txt |   53 +++++++++++++++++++++++++++++++++++++++++++-
 doc/zmq_gssapi.txt     |   57 ++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_setsockopt.txt |   49 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 158 insertions(+), 1 deletion(-)

commit 36db9c080352c1c90a60c79b5fa938e20c7ba980
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 19 15:28:04 2014 +0200

    Fixed compile error if Kerberos installed

 tests/test_capabilities.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7242cdf842c01a49c005423425f3f991be3c3624
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 19 14:56:10 2014 +0200

    Trivial whitespace fixup

 include/zmq_utils.h |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit f11d673ba99a9c5550d19565f8a665e339a9e4e3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 18 15:10:18 2014 +0200

    Problem: need way to probe library capabilities

    As libzmq is compiled with optional transports and security mechanisms,
    there is no clean way for applications to determine what capabilities
    are actually available in a given libzmq instance.

    Solution: provide an API specifically for capability reporting. The
    zmq_has () method is meant to be open ended. It accepts a string so
    that we can add arbitrary capabilities without breaking existing
    applications.

    zmq.h also defines ZMQ_HAS_CAPABILITIES when this method is provided.

 .gitignore                  |    1 +
 doc/Makefile.am             |    2 +-
 doc/zmq_has.txt             |   43 ++++++++++++++++++++++++++++++
 include/zmq.h               |   14 +++++++---
 src/zmq.cpp                 |   32 +++++++++++++++++++++++
 tests/Makefile.am           |    8 +++---
 tests/test_capabilities.cpp |   61 +++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 153 insertions(+), 8 deletions(-)

commit 27547bc9bc27c9cf4151b015fdbcf66f1df7bdc6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 17 16:32:47 2014 +0200

    Problem: when libgssapi isn't available, GSSAPI options 'seem' to work

    Solution: use same approach as for libsodium/CURVE, i.e. return EINVAL
    if the library isn't present when libzmq builds, and the application
    still tries to use these options in zmq_getsockopt/setsockopt.

 src/options.cpp |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit cac5e74d55807c7e3dc628a6f435974b7c2b3507
Merge: 1d236d8 d066746
Author: Trevor Bernard <tbernard@liveops.com>
Date:   Tue Jun 17 11:29:39 2014 -0300

    Merge pull request #1096 from hintjens/master

    Problem: API violations are treated as recoverable errors

commit 1beb54cef0281a5959af64fb1d0d0e9021e52a3c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 17 16:24:56 2014 +0200

    Added militant API checking on zmq_getsockopt

 src/options.cpp |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit d0667461f0b374481154611ea76d63ac9f292205
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 17 16:14:19 2014 +0200

    Fixed build: malformed only defined when needed.

 src/options.cpp |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit b4ed3f55066c69d7e964f448f81a28e7ca0bfb0b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 17 15:49:52 2014 +0200

    Problem: API violations are treated as recoverable errors

    The example is applications passing invalid arguments to a socket option
    and then failing to check the return code. The results can be very hard
    to diagnose. Here are some threads that show the pain this causes:

    * https://github.com/zeromq/zyre/issues/179
    * http://lists.zeromq.org/pipermail/zeromq-dev/2014-June/026388.html

    One common argument is that a library should never assert, and should
    pass errors back to the calling application. The counter argument is
    that when an application is broken enough to pass garbage to libzmq,
    it cannot be trusted to handle the resulting errors properly. Empirical
    evidence from CZMQ, where we systematically assert on bad arguments, is
    that this militant approach makes applications more, not less, robust.

    I don't see any valid use cases for returning errors on bad arguments,
    with one exception: zmq_setsockopt can be used to probe whether libzmq
    was e.g. built with CURVE security. I'd argue that it's nasty to use a
    side effect like this. If apps need to probe how libzmq was built, this
    should be done explicitly, and for ALL build options, not just CURVE.

    There are/were no libzmq test cases that check the return code for an
    invalid option.

    For now I've enabled militant assertions using --with-militant at
    configure time. However I'd like to make this the default setting.

 configure.ac    |   11 +++++++++++
 src/options.cpp |   19 +++++++++++++++----
 2 files changed, 26 insertions(+), 4 deletions(-)

commit 232e6ff7619ccf27f36e009312347eaf71e115cc
Merge: 8d7b64d c973c98
Author: Tristian Celestin <tristian.celestin@outlook.com>
Date:   Tue Jun 10 16:57:06 2014 -0400

    Merge branch 'master' of https://github.com/tristianc/libzmq

commit 1d236d81c8c542a5333b9557b72e321c52cf1cb0
Merge: 373d688 188f786
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jun 16 08:45:37 2014 +0100

    Merge pull request #1090 from hintjens/master

    Problem: zmq_ctx_get (ZMQ_MAX_SOCKETS) returns gibberish

commit 373d68844a7c70385d58f5c60b3e45b4f93a53f2
Merge: 3aec42e b62d1c7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jun 15 20:16:58 2014 +0200

    Merge pull request #1093 from hurtonm/master

    Code cleanup

commit b62d1c7d5f3a64b1c4e4b5a51862aa28ce650c39
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Jun 15 19:44:28 2014 +0200

    Code cleanup

 src/tcp_address.cpp |   23 ++++++++---------------
 1 file changed, 8 insertions(+), 15 deletions(-)

commit 188f7864eaaa6043b1716117f0d8dbf4fd72cd9b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 11 21:25:46 2014 +0200

    Fixed testcase for ZMQ_MAX_SOCKETS

 tests/test_ctx_options.cpp |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 39455c21140fb7e730979a156556dad87b411ace
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 11 18:24:39 2014 +0200

    Problem: zmq_ctx_get (ZMQ_MAX_SOCKETS) returns gibberish

    Well, not gibberish, but 2^31 on Linux, which is useless. The code
    should probably use getrlimit on Linux and other calls depending on
    the system. For now I've set the ceiling at 64K.

 src/ctx.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d7b64d64812d673f9027482825ce325957d8ee6
Author: Tristian Celestin <tristian.celestin@outlook.com>
Date:   Tue Jun 10 16:50:02 2014 -0400

    Added packaged files and binary to RPM spec

 builds/redhat/zeromq.spec.in |   25 +++++++++++++++++--------
 1 file changed, 17 insertions(+), 8 deletions(-)

commit 3aec42e278d4f3042e6f2a1c10f3ba804b47075f
Merge: c973c98 cc4c37d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 10 22:46:19 2014 +0200

    Merge pull request #1089 from jkryl/master

    program dumps core when getpeername() returns EINVAL (#1085)

commit cc4c37dc62a215cfda045838bfda7d2b0f729f14
Author: Jan Kryl <jan.kryl@nexenta.com>
Date:   Tue Jun 10 16:11:00 2014 -0400

    program dumps core when getpeername() returns EINVAL (#1085)

 src/ip.cpp |    1 -
 1 file changed, 1 deletion(-)

commit c973c985fede96967ce95ce9213679c920aced8d
Merge: 668b2c4 ab5775f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 10 14:47:29 2014 +0200

    Merge pull request #1088 from olafmandel/WSAENOTSOCK

    Fix failed assertion for WSAENOTSOCK

commit ab5775fb0045eb537074e8dbf0d44ab3c8c6b480
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Tue Jun 10 14:45:04 2014 +0200

    Fix failed assertion for WSAENOTSOCK

    In de9eef306, the error number assigned to WSAENOTSOCK was EFAULT, but
    zmq.cpp:919 expects an ENOTSOCK in this case.

 src/err.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 668b2c4d835f42139e235a338437fc2096e0780e
Merge: 8c61629 706eb4d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 7 22:45:35 2014 +0100

    Merge pull request #1083 from hurtonm/master

    Code cleanup

commit 706eb4da8d5b0364e6ed294a99c32bed45213d93
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 7 23:01:40 2014 +0200

    Code cleanup

 src/tcp_connecter.cpp |   90 ++++++++++++++++++++++---------------------------
 1 file changed, 40 insertions(+), 50 deletions(-)

commit 8c616290c814478215a32ed7f4475768997f3851
Merge: 34e8f3c a1f8737
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Jun 6 12:13:04 2014 +0100

    Merge pull request #1082 from dmeehan1968/exclude-test-abstract-ipc-non-linux

    Exclude test_abstract_ipc from non-Linux builds

commit a1f8737976e67c9341dfc21d864a164e927b4a81
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Fri Jun 6 12:08:55 2014 +0100

    Exclude test_abstract_ipc from non-Linux builds

 tests/Makefile.am |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 34e8f3c1232d91f110eb9886ffcfdb7353773e1c
Merge: fae07d9 920371e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 5 21:33:27 2014 +0200

    Merge pull request #1080 from tberkey/master

    Corrected installer source path for VS pdb debug symbols file.  Removed ...

commit fae07d919a683dee5f5d1e0a1eda15980f91c416
Merge: c23420c 10e5277
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 5 21:20:17 2014 +0200

    Merge pull request #1079 from evoskuil/master

    Refresh VS 2010/2012 projects and NuGet templ for recent VS2013 updates.

commit 10e5277e9f2374dc03f29d3ef9911bbf4570b396
Author: evoskuil <eric@voskuil.org>
Date:   Thu Jun 5 12:13:00 2014 -0700

    Update NuGet template to incorporate platform.hpp from relative dir.

 packaging/nuget/package.gsl    |    1 +
 packaging/nuget/package.nuspec |    3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 455bba6a15a67cb6e04a6aab6ad0635388cc7a8c
Author: evoskuil <eric@voskuil.org>
Date:   Thu Jun 5 12:12:18 2014 -0700

    Refresh VS 2010/2012 projects with recent VS2013 updates.

 builds/msvc/vs2010/inproc_lat/inproc_lat.props   |   10 +++-------
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj |    2 +-
 builds/msvc/vs2010/inproc_thr/inproc_thr.props   |   10 +++-------
 builds/msvc/vs2010/inproc_thr/inproc_thr.vcxproj |    2 +-
 builds/msvc/vs2010/libzmq/libzmq.props           |   11 ++---------
 builds/msvc/vs2010/libzmq/libzmq.vcxproj         |    4 ++--
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters |    2 +-
 builds/msvc/vs2010/local_lat/local_lat.props     |   10 +++-------
 builds/msvc/vs2010/local_lat/local_lat.vcxproj   |    2 +-
 builds/msvc/vs2010/local_thr/local_thr.props     |   10 +++-------
 builds/msvc/vs2010/local_thr/local_thr.vcxproj   |    2 +-
 builds/msvc/vs2010/remote_lat/remote_lat.props   |   10 +++-------
 builds/msvc/vs2010/remote_lat/remote_lat.vcxproj |    2 +-
 builds/msvc/vs2010/remote_thr/remote_thr.props   |   10 +++-------
 builds/msvc/vs2010/remote_thr/remote_thr.vcxproj |    2 +-
 builds/msvc/vs2012/inproc_lat/inproc_lat.props   |   10 +++-------
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj |    2 +-
 builds/msvc/vs2012/inproc_thr/inproc_thr.props   |   10 +++-------
 builds/msvc/vs2012/inproc_thr/inproc_thr.vcxproj |    2 +-
 builds/msvc/vs2012/libzmq/libzmq.props           |   11 ++---------
 builds/msvc/vs2012/libzmq/libzmq.vcxproj         |    4 ++--
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |    2 +-
 builds/msvc/vs2012/local_lat/local_lat.props     |   10 +++-------
 builds/msvc/vs2012/local_lat/local_lat.vcxproj   |    2 +-
 builds/msvc/vs2012/local_thr/local_thr.props     |   10 +++-------
 builds/msvc/vs2012/local_thr/local_thr.vcxproj   |    2 +-
 builds/msvc/vs2012/remote_lat/remote_lat.props   |   10 +++-------
 builds/msvc/vs2012/remote_lat/remote_lat.vcxproj |    2 +-
 builds/msvc/vs2012/remote_thr/remote_thr.props   |   10 +++-------
 builds/msvc/vs2012/remote_thr/remote_thr.vcxproj |    2 +-
 30 files changed, 58 insertions(+), 120 deletions(-)

commit c23420ce046d86ec20dfe089ee76473666908321
Merge: ff6b684 fa95d0b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 5 20:27:14 2014 +0200

    Merge pull request #1078 from mkluwe/handle-WSAEADDRINUSE

    handle WSAEADDRINUSE in tcp_connecter_t::connect

commit fa95d0b5e8422394eb50bffe1d163386890286f8
Author: Matthias Kluwe <mkluwe@gmail.com>
Date:   Thu Jun 5 19:39:15 2014 +0200

    removed whitespace

    (accidentially used my preferred style)

 src/tcp_connecter.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5154c544ff23a1717ce85e89d22e91947e68f126
Author: Matthias Kluwe <mkluwe@gmail.com>
Date:   Thu Jun 5 19:29:42 2014 +0200

    handle WSAEADDRINUSE in tcp_connecter_t::connect

    As mentioned on the mailing list, Windows may return WSAEADDRINUSE when binding
    (reconnecting) to a port. Added this to the handled error codes as Pieter
    suggested.

 src/tcp_connecter.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ff6b684ab3c5793233ad323db165afc453ebc5ba
Merge: d0371dc d775b45
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Jun 5 13:15:50 2014 +0100

    Merge pull request #1076 from dmeehan1968/msvc-platform-hpp-no-copy

    Remove copy of platform.hpp for MSVC VS2013 builds

commit d775b4539f849431e9f0bee141762757fef86554
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 13:01:13 2014 +0100

    Modified remote_thr project to not copy platform.hpp

 builds/msvc/vs2013/remote_thr/remote_thr.props   |   10 +++-------
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj |    2 +-
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 66ebe31bf53acd547bbc62ef9432ee0e56b923ce
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 13:00:28 2014 +0100

    Modified remote_lat project to not copy platform.hpp

 builds/msvc/vs2013/remote_lat/remote_lat.props   |   10 +++-------
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj |    2 +-
 2 files changed, 4 insertions(+), 8 deletions(-)

commit dd95eb96be31bd57d94850b6d7648fd3ad9ba76f
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 12:59:21 2014 +0100

    Modified local_thr project to not copy platform.hpp

 builds/msvc/vs2013/local_thr/local_thr.props   |   10 +++-------
 builds/msvc/vs2013/local_thr/local_thr.vcxproj |    2 +-
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 06e67ff09687c609e8bd05f0a72168cf36ff9674
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 12:58:49 2014 +0100

    Modified local_lat project to not copy platform.hpp

 builds/msvc/vs2013/local_lat/local_lat.props   |   10 +++-------
 builds/msvc/vs2013/local_lat/local_lat.vcxproj |    2 +-
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 7b5027014289bb2600880e842b8a9e30ca26adc7
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 12:58:02 2014 +0100

    Modified inproc_thr project to not copy platform.hpp

 builds/msvc/vs2013/inproc_thr/inproc_thr.props   |   10 +++-------
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj |    2 +-
 2 files changed, 4 insertions(+), 8 deletions(-)

commit f5478859b01488896e518254b4b396944ac93b4c
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 12:55:50 2014 +0100

    Modified inproc_lat project to not copy platform.hpp

 builds/msvc/vs2013/inproc_lat/inproc_lat.props   |   10 +++-------
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj |    2 +-
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 649f4b0f2408a8d12e833712e4de7269b508b03f
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 12:51:41 2014 +0100

    Modified libzmq project to not copy platform.hpp

 builds/msvc/vs2013/libzmq/libzmq.props           |   11 ++---------
 builds/msvc/vs2013/libzmq/libzmq.vcxproj         |    4 ++--
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |    2 +-
 3 files changed, 5 insertions(+), 12 deletions(-)

commit d0371dc0f24611399cd45e53b5e0e8e3d71827ec
Merge: 14afbf9 87ce17e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 5 13:33:02 2014 +0200

    Merge pull request #1075 from dmeehan1968/perf-platform-hpp-restore

    Restore unpathed references to platform.hpp for cmake builds

commit 87ce17e4393ea9aa0ee3c3ab410c90603f8ef4d5
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 12:03:13 2014 +0100

    Restore unpathed references to platform.hpp for cmake builds

 perf/inproc_lat.cpp |    2 +-
 perf/inproc_thr.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 14afbf9b48a4ee8c43c85c476247638333da232e
Merge: 78ada21 79575b0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 5 13:02:03 2014 +0200

    Merge pull request #1074 from dmeehan1968/ignore-suo-in-subfolders

    Exclude MSVC temp files regardless of where they are in builds/msvc

commit 79575b0dd995ec0f23425d171c68fc0027e00437
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Thu Jun 5 11:59:23 2014 +0100

    Exclude MSVC SUO files regardless of where they are in the builds/msvc folder

 .gitignore |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 78ada21eb77feef2833aaf38fc3e0e2023e49834
Merge: 4b543e2 f1111ce
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 5 12:51:16 2014 +0200

    Merge pull request #1073 from evoskuil/master

    VS set switch /Z7 in debug static (DebugLIB/DebugLTCG) base props.

commit f1111ceb0d8cd21b00b96f419e1f170bda1f7be7
Author: evoskuil <eric@voskuil.org>
Date:   Thu Jun 5 03:28:03 2014 -0700

    VS set switch /Z7 in debug static (DebugLIB/DebugLTCG) base props.

 builds/msvc/properties/DebugLIB.props  |    1 +
 builds/msvc/properties/DebugLTCG.props |    1 +
 2 files changed, 2 insertions(+)

commit cbad7de0aed425e79acc82016cd688b429cfa8b0
Author: evoskuil <eric@voskuil.org>
Date:   Thu Jun 5 03:20:08 2014 -0700

    Whitespace in VS projects.

 builds/msvc/vs2010/libzmq/libzmq.vcxproj |    4 ++--
 builds/msvc/vs2012/libzmq/libzmq.vcxproj |    4 ++--
 builds/msvc/vs2013/libzmq/libzmq.vcxproj |    4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 4b543e2c982d7124dcffde9a77f15e03d254d75b
Merge: ad98388 de9eef3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 4 17:56:26 2014 +0200

    Merge pull request #1072 from olafmandel/issue_1071

    Extend zmq::wsa_error_to_errno()

commit de9eef3063579d580f43074dfc479d1614237fc6
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Wed Jun 4 17:28:01 2014 +0200

    Extend zmq::wsa_error_to_errno()

    The list of error codes is taken from zmq::wsa_error_no(). Most of the
    new WSA error codes result in EFAULT, but some return a more specific
    value (even EAGAIN).

    Fixes #1071

 src/err.cpp |   87 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 87 insertions(+)

commit ad9838859f6ca375c33cff6e8f0880def5085035
Merge: 8e7a8a4 6af46c3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 4 15:14:15 2014 +0200

    Merge pull request #1069 from evoskuil/master

    Update VS import props to allow delinking, reset PDB out path change.

commit 920371ee6b83759ad01e920f7e027ad08e21fa79
Author: Telford Berkey <tberkey@4qbase.com>
Date:   Wed Jun 4 08:47:22 2014 -0400

    Corrected installer source path for VS pdb debug symbols file.  Removed prefix path to platform.h

 CMakeLists.txt      |    2 +-
 perf/inproc_lat.cpp |    2 +-
 perf/inproc_thr.cpp |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 8e7a8a43b4445080d5d2871d77478a853778aec6
Merge: 764a349 c9e86ac
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jun 4 13:38:29 2014 +0200

    Merge pull request #1070 from ricnewton/master

    Fix for issue https://github.com/zeromq/libzmq/issues/1065

commit c9e86acf61ebb34e94ecd0fa3b3dff1811e02ea1
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jun 4 12:13:15 2014 +0100

    Set up hwm's before we connect the other end of the pipe in ctx_t::connect_inproc_sockets

 src/ctx.cpp |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 6af46c39c7ed6fb90ee8a2627a4800809daabdcc
Author: evoskuil <eric@voskuil.org>
Date:   Wed Jun 4 01:26:39 2014 -0700

    Update VS import props to allow delinking by dependent projects.

 builds/msvc/vs2010/libsodium.import.props |    2 +-
 builds/msvc/vs2010/libzmq.import.props    |    2 +-
 builds/msvc/vs2012/libsodium.import.props |    2 +-
 builds/msvc/vs2012/libzmq.import.props    |    2 +-
 builds/msvc/vs2013/libsodium.import.props |    2 +-
 builds/msvc/vs2013/libzmq.import.props    |    2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 4a02604cc2732efe6a0ccb8ec876a476ed7de1d3
Author: evoskuil <eric@voskuil.org>
Date:   Wed Jun 4 01:25:41 2014 -0700

    Reset PDB out path change in base VS props.

 builds/msvc/properties/Debug.props |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 764a3495c6065cb2a48e730d127286f94c540318
Merge: b42b9c9 ff07d85
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 3 11:10:02 2014 +0100

    Merge pull request #1067 from hintjens/master

    Problem: email addresses in AUTHORS harvested for spam

commit ff07d85594be3c6b17268cdac72d1a99dd6ee3f2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 3 12:00:37 2014 +0200

    Problem: email addresses in AUTHORS harvested for spam

    Solution: remove these email addresses, since authors are reachable
    via their Git commit history.

 AUTHORS |  235 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 118 insertions(+), 117 deletions(-)

commit b42b9c9d6727d4b8e0f4a71023072a4ee2c20642
Merge: c6e38ec f447386
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 3 11:25:25 2014 +0200

    Merge pull request #1066 from hurtonm/master

    Style fixes

commit f44738693670d6ee98f27db0da9fb807f0798253
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Jun 3 10:39:09 2014 +0200

    Style fixes

 src/tcp_address.cpp |  149 +++++++++++++++++++++++++--------------------------
 1 file changed, 72 insertions(+), 77 deletions(-)

commit c6e38ec1b7cb248b2e31e6e1a046644ec4da21c2
Merge: 77f50f9 d456e70
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 3 07:31:53 2014 +0200

    Merge pull request #1064 from evoskuil/master

    cosmetic msvc xml fix

commit 77f50f9ab86fe0393293d094ef0aeaa56509f3c6
Merge: b118acb 451c94a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat May 31 16:11:49 2014 +0200

    Merge pull request #1061 from dmeehan1968/fix-perf-platform-hpp-windows

    Fix for perf/platform.hpp not being cleaned up by distclean

commit 451c94af8eeff6f0e7b79e68dc5a9f4fc56ef370
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Sat May 31 13:51:41 2014 +0100

    Fix for perf/platform.hpp not being cleaned up by distclean

 builds/msvc/vs2008/inproc_lat/inproc_lat.vcproj  |    4 ++--
 builds/msvc/vs2008/inproc_thr/inproc_thr.vcproj  |    6 +++---
 builds/msvc/vs2008/local_thr/local_thr.vcproj    |    6 +++---
 builds/msvc/vs2008/remote_thr/remote_thr.vcproj  |    4 ++--
 builds/msvc/vs2010/inproc_lat/inproc_lat.props   |    6 +++---
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj |    4 ++--
 builds/msvc/vs2010/inproc_thr/inproc_thr.props   |    6 +++---
 builds/msvc/vs2010/inproc_thr/inproc_thr.vcxproj |    4 ++--
 builds/msvc/vs2010/local_lat/local_lat.props     |    6 +++---
 builds/msvc/vs2010/local_lat/local_lat.vcxproj   |    4 ++--
 builds/msvc/vs2010/local_thr/local_thr.props     |    6 +++---
 builds/msvc/vs2010/local_thr/local_thr.vcxproj   |    4 ++--
 builds/msvc/vs2010/remote_lat/remote_lat.props   |    6 +++---
 builds/msvc/vs2010/remote_lat/remote_lat.vcxproj |    4 ++--
 builds/msvc/vs2010/remote_thr/remote_thr.props   |    6 +++---
 builds/msvc/vs2010/remote_thr/remote_thr.vcxproj |    4 ++--
 builds/msvc/vs2012/inproc_lat/inproc_lat.props   |    6 +++---
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj |    4 ++--
 builds/msvc/vs2012/inproc_thr/inproc_thr.props   |    6 +++---
 builds/msvc/vs2012/inproc_thr/inproc_thr.vcxproj |    4 ++--
 builds/msvc/vs2012/local_lat/local_lat.props     |    6 +++---
 builds/msvc/vs2012/local_lat/local_lat.vcxproj   |    4 ++--
 builds/msvc/vs2012/local_thr/local_thr.props     |    6 +++---
 builds/msvc/vs2012/local_thr/local_thr.vcxproj   |    4 ++--
 builds/msvc/vs2012/remote_lat/remote_lat.props   |    6 +++---
 builds/msvc/vs2012/remote_lat/remote_lat.vcxproj |    4 ++--
 builds/msvc/vs2012/remote_thr/remote_thr.props   |    6 +++---
 builds/msvc/vs2012/remote_thr/remote_thr.vcxproj |    4 ++--
 builds/msvc/vs2013/inproc_lat/inproc_lat.props   |    6 +++---
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj |    4 ++--
 builds/msvc/vs2013/inproc_thr/inproc_thr.props   |    6 +++---
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj |    4 ++--
 builds/msvc/vs2013/local_lat/local_lat.props     |    6 +++---
 builds/msvc/vs2013/local_lat/local_lat.vcxproj   |    4 ++--
 builds/msvc/vs2013/local_thr/local_thr.props     |    6 +++---
 builds/msvc/vs2013/local_thr/local_thr.vcxproj   |    4 ++--
 builds/msvc/vs2013/remote_lat/remote_lat.props   |    6 +++---
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj |    4 ++--
 builds/msvc/vs2013/remote_thr/remote_thr.props   |    6 +++---
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj |    4 ++--
 perf/inproc_lat.cpp                              |    2 +-
 perf/inproc_thr.cpp                              |    2 +-
 42 files changed, 102 insertions(+), 102 deletions(-)

commit b118acb710973c15e3c51e74a7c71fa78727ca91
Merge: cfc754f ed49057
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 30 19:05:43 2014 +0200

    Merge pull request #1059 from dmeehan1968/msvc-pdb-output

    Added ProgramDataBaseFile directive

commit ed49057fd77be667d65fd55c70a4764df979de9f
Author: Dave Meehan <dave_meehan@replicated.co.uk>
Date:   Fri May 30 17:47:01 2014 +0100

    Added ProgramDataBaseFile directive so that .pdb file goes into same directory as the .lib so that debug builds can find it

 builds/msvc/properties/Debug.props |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d456e70d7d0b946cec3b90df506b7088dc14ca7a
Author: evoskuil <eric@voskuil.org>
Date:   Mon May 26 21:16:43 2014 -0700

    cosmetic msvc xml fix

 builds/msvc/properties/Debug.props |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cfc754f3938fdb40a28f9ef96324f77dd815a32c
Merge: ac244b4 8b47d36
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 23 16:03:15 2014 +0200

    Merge pull request #1020 from jemc/inproc_simult

    Add failing test reproducing issue #1015.

commit ac244b41c5737c300595c4d93f7e1a02730d5d4a
Merge: 99dba23 dd2be38
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 23 14:29:38 2014 +0200

    Merge pull request #1057 from hurtonm/master

    Add const qualifier to register_endpoint param

commit dd2be381ad076f75d5ae53be7ed8850e6cda5e15
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri May 23 10:53:58 2014 +0200

    Add const qualifier to register_endpoint param

 src/ctx.cpp         |    3 ++-
 src/ctx.hpp         |    2 +-
 src/object.cpp      |    3 ++-
 src/object.hpp      |    3 ++-
 src/socket_base.cpp |    2 +-
 5 files changed, 8 insertions(+), 5 deletions(-)

commit 8b47d368753612400ed3423a330ad2445467400f
Author: Joe Eli McIlvain <joe.eli.mac@gmail.com>
Date:   Thu May 22 12:21:32 2014 -0700

    Revert "Mark failing test for issue #1015 as XFAIL"

    This reverts commit b6c577a9ecaa3d20b82baf704a90e5555f850be9.

 tests/Makefile.am |    2 --
 1 file changed, 2 deletions(-)

commit 99dba23dc797ebb3d66b00ec6997bc0ea66293c5
Merge: 313b2ec 3901d94
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 22 10:40:38 2014 +0200

    Merge pull request #1055 from hurtonm/master

    Fix race condition in connecting inproc sockets

commit 3901d94b27d6bce2680255e015587f6bc839a038
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 21 09:03:05 2014 +0200

    Fix race condition in connecting inproc sockets

 src/ctx.cpp |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 313b2ec84e915e9c3128288a04fd738e33ed0fe5
Merge: 77514e0 be99f06
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 21 16:53:40 2014 +0200

    Merge pull request #1054 from evoskuil/master

    Minor updates to VS build configuration and NuGet packaging.

commit 77514e0e9f7817074448f6c5148d33cab66cb83a
Merge: 96501d7 414fc86
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 21 14:24:36 2014 +0200

    Merge pull request #1053 from hurtonm/master

    Code cleanup

commit 414fc86b22245a61338c3747c98c64818503175b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 21 13:05:56 2014 +0200

    Code cleanup

    - limit visibility of pending_connection_t
    - add const qualifiers

 src/ctx.cpp         |   14 +++++++++-----
 src/ctx.hpp         |   18 +++++++++---------
 src/object.cpp      |    5 +++--
 src/object.hpp      |    4 +++-
 src/socket_base.cpp |    5 ++---
 5 files changed, 26 insertions(+), 20 deletions(-)

commit be99f060b35b680395e93a626e663f01b7338912
Author: evoskuil <eric@voskuil.org>
Date:   Wed May 21 01:35:52 2014 -0700

    Update NuGet packaging.

 packaging/nuget/package.gsl     |    5 ++-
 packaging/nuget/package.nuspec  |   75 +++++++++++++++++++--------------------
 packaging/nuget/package.targets |   45 ++++++++++++-----------
 3 files changed, 63 insertions(+), 62 deletions(-)

commit c0c89a3bc54b6143ef3f29800a7c199a76b0c237
Author: evoskuil <eric@voskuil.org>
Date:   Wed May 21 01:35:34 2014 -0700

    Update VS version resource and package version.

 builds/msvc/resource.rc        |  Bin 4544 -> 4642 bytes
 packaging/nuget/package.config |    2 +-
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 51c1a1c408f4b1dcfd896008fbff1fa8cff5464c
Author: evoskuil <eric@voskuil.org>
Date:   Wed May 21 00:14:09 2014 -0700

    Generalize dependency reference in GSL config/script.

 packaging/nuget/package.config |    4 ++-
 packaging/nuget/package.gsl    |   72 +++++++++++++++++++++-------------------
 2 files changed, 40 insertions(+), 36 deletions(-)

commit 0c602567274121e2b8b7e081f88bfc20e3efe76d
Author: evoskuil <eric@voskuil.org>
Date:   Wed May 21 00:13:43 2014 -0700

    Revert change to VS props references because of VS UI limitation.

 builds/msvc/vs2010/inproc_lat/inproc_lat.props |   16 ++++++++++++----
 builds/msvc/vs2010/inproc_thr/inproc_thr.props |   14 +++++++++++---
 builds/msvc/vs2010/libzmq/libzmq.props         |   10 ++++++++--
 builds/msvc/vs2010/local_lat/local_lat.props   |   14 +++++++++++---
 builds/msvc/vs2010/local_thr/local_thr.props   |   14 +++++++++++---
 builds/msvc/vs2010/remote_lat/remote_lat.props |   14 +++++++++++---
 builds/msvc/vs2010/remote_thr/remote_thr.props |   14 +++++++++++---
 builds/msvc/vs2012/inproc_lat/inproc_lat.props |   16 ++++++++++++----
 builds/msvc/vs2012/inproc_thr/inproc_thr.props |   14 +++++++++++---
 builds/msvc/vs2012/libzmq/libzmq.props         |   10 ++++++++--
 builds/msvc/vs2012/local_lat/local_lat.props   |   14 +++++++++++---
 builds/msvc/vs2012/local_thr/local_thr.props   |   14 +++++++++++---
 builds/msvc/vs2012/remote_lat/remote_lat.props |   14 +++++++++++---
 builds/msvc/vs2012/remote_thr/remote_thr.props |   14 +++++++++++---
 builds/msvc/vs2013/inproc_lat/inproc_lat.props |   16 ++++++++++++----
 builds/msvc/vs2013/inproc_thr/inproc_thr.props |   14 +++++++++++---
 builds/msvc/vs2013/libzmq/libzmq.props         |   10 ++++++++--
 builds/msvc/vs2013/local_lat/local_lat.props   |   14 +++++++++++---
 builds/msvc/vs2013/local_thr/local_thr.props   |   14 +++++++++++---
 builds/msvc/vs2013/remote_lat/remote_lat.props |   14 +++++++++++---
 builds/msvc/vs2013/remote_thr/remote_thr.props |   14 +++++++++++---
 21 files changed, 225 insertions(+), 63 deletions(-)

commit 96501d72716806fe351e27cd79038232ce5c9079
Merge: 6bdedcb 5f4145e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 20 22:20:57 2014 +0200

    Merge pull request #1051 from hurtonm/master

    Small code cleanup

commit 5f4145e7cb572f6c6ef4a78c7005a5e7ef846152
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 20 20:14:28 2014 +0200

    Small code cleanup

    - add const modifier to address parameter of event generating functions

 src/socket_base.cpp |   22 +++++++++++-----------
 src/socket_base.hpp |   20 ++++++++++----------
 2 files changed, 21 insertions(+), 21 deletions(-)

commit 6bdedcbca392cd40374daafa3b6d08421443e528
Merge: a1fbd97 4b67919
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 20 16:12:38 2014 +0200

    Merge pull request #1049 from hintjens/master

    Minor fixes

commit 4b67919f9332df1b09cec2bf0b07d6d561682f27
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 20 15:42:09 2014 +0200

    Minor trim of man page title

 doc/zmq_proxy_steerable.txt |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 11175a33f1f207c1ee50ce71a883d42d0286b3aa
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 18 11:11:57 2014 +0200

    Problem: security tests block on zmq_send

    The expect_bounce_fail () helper assumed that messages could always
    be sent. However in some cases zmq_send() blocks, due to there not
    being any outgoing pipe. This changed in 77f5f7, where previously
    there would be a pipe that kept trying to reconnect forever.

    Solution: use a send timeout and check for EAGAIN if sending failed.

 tests/testutil.hpp |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a1fbd973300e02c4edf9eb368277c9c68965df5a
Merge: 155fecc 32b3daa
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 19 21:04:40 2014 +0200

    Merge pull request #1048 from hurtonm/master

    PLAIN: Small simplification

commit 32b3daad7e2c3d1d09b3ceb444eeab18b94c2db1
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon May 19 20:45:38 2014 +0200

    PLAIN: Small simplification

 src/plain_client.cpp |    5 ++---
 src/plain_client.hpp |    3 +--
 2 files changed, 3 insertions(+), 5 deletions(-)

commit 155feccb3f8ab45c1412d0f64e2cacd3c86dea46
Merge: 11357df 0ebf94e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 19 17:52:27 2014 +0200

    Merge pull request #1047 from mrvn/pull-testutil-expect_bounce_fail-send-timeout

    Add a send timeout in expect_bounce_fail()

commit 11357df0e0a2f0d354497d2a5585fc7f4a4c51b6
Merge: 77f5f7a 2ba5af6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 19 17:51:42 2014 +0200

    Merge pull request #1046 from mrvn/pull-testutil-set-alarm

    Set an alarm(60) in setup_test_environment() when not on windows so test...

commit 2ba5af6d8321058bcdc1b081b6710d547993509b
Author: Goswin von Brederlow <brederlo@q-leap.de>
Date:   Mon May 19 17:00:09 2014 +0200

    Set an alarm(60) in setup_test_environment() when not on windows so tests
    will not block too long if they go wrong.

 tests/testutil.hpp |    3 +++
 1 file changed, 3 insertions(+)

commit 0ebf94e429f56d3282c3345a603cc1f3baf29c11
Author: Goswin von Brederlow <brederlo@q-leap.de>
Date:   Mon May 19 17:01:44 2014 +0200

    Add a send timeout in expect_bounce_fail() so tests for authentication
    failures don't block.

 tests/testutil.hpp |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 77f5f7adae5df4cd8d61ceceece8dc0bbc5e3862
Merge: de639c3 9a53f33
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 18 10:53:32 2014 +0200

    Merge pull request #1043 from hurtonm/dont_reconnect_on_protocol_errors

    Don't reconnect on protocol errors

commit de639c34aebfafb5fb899e6b5c68c32e5672267a
Merge: 045dab9 ed076d4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 18 10:09:38 2014 +0200

    Merge pull request #1042 from hurtonm/master

    Fix bug in reporting protocol errors

commit 045dab91a54da15c00c3133d814448c17b2d4542
Merge: bac001c a9a15cc
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 18 09:14:06 2014 +0200

    Merge pull request #1037 from hintjens/master

    Problem: artificial restriction on binary identities

commit 9a53f334d25c27416b84d94a2d40e74656135b50
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 18 08:49:29 2014 +0200

    Don't reconnect on protocol errors

 src/session_base.cpp |   20 ++++++++++++++++----
 1 file changed, 16 insertions(+), 4 deletions(-)

commit ed076d4620987b7f647f79822112824314c1b2a0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 18 08:12:17 2014 +0200

    Fix bug in reporting protocol errors

 src/stream_engine.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bac001cc852a01be47ba140f96bfc3a8fcf99d75
Merge: adddda1 7d3fa3a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 18 00:21:22 2014 +0200

    Merge pull request #1041 from hurtonm/master

    Tell the session why the engine has stopped

commit 7d3fa3afcbade15695e8733f589b3d0939e9a7ff
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat May 17 21:04:38 2014 +0200

    Tell the session why the engine has stopped

 src/session_base.cpp  |    3 ++-
 src/session_base.hpp  |    3 ++-
 src/stream_engine.cpp |   29 ++++++++++++++++-------------
 src/stream_engine.hpp |    8 +++++++-
 4 files changed, 27 insertions(+), 16 deletions(-)

commit a9a15ccf6fa348bdef4c5380601b29a947e5ab24
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 16 16:00:21 2014 +0200

    Use different endpoint for each test step

 tests/test_inproc_connect.cpp |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit aad54b2a8b5260035b691087b29863ebfdb8145b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 16 15:54:14 2014 +0200

    Whitespace fixes

 src/ctx.cpp |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit a178097f95c5981682115a22eb22797c59b42284
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 15 16:31:32 2014 +0200

    Problem: artificial restriction on binary identities

    Applications that use ZMQ_IDENTITY can be trapped by the artificial
    restriction on not using a binary zero as first byte. It's specially
    nasty on random generated identities, e.g. UUIDs, as the chance of a
    binary zero is low, so it will pass 255 out of 256 times.

    Solution: remove the restriction.

 doc/zmq_setsockopt.txt |    2 +-
 src/options.cpp        |    7 ++-----
 2 files changed, 3 insertions(+), 6 deletions(-)

commit adddda17cf9a135ddf33617ba9675ac5e1ae4019
Merge: 4f571ed bd73119
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 16 07:54:21 2014 +0200

    Merge pull request #1038 from hurtonm/master

    CURVE: Implement server-side ERROR handling

commit bd73119e2b8c5279a3b13d1547ff4e34a9a12f6b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri May 16 07:25:29 2014 +0200

    CURVE: Implement server-side ERROR handling

 src/curve_server.cpp |   61 +++++++++++++++++++++++++++++++++++---------------
 src/curve_server.hpp |   10 +++++----
 2 files changed, 49 insertions(+), 22 deletions(-)

commit 4f571edf1b3965ef9a95005997f9f5015e9e3432
Merge: 0975be6 0750303
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 15 07:15:41 2014 +0200

    Merge pull request #1036 from hurtonm/master

    CURVE: Implement client-side ERROR handling

commit 0750303bfe07c2f20123d65717925e6ac73ef782
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu May 15 06:38:17 2014 +0200

    CURVE: Implement client-side ERROR handling

 src/curve_client.cpp |   98 ++++++++++++++++++++++++++++++--------------------
 src/curve_client.hpp |    6 ++--
 2 files changed, 64 insertions(+), 40 deletions(-)

commit 0975be6ed7f217072ba41d8be1db6ed528b9718e
Merge: 6dbc705 410f891
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 14 14:16:26 2014 +0200

    Merge pull request #1035 from hurtonm/master

    Prefix error-reason with length in ERROR command

commit 410f891599b12b39cc4009a91747e506ed1a2475
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 14 14:12:04 2014 +0200

    Prefix error-reason with length in ERROR command

 src/null_mechanism.cpp |   13 +++++++++----
 src/plain_client.cpp   |    8 ++++++--
 src/plain_server.cpp   |    5 +++--
 3 files changed, 18 insertions(+), 8 deletions(-)

commit 6dbc70516c17f790b9186725bfafdf99bbdace61
Merge: 2ff098f dd6a4fe
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 14 07:13:00 2014 +0200

    Merge pull request #1034 from hurtonm/master

    NULL: Correct ERROR command format

commit dd6a4fe8063653e9a15392337cdea74ed13afb2a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 14 06:50:47 2014 +0200

    NULL: Correct ERROR command format

 src/null_mechanism.cpp |   15 +++++----------
 1 file changed, 5 insertions(+), 10 deletions(-)

commit 2ff098f6ae9b935f93b05ad03d89ab1e4aa73579
Merge: 3338c76 164ff4b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 14 06:45:43 2014 +0200

    Merge pull request #1033 from hurtonm/master

    Finish ERROR handling for PLAIN mechanism

commit 164ff4be6b096cb277e8e747a56d646ab4ef324b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 14 06:35:08 2014 +0200

    Remove debugging output

 src/plain_server.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 57546f4ecb1f915d2c776693fa85aab43fb04391
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 14 06:23:23 2014 +0200

    PLAIN: Implement ERROR handling in server

 src/plain_server.cpp |   60 ++++++++++++++++++++++++++++++++++++++------------
 src/plain_server.hpp |    7 ++++--
 2 files changed, 51 insertions(+), 16 deletions(-)

commit 8651b557974d2eb50d1d1e62fb76a6bf19a0d0c1
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 14 06:22:47 2014 +0200

    PLAIN: Fix parsing of ERROR command

 src/plain_client.cpp |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 3338c76bac644d4f9889f3f5f5d0452872971966
Merge: 8c4e049 6b85137
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 13 19:14:36 2014 +0200

    Merge pull request #1032 from hurtonm/master

    PLAIN: Implement ERROR handling in client

commit 6b8513744c87bd09d85bfed6b52a1acac9252db1
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 13 07:19:36 2014 +0200

    PLAIN: Implement ERROR handling in client

 src/plain_client.cpp |   94 ++++++++++++++++++++++++++++++++------------------
 src/plain_client.hpp |   10 ++++--
 2 files changed, 69 insertions(+), 35 deletions(-)

commit 8c4e049564d714a028249b26ccbadf5895e062d9
Merge: c6dec22 14e8e8a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 13 14:24:29 2014 +0200

    Merge pull request #1031 from sdrsdr/identity_fd

    test case for zmq_getsockopt/ZMQ_IDENTITY_FD

commit 14e8e8af333a3b832ac18ca87a174381d3eb26ea
Merge: 6f5e771 c6dec22
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Tue May 13 15:21:02 2014 +0300

    Merge branch 'master' of https://github.com/zeromq/libzmq into identity_fd

commit 6f5e7714cfba5a48946ef560f1a4942933029cef
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Tue May 13 15:19:48 2014 +0300

    test case for zmq_getsockopt/ZMQ_IDENTITY_FD

 .gitignore           |    1 +
 tests/Makefile.am    |    4 ++-
 tests/test_id2fd.cpp |   87 ++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 91 insertions(+), 1 deletion(-)

commit c6dec227177c44df036307c3a7a5c0463c8623e2
Merge: 09b17c1 3aa6c1e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 13 12:31:51 2014 +0200

    Merge pull request #1030 from evoskuil/master

    Simplify VS project configs and harden MSBUILD script

commit 3aa6c1eab0b526853b90aa91bdd1766f0ccd58d7
Author: evoskuil <eric@voskuil.org>
Date:   Tue May 13 03:17:48 2014 -0700

    Optimize VS projects and common props.

 builds/msvc/properties/Common.props                |   13 +--
 builds/msvc/properties/Console.props               |   20 ----
 builds/msvc/properties/ConsoleDebugDynamic.props   |   21 ----
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   21 ----
 builds/msvc/properties/ConsoleDebugStatic.props    |   20 ----
 builds/msvc/properties/ConsoleReleaseDynamic.props |   20 ----
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   20 ----
 builds/msvc/properties/ConsoleReleaseStatic.props  |   19 ---
 builds/msvc/properties/DLL.props                   |   16 +++
 builds/msvc/properties/Debug.props                 |   13 ++-
 builds/msvc/properties/DebugDEXE.props             |   21 ++++
 builds/msvc/properties/DebugDLL.props              |   20 ++++
 builds/msvc/properties/DebugLEXE.props             |   20 ++++
 builds/msvc/properties/DebugLIB.props              |   20 ++++
 builds/msvc/properties/DebugLTCG.props             |   19 +++
 builds/msvc/properties/DebugSEXE.props             |   21 ++++
 builds/msvc/properties/Dynamic.props               |   18 ---
 builds/msvc/properties/DynamicDebug.props          |   21 ----
 builds/msvc/properties/DynamicRelease.props        |   20 ----
 builds/msvc/properties/EXE.props                   |   17 +++
 builds/msvc/properties/LIB.props                   |   16 +++
 builds/msvc/properties/LTCG.props                  |   13 +++
 builds/msvc/properties/Link.props                  |   21 ++++
 .../msvc/properties/LinkTimeCodeGeneration.props   |   20 ----
 builds/msvc/properties/Messages.props              |   15 +++
 builds/msvc/properties/Output.props                |   30 +++++
 builds/msvc/properties/Release.props               |   15 +--
 builds/msvc/properties/ReleaseDEXE.props           |   20 ++++
 builds/msvc/properties/ReleaseDLL.props            |   19 +++
 builds/msvc/properties/ReleaseLEXE.props           |   20 ++++
 builds/msvc/properties/ReleaseLIB.props            |   19 +++
 builds/msvc/properties/ReleaseLTCG.props           |   19 +++
 builds/msvc/properties/ReleaseSEXE.props           |   20 ++++
 builds/msvc/properties/Static.props                |   18 ---
 builds/msvc/properties/StaticDebug.props           |   21 ----
 .../StaticDebugLinkTimeCodeGeneration.props        |   21 ----
 .../properties/StaticLinkTimeCodeGeneration.props  |   17 ---
 builds/msvc/properties/StaticRelease.props         |   20 ----
 .../StaticReleaseLinkTimeCodeGeneration.props      |   20 ----
 builds/msvc/properties/Win32.props                 |    2 +-
 builds/msvc/properties/x64.props                   |    2 +-
 builds/msvc/vs2010/inproc_lat/inproc_lat.props     |   18 +--
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj   |   82 +------------
 builds/msvc/vs2010/inproc_thr/inproc_thr.props     |   18 +--
 builds/msvc/vs2010/inproc_thr/inproc_thr.vcxproj   |   82 +------------
 builds/msvc/vs2010/libzmq.import.props             |   58 +++-------
 builds/msvc/vs2010/libzmq/libzmq.props             |   14 +--
 builds/msvc/vs2010/libzmq/libzmq.vcxproj           |  122 +++-----------------
 builds/msvc/vs2010/local_lat/local_lat.props       |   18 +--
 builds/msvc/vs2010/local_lat/local_lat.vcxproj     |   84 ++------------
 builds/msvc/vs2010/local_thr/local_thr.props       |   18 +--
 builds/msvc/vs2010/local_thr/local_thr.vcxproj     |   78 +------------
 builds/msvc/vs2010/remote_lat/remote_lat.props     |   18 +--
 builds/msvc/vs2010/remote_lat/remote_lat.vcxproj   |   78 +------------
 builds/msvc/vs2010/remote_thr/remote_thr.props     |   18 +--
 builds/msvc/vs2010/remote_thr/remote_thr.vcxproj   |   84 ++------------
 builds/msvc/vs2012/inproc_lat/inproc_lat.props     |   18 +--
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj   |   82 +------------
 builds/msvc/vs2012/inproc_thr/inproc_thr.props     |   18 +--
 builds/msvc/vs2012/inproc_thr/inproc_thr.vcxproj   |   82 +------------
 builds/msvc/vs2012/libzmq.import.props             |   59 +++-------
 builds/msvc/vs2012/libzmq/libzmq.props             |   14 +--
 builds/msvc/vs2012/libzmq/libzmq.vcxproj           |  122 +++-----------------
 builds/msvc/vs2012/local_lat/local_lat.props       |   18 +--
 builds/msvc/vs2012/local_lat/local_lat.vcxproj     |   84 ++------------
 builds/msvc/vs2012/local_thr/local_thr.props       |   18 +--
 builds/msvc/vs2012/local_thr/local_thr.vcxproj     |   78 +------------
 builds/msvc/vs2012/remote_lat/remote_lat.props     |   18 +--
 builds/msvc/vs2012/remote_lat/remote_lat.vcxproj   |   80 ++-----------
 builds/msvc/vs2012/remote_thr/remote_thr.props     |   18 +--
 builds/msvc/vs2012/remote_thr/remote_thr.vcxproj   |   84 ++------------
 builds/msvc/vs2013/inproc_lat/inproc_lat.props     |   18 +--
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj   |   80 +------------
 builds/msvc/vs2013/inproc_thr/inproc_thr.props     |   18 +--
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj   |   80 +------------
 builds/msvc/vs2013/libzmq.import.props             |   44 +++----
 builds/msvc/vs2013/libzmq/libzmq.props             |   14 +--
 builds/msvc/vs2013/libzmq/libzmq.vcxproj           |  118 ++-----------------
 builds/msvc/vs2013/local_lat/local_lat.props       |   18 +--
 builds/msvc/vs2013/local_lat/local_lat.vcxproj     |   82 +------------
 builds/msvc/vs2013/local_thr/local_thr.props       |   18 +--
 builds/msvc/vs2013/local_thr/local_thr.vcxproj     |   76 +-----------
 builds/msvc/vs2013/remote_lat/remote_lat.props     |   18 +--
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj   |   78 +------------
 builds/msvc/vs2013/remote_thr/remote_thr.props     |   18 +--
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj   |   82 +------------
 86 files changed, 682 insertions(+), 2411 deletions(-)

commit 7e7508a8d96d2146f6887ca2cfd33ee75dd0f04d
Author: evoskuil <eric@voskuil.org>
Date:   Tue May 13 03:17:34 2014 -0700

    Harden MSBUILD base script against various VS installations.

 builds/msvc/build/buildbase.bat |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 09b17c13c283199811f49c9fdae0eee7d47b145c
Merge: ec0094c c5cca55
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 12 14:50:34 2014 +0200

    Merge pull request #1029 from olafmandel/master

    Update cmake, mingw32 and msvc builds

commit c5cca55c78bc2762e701015f8773822c8b8d3ae3
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Mon May 12 13:19:12 2014 +0200

    Update build files to include metadata

    This became necessary after b9c274814

 builds/mingw32/Makefile.mingw32                  |    2 +-
 builds/msvc/vs2008/libzmq/libzmq.vcproj          |    2 ++
 builds/msvc/vs2010/libzmq/libzmq.vcxproj         |    1 +
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters |    3 +++
 builds/msvc/vs2012/libzmq/libzmq.vcxproj         |    1 +
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |    3 +++
 builds/msvc/vs2013/libzmq/libzmq.vcxproj         |    1 +
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |    3 +++
 8 files changed, 15 insertions(+), 1 deletion(-)

commit d58dfa4944a83c37fed86d3c500bce1c9a74d82b
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Mon May 12 13:00:27 2014 +0200

    Update build files after plain_mechanism split

    This became necessary after 22d6a9740

 CMakeLists.txt                                   |    3 ++-
 builds/mingw32/Makefile.mingw32                  |    2 +-
 builds/msvc/vs2008/libzmq/libzmq.vcproj          |    6 ++++--
 builds/msvc/vs2010/libzmq/libzmq.vcxproj         |    5 +++--
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters |    7 +++++--
 builds/msvc/vs2012/libzmq/libzmq.vcxproj         |    5 +++--
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |    7 +++++--
 builds/msvc/vs2013/libzmq/libzmq.vcxproj         |    5 +++--
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |    7 +++++--
 9 files changed, 31 insertions(+), 16 deletions(-)

commit ec0094c474e8c4acde21b93496541328e6de4680
Merge: dde45a9 bf16902
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 12 11:45:22 2014 +0200

    Merge pull request #1027 from evoskuil/master

    Batched VS builds, updated libsodium imports

commit bf169024b350fa9092003bc80dd8250ee5515ebe
Author: evoskuil <eric@voskuil.org>
Date:   Mon May 12 02:17:08 2014 -0700

    Batched VS builds.

 builds/msvc/build/buildall.bat  |   10 ++++++
 builds/msvc/build/buildbase.bat |   65 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 75 insertions(+)

commit 5ab44f4874ff828e6d54b9b56f22d8d8e4504491
Author: evoskuil <eric@voskuil.org>
Date:   Mon May 12 02:13:47 2014 -0700

    Ignore error on concurrent file copy in parallel VS builds.

 builds/msvc/vs2010/inproc_lat/inproc_lat.props |    2 +-
 builds/msvc/vs2010/inproc_thr/inproc_thr.props |    2 +-
 builds/msvc/vs2010/libzmq/libzmq.props         |    2 +-
 builds/msvc/vs2010/local_lat/local_lat.props   |    2 +-
 builds/msvc/vs2010/local_thr/local_thr.props   |    2 +-
 builds/msvc/vs2010/remote_lat/remote_lat.props |    2 +-
 builds/msvc/vs2010/remote_thr/remote_thr.props |    2 +-
 builds/msvc/vs2012/inproc_lat/inproc_lat.props |    2 +-
 builds/msvc/vs2012/inproc_thr/inproc_thr.props |    2 +-
 builds/msvc/vs2012/libzmq/libzmq.props         |    2 +-
 builds/msvc/vs2012/local_lat/local_lat.props   |    2 +-
 builds/msvc/vs2012/local_thr/local_thr.props   |    2 +-
 builds/msvc/vs2012/remote_lat/remote_lat.props |    2 +-
 builds/msvc/vs2012/remote_thr/remote_thr.props |    2 +-
 builds/msvc/vs2013/inproc_lat/inproc_lat.props |    2 +-
 builds/msvc/vs2013/inproc_thr/inproc_thr.props |    2 +-
 builds/msvc/vs2013/libzmq/libzmq.props         |    2 +-
 builds/msvc/vs2013/local_lat/local_lat.props   |    2 +-
 builds/msvc/vs2013/local_thr/local_thr.props   |    2 +-
 builds/msvc/vs2013/remote_lat/remote_lat.props |    2 +-
 builds/msvc/vs2013/remote_thr/remote_thr.props |    2 +-
 21 files changed, 21 insertions(+), 21 deletions(-)

commit 249a59a5193daedacaeb803776947fe7190dd5a3
Author: evoskuil <eric@voskuil.org>
Date:   Mon May 12 02:12:27 2014 -0700

    Updated libsodium imports.

 builds/msvc/vs2010/libsodium.import.props |   43 ++++++-----------------------
 builds/msvc/vs2012/libsodium.import.props |   43 ++++++-----------------------
 builds/msvc/vs2013/libsodium.import.props |   36 +++++-------------------
 3 files changed, 23 insertions(+), 99 deletions(-)

commit dde45a98a6372cb8891fca9ae6f9bc3c1897d448
Merge: 1d5bc80 a16d3db
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 12 11:00:02 2014 +0200

    Merge pull request #1026 from sdrsdr/identity_fd

    Documentation for ZMQ_IDENTITY_FD sockopt

commit 1d5bc803728f2e64c3d6a9758feb502647cb4406
Merge: 3f479f5 1c4cea6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 12 10:59:44 2014 +0200

    Merge pull request #1025 from ricnewton/master

    Update  cmake for split of plain_mechanism

commit 3d05df9aa57b9d5f6c30fc51148e0fefee555351
Merge: a16d3db 3f479f5
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Mon May 12 11:15:10 2014 +0300

    Merge remote-tracking branch 'upstr/master' into identity_fd

commit a16d3dbb0edde9dac989db9a8dcb43886eeb098e
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Mon May 12 11:02:44 2014 +0300

    docu

 doc/zmq_getsockopt.txt |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 3f479f534e3d7b710a5d6d1777fc27f34db6c599
Merge: 098d01b 8fcefed
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon May 12 08:53:48 2014 +0100

    Merge pull request #1024 from sdrsdr/identity_fd

    Implement ZMQ_IDENTITY_FD sock option for linking socket identity to FD

commit 1c4cea6c7ff3409633549541b242cba6e71d18b3
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon May 12 08:51:13 2014 +0100

    Update  cmake for split of plain_mechanism

 CMakeLists.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8fcefed43f61deabe5b469e2ebe691e6a9eac91f
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Mon May 12 10:40:24 2014 +0300

    patch cleanup

 src/router.hpp |    1 +
 1 file changed, 1 insertion(+)

commit d5991d672858715f12a3c3b7f1416644cd652706
Merge: acb71e0 098d01b
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Mon May 12 10:24:31 2014 +0300

     merge to upstream

commit 098d01b16febd4f797e14653fea365c409b76191
Merge: 17cb14f 22d6a97
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 12 07:16:38 2014 +0200

    Merge pull request #1023 from hurtonm/master

    Split plain_mechanism into client and server part

commit 22d6a97403379d0c550a69471e44ffee1350d959
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon May 12 06:08:28 2014 +0200

    Split plain_mechanism into client and server part

 src/Makefile.am         |    6 +-
 src/plain_client.cpp    |  185 +++++++++++++++++
 src/plain_client.hpp    |   64 ++++++
 src/plain_mechanism.cpp |  509 -----------------------------------------------
 src/plain_mechanism.hpp |   88 --------
 src/plain_server.cpp    |  398 ++++++++++++++++++++++++++++++++++++
 src/plain_server.hpp    |   80 ++++++++
 src/stream_engine.cpp   |   11 +-
 8 files changed, 739 insertions(+), 602 deletions(-)

commit 17cb14f79d60569863ce1ed992849cb1810bac20
Merge: 7ec7f70 70b6516
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 11 18:02:16 2014 +0200

    Merge pull request #1022 from danielhtshih/master

    add untracked test_stream_timeout into .gitignore and tests/Makefile.am

commit 70b6516d96c240a6c131cf201538881bd1bc3c9b
Author: Daniel Shih <hotingwow@gmail.com>
Date:   Sun May 11 23:46:51 2014 +0800

    add untracked test_stream_timeout into .gitignore and tests/Makefile.am

 .gitignore        |    1 +
 tests/Makefile.am |    1 +
 2 files changed, 2 insertions(+)

commit acb71e0096958ecc464fad49a9b2a500f78aad9d
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Sat May 10 14:06:37 2014 +0300

    store also here!

 src/session_base.cpp |    1 +
 1 file changed, 1 insertion(+)

commit b6c577a9ecaa3d20b82baf704a90e5555f850be9
Author: Joe Eli McIlvain <joe.eli.mac@gmail.com>
Date:   Fri May 9 12:28:05 2014 -0700

    Mark failing test for issue #1015 as XFAIL

 tests/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 5cf74db6bb796208be9b535a33e5167287112246
Author: Joe Eli McIlvain <joe.eli.mac@gmail.com>
Date:   Fri May 9 11:46:17 2014 -0700

    Add failing test reproducing issue #1015.

    There is a race condition when connect and bind on a new inproc
    endpoint happen "simultaneously" in threads.  Causes the error:
      Assertion failed: ok (ctx.cpp:474)

 tests/test_inproc_connect.cpp |   71 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 71 insertions(+)

commit 7ec7f70384fb2508c11a659cd4da2e6ac7230b97
Merge: 1cf12ee afe5fd8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 9 17:01:07 2014 +0200

    Merge pull request #1019 from willstrang/master

    Issue #1017: add ZMQ_HANDSHAKE_IVL time limit on connection handshake

commit afe5fd87e9449b6fbd792a5ecc127aaaf1d28ac7
Author: Will Strang <william.p.strang@gmail.com>
Date:   Fri May 9 13:54:24 2014 +0000

    Issue #1017: add ZMQ_HANDSHAKE_IVL time limit on connection handshake

 doc/zmq_getsockopt.txt        |   16 +++
 doc/zmq_setsockopt.txt        |   16 +++
 include/zmq.h                 |    1 +
 src/options.cpp               |   17 +++-
 src/options.hpp               |    5 +
 src/stream_engine.cpp         |   34 +++++++
 src/stream_engine.hpp         |    9 ++
 tests/Makefile.am             |    1 +
 tests/test_stream_timeout.cpp |  216 +++++++++++++++++++++++++++++++++++++++++
 9 files changed, 314 insertions(+), 1 deletion(-)

commit 1cf12ee612c4d4c5a9ae75d774e2a94576f9ac76
Merge: ba22eff b846f30
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 9 09:18:54 2014 +0200

    Merge pull request #1018 from soundart/master

    curve: initialize crypto libs before usage

commit b846f3075ce5c3abf94cf4e605573ada0c0046d8
Author: Frank <soundart@gmx.net>
Date:   Fri May 9 00:07:02 2014 +0200

    ws

 src/curve_client.cpp |    2 +-
 src/curve_server.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8962b7de45e8b9c99f4aa1073e3cb4b5ad17c3ca
Author: Frank <soundart@gmx.net>
Date:   Fri May 9 00:03:45 2014 +0200

    removed return code check for now, got -1 in test_security_curve.

 src/curve_client.cpp |    4 ++--
 src/curve_server.cpp |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 05ab9a848fca741202456f8b118f13b3d34f7a8a
Author: Frank <soundart@gmx.net>
Date:   Thu May 8 23:51:34 2014 +0200

    find libsodium with cmake

 CMakeLists.txt       |    4 +++-
 src/curve_client.cpp |    2 +-
 src/curve_server.cpp |    2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 2cdfa1fff3b06bc7e41bc29e142319fe5d491de4
Author: Frank <soundart@gmx.net>
Date:   Thu May 8 23:43:16 2014 +0200

    initialize libsodium and tweetnacl

 src/curve_client.cpp |   14 ++++++++++++--
 src/curve_client.hpp |    2 ++
 src/curve_server.cpp |   12 +++++++++++-
 src/curve_server.hpp |    1 +
 4 files changed, 26 insertions(+), 3 deletions(-)

commit ba22eff6b411be072fa26f51eeca9f2755ca102e
Merge: 61d4115 934560b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 7 16:58:50 2014 +0200

    Merge pull request #1016 from hurtonm/master

    NULL: Implement ERROR handling

commit 934560b559926be8bee6b4811c6220f43cb4db4a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 7 16:43:06 2014 +0200

    NULL: Implement ERROR handling

    NULL mechanism sends ERROR command rather than READY command when ZAP
    handler rejects the ZAP request (status code != "200"). The body of
    ERROR command contains the status code as returned by ZAP handler.

 src/null_mechanism.cpp |   80 ++++++++++++++++++++++++++++++++++++++----------
 src/null_mechanism.hpp |    9 ++++++
 src/stream_engine.cpp  |    3 --
 3 files changed, 73 insertions(+), 19 deletions(-)

commit 61d41156bce0083607a3af48cf52defdeef0d838
Merge: 4d640fe 4e5921b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 7 08:53:18 2014 +0200

    Merge pull request #1014 from evoskuil/master

    Integrate GSSAPI option in VS UI options and props.

commit 4e5921b7abc5efbef94b7699f3eaa7493c7cd08b
Author: evoskuil <eric@voskuil.org>
Date:   Tue May 6 15:26:27 2014 -0700

    Update VS 2008/10/12/13 file distribution.

 builds/msvc/Makefile.am |  102 +++++++++++++++++++++++++++--------------------
 1 file changed, 59 insertions(+), 43 deletions(-)

commit 033040f7e0bb4820f4de76e4a74299f60aa8b770
Author: evoskuil <eric@voskuil.org>
Date:   Tue May 6 15:23:32 2014 -0700

    Integrate GSSAPI option in VS UI options and props.

 builds/msvc/vs2010/libzmq.import.props           |    1 +
 builds/msvc/vs2010/libzmq.import.xml             |    4 ++++
 builds/msvc/vs2010/libzmq/libzmq.props           |    2 ++
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters |   18 ++++++++++++++++++
 builds/msvc/vs2010/libzmq/libzmq.xml             |    5 +++++
 builds/msvc/vs2012/libzmq.import.props           |    1 +
 builds/msvc/vs2012/libzmq.import.xml             |    4 ++++
 builds/msvc/vs2012/libzmq/libzmq.props           |    2 ++
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |   18 ++++++++++++++++++
 builds/msvc/vs2012/libzmq/libzmq.xml             |    5 +++++
 builds/msvc/vs2013/libzmq.import.props           |    1 +
 builds/msvc/vs2013/libzmq.import.xml             |    4 ++++
 builds/msvc/vs2013/libzmq/libzmq.props           |    2 ++
 builds/msvc/vs2013/libzmq/libzmq.xml             |    5 +++++
 14 files changed, 72 insertions(+)

commit 17735a4e6bc88373790986dcaf80684f82548948
Author: evoskuil <eric@voskuil.org>
Date:   Tue May 6 15:21:29 2014 -0700

    Rename VS version resource file.

 builds/msvc/libzmq.rc                            |  Bin 4544 -> 0 bytes
 builds/msvc/resource.h                           |    2 +-
 builds/msvc/resource.rc                          |  Bin 0 -> 4544 bytes
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters |    2 +-
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |    2 +-
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |    2 +-
 6 files changed, 4 insertions(+), 4 deletions(-)

commit b0b6dd4043e712396075e87abf6f3e48d8a7522b
Author: evoskuil <eric@voskuil.org>
Date:   Tue May 6 15:16:37 2014 -0700

    Consolidate VS props to shared location.

 builds/msvc/properties/Common.props                |   26 ++++++++++
 builds/msvc/properties/Console.props               |   20 ++++++++
 builds/msvc/properties/ConsoleDebugDynamic.props   |   21 ++++++++
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   21 ++++++++
 builds/msvc/properties/ConsoleDebugStatic.props    |   20 ++++++++
 builds/msvc/properties/ConsoleReleaseDynamic.props |   20 ++++++++
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   20 ++++++++
 builds/msvc/properties/ConsoleReleaseStatic.props  |   19 ++++++++
 builds/msvc/properties/Debug.props                 |   28 +++++++++++
 builds/msvc/properties/Dynamic.props               |   18 +++++++
 builds/msvc/properties/DynamicDebug.props          |   21 ++++++++
 builds/msvc/properties/DynamicRelease.props        |   20 ++++++++
 .../msvc/properties/LinkTimeCodeGeneration.props   |   20 ++++++++
 builds/msvc/properties/Release.props               |   40 ++++++++++++++++
 builds/msvc/properties/Static.props                |   18 +++++++
 builds/msvc/properties/StaticDebug.props           |   21 ++++++++
 .../StaticDebugLinkTimeCodeGeneration.props        |   21 ++++++++
 .../properties/StaticLinkTimeCodeGeneration.props  |   17 +++++++
 builds/msvc/properties/StaticRelease.props         |   20 ++++++++
 .../StaticReleaseLinkTimeCodeGeneration.props      |   20 ++++++++
 builds/msvc/properties/Win32.props                 |   20 ++++++++
 builds/msvc/properties/x64.props                   |   23 +++++++++
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2010/inproc_thr/inproc_thr.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2010/libzmq/libzmq.vcxproj           |   50 ++++++++++----------
 builds/msvc/vs2010/local_lat/local_lat.vcxproj     |   48 +++++++++----------
 builds/msvc/vs2010/local_thr/local_thr.vcxproj     |   48 +++++++++----------
 builds/msvc/vs2010/properties/Common.props         |   26 ----------
 builds/msvc/vs2010/properties/Console.props        |   20 --------
 .../vs2010/properties/ConsoleDebugDynamic.props    |   21 --------
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   21 --------
 .../vs2010/properties/ConsoleDebugStatic.props     |   20 --------
 .../vs2010/properties/ConsoleReleaseDynamic.props  |   20 --------
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   20 --------
 .../vs2010/properties/ConsoleReleaseStatic.props   |   19 --------
 builds/msvc/vs2010/properties/Debug.props          |   28 -----------
 builds/msvc/vs2010/properties/Dynamic.props        |   18 -------
 builds/msvc/vs2010/properties/DynamicDebug.props   |   21 --------
 builds/msvc/vs2010/properties/DynamicRelease.props |   20 --------
 .../vs2010/properties/LinkTimeCodeGeneration.props |   20 --------
 builds/msvc/vs2010/properties/Release.props        |   40 ----------------
 builds/msvc/vs2010/properties/Static.props         |   18 -------
 builds/msvc/vs2010/properties/StaticDebug.props    |   21 --------
 .../StaticDebugLinkTimeCodeGeneration.props        |   21 --------
 .../properties/StaticLinkTimeCodeGeneration.props  |   17 -------
 builds/msvc/vs2010/properties/StaticRelease.props  |   20 --------
 .../StaticReleaseLinkTimeCodeGeneration.props      |   20 --------
 builds/msvc/vs2010/properties/Win32.props          |   20 --------
 builds/msvc/vs2010/properties/x64.props            |   23 ---------
 builds/msvc/vs2010/remote_lat/remote_lat.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2010/remote_thr/remote_thr.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2012/inproc_thr/inproc_thr.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2012/libzmq/libzmq.vcxproj           |   50 ++++++++++----------
 builds/msvc/vs2012/local_lat/local_lat.vcxproj     |   48 +++++++++----------
 builds/msvc/vs2012/local_thr/local_thr.vcxproj     |   48 +++++++++----------
 builds/msvc/vs2012/properties/Common.props         |   26 ----------
 builds/msvc/vs2012/properties/Console.props        |   20 --------
 .../vs2012/properties/ConsoleDebugDynamic.props    |   21 --------
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   21 --------
 .../vs2012/properties/ConsoleDebugStatic.props     |   20 --------
 .../vs2012/properties/ConsoleReleaseDynamic.props  |   20 --------
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   20 --------
 .../vs2012/properties/ConsoleReleaseStatic.props   |   19 --------
 builds/msvc/vs2012/properties/Debug.props          |   28 -----------
 builds/msvc/vs2012/properties/Dynamic.props        |   18 -------
 builds/msvc/vs2012/properties/DynamicDebug.props   |   21 --------
 builds/msvc/vs2012/properties/DynamicRelease.props |   20 --------
 .../vs2012/properties/LinkTimeCodeGeneration.props |   20 --------
 builds/msvc/vs2012/properties/Release.props        |   40 ----------------
 builds/msvc/vs2012/properties/Static.props         |   18 -------
 builds/msvc/vs2012/properties/StaticDebug.props    |   21 --------
 .../StaticDebugLinkTimeCodeGeneration.props        |   21 --------
 .../properties/StaticLinkTimeCodeGeneration.props  |   17 -------
 builds/msvc/vs2012/properties/StaticRelease.props  |   20 --------
 .../StaticReleaseLinkTimeCodeGeneration.props      |   20 --------
 builds/msvc/vs2012/properties/Win32.props          |   20 --------
 builds/msvc/vs2012/properties/x64.props            |   23 ---------
 builds/msvc/vs2012/remote_lat/remote_lat.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2012/remote_thr/remote_thr.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2013/libzmq/libzmq.vcxproj           |   50 ++++++++++----------
 builds/msvc/vs2013/local_lat/local_lat.vcxproj     |   48 +++++++++----------
 builds/msvc/vs2013/local_thr/local_thr.vcxproj     |   48 +++++++++----------
 builds/msvc/vs2013/properties/Common.props         |   26 ----------
 builds/msvc/vs2013/properties/Console.props        |   20 --------
 .../vs2013/properties/ConsoleDebugDynamic.props    |   21 --------
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   21 --------
 .../vs2013/properties/ConsoleDebugStatic.props     |   20 --------
 .../vs2013/properties/ConsoleReleaseDynamic.props  |   20 --------
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   20 --------
 .../vs2013/properties/ConsoleReleaseStatic.props   |   19 --------
 builds/msvc/vs2013/properties/Debug.props          |   28 -----------
 builds/msvc/vs2013/properties/Dynamic.props        |   18 -------
 builds/msvc/vs2013/properties/DynamicDebug.props   |   21 --------
 builds/msvc/vs2013/properties/DynamicRelease.props |   20 --------
 .../vs2013/properties/LinkTimeCodeGeneration.props |   20 --------
 builds/msvc/vs2013/properties/Release.props        |   40 ----------------
 builds/msvc/vs2013/properties/Static.props         |   18 -------
 builds/msvc/vs2013/properties/StaticDebug.props    |   21 --------
 .../StaticDebugLinkTimeCodeGeneration.props        |   21 --------
 .../properties/StaticLinkTimeCodeGeneration.props  |   17 -------
 builds/msvc/vs2013/properties/StaticRelease.props  |   20 --------
 .../StaticReleaseLinkTimeCodeGeneration.props      |   20 --------
 builds/msvc/vs2013/properties/Win32.props          |   20 --------
 builds/msvc/vs2013/properties/x64.props            |   23 ---------
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj   |   48 +++++++++----------
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj   |   48 +++++++++----------
 109 files changed, 981 insertions(+), 1929 deletions(-)

commit 4d640fe01036639fad51206dbe4975949cfe6c80
Merge: 8672f30 43d8252
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 6 17:53:39 2014 +0200

    Merge pull request #1012 from hurtonm/master

    Update mechanism API so we can check for ERROR status

commit 43d8252446a8844d6afd05057c44d15eb7cb5e5b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 6 17:49:26 2014 +0200

    Update gssapi mechanism

 src/gssapi_client.cpp |    4 ++--
 src/gssapi_client.hpp |    2 +-
 src/gssapi_server.cpp |    4 ++--
 src/gssapi_server.hpp |    2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 0be8144176f766d6ac9092568e488c6f4cb499b9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 6 17:07:50 2014 +0200

    Update mechanism API so we can check for ERROR status

 src/curve_client.cpp    |    4 ++--
 src/curve_client.hpp    |    2 +-
 src/curve_server.cpp    |    4 ++--
 src/curve_server.hpp    |    2 +-
 src/mechanism.hpp       |   10 ++++++++--
 src/null_mechanism.cpp  |    7 +++++--
 src/null_mechanism.hpp  |    2 +-
 src/plain_mechanism.cpp |    4 ++--
 src/plain_mechanism.hpp |    2 +-
 src/stream_engine.cpp   |   34 ++++++++++++++++++++--------------
 10 files changed, 43 insertions(+), 28 deletions(-)

commit 8672f3023a58864c454a02dfe995f4e126975613
Merge: b745455 fff29a4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 5 22:41:09 2014 +0200

    Merge pull request #1011 from fichtner/abstract_freebsd_again

    ipc: fail harder for abstract ipc on non-Linux

commit fff29a4a0ce94af306153793fa932729afa0cc6f
Author: Franco Fichtner <franco@lastsummer.de>
Date:   Mon May 5 23:26:06 2014 +0200

    ipc: fail harder for abstract ipc on non-Linux

    Using 'ipc://@abstract-socket' on non-Linux platforms yields inconsistent
    behaviour.  Abstract sockets don't exist, so the literal file is created.
    The test previously failed, but for a different reason: this is not the
    directory you are looking for.  Now, zmq_bind() will fail for the right
    reason: the socket can't be created.  Put the XFAIL back.

 src/ipc_address.cpp |   12 +-----------
 tests/Makefile.am   |    2 +-
 2 files changed, 2 insertions(+), 12 deletions(-)

commit b7454554157c5ee6c3996086218712accf040724
Merge: 4c4ca1f 69bd470
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 5 22:14:35 2014 +0200

    Merge pull request #1010 from fichtner/abstract_freebsd

    tests: fix abstract ipc test by omitting slashes

commit 69bd4701032727c453aa7821359ad36dcbe7b780
Author: Franco Fichtner <franco@lastsummer.de>
Date:   Mon May 5 23:04:40 2014 +0200

    tests: fix abstract ipc test by omitting slashes

 tests/Makefile.am           |    2 +-
 tests/test_abstract_ipc.cpp |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 4c4ca1f2f667b3327cef3bf6e74989c373996f66
Merge: 40cbbe3 8c09ae6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 5 21:16:38 2014 +0200

    Merge pull request #1009 from fichtner/gss_freebsd

    gssapi: RFC 2744 mandates GSS_C_NT_HOSTBASED_SERVICE

commit 8c09ae6e49b29a731dc4f0b123101baecdace113
Author: Franco Fichtner <franco@lastsummer.de>
Date:   Mon May 5 21:59:11 2014 +0200

    gssapi: RFC 2744 mandates GSS_C_NT_HOSTBASED_SERVICE

    Tested on FreeBSD 10.

 src/gssapi_client.cpp         |    3 ++-
 src/gssapi_mechanism_base.cpp |    2 +-
 src/gssapi_mechanism_base.hpp |    2 ++
 3 files changed, 5 insertions(+), 2 deletions(-)

commit 40cbbe3c9ee1fccb81b2b88a7131316b46175193
Merge: 2c786a2 dcd1f20
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 5 20:17:39 2014 +0200

    Merge pull request #1008 from hurtonm/master

    Minor renaming

commit dcd1f2038e387a98a442e4c8b9e59d6f3efa27ae
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon May 5 19:51:38 2014 +0200

    Minor renaming

 src/plain_mechanism.cpp |    1 -
 src/stream_engine.cpp   |   50 +++++++++++++++++++++++------------------------
 src/stream_engine.hpp   |    8 ++++----
 3 files changed, 29 insertions(+), 30 deletions(-)

commit 2c786a200cf0d0b28054bac971cf25a42442961b
Merge: 87a08e1 d178c71
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat May 3 22:01:49 2014 +0200

    Merge pull request #1007 from tSed/sma/fork-fix

    Build-system: disable test_fork when fork() is not available

commit d178c71e212797bac1f0447bc4b25d30b05baac4
Author: Samuel Martin <s.martin49@gmail.com>
Date:   Sat May 3 14:07:14 2014 +0200

    cmake: fix indentation

 CMakeLists.txt |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit c83d4e01dd77384dfa0806cce1f0d13e7d6e9b05
Author: Samuel Martin <s.martin49@gmail.com>
Date:   Sat May 3 14:05:05 2014 +0200

    cmake: tests: disable test_fork if fork() is not available

    fork() support is optional and its availability is correctly detected at
    contfigure time.

    But test_fork was all always built, preventing build for targets that do
    not provide fork() from building successfully.

    This pacth fixes the CMakeLists.txt on this point.

 CMakeLists.txt |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6fdafc458a776e063511bb83dc7791aabea00b05
Author: Samuel Martin <s.martin49@gmail.com>
Date:   Sat May 3 13:56:32 2014 +0200

    autotools: tests: disable test_fork if fork() is not available

    fork() support is optional and its availability is correctly detected at
    contfigure time.

    But test_fork was all always built, preventing build for targets that do
    not provide fork() from building successfully.

    This pacth fixes the autotools on this point.

 configure.ac      |    2 ++
 tests/Makefile.am |    8 ++++++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 87a08e17486aa3b90191a38457f0b5808e64c8af
Merge: c5cd92d f2807d1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat May 3 21:15:34 2014 +0200

    Merge pull request #1006 from hurtonm/master

    Remove i_properties interface

commit f2807d11a0440e3683729286c6475cd8ddd8a3c8
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat May 3 21:00:42 2014 +0200

    Remove i_properties interface

    We use metadata_t directly. No need for generic interface now.

 src/i_properties.hpp  |   47 -----------------------------------------------
 src/metadata.hpp      |    4 ++--
 src/msg.cpp           |   46 +++++++++++++++++++++++-----------------------
 src/msg.hpp           |   26 +++++++++++++-------------
 src/stream_engine.cpp |    2 +-
 src/zmq.cpp           |    8 ++++----
 6 files changed, 43 insertions(+), 90 deletions(-)

commit c5cd92da688c2be8c1d9c4affeb04ea9952279ab
Merge: f21116b 2f08477
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat May 3 18:31:38 2014 +0200

    Merge pull request #1005 from ricnewton/master

    Initialise _has_src_addr variable, fixes hang on Windows.

commit 2f08477292dfbdf40c46cbe2fb9bb2818782c945
Author: Richard Newton <richard_newton@waters.com>
Date:   Sat May 3 13:59:37 2014 +0100

    Initialise _has_src_addr variable, fixes hang on Windows.

 src/tcp_address.cpp |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f21116b7bed158b9ca5ddd8031de327cdf62565d
Merge: dd6c752 b064743
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri May 2 23:20:37 2014 +0200

    Merge pull request #1003 from hintjens/master

    Added test_metadata

commit b06474312da65f2f89963ed8023b763d79edc375
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 23:14:27 2014 +0200

    ZAP vs. ZMTP metadata priority fixed

 src/stream_engine.cpp |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit c01365d4867ad0b9fe665222113c6b0b8bfd6244
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 23:13:11 2014 +0200

    Fixed man page example

 doc/zmq_msg_gets.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bd4a76cc2a7b1380096fdd8bb6a13f4a60a7fe6c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 11:23:06 2014 +0200

    Problem: GSSAPI server doesn't parse ZAP user id

    Solution: add this to ZAP reply processing.

 src/gssapi_server.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit 0d13971c056ac39f5dddd0c4343795dcb6e929c1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 22:28:19 2014 +0200

    Fixed compile error in test_security_null

 tests/test_security_null.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 84ed81c014aabb1fe16aff63a5f324c8da3c3290
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 22:19:30 2014 +0200

    Added test_metadata

    - also prioritize ZAP metadata over ZMTP metadata in case application
      uses same names.

 .gitignore                    |    1 +
 doc/zmq_msg_gets.txt          |    9 +++-
 src/curve_client.cpp          |    3 +-
 src/curve_server.cpp          |    3 +-
 src/gssapi_mechanism_base.cpp |    6 +--
 src/mechanism.cpp             |    4 +-
 src/plain_mechanism.cpp       |   12 ++---
 src/stream_engine.cpp         |   17 +++---
 tests/Makefile.am             |    6 ++-
 tests/test_metadata.cpp       |  116 +++++++++++++++++++++++++++++++++++++++++
 tests/test_security_null.cpp  |   54 +++++++++----------
 11 files changed, 175 insertions(+), 56 deletions(-)

commit dd6c752822e962d509ae3a1ba9ab07e4d36f4723
Merge: 0bc669b ded0017
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri May 2 17:46:34 2014 +0100

    Merge pull request #1001 from hintjens/master

    These commits broke regression tests, so I'm reverting them.

commit ded00177b36536b5f2740be123087432f4dd0e93
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 16:50:16 2014 +0200

    Revert "Add code to investigate data race"

    This reverts commit 5e0facda17b986943f0fe40a2dc6c98611655c35.

 include/zmq.h |    6 ------
 src/fq.cpp    |   31 ++-----------------------------
 src/lb.cpp    |   42 ++++--------------------------------------
 3 files changed, 6 insertions(+), 73 deletions(-)

commit d190325e4d49f922099319d190f4efc6fa9f6427
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 16:49:03 2014 +0200

    Revert "Enlarge the race window for some test cases"

    This reverts commit 2a84d2597469d272794a1fb5fb43c6260f335195.

    Broke regression test on test_hwm.cpp.

 tests/test_hwm.cpp   |    4 +---
 tests/test_proxy.cpp |    2 --
 tests/testutil.hpp   |    6 ------
 3 files changed, 1 insertion(+), 11 deletions(-)

commit 0bc669b106e1c9635e2c8369ed4ab545d8438392
Merge: 2db7cdc 2a84d25
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 16:31:48 2014 +0200

    Merge pull request #1000 from daveab/feature/divide_by_zero_investigation

    Feature/divide by zero investigation

commit 2a84d2597469d272794a1fb5fb43c6260f335195
Author: dave b <david.brown@datasift.com>
Date:   Fri May 2 14:32:14 2014 +0100

    Enlarge the race window for some test cases

    These changes cause an assertion in lb_sendpipe() when executing the test_security_plain testcase.

 tests/test_hwm.cpp   |    4 +++-
 tests/test_proxy.cpp |    2 ++
 tests/testutil.hpp   |    6 ++++++
 3 files changed, 11 insertions(+), 1 deletion(-)

commit 5e0facda17b986943f0fe40a2dc6c98611655c35
Author: dave b <david.brown@datasift.com>
Date:   Fri May 2 14:27:33 2014 +0100

    Add code to investigate data race

    Provides control of race windows and logging for some of the interesting transitions.

 include/zmq.h |    6 ++++++
 src/fq.cpp    |   31 +++++++++++++++++++++++++++++--
 src/lb.cpp    |   42 ++++++++++++++++++++++++++++++++++++++----
 3 files changed, 73 insertions(+), 6 deletions(-)

commit 2db7cdc6a6ae62fa2196d6a51d2310ab51c041f8
Merge: 55c0692 8d82cc2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 13:36:38 2014 +0200

    Merge pull request #999 from hurtonm/master

    Include ZMTP properties in message metadata

commit 8d82cc2a0b91a4883e3643f7f22dee16d5d4978f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri May 2 12:33:26 2014 +0200

    Include ZMTP properties in message metadata

    Metadata are built in stream_engine now.
    This makes it easy to extend metadata with user-defined properties.

 src/mechanism.cpp     |   22 ++++++++--------------
 src/mechanism.hpp     |   16 ++++++++++++----
 src/metadata.cpp      |    2 +-
 src/metadata.hpp      |    5 +++--
 src/stream_engine.cpp |   33 ++++++++++++++++++++++++++++++++-
 src/stream_engine.hpp |    4 ++++
 6 files changed, 60 insertions(+), 22 deletions(-)

commit 55c06924c8af421351599037572c3a365851d6d8
Merge: f721a7a e95b477
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 2 09:11:55 2014 +0200

    Merge pull request #998 from hurtonm/master

    Don't add empty metadata to received messages

commit e95b477a8706fa4d7f3d0351300c27371c2867ad
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri May 2 09:00:48 2014 +0200

    Don't add empty metadata to received messages

 src/mechanism.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f721a7ad07cf3e26d4e36ebd392d71a173fb8e45
Merge: 49f18d5 351c845
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 1 22:36:42 2014 +0200

    Merge pull request #997 from soundart/master

    tweetnacl integration for curve

commit 351c84533928b769fec99e117c32e6ca11dd81bf
Merge: 551bcda 5a3b633
Author: Frank <soundart@gmx.net>
Date:   Thu May 1 21:39:07 2014 +0200

    Merge branch 'master' of github.com:soundart/libzmq

    Conflicts:
        CMakeLists.txt

commit 551bcdae6c9fb940432e19d6176e684b32257cab
Author: Frank <soundart@gmx.net>
Date:   Thu May 1 21:35:53 2014 +0200

    add metadata

 CMakeLists.txt |    1 +
 1 file changed, 1 insertion(+)

commit 01afdf84769196c2476178fc44b9d8c22e2e21de
Author: Frank <soundart@gmx.net>
Date:   Thu May 1 21:35:36 2014 +0200

    no tweetnacl for windows currently

 CMakeLists.txt |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 63cc250d05d5e09eb990d0d89f82df703ab000f7
Author: Frank <soundart@gmx.net>
Date:   Thu May 1 21:24:49 2014 +0200

    typo

 tweetnacl/src/tweetnacl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e5a294ec023448450b082306b64c204d04543594
Author: Frank <soundart@gmx.net>
Date:   Thu May 1 21:24:20 2014 +0200

    tweetnacl integration

 .gitignore                                  |    1 +
 CMakeLists.txt                              |   25 +-
 src/curve_client.cpp                        |    2 -
 src/curve_client.hpp                        |    7 +-
 src/curve_server.cpp                        |    1 -
 src/curve_server.hpp                        |    9 +-
 src/zmq_utils.cpp                           |    7 +-
 tweetnacl/contrib/randombytes/devurandom.c  |   34 ++
 tweetnacl/contrib/randombytes/devurandom.h  |   24 +
 tweetnacl/contrib/randombytes/randombytes.h |    5 +
 tweetnacl/src/tweetnacl.c                   |  816 +++++++++++++++++++++++++++
 tweetnacl/src/tweetnacl.h                   |  273 +++++++++
 tweetnacl/src/tweetnacl_base.h              |   41 ++
 13 files changed, 1236 insertions(+), 9 deletions(-)

commit 49f18d55cb08b7f99bf33ce40f2d6423fd8dc3ef
Merge: 62bb403 b9c2748
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 1 17:52:42 2014 +0200

    Merge pull request #996 from hurtonm/master

    Add metadata to received messages

commit b9c274814697ef349638989792b3588d0b06b911
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Apr 30 14:17:38 2014 +0200

    Add metadata to received messages

 src/Makefile.am         |    2 ++
 src/curve_server.cpp    |    2 +-
 src/gssapi_server.cpp   |    2 +-
 src/i_properties.hpp    |    4 +++-
 src/mechanism.cpp       |   16 ++++++++++++-
 src/mechanism.hpp       |   10 +++++++-
 src/metadata.cpp        |   49 +++++++++++++++++++++++++++++++++++++++
 src/metadata.hpp        |   59 +++++++++++++++++++++++++++++++++++++++++++++++
 src/null_mechanism.cpp  |    2 +-
 src/plain_mechanism.cpp |    2 +-
 src/stream_engine.cpp   |    3 +++
 src/zmq.cpp             |    2 +-
 12 files changed, 145 insertions(+), 8 deletions(-)

commit 62bb403eeaaae3be079652e8c28a9c928cb966c7
Merge: 408dea7 cac0f98
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu May 1 15:23:10 2014 +0100

    Merge pull request #995 from hintjens/master

    Bumped ABI version to 4.0.0

commit cac0f9838d987a0534e34fe141017657ffcb9ff9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 1 16:12:51 2014 +0200

    Problem: generates incompatible libzmq.so.3.1.0

    See https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=743508

    The ABI in fact changed in two significant ways, one with inproc
    connects, and one with socket monitoring

    Solution: generate libzmq.so.4.0.0 library instead.

    This change should be backported to zeromq-4.x

 .gitignore   |    1 +
 configure.ac |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 79ef02538f87da1083b55c7b29c9795a1a04e1d6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 30 14:51:57 2014 +0200

    Port 9999 is unsafe for tests

 tests/test_proxy.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fe3e8c5c70dc3fbcb0244c5f4c52dcd71b80f858
Author: Stoian Ivanov <sdr@tera-com.com>
Date:   Wed Apr 30 16:34:55 2014 +0300

    linking fd to pipe identity via socket option

 include/zmq.h         |    1 +
 src/i_engine.hpp      |    7 ++++++-
 src/pipe.cpp          |    1 +
 src/pipe.hpp          |    3 +++
 src/router.cpp        |   27 +++++++++++++++++++++++++++
 src/router.hpp        |    2 +-
 src/session_base.cpp  |    3 ++-
 src/socket_base.cpp   |   10 ++++++++++
 src/socket_base.hpp   |    5 ++++-
 src/stream_engine.hpp |    2 ++
 10 files changed, 57 insertions(+), 4 deletions(-)

commit 408dea796f369e9edf96e99d215971972900cb5c
Merge: 69d27b3 acb6807
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 30 14:57:08 2014 +0200

    Merge pull request #993 from klnikita/src_addr_connect

    Allow to set up a source address and port for outgoing tcp connections in zmq_connect

commit acb68070415691413ade304c2a75beeb69106909
Author: nikita kozlov <nikita@elyzion.net>
Date:   Wed Apr 30 14:43:37 2014 +0200

    Allow to set up a source address and port for outgoing tcp connections in zmq_connect()

    Few examples:
    tcp:://192.168.0.4:55555;192.168.0.254:1234
    tcp:://192.168.0.4:0;192.168.0.254:1234
    tcp:://eth2:55555;192.168.0.254:1234

 doc/zmq_tcp.txt                 |    9 +++
 src/tcp_address.cpp             |  115 +++++++++++++++++++++++++++++++--------
 src/tcp_address.hpp             |   19 +++++--
 src/tcp_connecter.cpp           |    9 +++
 tests/Makefile.am               |    2 +
 tests/test_bind_src_address.cpp |   47 ++++++++++++++++
 6 files changed, 174 insertions(+), 27 deletions(-)

commit 69d27b3338f537ff15dc9dcf67371e50ffe784f5
Merge: ddde62a 19c62b9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 30 14:38:44 2014 +0200

    Merge pull request #992 from hurtonm/master

    Define i_properties interface

commit 19c62b93fc813cce9beffc9ab5e3b05cc53230b0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Apr 30 14:17:38 2014 +0200

    Define i_properties interface

    - copy and move message operations are updated to maintain proper
      reference count of properties object
    - zmq_msg_gets updated to use i_properties interface to fetch property
      value
    - setter/getter added to msg_t class

 src/Makefile.am      |    1 +
 src/i_properties.hpp |   45 +++++++++++++++++++++++++++++++++++++++++++++
 src/msg.cpp          |   28 +++++++++++++++++++++++++++-
 src/msg.hpp          |    5 +++--
 src/zmq.cpp          |    8 ++++++--
 5 files changed, 82 insertions(+), 5 deletions(-)

commit ddde62a68c7ad24d65ad21ea32a9bc8fd9441c39
Merge: c24b457 f81a130
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 30 14:07:56 2014 +0200

    Merge pull request #991 from hurtonm/master

    Update function prototype for zmq_msg_gets ()

commit f81a1304ff7168b483ff0e2666366f568dc0b2ef
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Apr 30 13:11:12 2014 +0200

    Update function prototype for zmq_msg_gets ()

    Added modifiers reflect the following properties:
    - zmq_msg_gets () does not mutate property parameter
    - zmq_msg_gets () returns a pointer to memory the caller should not
      modify

 doc/zmq_msg_gets.txt |    2 +-
 include/zmq.h        |    2 +-
 src/zmq.cpp          |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit c24b457ccfa371f1400cf0436c8d70eb7c4803ee
Merge: 26bf749 724b2bb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 29 22:47:26 2014 +0200

    Merge pull request #988 from hurtonm/master

    Add pointer to properties into message structure

commit 724b2bb84479836343c9f885ec301f2634197035
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Apr 29 22:30:51 2014 +0200

    Add pointer to properties into message structure

 include/zmq.h |    2 +-
 src/msg.cpp   |   11 ++++++++---
 src/msg.hpp   |   22 +++++++++++++++-------
 3 files changed, 24 insertions(+), 11 deletions(-)

commit 26bf74972aaf3a7086736c62134d6954cc08c6f3
Merge: 4307641 39ccfea
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Apr 29 22:36:31 2014 +0200

    Merge pull request #987 from hintjens/master

    Various small cleanups

commit 39ccfea03679a671009bc907262f81699dc42cc4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 29 22:21:58 2014 +0200

    Added more scaffolding for security

    - additional messages to help people debugging security errors

 src/curve_server.cpp         |   52 ++++++++++++++++++++++++-------------
 src/null_mechanism.cpp       |   30 +++++++++++++++-------
 src/plain_mechanism.cpp      |   41 ++++++++++++++++++++++++-----
 src/stream_engine.cpp        |   11 +++++++-
 src/tcp_listener.cpp         |    2 +-
 tests/test_security_null.cpp |   58 +++++++++++++++++++++---------------------
 6 files changed, 131 insertions(+), 63 deletions(-)

commit d1232d144ac6769387e5837fe1919290211c530e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 29 12:13:54 2014 +0200

    Fixed NULL security test

    Has some bits commented out due to #939, now work.

    Note: there is an issue in libzmq when binding/unbinding or
    connecting/disconnecting (I did not investigate deeper) the
    same socket several times. Even closing the socket with zero
    linger, zmq_ctx_term will block. The workaround in this test
    case is to close the sockets for each test step.

 tests/test_security_null.cpp |   76 +++++++++++++++++-------------------------
 1 file changed, 31 insertions(+), 45 deletions(-)

commit c6f8093bfb79fd3b11976f30c362bb5160d3e0bf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 29 12:06:57 2014 +0200

    Added zmq_ctx_shutdown to Makefile

    - also removed deprecated man pages from Makefile
    - they remain in repository for reference

 doc/Makefile.am |    6 +++---
 doc/zmq.txt     |   10 +---------
 2 files changed, 4 insertions(+), 12 deletions(-)

commit 4307641f278b4948d28a2711ce3878a73b2abcc7
Merge: 2d6f5b0 c1ac534
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 28 19:58:51 2014 +0200

    Merge pull request #986 from evoskuil/master

    Windows build/packaging updates.

commit c1ac534e6ed184aea30c9c3e34d2b34060ab130e
Author: evoskuil <eric@voskuil.org>
Date:   Mon Apr 28 10:49:02 2014 -0700

    Change OpenEvent to OpenEventW (Windows builds Unicode only).

 src/signaler.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d6f5b0ec460b43d4aa32a6d77db7d35a72314e6
Merge: 50afebe 9753de8
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Apr 28 10:44:11 2014 +0100

    Merge pull request #985 from hintjens/master

    Cleaned up socket monitor code, tests, and man page

commit 9753de8566d335703c96160aa4e5f9c6e55208a9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 28 11:30:04 2014 +0200

    Problem: zmq_socket_monitor code is dirty

    Specifically:

    * zmq_event_t should not be used internally in libzmq, it was
      meant to be an outward facing structure.

    * In 4.x, zmq_event_t does not correspond to monitor events, so
      I removed the structure entirely.

    * man page for zmq_socket_monitor is incomplete and the example
      code was particularly nasty.

    * test_monitor.cpp needed rewriting, it was not clean.

 doc/zmq_socket_monitor.txt |  344 +++++++++++++++++++++-----------------------
 include/zmq.h              |   42 ++----
 src/socket_base.cpp        |  128 +++++------------
 src/socket_base.hpp        |    2 +-
 tests/test_monitor.cpp     |  304 +++++++++++----------------------------
 tests/testutil.hpp         |    2 +-
 6 files changed, 297 insertions(+), 525 deletions(-)

commit 97935c582ee3cadaa6c2f7848941591f5af6bc7e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 10 11:55:40 2014 +0200

    Added link to zmq_msg_gets

 doc/zmq.txt |    1 +
 1 file changed, 1 insertion(+)

commit 50afebe47ce51dba33149543608303bb8e45774d
Merge: cb0e8f1 bbaa85e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 27 14:38:20 2014 +0200

    Merge pull request #984 from ricnewton/master

    Fix windows non-unicode build

commit bbaa85e7dd0627d7d239109dfad3a72eee52f413
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Apr 27 13:29:20 2014 +0100

    Fix windows non-unicode build

 src/signaler.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb0e8f1a9f94c3e9c06991e54b1bc23a6125b39b
Merge: 763bf34 d4c5dc9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 27 07:45:14 2014 +0200

    Merge pull request #983 from pijyoi/master

    update ZMQ_STREAM docs about connection notification

commit d4c5dc9b1d21686d50d687a584133e4543908069
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sun Apr 27 06:16:59 2014 +0800

    update ZMQ_STREAM docs about connection notification

    Also the portion about how to close a connection does not only apply to
    servers.

 doc/zmq_socket.txt |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 2b9a5e49f4e972ebd82d8f786a0ccd176988c585
Author: evoskuil <eric@voskuil.org>
Date:   Fri Apr 25 04:52:23 2014 -0700

    Uupdate GSL referenece in packaging script.

 packaging/nuget/package.bat |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 763bf34e881cc36de2a0913c2871f18220cea45b
Merge: e37c206 e97bed3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 25 09:56:26 2014 +0200

    Merge pull request #981 from evoskuil/master

    Add gssapi files to msvc, use Windows Unicode APIs.

commit e97bed372795ae9fe42281151cbcdedf0cab6dd8
Author: evoskuil <eric@voskuil.org>
Date:   Fri Apr 25 00:46:44 2014 -0700

    Add gssapi files to msvc project.

 builds/msvc/vs2013/libzmq/libzmq.vcxproj         |    6 ++++++
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |   18 ++++++++++++++++++
 2 files changed, 24 insertions(+)

commit ca29709f38dac8e6786e2c65d632da53c3781761
Author: evoskuil <eric@voskuil.org>
Date:   Fri Apr 25 00:43:47 2014 -0700

    Change TCHAR to Unicode, use safe swprintf to remove warning.

 src/signaler.cpp |   19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit e37c20621157399c86375d503bc6be91dbaf172c
Merge: dd64f64 7abf256
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 25 07:10:49 2014 +0200

    Merge pull request #980 from claws/fix_build_issue_when_missing_gssapi

    Fix build issue when missing gssapi

commit 7abf2564f8923dde3d5fba9d32596d765e2cd181
Author: Chris Laws <claws@localhost>
Date:   Fri Apr 25 13:48:39 2014 +0930

    fixes for gssapi build issue

 src/gssapi_client.cpp |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 09647fa916134209564ebc1526c00c3423c8e2c2
Author: Chris Laws <claws@localhost>
Date:   Fri Apr 25 13:47:07 2014 +0930

    src/gssapi_client.cpp

 src/gssapi_client.hpp         |    6 +++++-
 src/gssapi_mechanism_base.cpp |   34 +++++++++++++++++++---------------
 src/gssapi_mechanism_base.hpp |   25 +++++++++++++++----------
 src/gssapi_server.cpp         |    8 ++++++--
 src/gssapi_server.hpp         |    8 ++++++--
 src/stream_engine.cpp         |    8 +++++---
 6 files changed, 56 insertions(+), 33 deletions(-)

commit dd64f6432c74df49ca1638fb857228a72087b8fb
Merge: d1bdd45 d1334d9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 25 00:53:51 2014 +0200

    Merge pull request #978 from connamara/gssapi

    GSSAPI/Kerberos Security Mechanism

commit d1334d9df899f56bc75e84e8ee797fe888620b2a
Author: Chris Busbey <chris.busbey@gmail.com>
Date:   Thu Apr 24 14:39:29 2014 -0700

    using latest copyright header

 AUTHORS                       |    1 +
 src/gssapi_client.cpp         |    2 +-
 src/gssapi_client.hpp         |    2 +-
 src/gssapi_mechanism_base.cpp |    2 +-
 src/gssapi_mechanism_base.hpp |    2 +-
 src/gssapi_server.cpp         |    3 +--
 src/gssapi_server.hpp         |    2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

commit 634c8abe2996911483d6fdcb9f4b84121c8de06b
Author: Chris Busbey <chris.busbey@gmail.com>
Date:   Wed Apr 23 12:45:13 2014 -0700

    encrypt option on gss ready

 src/gssapi_mechanism_base.cpp |   13 +++++++++----
 src/options.cpp               |    4 ++--
 2 files changed, 11 insertions(+), 6 deletions(-)

commit 27591d2da6a3df7ef5f9a7d0dcec40f25233b4bd
Author: Chris Busbey <chris.busbey@gmail.com>
Date:   Wed Apr 23 11:01:54 2014 -0700

    ZMQ_GSSAPI_PLAINTEXT option for disabling encryption

 include/zmq.h                 |    1 +
 src/gssapi_client.cpp         |   12 ++++++++++--
 src/gssapi_mechanism_base.cpp |    3 ++-
 src/gssapi_mechanism_base.hpp |    3 +++
 src/gssapi_server.cpp         |   12 ++++++++++--
 src/options.cpp               |   19 ++++++++++++++++++-
 src/options.hpp               |    3 +++
 7 files changed, 47 insertions(+), 6 deletions(-)

commit 18da8a7402554d0a45dbe34e1c5a49e73a1ea908
Author: Chris Busbey <chris.busbey@gmail.com>
Date:   Wed Apr 23 12:19:19 2014 -0700

    encode and decode ready message

 src/gssapi_mechanism_base.cpp |    8 ++++++--
 src/gssapi_mechanism_base.hpp |    2 +-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 2e1645a519b0d8bc3021fbab9f35942ae6475ab6
Author: Chris Busbey <chris.busbey@gmail.com>
Date:   Wed Apr 23 10:20:22 2014 -0700

    principle->principal

 include/zmq.h                 |    4 ++--
 src/gssapi_client.cpp         |   16 ++++++++--------
 src/gssapi_client.hpp         |    2 +-
 src/gssapi_mechanism_base.cpp |    2 +-
 src/gssapi_mechanism_base.hpp |    6 +++---
 src/gssapi_server.cpp         |   24 ++++++++++++------------
 src/options.cpp               |   24 ++++++++++++------------
 src/options.hpp               |    6 +++---
 8 files changed, 42 insertions(+), 42 deletions(-)

commit 87834dd63fe5fb2ffdaa7a760abe8593cf2f6984
Author: Chris Busbey <cbusbey@connamara.com>
Date:   Thu Nov 21 12:46:23 2013 -0600

    fixed up comments from pr

 src/gssapi_client.cpp         |   15 ++++++++++++++-
 src/gssapi_mechanism_base.cpp |   11 +----------
 src/gssapi_server.cpp         |   16 +++++++++++++++-
 src/options.cpp               |    2 +-
 4 files changed, 31 insertions(+), 13 deletions(-)

commit 5441db3d7db66179c452dcae9264ed5dd662b273
Author: Chris Busbey <chris.busbey@gmail.com>
Date:   Wed Nov 20 14:01:16 2013 -0800

    configurable principle and service principle (for client)

 include/zmq.h                 |    3 ++-
 src/gssapi_client.cpp         |    6 ++++--
 src/gssapi_client.hpp         |    3 +++
 src/gssapi_mechanism_base.cpp |   13 +++++++++++--
 src/gssapi_mechanism_base.hpp |    8 ++++----
 src/gssapi_server.cpp         |    6 ------
 src/options.cpp               |   31 ++++++++++++++++++++++++-------
 src/options.hpp               |    4 ++++
 8 files changed, 52 insertions(+), 22 deletions(-)

commit 4e6880ec955eed5dc8383898a4b7f90940283dc1
Author: Chris Busbey <cbusbey@connamara.com>
Date:   Tue Nov 19 11:45:14 2013 -0600

    gss mech sends principle as part of zap request

 src/gssapi_server.cpp |  164 ++++++++++++++++++++++++++++++++++++++++++++++++-
 src/gssapi_server.hpp |    3 +
 2 files changed, 165 insertions(+), 2 deletions(-)

commit be62be0fa4bbe35da91abc393b3b4732f889884f
Author: Chris Busbey <cbusbey@connamara.com>
Date:   Fri Nov 8 11:15:51 2013 -0600

    gss encode/decode 'more' flag

 src/gssapi_mechanism_base.cpp |   21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit 778c72b9ed4bcc0192b3503adaa3889d03471e6c
Author: Chris Busbey <cbusbey@connamara.com>
Date:   Fri Nov 8 11:12:29 2013 -0600

    :fixed  client state transition bug

 src/gssapi_client.cpp |    5 -----
 1 file changed, 5 deletions(-)

commit 04db842dcc10c7790fd77d0f8a44aa41709dee59
Author: Chris Busbey <chris.busbey@gmail.com>
Date:   Thu Nov 7 11:49:45 2013 -0800

    added ready for meta data exchange at end of gss handshake

 src/gssapi_client.cpp         |   31 +++++++++++++++++++-------
 src/gssapi_client.hpp         |    7 +++---
 src/gssapi_mechanism_base.cpp |   49 ++++++++++++++++++++++++++++++++++++++++-
 src/gssapi_mechanism_base.hpp |   15 ++++++++++---
 src/gssapi_server.cpp         |   30 ++++++++++++++++++++-----
 src/gssapi_server.hpp         |    7 +++---
 6 files changed, 113 insertions(+), 26 deletions(-)

commit 761508bf4b57b02444a5f52a297d5026ca6671b1
Author: Mike Gatny <mgatny@gmail.com>
Date:   Tue Oct 8 00:25:18 2013 -0500

    Added comments to methods.

 src/gssapi_mechanism_base.hpp |   48 +++++++++++++++++++++++++----------------
 1 file changed, 29 insertions(+), 19 deletions(-)

commit 3c414c4aac45a821645ff8c23bc838b5ac017b30
Author: Mike Gatny <mgatny@gmail.com>
Date:   Tue Oct 8 00:12:50 2013 -0500

    GSSAPI mechanism now fully working with encryption

 AUTHORS                       |    1 +
 src/gssapi_client.cpp         |  128 +++++++++++------------
 src/gssapi_client.hpp         |   13 ++-
 src/gssapi_mechanism_base.cpp |  230 +++++++++++++++++++++++------------------
 src/gssapi_mechanism_base.hpp |   60 ++++++-----
 src/gssapi_server.cpp         |  127 ++++++++++-------------
 src/gssapi_server.hpp         |   16 ++-
 7 files changed, 299 insertions(+), 276 deletions(-)

commit eb2862525b718922f40d1536a80557ab987dee94
Author: Mike Gatny <mgatny@gmail.com>
Date:   Thu Oct 3 15:44:26 2013 -0500

    Methods to send/recv gssapi-wrapped messages

 src/gssapi_client.cpp         |   14 +++++++++
 src/gssapi_client.hpp         |    2 ++
 src/gssapi_mechanism_base.cpp |   68 ++++++++++++++++++++++++++++++++++++++++-
 src/gssapi_mechanism_base.hpp |   12 ++++++--
 src/gssapi_server.cpp         |   14 +++++++++
 src/gssapi_server.hpp         |    2 ++
 6 files changed, 108 insertions(+), 4 deletions(-)

commit 1445516c41de0a3942d2c3ed09017564b9a7723e
Author: Mike Gatny <mgatny@gmail.com>
Date:   Thu Oct 3 13:43:20 2013 -0500

    Establishing GSSAPI sec context is working now

 configure.ac                  |    1 +
 src/gssapi_client.cpp         |  180 +++++++++------------
 src/gssapi_client.hpp         |   19 +--
 src/gssapi_mechanism_base.cpp |   47 +++++-
 src/gssapi_mechanism_base.hpp |   25 +++
 src/gssapi_server.cpp         |  359 ++++++++---------------------------------
 src/gssapi_server.hpp         |   27 +---
 7 files changed, 232 insertions(+), 426 deletions(-)

commit 6290ba168f0e60fa9830411f17f4fb2027b41604
Author: Mike Gatny <mgatny@gmail.com>
Date:   Wed Oct 2 22:09:36 2013 -0500

    Added gss produce/process routines.

    For exchanging tokens.

 src/gssapi_client.cpp         |   14 ++++++--
 src/gssapi_client.hpp         |    3 +-
 src/gssapi_mechanism_base.cpp |   77 ++++++++++++++++++++++++++++++++++-------
 src/gssapi_mechanism_base.hpp |   12 +++----
 src/gssapi_server.cpp         |   14 ++++++--
 5 files changed, 96 insertions(+), 24 deletions(-)

commit c00b8c347be5754a4ceb6f6669dcc34886912dda
Author: Mike Gatny <mgatny@gmail.com>
Date:   Mon Sep 30 15:51:20 2013 -0500

    Refactored common impl into gssapi_mechanism_base.

    E.g., both client and server need to produce and process GSSAPI tokens.

 src/Makefile.am               |    2 ++
 src/gssapi_client.cpp         |   51 +--------------------------
 src/gssapi_client.hpp         |   10 +++---
 src/gssapi_mechanism_base.cpp |   77 +++++++++++++++++++++++++++++++++++++++++
 src/gssapi_mechanism_base.hpp |   48 +++++++++++++++++++++++++
 src/gssapi_server.cpp         |   55 ++---------------------------
 src/gssapi_server.hpp         |    9 +++--
 7 files changed, 139 insertions(+), 113 deletions(-)

commit a4a0dc66449270ce5a850e2fc2fc06a443183b8b
Author: Mike Gatny <mgatny@gmail.com>
Date:   Mon Sep 30 14:13:03 2013 -0500

    Split up gssapi mechanism into client and server.

 src/Makefile.am          |    6 +-
 src/gssapi_client.cpp    |  245 +++++++++++++++++++++
 src/gssapi_client.hpp    |   72 ++++++
 src/gssapi_mechanism.cpp |  541 ----------------------------------------------
 src/gssapi_mechanism.hpp |   94 --------
 src/gssapi_server.cpp    |  434 +++++++++++++++++++++++++++++++++++++
 src/gssapi_server.hpp    |   86 ++++++++
 src/stream_engine.cpp    |   10 +-
 8 files changed, 848 insertions(+), 640 deletions(-)

commit abcb224318886e228f2d6c472f7f602c28fbf63e
Author: Mike Gatny <mgatny@connamara.com>
Date:   Fri Sep 27 10:34:53 2013 -0500

    stubbed in TOKEN command

 src/gssapi_mechanism.cpp |   64 ++++++++++++++++++++++++++++++++++++++++++++--
 src/gssapi_mechanism.hpp |    8 +++++-
 2 files changed, 69 insertions(+), 3 deletions(-)

commit 4b1c851db4993995c07156f83a87845b23a77b21
Author: Mike Gatny <mgatny@connamara.com>
Date:   Tue Sep 24 22:20:01 2013 -0500

    Stubbed in gssapi security mechanism.

 include/zmq.h            |    3 +
 src/Makefile.am          |    2 +
 src/gssapi_mechanism.cpp |  481 ++++++++++++++++++++++++++++++++++++++++++++++
 src/gssapi_mechanism.hpp |   88 +++++++++
 src/options.cpp          |   35 +++-
 src/stream_engine.cpp    |   13 +-
 6 files changed, 619 insertions(+), 3 deletions(-)

commit d1bdd45e80233df64e3a086d04729f1987372d94
Merge: cfe2036 1ee980c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 17 18:21:35 2014 +0200

    Merge pull request #975 from evoskuil/master

    Update file tools versioning in VS projects.

commit 1ee980c19101437dd1973ed4286d399b26c93d85
Author: evoskuil <eric@voskuil.org>
Date:   Tue Apr 15 01:43:24 2014 -0700

    Update filter file tool versions.

 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |    2 +-
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5a76db6f2795d51acb74a277dc911ff6ac18fc9a
Merge: d03a1b0 cfe2036
Author: evoskuil <eric@voskuil.org>
Date:   Mon Apr 14 23:47:55 2014 -0700

    Merge branch 'zeromq/master'

    Conflicts:
        builds/msvc/vs2010/inproc_lat/inproc_lat.props
        builds/msvc/vs2010/inproc_thr/inproc_thr.props
        builds/msvc/vs2010/libsodium.import.props
        builds/msvc/vs2010/libzmq.import.props
        builds/msvc/vs2010/libzmq/libzmq.props
        builds/msvc/vs2010/local_lat/local_lat.props
        builds/msvc/vs2010/local_thr/local_thr.props
        builds/msvc/vs2010/properties/Common.props
        builds/msvc/vs2010/properties/Console.props
        builds/msvc/vs2010/properties/ConsoleDebugDynamic.props
        builds/msvc/vs2010/properties/ConsoleDebugLinkTimeCodeGeneration.props
        builds/msvc/vs2010/properties/ConsoleDebugStatic.props
        builds/msvc/vs2010/properties/ConsoleReleaseDynamic.props
        builds/msvc/vs2010/properties/ConsoleReleaseLinkTimeCodeGeneration.props
        builds/msvc/vs2010/properties/ConsoleReleaseStatic.props
        builds/msvc/vs2010/properties/Debug.props
        builds/msvc/vs2010/properties/Dynamic.props
        builds/msvc/vs2010/properties/DynamicDebug.props
        builds/msvc/vs2010/properties/DynamicRelease.props
        builds/msvc/vs2010/properties/LinkTimeCodeGeneration.props
        builds/msvc/vs2010/properties/Release.props
        builds/msvc/vs2010/properties/Static.props
        builds/msvc/vs2010/properties/StaticDebug.props
        builds/msvc/vs2010/properties/StaticDebugLinkTimeCodeGeneration.props
        builds/msvc/vs2010/properties/StaticLinkTimeCodeGeneration.props
        builds/msvc/vs2010/properties/StaticRelease.props
        builds/msvc/vs2010/properties/StaticReleaseLinkTimeCodeGeneration.props
        builds/msvc/vs2010/properties/Win32.props
        builds/msvc/vs2010/properties/x64.props
        builds/msvc/vs2010/remote_lat/remote_lat.props
        builds/msvc/vs2010/remote_thr/remote_thr.props

commit d03a1b0d5b74c18aff8fbd810916de1b56bc473a
Author: evoskuil <eric@voskuil.org>
Date:   Mon Apr 14 19:19:30 2014 -0700

    Fix platform tools versioning on project files.

 builds/msvc/vs2010/libzmq/libzmq.vcxproj         |    2 +-
 builds/msvc/vs2012/libzmq/libzmq.vcxproj         |    2 +-
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj |    2 +-
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj |    2 +-
 builds/msvc/vs2013/local_lat/local_lat.vcxproj   |    2 +-
 builds/msvc/vs2013/local_thr/local_thr.vcxproj   |    2 +-
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj |    2 +-
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj |    2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit bd45b74dd37b107c609de6d6c31be1002cb93762
Author: evoskuil <eric@voskuil.org>
Date:   Mon Apr 14 19:18:36 2014 -0700

    Remove versioning from VS .props files.

 builds/msvc/vs2010/inproc_lat/inproc_lat.props     |    3 +--
 builds/msvc/vs2010/inproc_thr/inproc_thr.props     |    3 +--
 builds/msvc/vs2010/libsodium.import.props          |    3 +--
 builds/msvc/vs2010/libzmq.import.props             |    3 +--
 builds/msvc/vs2010/libzmq/libzmq.props             |    7 +++----
 builds/msvc/vs2010/local_lat/local_lat.props       |    3 +--
 builds/msvc/vs2010/local_thr/local_thr.props       |    3 +--
 builds/msvc/vs2010/properties/Common.props         |    3 +--
 builds/msvc/vs2010/properties/Console.props        |    3 +--
 .../vs2010/properties/ConsoleDebugDynamic.props    |    3 +--
 .../ConsoleDebugLinkTimeCodeGeneration.props       |    3 +--
 .../vs2010/properties/ConsoleDebugStatic.props     |    3 +--
 .../vs2010/properties/ConsoleReleaseDynamic.props  |    3 +--
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |    3 +--
 .../vs2010/properties/ConsoleReleaseStatic.props   |    3 +--
 builds/msvc/vs2010/properties/Debug.props          |    3 +--
 builds/msvc/vs2010/properties/Dynamic.props        |    3 +--
 builds/msvc/vs2010/properties/DynamicDebug.props   |    3 +--
 builds/msvc/vs2010/properties/DynamicRelease.props |    3 +--
 .../vs2010/properties/LinkTimeCodeGeneration.props |    3 +--
 builds/msvc/vs2010/properties/Release.props        |    3 +--
 builds/msvc/vs2010/properties/Static.props         |    3 +--
 builds/msvc/vs2010/properties/StaticDebug.props    |    3 +--
 .../StaticDebugLinkTimeCodeGeneration.props        |    3 +--
 .../properties/StaticLinkTimeCodeGeneration.props  |    3 +--
 builds/msvc/vs2010/properties/StaticRelease.props  |    3 +--
 .../StaticReleaseLinkTimeCodeGeneration.props      |    3 +--
 builds/msvc/vs2010/properties/Win32.props          |    3 +--
 builds/msvc/vs2010/properties/x64.props            |    3 +--
 builds/msvc/vs2010/remote_lat/remote_lat.props     |    3 +--
 builds/msvc/vs2010/remote_thr/remote_thr.props     |    3 +--
 builds/msvc/vs2012/inproc_lat/inproc_lat.props     |    3 +--
 builds/msvc/vs2012/inproc_thr/inproc_thr.props     |    3 +--
 builds/msvc/vs2012/libsodium.import.props          |    3 +--
 builds/msvc/vs2012/libzmq/libzmq.props             |    7 +++----
 builds/msvc/vs2012/local_lat/local_lat.props       |    3 +--
 builds/msvc/vs2012/local_thr/local_thr.props       |    3 +--
 builds/msvc/vs2012/properties/Common.props         |    3 +--
 builds/msvc/vs2012/properties/Console.props        |    3 +--
 .../vs2012/properties/ConsoleDebugDynamic.props    |    3 +--
 .../ConsoleDebugLinkTimeCodeGeneration.props       |    3 +--
 .../vs2012/properties/ConsoleDebugStatic.props     |    3 +--
 .../vs2012/properties/ConsoleReleaseDynamic.props  |    3 +--
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |    3 +--
 .../vs2012/properties/ConsoleReleaseStatic.props   |    3 +--
 builds/msvc/vs2012/properties/Debug.props          |    3 +--
 builds/msvc/vs2012/properties/Dynamic.props        |    3 +--
 builds/msvc/vs2012/properties/DynamicDebug.props   |    3 +--
 builds/msvc/vs2012/properties/DynamicRelease.props |    3 +--
 .../vs2012/properties/LinkTimeCodeGeneration.props |    3 +--
 builds/msvc/vs2012/properties/Release.props        |    3 +--
 builds/msvc/vs2012/properties/Static.props         |    3 +--
 builds/msvc/vs2012/properties/StaticDebug.props    |    3 +--
 .../StaticDebugLinkTimeCodeGeneration.props        |    3 +--
 .../properties/StaticLinkTimeCodeGeneration.props  |    3 +--
 builds/msvc/vs2012/properties/StaticRelease.props  |    3 +--
 .../StaticReleaseLinkTimeCodeGeneration.props      |    3 +--
 builds/msvc/vs2012/properties/Win32.props          |    3 +--
 builds/msvc/vs2012/properties/x64.props            |    3 +--
 builds/msvc/vs2012/remote_lat/remote_lat.props     |    3 +--
 builds/msvc/vs2012/remote_thr/remote_thr.props     |    3 +--
 builds/msvc/vs2013/inproc_lat/inproc_lat.props     |    3 +--
 builds/msvc/vs2013/inproc_thr/inproc_thr.props     |    3 +--
 builds/msvc/vs2013/libsodium.import.props          |    3 +--
 builds/msvc/vs2013/libzmq/libzmq.props             |    3 +--
 builds/msvc/vs2013/local_lat/local_lat.props       |    3 +--
 builds/msvc/vs2013/local_thr/local_thr.props       |    3 +--
 builds/msvc/vs2013/properties/Common.props         |    3 +--
 builds/msvc/vs2013/properties/Console.props        |    3 +--
 .../vs2013/properties/ConsoleDebugDynamic.props    |    3 +--
 .../ConsoleDebugLinkTimeCodeGeneration.props       |    3 +--
 .../vs2013/properties/ConsoleDebugStatic.props     |    3 +--
 .../vs2013/properties/ConsoleReleaseDynamic.props  |    3 +--
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |    3 +--
 .../vs2013/properties/ConsoleReleaseStatic.props   |    3 +--
 builds/msvc/vs2013/properties/Debug.props          |    3 +--
 builds/msvc/vs2013/properties/Dynamic.props        |    3 +--
 builds/msvc/vs2013/properties/DynamicDebug.props   |    3 +--
 builds/msvc/vs2013/properties/DynamicRelease.props |    3 +--
 .../vs2013/properties/LinkTimeCodeGeneration.props |    3 +--
 builds/msvc/vs2013/properties/Release.props        |    3 +--
 builds/msvc/vs2013/properties/Static.props         |    3 +--
 builds/msvc/vs2013/properties/StaticDebug.props    |    3 +--
 .../StaticDebugLinkTimeCodeGeneration.props        |    3 +--
 .../properties/StaticLinkTimeCodeGeneration.props  |    3 +--
 builds/msvc/vs2013/properties/StaticRelease.props  |    3 +--
 .../StaticReleaseLinkTimeCodeGeneration.props      |    3 +--
 builds/msvc/vs2013/properties/Win32.props          |    3 +--
 builds/msvc/vs2013/properties/x64.props            |    3 +--
 builds/msvc/vs2013/remote_lat/remote_lat.props     |    3 +--
 builds/msvc/vs2013/remote_thr/remote_thr.props     |    3 +--
 91 files changed, 95 insertions(+), 186 deletions(-)

commit cfe20360082fd48ee647bdd9ab1fcf5df2c0f26a
Merge: 98a6471 ce4c4f2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 14 21:54:19 2014 +0200

    Merge pull request #974 from xantares/master

    Fixed mingw poll detection

commit ce4c4f2a056adf8c27ce0073afff29087e804a1f
Author: xantares <xantares09@hotmail.com>
Date:   Mon Apr 14 21:49:57 2014 +0200

    Fixed mingw poll detection

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98a64716ab3161da8f3aa65fe2467db7ef50574a
Merge: 6409c0e 213d111
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 14 21:40:14 2014 +0200

    Merge pull request #973 from HughPowell/master

    Change ToolsVersion to 4.0 for VS2010

commit 213d111deffde425db9d347132fdb830c2288d60
Author: Hugh Powell <hugh@hughpowell.co.uk>
Date:   Mon Apr 14 20:13:39 2014 +0100

    Reference default locations for libsodium for VS2010

 builds/msvc/vs2010/libsodium.import.props |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 6cb742c7bb22a76c06299d0a8e0e96b502224dbe
Author: Hugh Powell <hugh@hughpowell.co.uk>
Date:   Mon Apr 14 20:01:47 2014 +0100

    Change ToolsVersion to 4.0 for VS2010

 builds/msvc/vs2010/inproc_lat/inproc_lat.props     |    2 +-
 builds/msvc/vs2010/inproc_thr/inproc_thr.props     |    2 +-
 builds/msvc/vs2010/libsodium.import.props          |    2 +-
 builds/msvc/vs2010/libzmq.import.props             |    2 +-
 builds/msvc/vs2010/libzmq/libzmq.props             |    2 +-
 builds/msvc/vs2010/libzmq/libzmq.vcxproj           |    2 +-
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters   |    2 +-
 builds/msvc/vs2010/local_lat/local_lat.props       |    2 +-
 builds/msvc/vs2010/local_thr/local_thr.props       |    2 +-
 builds/msvc/vs2010/properties/Common.props         |    2 +-
 builds/msvc/vs2010/properties/Console.props        |    2 +-
 .../vs2010/properties/ConsoleDebugDynamic.props    |    2 +-
 .../ConsoleDebugLinkTimeCodeGeneration.props       |    2 +-
 .../vs2010/properties/ConsoleDebugStatic.props     |    2 +-
 .../vs2010/properties/ConsoleReleaseDynamic.props  |    2 +-
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |    2 +-
 .../vs2010/properties/ConsoleReleaseStatic.props   |    2 +-
 builds/msvc/vs2010/properties/Debug.props          |    2 +-
 builds/msvc/vs2010/properties/Dynamic.props        |    2 +-
 builds/msvc/vs2010/properties/DynamicDebug.props   |    2 +-
 builds/msvc/vs2010/properties/DynamicRelease.props |    2 +-
 .../vs2010/properties/LinkTimeCodeGeneration.props |    2 +-
 builds/msvc/vs2010/properties/Release.props        |    2 +-
 builds/msvc/vs2010/properties/Static.props         |    2 +-
 builds/msvc/vs2010/properties/StaticDebug.props    |    2 +-
 .../StaticDebugLinkTimeCodeGeneration.props        |    2 +-
 .../properties/StaticLinkTimeCodeGeneration.props  |    2 +-
 builds/msvc/vs2010/properties/StaticRelease.props  |    2 +-
 .../StaticReleaseLinkTimeCodeGeneration.props      |    2 +-
 builds/msvc/vs2010/properties/Win32.props          |    2 +-
 builds/msvc/vs2010/properties/x64.props            |    2 +-
 builds/msvc/vs2010/remote_lat/remote_lat.props     |    2 +-
 builds/msvc/vs2010/remote_thr/remote_thr.props     |    2 +-
 33 files changed, 33 insertions(+), 33 deletions(-)

commit 6409c0ec1cee34d508665c3cff4da0f4f24f15ab
Merge: d40580c 802d1bc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 14 14:13:49 2014 +0200

    Merge pull request #972 from mditzel/master

    Fix issue #971

commit 802d1bcb034903e65c846c9a16e0782489a86878
Author: Maarten Ditzel <maarten.ditzel@tno.nl>
Date:   Mon Apr 14 13:56:01 2014 +0200

    Fix issue #971

 src/windows.hpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 91e77e6aa40562a97d45085846acd4b37f62ea02
Author: Maarten Ditzel <maarten.ditzel@tno.nl>
Date:   Sun Apr 13 15:25:22 2014 +0200

    Fix issue #969

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d40580c36870deebb9647232df3350312ec415bb
Merge: 52cfab3 91e77e6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 13 14:31:40 2014 +0200

    Merge pull request #970 from mditzel/master

    Fix issue #969

commit 52cfab3e2103ced6299f5284738651f4ba029a48
Merge: b9823a1 407b7fb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Apr 10 10:11:23 2014 +0100

    Merge pull request #968 from hintjens/master

    Fixed issue #967

commit 407b7fb474e507de56fc8b48add682b321f8c166
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 10 09:43:16 2014 +0200

    Removed duplicate zmq_z85_* methods from zmq.h

    Fixes #967

 include/zmq.h |    6 ------
 1 file changed, 6 deletions(-)

commit b9823a1388ef47ace152059f51f3ed580ccd5558
Merge: f9ef2dd 51be440
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Apr 9 12:18:05 2014 +0100

    Merge pull request #965 from evoskuil/master

    Update VS build configurations.

commit 51be440a287268445ba24fef917345f877b76c01
Author: evoskuil <eric@voskuil.org>
Date:   Wed Apr 9 03:27:27 2014 -0700

    Update VS build configurations.

 builds/msvc/vs2010/inproc_lat/inproc_lat.props   |   12 ++-----
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj |    4 +--
 builds/msvc/vs2010/inproc_thr/inproc_thr.props   |   14 +++-----
 builds/msvc/vs2010/inproc_thr/inproc_thr.vcxproj |    4 +--
 builds/msvc/vs2010/libsodium.import.props        |    4 +--
 builds/msvc/vs2010/libsodium.import.xml          |    3 +-
 builds/msvc/vs2010/libzmq.import.props           |   10 +++++-
 builds/msvc/vs2010/libzmq.import.xml             |   20 ++++++++++-
 builds/msvc/vs2010/libzmq/libzmq.props           |   40 ++++++++--------------
 builds/msvc/vs2010/local_lat/local_lat.props     |   14 +++-----
 builds/msvc/vs2010/local_lat/local_lat.vcxproj   |    4 +--
 builds/msvc/vs2010/local_thr/local_thr.props     |   14 +++-----
 builds/msvc/vs2010/local_thr/local_thr.vcxproj   |    4 +--
 builds/msvc/vs2010/remote_lat/remote_lat.props   |   14 +++-----
 builds/msvc/vs2010/remote_lat/remote_lat.vcxproj |    4 +--
 builds/msvc/vs2010/remote_thr/remote_thr.props   |   14 +++-----
 builds/msvc/vs2010/remote_thr/remote_thr.vcxproj |    4 +--
 builds/msvc/vs2012/inproc_lat/inproc_lat.props   |   12 ++-----
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj |    4 +--
 builds/msvc/vs2012/inproc_thr/inproc_thr.props   |   14 +++-----
 builds/msvc/vs2012/inproc_thr/inproc_thr.vcxproj |    4 +--
 builds/msvc/vs2012/libsodium.import.props        |    4 +--
 builds/msvc/vs2012/libsodium.import.xml          |    3 +-
 builds/msvc/vs2012/libzmq.import.props           |   10 +++++-
 builds/msvc/vs2012/libzmq.import.xml             |   20 ++++++++++-
 builds/msvc/vs2012/libzmq/libzmq.props           |   40 ++++++++--------------
 builds/msvc/vs2012/local_lat/local_lat.props     |   14 +++-----
 builds/msvc/vs2012/local_lat/local_lat.vcxproj   |    4 +--
 builds/msvc/vs2012/local_thr/local_thr.props     |   14 +++-----
 builds/msvc/vs2012/local_thr/local_thr.vcxproj   |    4 +--
 builds/msvc/vs2012/remote_lat/remote_lat.props   |   14 +++-----
 builds/msvc/vs2012/remote_lat/remote_lat.vcxproj |    4 +--
 builds/msvc/vs2012/remote_thr/remote_thr.props   |   14 +++-----
 builds/msvc/vs2012/remote_thr/remote_thr.vcxproj |    4 +--
 builds/msvc/vs2013/inproc_lat/inproc_lat.props   |   12 ++-----
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj |    4 +--
 builds/msvc/vs2013/inproc_thr/inproc_thr.props   |   14 +++-----
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj |    4 +--
 builds/msvc/vs2013/libsodium.import.props        |   13 +++----
 builds/msvc/vs2013/libsodium.import.xml          |    3 +-
 builds/msvc/vs2013/libzmq.import.props           |   19 +++++-----
 builds/msvc/vs2013/libzmq.import.xml             |   20 ++++++++++-
 builds/msvc/vs2013/libzmq/libzmq.props           |   38 ++++++++------------
 builds/msvc/vs2013/local_lat/local_lat.props     |   14 +++-----
 builds/msvc/vs2013/local_lat/local_lat.vcxproj   |    4 +--
 builds/msvc/vs2013/local_thr/local_thr.props     |   14 +++-----
 builds/msvc/vs2013/local_thr/local_thr.vcxproj   |    4 +--
 builds/msvc/vs2013/remote_lat/remote_lat.props   |   14 +++-----
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj |    4 +--
 builds/msvc/vs2013/remote_thr/remote_thr.props   |   14 +++-----
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj |    4 +--
 packaging/nuget/package.gsl                      |    5 ++-
 52 files changed, 253 insertions(+), 317 deletions(-)

commit f9ef2dd3439c8e36f53b5524d997e846413d6510
Merge: dd227d7 c392c26
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 8 06:22:08 2014 +0100

    Merge pull request #964 from evoskuil/master

    Incorporate libsodium option and linkage, generalize, update packaging.

commit c392c266df19f4f0e380775b2a465147d24648d5
Merge: 34f4851 dd227d7
Author: evoskuil <eric@voskuil.org>
Date:   Mon Apr 7 19:40:31 2014 -0700

    Merge branch 'evoskuil/master'

commit 34f4851c23c3157af18730ba3cf0522e534f77eb
Author: evoskuil <eric@voskuil.org>
Date:   Mon Apr 7 19:38:59 2014 -0700

    Incorporate libsodium option and linkage, generalize, update packaging.

 builds/msvc/readme.txt                           |   16 +----
 builds/msvc/vs2010/inproc_lat/inproc_lat.props   |   29 ++++++++
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj |    4 +-
 builds/msvc/vs2010/inproc_thr/inproc_thr.props   |   29 ++++++++
 builds/msvc/vs2010/libsodium.import.props        |   80 ++++++++++++++++++++++
 builds/msvc/vs2010/libsodium.import.xml          |   16 +++++
 builds/msvc/vs2010/libzmq.import.props           |   80 ++++++++++++++++++++++
 builds/msvc/vs2010/libzmq.import.xml             |   16 +++++
 builds/msvc/vs2010/libzmq/libzmq.props           |   44 ++++++++++--
 builds/msvc/vs2010/libzmq/libzmq.vcxproj         |   12 ++--
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters |   12 ++++
 builds/msvc/vs2010/libzmq/libzmq.xml             |    7 +-
 builds/msvc/vs2010/local_lat/local_lat.props     |   29 ++++++++
 builds/msvc/vs2010/local_thr/local_thr.props     |   29 ++++++++
 builds/msvc/vs2010/remote_lat/remote_lat.props   |   29 ++++++++
 builds/msvc/vs2010/remote_lat/remote_lat.vcxproj |    2 +-
 builds/msvc/vs2010/remote_thr/remote_thr.props   |   29 ++++++++
 builds/msvc/vs2012/inproc_lat/inproc_lat.props   |   29 ++++++++
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj |    4 +-
 builds/msvc/vs2012/inproc_thr/inproc_thr.props   |   29 ++++++++
 builds/msvc/vs2012/libsodium.import.props        |   80 ++++++++++++++++++++++
 builds/msvc/vs2012/libsodium.import.xml          |   16 +++++
 builds/msvc/vs2012/libzmq.import.props           |   80 ++++++++++++++++++++++
 builds/msvc/vs2012/libzmq.import.xml             |   16 +++++
 builds/msvc/vs2012/libzmq/libzmq.props           |   44 ++++++++++--
 builds/msvc/vs2012/libzmq/libzmq.vcxproj         |   12 ++--
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters |   12 ++++
 builds/msvc/vs2012/libzmq/libzmq.xml             |    7 +-
 builds/msvc/vs2012/local_lat/local_lat.props     |   29 ++++++++
 builds/msvc/vs2012/local_thr/local_thr.props     |   29 ++++++++
 builds/msvc/vs2012/remote_lat/remote_lat.props   |   29 ++++++++
 builds/msvc/vs2012/remote_thr/remote_thr.props   |   29 ++++++++
 builds/msvc/vs2013/inproc_lat/inproc_lat.props   |   29 ++++++++
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj |    2 +-
 builds/msvc/vs2013/inproc_thr/inproc_thr.props   |   29 ++++++++
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj |    2 +-
 builds/msvc/vs2013/libsodium.import.props        |   80 ++++++++++++++++++++++
 builds/msvc/vs2013/libsodium.import.xml          |   16 +++++
 builds/msvc/vs2013/libzmq.import.props           |   80 ++++++++++++++++++++++
 builds/msvc/vs2013/libzmq.import.xml             |   16 +++++
 builds/msvc/vs2013/libzmq/libzmq.props           |   44 ++++++++++--
 builds/msvc/vs2013/libzmq/libzmq.vcxproj         |   12 ++--
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |   12 ++++
 builds/msvc/vs2013/libzmq/libzmq.xml             |    7 +-
 builds/msvc/vs2013/local_lat/local_lat.props     |   29 ++++++++
 builds/msvc/vs2013/local_lat/local_lat.vcxproj   |    2 +-
 builds/msvc/vs2013/local_thr/local_thr.props     |   29 ++++++++
 builds/msvc/vs2013/remote_lat/remote_lat.props   |   29 ++++++++
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj |    2 +-
 builds/msvc/vs2013/remote_thr/remote_thr.props   |   29 ++++++++
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj |    2 +-
 packaging/nuget/package.config                   |    2 +-
 packaging/nuget/package.gsl                      |    7 +-
 packaging/nuget/package.nuspec                   |   57 +++++++--------
 packaging/nuget/package.targets                  |   40 +++++------
 55 files changed, 1352 insertions(+), 113 deletions(-)

commit dd227d7a11721333f2c063df67f6f6bce40739b2
Merge: 28c074e f01b48c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 7 08:46:28 2014 +0200

    Merge pull request #961 from evoskuil/master

    Update NuGet packaging metadata.

commit f01b48c484996794c83494bd0fce7fa4a1e7b582
Author: evoskuil <eric@voskuil.org>
Date:   Sun Apr 6 22:53:36 2014 -0700

    Update packaging metadata.

 packaging/nuget/package.config  |    2 +-
 packaging/nuget/package.gsl     |   41 +++++++++++-----------
 packaging/nuget/package.nuspec  |   50 +++++++++++++-------------
 packaging/nuget/package.targets |   74 +++++++++++++++++++--------------------
 packaging/nuget/package.xml     |    7 ++--
 5 files changed, 88 insertions(+), 86 deletions(-)

commit 28c074ee63565157bd64cafd01d380017b0d3917
Merge: 84bf625 b7675ea
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 6 13:32:20 2014 +0200

    Merge pull request #960 from evoskuil/master

    Rationalize and update Visual Studio projects and packaging.

commit b7675eaacef09af44590147fab60d98d79356e4a
Author: evoskuil <eric@voskuil.org>
Date:   Sun Apr 6 03:41:35 2014 -0700

    Update packaging metadata.

 packaging/nuget/package.gsl    |    2 +-
 packaging/nuget/package.nuspec |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 69fa001babd9ac52993fe12aca7ab4ba2c4f41c4
Merge: e01801f 84bf625
Author: evoskuil <eric@voskuil.org>
Date:   Sun Apr 6 02:52:06 2014 -0700

    Merge branch 'evoskuil/master'

commit e01801f5b9ca04ceb9c37066aca8ad12dd38d28c
Author: evoskuil <eric@voskuil.org>
Date:   Sun Apr 6 02:39:15 2014 -0700

    Rationalize and update Visual Studio projects and packaging.

 builds/msvc/libzmq.rc                              |  Bin 4544 -> 4544 bytes
 builds/msvc/vs2008/c_local_lat/c_local_lat.vcproj  |   52 ---
 builds/msvc/vs2008/c_local_thr/c_local_thr.vcproj  |   52 ---
 .../msvc/vs2008/c_remote_lat/c_remote_lat.vcproj   |   52 ---
 .../msvc/vs2008/c_remote_thr/c_remote_thr.vcproj   |   52 ---
 builds/msvc/vs2008/libzmq.sln                      |   10 +-
 builds/msvc/vs2008/local_lat/local_lat.vcproj      |   52 +++
 builds/msvc/vs2008/local_thr/local_thr.vcproj      |   52 +++
 builds/msvc/vs2008/remote_lat/remote_lat.vcproj    |   52 +++
 builds/msvc/vs2008/remote_thr/remote_thr.vcproj    |   52 +++
 builds/msvc/vs2010/c_local_lat/c_local_lat.vcxproj |   80 ----
 builds/msvc/vs2010/c_local_thr/c_local_thr.vcxproj |   80 ----
 .../msvc/vs2010/c_remote_lat/c_remote_lat.vcxproj  |   80 ----
 .../msvc/vs2010/c_remote_thr/c_remote_thr.vcxproj  |   80 ----
 builds/msvc/vs2010/inproc_lat/inproc_lat.props     |   30 ++
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj   |  151 ++++--
 builds/msvc/vs2010/inproc_thr/inproc_thr.props     |   30 ++
 builds/msvc/vs2010/inproc_thr/inproc_thr.vcxproj   |  149 ++++--
 builds/msvc/vs2010/libzmq.sln                      |  308 +++++++-----
 builds/msvc/vs2010/libzmq/libzmq.props             |   49 ++
 builds/msvc/vs2010/libzmq/libzmq.vcxproj           |  365 ++++++++-------
 builds/msvc/vs2010/libzmq/libzmq.vcxproj.filters   |  492 ++++++++++++++++++++
 builds/msvc/vs2010/libzmq/libzmq.xml               |   15 +
 builds/msvc/vs2010/local_lat/local_lat.props       |   30 ++
 builds/msvc/vs2010/local_lat/local_lat.vcxproj     |  149 ++++++
 builds/msvc/vs2010/local_thr/local_thr.props       |   30 ++
 builds/msvc/vs2010/local_thr/local_thr.vcxproj     |  149 ++++++
 builds/msvc/vs2010/properties/Common.props         |   28 +-
 builds/msvc/vs2010/properties/Console.props        |   21 +
 .../vs2010/properties/ConsoleDebugDynamic.props    |   22 +
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   22 +
 .../vs2010/properties/ConsoleDebugStatic.props     |   21 +
 .../vs2010/properties/ConsoleReleaseDynamic.props  |   21 +
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   21 +
 .../vs2010/properties/ConsoleReleaseStatic.props   |   20 +
 builds/msvc/vs2010/properties/Debug.props          |   22 +-
 builds/msvc/vs2010/properties/Dynamic.props        |   17 +-
 builds/msvc/vs2010/properties/DynamicDebug.props   |   22 +
 builds/msvc/vs2010/properties/DynamicRelease.props |   21 +
 builds/msvc/vs2010/properties/Executable.props     |   19 -
 .../vs2010/properties/LinkTimeCodeGeneration.props |   21 +
 builds/msvc/vs2010/properties/Precompiled.props    |   14 -
 builds/msvc/vs2010/properties/Release.props        |   29 +-
 builds/msvc/vs2010/properties/Static.props         |   10 +-
 builds/msvc/vs2010/properties/StaticDebug.props    |   22 +
 .../StaticDebugLinkTimeCodeGeneration.props        |   22 +
 .../properties/StaticLinkTimeCodeGeneration.props  |   18 +
 builds/msvc/vs2010/properties/StaticRelease.props  |   21 +
 .../StaticReleaseLinkTimeCodeGeneration.props      |   21 +
 builds/msvc/vs2010/properties/Win32.props          |   15 +-
 builds/msvc/vs2010/properties/Win32_Release.props  |   17 -
 builds/msvc/vs2010/properties/WithOpenPGM.props    |   12 -
 builds/msvc/vs2010/properties/ZeroMQ.props         |   19 -
 builds/msvc/vs2010/properties/ZeroMQ_Static.props  |   22 -
 builds/msvc/vs2010/properties/x64.props            |   18 +-
 builds/msvc/vs2010/remote_lat/remote_lat.props     |   30 ++
 builds/msvc/vs2010/remote_lat/remote_lat.vcxproj   |  149 ++++++
 builds/msvc/vs2010/remote_thr/remote_thr.props     |   30 ++
 builds/msvc/vs2010/remote_thr/remote_thr.vcxproj   |  149 ++++++
 builds/msvc/vs2012/c_local_lat/c_local_lat.vcxproj |   80 ----
 builds/msvc/vs2012/c_local_thr/c_local_thr.vcxproj |   80 ----
 .../msvc/vs2012/c_remote_lat/c_remote_lat.vcxproj  |   80 ----
 .../msvc/vs2012/c_remote_thr/c_remote_thr.vcxproj  |   80 ----
 builds/msvc/vs2012/inproc_lat/inproc_lat.props     |   30 ++
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj   |  151 ++++--
 builds/msvc/vs2012/inproc_thr/inproc_thr.props     |   30 ++
 builds/msvc/vs2012/inproc_thr/inproc_thr.vcxproj   |  149 ++++--
 builds/msvc/vs2012/libzmq.sln                      |  308 +++++++-----
 builds/msvc/vs2012/libzmq/libzmq.props             |   49 ++
 builds/msvc/vs2012/libzmq/libzmq.vcxproj           |  353 +++++++-------
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters   |   36 ++
 builds/msvc/vs2012/libzmq/libzmq.xml               |   15 +
 builds/msvc/vs2012/local_lat/local_lat.props       |   30 ++
 builds/msvc/vs2012/local_lat/local_lat.vcxproj     |  149 ++++++
 builds/msvc/vs2012/local_thr/local_thr.props       |   30 ++
 builds/msvc/vs2012/local_thr/local_thr.vcxproj     |  149 ++++++
 builds/msvc/vs2012/properties/Common.props         |   28 +-
 builds/msvc/vs2012/properties/Console.props        |   21 +
 .../vs2012/properties/ConsoleDebugDynamic.props    |   22 +
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   22 +
 .../vs2012/properties/ConsoleDebugStatic.props     |   21 +
 .../vs2012/properties/ConsoleReleaseDynamic.props  |   21 +
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   21 +
 .../vs2012/properties/ConsoleReleaseStatic.props   |   20 +
 builds/msvc/vs2012/properties/Debug.props          |   22 +-
 builds/msvc/vs2012/properties/Dynamic.props        |   17 +-
 builds/msvc/vs2012/properties/DynamicDebug.props   |   22 +
 builds/msvc/vs2012/properties/DynamicRelease.props |   21 +
 builds/msvc/vs2012/properties/Executable.props     |   19 -
 .../vs2012/properties/LinkTimeCodeGeneration.props |   21 +
 builds/msvc/vs2012/properties/Precompiled.props    |   14 -
 builds/msvc/vs2012/properties/Release.props        |   29 +-
 builds/msvc/vs2012/properties/Static.props         |   10 +-
 builds/msvc/vs2012/properties/StaticDebug.props    |   22 +
 .../StaticDebugLinkTimeCodeGeneration.props        |   22 +
 .../properties/StaticLinkTimeCodeGeneration.props  |   18 +
 builds/msvc/vs2012/properties/StaticRelease.props  |   21 +
 .../StaticReleaseLinkTimeCodeGeneration.props      |   21 +
 builds/msvc/vs2012/properties/Win32.props          |   15 +-
 builds/msvc/vs2012/properties/Win32_Release.props  |   17 -
 builds/msvc/vs2012/properties/WithOpenPGM.props    |   12 -
 builds/msvc/vs2012/properties/ZeroMQ.props         |   19 -
 builds/msvc/vs2012/properties/ZeroMQ_Static.props  |   22 -
 builds/msvc/vs2012/properties/x64.props            |   18 +-
 builds/msvc/vs2012/remote_lat/remote_lat.props     |   30 ++
 builds/msvc/vs2012/remote_lat/remote_lat.vcxproj   |  149 ++++++
 builds/msvc/vs2012/remote_thr/remote_thr.props     |   30 ++
 builds/msvc/vs2012/remote_thr/remote_thr.vcxproj   |  149 ++++++
 packaging/nuget/package.config                     |    2 +-
 packaging/nuget/package.gsl                        |   46 +-
 packaging/nuget/package.nuspec                     |   60 +--
 packaging/nuget/package.targets                    |   74 +--
 packaging/nuget/package.xml                        |    4 +-
 113 files changed, 4540 insertions(+), 1970 deletions(-)

commit 8fcda0d5da0408bf86459cf2419faa80ef9c79e7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 5 15:32:43 2014 +0200

    Cleaned up XFAIL on resources

    - this failing test was confusing users
    - ZMTP v3.0 now does not define resources at all
    - resources, along with other unimplemented aspects moved to
      RFC 37 ZMTP v3.1

 tests/Makefile.am       |    8 +++----
 tests/test_resource.cpp |   56 -----------------------------------------------
 2 files changed, 3 insertions(+), 61 deletions(-)

commit 84bf6254776079fbf17d41e588a049338c749e9b
Merge: c1f7e1f cbbfa14
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 4 12:31:42 2014 +0200

    Merge pull request #959 from evoskuil/master

    Update and add executable projects to VS2013 solution.

commit cbbfa147986cf896889351a3fc13069a0f967b47
Merge: 5d0701d c1f7e1f
Author: evoskuil <eric@voskuil.org>
Date:   Fri Apr 4 01:18:30 2014 -0700

    Merge branch 'zeromq/master'

commit 5d0701d71d21020c9066161c011feb1178206ddc
Author: evoskuil <eric@voskuil.org>
Date:   Fri Apr 4 01:17:25 2014 -0700

    Add executable projects to VS2013 solution.

 builds/msvc/vs2013/c_local_lat/c_local_lat.vcxproj |   91 ---------
 builds/msvc/vs2013/c_local_thr/c_local_thr.vcxproj |  111 -----------
 .../msvc/vs2013/c_remote_lat/c_remote_lat.vcxproj  |   91 ---------
 .../msvc/vs2013/c_remote_thr/c_remote_thr.vcxproj  |  111 -----------
 builds/msvc/vs2013/inproc_lat/inproc_lat.props     |   30 +++
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj   |  193 ++++++++++++--------
 builds/msvc/vs2013/inproc_thr/inproc_thr.props     |   30 +++
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj   |  191 +++++++++++--------
 builds/msvc/vs2013/libzmq.sln                      |  156 ++++++++++++++++
 builds/msvc/vs2013/local_lat/local_lat.props       |   30 +++
 builds/msvc/vs2013/local_lat/local_lat.vcxproj     |  149 +++++++++++++++
 builds/msvc/vs2013/local_thr/local_thr.props       |   30 +++
 builds/msvc/vs2013/local_thr/local_thr.vcxproj     |  149 +++++++++++++++
 builds/msvc/vs2013/properties/Console.props        |   21 +++
 .../vs2013/properties/ConsoleDebugDynamic.props    |   22 +++
 .../ConsoleDebugLinkTimeCodeGeneration.props       |   22 +++
 .../vs2013/properties/ConsoleDebugStatic.props     |   21 +++
 .../vs2013/properties/ConsoleReleaseDynamic.props  |   21 +++
 .../ConsoleReleaseLinkTimeCodeGeneration.props     |   21 +++
 .../vs2013/properties/ConsoleReleaseStatic.props   |   20 ++
 builds/msvc/vs2013/remote_lat/remote_lat.props     |   30 +++
 builds/msvc/vs2013/remote_lat/remote_lat.vcxproj   |  149 +++++++++++++++
 builds/msvc/vs2013/remote_thr/remote_thr.props     |   30 +++
 builds/msvc/vs2013/remote_thr/remote_thr.vcxproj   |  149 +++++++++++++++
 24 files changed, 1311 insertions(+), 557 deletions(-)

commit 2ad6469cb2445e85f724d531863d859821bc0abd
Author: evoskuil <eric@voskuil.org>
Date:   Fri Apr 4 01:15:51 2014 -0700

    Modify MSVC link incremental setting for deconfliction with LTCG flag.

 builds/msvc/vs2013/properties/Debug.props          |    1 -
 builds/msvc/vs2013/properties/DynamicDebug.props   |    1 +
 .../vs2013/properties/LinkTimeCodeGeneration.props |    3 ---
 builds/msvc/vs2013/properties/StaticDebug.props    |    1 +
 .../StaticDebugLinkTimeCodeGeneration.props        |    1 +
 5 files changed, 3 insertions(+), 4 deletions(-)

commit c1f7e1f48abf20adafe724207c8022019090ef7b
Merge: 7140bf0 a53d703
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 3 20:19:22 2014 +0200

    Merge pull request #958 from hurtonm/master

    Resolve issue #939

commit a53d703160c13ca8e66a58507b811ebc4dca7ef0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Apr 3 19:49:28 2014 +0200

    Resolve issue #939

    This bug is caused by fq which can terminate pipe before sending all
    frames of a message first. So sometimes two messages were mixed and this
    confused ZAP handler.

    This patch just modifies one pipe parameter so that socket consumes all
    messages before dropping the pipe.

 src/session_base.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 7140bf041aef0275f0028c324b4dd9304e3a2f21
Merge: 55bde2a 48b37f2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 2 18:31:31 2014 +0200

    Merge pull request #957 from jkryl/master

    sockets created by accept are leaked to child processes (ticket #956)

commit 48b37f217fb3fe5442dd175ef21f11d72fadf004
Author: Jan Kryl <jan.kryl@nexenta.com>
Date:   Wed Apr 2 12:25:40 2014 -0400

    sockets created by accept are leaked to child processes (ticket #956)

 src/ipc_listener.cpp |    7 +++++++
 src/tcp_listener.cpp |    7 +++++++
 2 files changed, 14 insertions(+)

commit 55bde2a7b5fbede8dcc2f613e01a98d1ac122dbf
Merge: 29586d3 2e802a4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 30 13:41:28 2014 +0200

    Merge pull request #952 from evoskuil/master

    Organize Visual Studio solutions and integrate NuGet packaging.

commit 2e802a467f2db016490c1af90935e8f01ab4fd29
Author: evoskuil <eric@voskuil.org>
Date:   Sun Mar 30 04:01:12 2014 -0700

    Change NuGet package id.

 packaging/nuget/package.config |    2 +-
 packaging/nuget/package.gsl    |    2 +-
 packaging/nuget/package.nuspec |    4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 441fdd7cb6019381053621b9eb5f80000e2e97d7
Author: evoskuil <eric@voskuil.org>
Date:   Sun Mar 30 03:26:22 2014 -0700

    Typo.

 builds/msvc/readme.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee69fa51b31f9bdacba6aae27312df2333aebe36
Author: evoskuil <eric@voskuil.org>
Date:   Sun Mar 30 03:22:00 2014 -0700

    In nuget package copy copied DLLs to bin with linked name.

 packaging/nuget/package.gsl     |   16 ++++++++--------
 packaging/nuget/package.targets |   16 ++++++++--------
 2 files changed, 16 insertions(+), 16 deletions(-)

commit c044f73bb738dc3fc98b7281eaf1aab9c5b53656
Author: evoskuil <eric@voskuil.org>
Date:   Sun Mar 30 02:38:20 2014 -0700

    Add nuget package generation and GUI selection of OpenPGM option.

 builds/msvc/libzmq.rc                            |  Bin 0 -> 4544 bytes
 builds/msvc/resource.h                           |   14 ++
 builds/msvc/vs2013/libzmq/libzmq.props           |    4 +
 builds/msvc/vs2013/libzmq/libzmq.vcxproj         |   22 ++
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters |   36 +++
 builds/msvc/vs2013/libzmq/libzmq.xml             |   15 ++
 packaging/nuget/package.bat                      |   13 ++
 packaging/nuget/package.config                   |    4 +
 packaging/nuget/package.gsl                      |  256 ++++++++++++++++++++++
 packaging/nuget/package.nuspec                   |   96 ++++++++
 packaging/nuget/package.targets                  |  127 +++++++++++
 packaging/nuget/package.xml                      |   21 ++
 12 files changed, 608 insertions(+)

commit f3c156ba2b2f9a090caceac46161f16e0dd0d1f4
Merge: 86ef40d 29586d3
Author: evoskuil <eric@voskuil.org>
Date:   Sat Mar 29 23:17:28 2014 -0700

    Merge branch 'zeromq/master'

commit 86ef40d17108f0c49d4d9746e5bc3c7851ce2896
Author: evoskuil <eric@voskuil.org>
Date:   Sat Mar 29 23:13:00 2014 -0700

    Reorganize and clean up visual studio build configurations.

 builds/msvc/Makefile.am                            |  109 ++-
 builds/msvc/c_local_lat/c_local_lat.vcproj         |  176 ----
 builds/msvc/c_local_lat/c_local_lat.vcxproj        |   87 --
 builds/msvc/c_local_lat/c_local_lat11.vcxproj      |   91 --
 builds/msvc/c_local_thr/c_local_thr.vcproj         |  178 ----
 builds/msvc/c_local_thr/c_local_thr.vcxproj        |  107 ---
 builds/msvc/c_local_thr/c_local_thr11.vcxproj      |  111 ---
 builds/msvc/c_remote_lat/c_remote_lat.vcproj       |  176 ----
 builds/msvc/c_remote_lat/c_remote_lat.vcxproj      |   87 --
 builds/msvc/c_remote_lat/c_remote_lat11.vcxproj    |   91 --
 builds/msvc/c_remote_thr/c_remote_thr.vcproj       |  178 ----
 builds/msvc/c_remote_thr/c_remote_thr.vcxproj      |  107 ---
 builds/msvc/c_remote_thr/c_remote_thr11.vcxproj    |  111 ---
 builds/msvc/errno.cpp                              |   62 +-
 builds/msvc/inproc_lat/inproc_lat.vcproj           |  176 ----
 builds/msvc/inproc_lat/inproc_lat.vcxproj          |  106 ---
 builds/msvc/inproc_lat/inproc_lat11.vcxproj        |  110 ---
 builds/msvc/inproc_thr/inproc_thr.vcproj           |  176 ----
 builds/msvc/inproc_thr/inproc_thr.vcxproj          |  106 ---
 builds/msvc/inproc_thr/inproc_thr11.vcxproj        |  110 ---
 builds/msvc/libzmq/libzmq.vcproj                   |  997 --------------------
 builds/msvc/libzmq/libzmq.vcxproj                  |  328 -------
 builds/msvc/libzmq/libzmq.vcxproj.filters          |  467 ---------
 builds/msvc/libzmq/libzmq11.vcxproj                |  362 -------
 builds/msvc/libzmq/libzmq12.vcxproj                |  339 -------
 builds/msvc/libzmq/libzmq12.vcxproj.filters        |  456 ---------
 builds/msvc/msvc.sln                               |   95 --
 builds/msvc/msvc10.sln                             |  150 ---
 builds/msvc/msvc11.sln                             |  150 ---
 builds/msvc/msvc12.sln                             |   46 -
 builds/msvc/properties/Common.props                |   21 -
 builds/msvc/properties/Debug.props                 |   19 -
 builds/msvc/properties/Dynamic.props               |   20 -
 builds/msvc/properties/Executable.props            |   19 -
 builds/msvc/properties/Precompiled.props           |   14 -
 builds/msvc/properties/Release.props               |   22 -
 builds/msvc/properties/Static.props                |   15 -
 builds/msvc/properties/Win32.props                 |   12 -
 builds/msvc/properties/Win32_Release.props         |   17 -
 builds/msvc/properties/WithOpenPGM.props           |   12 -
 builds/msvc/properties/ZeroMQ.props                |   22 -
 builds/msvc/properties/ZeroMQ_Static.props         |   23 -
 builds/msvc/properties/x64.props                   |   12 -
 builds/msvc/readme.txt                             |   26 +
 builds/msvc/vs2008/c_local_lat/c_local_lat.vcproj  |   52 +
 builds/msvc/vs2008/c_local_thr/c_local_thr.vcproj  |   52 +
 .../msvc/vs2008/c_remote_lat/c_remote_lat.vcproj   |   52 +
 .../msvc/vs2008/c_remote_thr/c_remote_thr.vcproj   |   52 +
 builds/msvc/vs2008/inproc_lat/inproc_lat.vcproj    |   52 +
 builds/msvc/vs2008/inproc_thr/inproc_thr.vcproj    |   52 +
 builds/msvc/vs2008/libzmq.sln                      |   95 ++
 builds/msvc/vs2008/libzmq/libzmq.vcproj            |  259 +++++
 builds/msvc/vs2010/c_local_lat/c_local_lat.vcxproj |   80 ++
 builds/msvc/vs2010/c_local_thr/c_local_thr.vcxproj |   80 ++
 .../msvc/vs2010/c_remote_lat/c_remote_lat.vcxproj  |   80 ++
 .../msvc/vs2010/c_remote_thr/c_remote_thr.vcxproj  |   80 ++
 builds/msvc/vs2010/inproc_lat/inproc_lat.vcxproj   |   80 ++
 builds/msvc/vs2010/inproc_thr/inproc_thr.vcxproj   |   80 ++
 builds/msvc/vs2010/libzmq.sln                      |  150 +++
 builds/msvc/vs2010/libzmq/libzmq.vcxproj           |  315 +++++++
 builds/msvc/vs2010/properties/Common.props         |   21 +
 builds/msvc/vs2010/properties/Debug.props          |   19 +
 builds/msvc/vs2010/properties/Dynamic.props        |   20 +
 builds/msvc/vs2010/properties/Executable.props     |   19 +
 builds/msvc/vs2010/properties/Precompiled.props    |   14 +
 builds/msvc/vs2010/properties/Release.props        |   22 +
 builds/msvc/vs2010/properties/Static.props         |   15 +
 builds/msvc/vs2010/properties/Win32.props          |   12 +
 builds/msvc/vs2010/properties/Win32_Release.props  |   17 +
 builds/msvc/vs2010/properties/WithOpenPGM.props    |   12 +
 builds/msvc/vs2010/properties/ZeroMQ.props         |   19 +
 builds/msvc/vs2010/properties/ZeroMQ_Static.props  |   22 +
 builds/msvc/vs2010/properties/x64.props            |   12 +
 builds/msvc/vs2012/c_local_lat/c_local_lat.vcxproj |   80 ++
 builds/msvc/vs2012/c_local_thr/c_local_thr.vcxproj |   80 ++
 .../msvc/vs2012/c_remote_lat/c_remote_lat.vcxproj  |   80 ++
 .../msvc/vs2012/c_remote_thr/c_remote_thr.vcxproj  |   80 ++
 builds/msvc/vs2012/inproc_lat/inproc_lat.vcxproj   |   80 ++
 builds/msvc/vs2012/inproc_thr/inproc_thr.vcxproj   |   80 ++
 builds/msvc/vs2012/libzmq.sln                      |  150 +++
 builds/msvc/vs2012/libzmq/libzmq.vcxproj           |  303 ++++++
 builds/msvc/vs2012/libzmq/libzmq.vcxproj.filters   |  456 +++++++++
 builds/msvc/vs2012/properties/Common.props         |   21 +
 builds/msvc/vs2012/properties/Debug.props          |   19 +
 builds/msvc/vs2012/properties/Dynamic.props        |   20 +
 builds/msvc/vs2012/properties/Executable.props     |   19 +
 builds/msvc/vs2012/properties/Precompiled.props    |   14 +
 builds/msvc/vs2012/properties/Release.props        |   22 +
 builds/msvc/vs2012/properties/Static.props         |   15 +
 builds/msvc/vs2012/properties/Win32.props          |   12 +
 builds/msvc/vs2012/properties/Win32_Release.props  |   17 +
 builds/msvc/vs2012/properties/WithOpenPGM.props    |   12 +
 builds/msvc/vs2012/properties/ZeroMQ.props         |   19 +
 builds/msvc/vs2012/properties/ZeroMQ_Static.props  |   22 +
 builds/msvc/vs2012/properties/x64.props            |   12 +
 builds/msvc/vs2013/c_local_lat/c_local_lat.vcxproj |   91 ++
 builds/msvc/vs2013/c_local_thr/c_local_thr.vcxproj |  111 +++
 .../msvc/vs2013/c_remote_lat/c_remote_lat.vcxproj  |   91 ++
 .../msvc/vs2013/c_remote_thr/c_remote_thr.vcxproj  |  111 +++
 builds/msvc/vs2013/inproc_lat/inproc_lat.vcxproj   |  110 +++
 builds/msvc/vs2013/inproc_thr/inproc_thr.vcxproj   |  110 +++
 builds/msvc/vs2013/libzmq.sln                      |   52 +
 builds/msvc/vs2013/libzmq/libzmq.props             |   45 +
 builds/msvc/vs2013/libzmq/libzmq.vcxproj           |  322 +++++++
 builds/msvc/vs2013/libzmq/libzmq.vcxproj.filters   |  456 +++++++++
 builds/msvc/vs2013/properties/Common.props         |   27 +
 builds/msvc/vs2013/properties/Debug.props          |   30 +
 builds/msvc/vs2013/properties/Dynamic.props        |   19 +
 builds/msvc/vs2013/properties/DynamicDebug.props   |   21 +
 builds/msvc/vs2013/properties/DynamicRelease.props |   21 +
 .../vs2013/properties/LinkTimeCodeGeneration.props |   24 +
 builds/msvc/vs2013/properties/Release.props        |   41 +
 builds/msvc/vs2013/properties/Static.props         |   19 +
 builds/msvc/vs2013/properties/StaticDebug.props    |   21 +
 .../StaticDebugLinkTimeCodeGeneration.props        |   21 +
 .../properties/StaticLinkTimeCodeGeneration.props  |   18 +
 builds/msvc/vs2013/properties/StaticRelease.props  |   21 +
 .../StaticReleaseLinkTimeCodeGeneration.props      |   21 +
 builds/msvc/vs2013/properties/Win32.props          |   21 +
 builds/msvc/vs2013/properties/x64.props            |   24 +
 src/signaler.cpp                                   |    2 +
 121 files changed, 5434 insertions(+), 5963 deletions(-)

commit 29586d303d92392dea748726a035bb6c9352c023
Merge: 4706a18 91c409f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 25 23:49:49 2014 +0100

    Merge pull request #950 from phreed/master

    Make a NuGet package

commit 91c409fd9374118c0d463851bad8a8c94b59d9d8
Author: Fred Eisele <feisele@isis.vanderbilt.edu>
Date:   Tue Mar 25 17:34:09 2014 -0500

    updated with better owner, author and copyright information

 builds/nuget/libzmq.autopkg |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 394e4c603241406a23e8f8df60b54dcce4bf12c4
Author: Fred Eisele <feisele@isis.vanderbilt.edu>
Date:   Tue Mar 25 16:55:23 2014 -0500

    corrected some issues with the autopkg, include the dll

 builds/nuget/libzmq.autopkg |   13 +++++++------
 builds/nuget/readme.nuget   |    8 ++++++++
 2 files changed, 15 insertions(+), 6 deletions(-)

commit af5b9601772e85f07ebff858ec2532b1cef14d58
Author: Fred Eisele <feisele@isis.vanderbilt.edu>
Date:   Tue Mar 25 16:03:29 2014 -0500

    added files to assist in building nuget packages

 builds/nuget/libzmq.autopkg |   51 +++++++++++++++++++++++++++++++++++++++++++
 builds/nuget/readme.nuget   |   12 ++++++++++
 2 files changed, 63 insertions(+)

commit 5a3b633bc520e5423812424a6f9924a0d75a10e3
Author: Frank <soundart@gmx.net>
Date:   Sun Mar 23 13:07:23 2014 +0100

    cmake: correct find function

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b04abfae575b25e03f175c8761140fe0d346e87d
Author: Frank <soundart@gmx.net>
Date:   Sun Mar 23 10:48:52 2014 +0100

    cmake: use FindSodium module

 CMakeLists.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4706a18cf30d9f9ddf0e478990d74f37f94ef9e8
Merge: 20f22e0 b7a663f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 21 12:13:42 2014 +0200

    Merge pull request #945 from twwlogin/patch-2

    Allow iov_base as char * on Solaris 8/9/10.

commit 20f22e0463915e585aa1833946b93a04bb09d78c
Merge: c217ab7 9051456
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 21 12:13:14 2014 +0200

    Merge pull request #944 from twwlogin/patch-1

    Include zmq.h after platform.hpp

commit b7a663f1c1dc0f16a878595858d4286991cf7152
Author: twwlogin <github@vendor.thewrittenword.com>
Date:   Fri Mar 21 01:32:01 2014 -0500

    Allow iov_base as char * on Solaris 8/9/10.

    On Solaris 8, 9, 10/SPARC, iov_base is of type caddr_t which is char *. The Sun C++ compiler errors with "Cannot assign void* to char*". Using a static case to override this. On Solaris 11, HP-UX, AIX, and RHEL, iov_base is void * so no issues there. This seems a rather hackish solution so open to something better.

 src/zmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9051456f184eafaa7291de3cb8b97989eaed861a
Author: twwlogin <github@vendor.thewrittenword.com>
Date:   Fri Mar 21 01:24:25 2014 -0500

    Include zmq.h after platform.hpp

    zmq.h requires definitions from platform.hpp so include platform.hpp before zmq.h. This is only an intermediate fix though. zmq.h should not require definitions from platform.hpp because platform.hpp is not installed. So, when zmq.h wants to include <inttypes.h> on ZMQ_HAVE_SOLARIS || ZMQ_HAVE_OPENVMS, it will not and fall back to #include <stdint.h> which will fail when building something like pyzmq on Solaris 8, 9/SPARC which do not have <stdint.h>

 src/err.hpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c217ab73b1a5dba0580a49bae13f5ca7132649cb
Merge: faacb14 89cbd3d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 20 18:30:03 2014 +0200

    Merge pull request #941 from veegee/master

    Fix building on MinGW64 Windows

commit 89cbd3d2fa25a3efc8695464c10cab9557b51d3a
Author: V G <veegee@veegee.org>
Date:   Thu Mar 20 12:22:15 2014 -0400

    Fix building on MinGW64 Windows

    Mingw64 provides mstcpip.h and the build fails (redefinition) if the struct tcp_keepalive is redefined. Do not define the struct if __MINGW64__ is defined. Note that I had to manually pass the compile definition to cmake: -D__MINGW64__=1

 src/windows.hpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit faacb1413f7e09435078099b53a3d4c56d6aef3e
Merge: 8116fe5 cd9755e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 20 07:22:57 2014 +0200

    Merge pull request #938 from bebopagogo/master

    norm_engine update with no encoder_base_t::has_data() dependency

commit 8116fe55b7f687ab05e05b5b9d0aafca6cf339b4
Merge: 65dcd79 58a1430
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 20 07:22:41 2014 +0200

    Merge pull request #937 from snikulov/fix_dll_out_path

    cmake // fixed msvc dll output path

commit cd9755e4aa4e658d533b7326fdf3d8f1671f09d0
Author: bebopagogo <bebopagogo@users.noreply.github.com>
Date:   Wed Mar 19 15:02:06 2014 -0400

    removed norm_engine dependency on deprecated encoder_base::has_data() method

 src/norm_engine.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 0a97e054397182b5d66919870b7b5374676098b7
Author: bebopagogo <bebopagogo@users.noreply.github.com>
Date:   Wed Mar 19 15:00:03 2014 -0400

    removed dependency on deprecated encoder_base::has_data() method

 src/norm_engine.cpp |  118 +++++++++++++++++++++++++++++++--------------------
 src/norm_engine.hpp |    5 ++-
 2 files changed, 74 insertions(+), 49 deletions(-)

commit 58a1430ca01d39d165d8a99c8363f7460b43148e
Author: Sergei Nikulov <sergey.nikulov@gmail.com>
Date:   Wed Mar 19 22:01:45 2014 +0400

    fixed msvc dll output path

 CMakeLists.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 65dcd79047fbb669f36d3efb9ed88b32e4929dfc
Merge: 59b20e7 8edc80f
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Mar 18 22:08:33 2014 +0000

    Merge pull request #936 from soundart/master

    cmake: fix test_fork,  fix fragile code related to HAVE_FORK macro

commit 8edc80f27b867495f17119c74fbb88458d190690
Author: Frank <soundart@gmx.net>
Date:   Tue Mar 18 21:04:52 2014 +0100

    cmake: fix fragile code related to HAVE_FORK macro

    * report from Richard Newton indicated previous solutions was not
      working on Windows

 builds/cmake/platform.hpp.in |    2 +-
 src/signaler.cpp             |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 59b20e7f3edfe2e4e6053bb709ea8831a1e7e78d
Merge: a57cf19 8782484
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 18 08:47:53 2014 +0100

    Merge pull request #934 from evoskuil/master

    Add Visual Studio 2013 solution and build for (v120) of libzmq project.

commit 8782484fb50dd5a1d224787816d6acb13e4aaee3
Author: evoskuil <eric@voskuil.org>
Date:   Mon Mar 17 23:57:48 2014 -0700

    Visual Studio 2013 build updates.

 builds/msvc/libzmq/libzmq12.vcxproj         |  315 +++++++++---------
 builds/msvc/libzmq/libzmq12.vcxproj.filters |  456 +++++++++++++++++++++++++++
 builds/msvc/msvc12.sln                      |    8 +-
 src/zmq.cpp                                 |    1 +
 4 files changed, 608 insertions(+), 172 deletions(-)

commit a57cf1958ab3dea6a2e2558543ebd343ce106d44
Merge: 65c0ed4 9dc890c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 17 21:26:40 2014 +0100

    Merge pull request #933 from soundart/master

    cmake: fix test_fork

commit 9dc890c501c399997678a20eae92f040eeb6ddb3
Author: Frank <soundart@gmx.net>
Date:   Mon Mar 17 21:09:10 2014 +0100

    fix test_fork

    * was problem on debian/wheezy

 CMakeLists.txt               |    4 ++++
 builds/cmake/platform.hpp.in |    1 +
 2 files changed, 5 insertions(+)

commit 65c0ed472722d8d3934a20612c44982869d73927
Merge: b31ea51 f5eebc2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Mar 17 14:41:14 2014 +0000

    Merge pull request #932 from ricnewton/master

    Remove delays in test_connect_rid and destroy/recreate context between tests

commit b31ea51ca0e2f7fc76fc445e035d8806b87b4853
Merge: 5ced51b 6a627ac
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Mar 17 13:48:32 2014 +0000

    Merge pull request #931 from Dahko/patch-1

    Fixed wrong assert in zmq_recv

commit f5eebc2ae3935ce8b206233eb0f62ba2560f19d3
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Mar 17 13:41:02 2014 +0000

    Remove delays and destroy/recreate context between tests

 tests/test_connect_rid.cpp |   30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit 6a627acea70e14113f1d62b2da23b054ebf5e5e8
Author: Dahko <steed2005@gmail.com>
Date:   Mon Mar 17 16:38:19 2014 +0300

    Fixed wrong assert in zmq_recv

    zmq_recv returns bytes count, not error code, so 'assert (rc==0)' behaved completely wrong

 doc/zmq_msg_init.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5ced51b753af472f223e1cdd6d70c63197ad88ca
Merge: be6763e e27a610
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Mar 17 13:23:04 2014 +0000

    Merge pull request #930 from ricnewton/master

    Add delays in test_connect_rid

commit e27a610897e692f8ec9684db30b0611b0a1492db
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Mar 17 12:32:21 2014 +0000

    Fix tabs

 tests/Makefile.am          |    2 +-
 tests/test_connect_rid.cpp |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 26dc6432050f4bf20ca509d38f1ec5e2f8d31eca
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Mar 17 12:24:52 2014 +0000

    Add delays in test_connect_rid to allow time for socket to close before address reuse.

 .gitignore                 |    1 +
 tests/Makefile.am          |    4 +++-
 tests/test_connect_rid.cpp |    2 ++
 3 files changed, 6 insertions(+), 1 deletion(-)

commit 18e885bbe41c765ddb3d9bf68a6673fec49be7d8
Author: evoskuil <eric@voskuil.org>
Date:   Mon Mar 17 01:49:57 2014 -0700

    Add vs2013 solution and build for (v120) of libzmq project.

 builds/msvc/libzmq/libzmq12.vcxproj |  362 +++++++++++++++++++++++++++++++++++
 builds/msvc/msvc12.sln              |   44 +++++
 2 files changed, 406 insertions(+)

commit be6763e381c126584a35ecdc5c78878f97b76dc6
Merge: e9523a9 43071bc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 16 17:40:33 2014 +0100

    Merge pull request #928 from bebopagogo/master

    fixed another missed norm_engine issue for non-norm build

commit e9523a98b570b54dac6e1a115171ffdb49433697
Merge: 0e0c46a 5bd5188
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 16 17:40:21 2014 +0100

    Merge pull request #927 from ricnewton/master

    Fix cmake build on windows & travis build.

commit 43071bc724311beadea0c162dc2ce9ff404649d3
Author: bebopagogo <bebopagogo@users.noreply.github.com>
Date:   Sun Mar 16 12:31:19 2014 -0400

    fixed another missed norm_engine issue for non-norm build

 src/norm_engine.cpp |    2 --
 1 file changed, 2 deletions(-)

commit 5bd5188ec6cd672887b90b189b09c5203ba68ca1
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Mar 16 16:18:30 2014 +0000

    Fix tabs

 CMakeLists.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7cead2bfd6e75290a71aff33666d5ee31aaee15f
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Mar 16 16:15:19 2014 +0000

    Fix travis build.

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a4b0e93fc14e3d8ca927880ff395faf9cbd7d2b6
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Mar 16 16:01:47 2014 +0000

    Fix travis build.

 src/norm_engine.cpp |    2 --
 1 file changed, 2 deletions(-)

commit 05229ea6739cd597a6d872334abfe49c8fa51780
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Mar 16 15:59:50 2014 +0000

    Fix cmake build on windows.

 CMakeLists.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0e0c46aedc552f71ee62ac3a21ef466dad8ecd44
Merge: 0514aa5 d3e0be1
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Mar 16 15:55:47 2014 +0000

    Merge pull request #926 from bebopagogo/master

    added uncommitted norm_engine changes

commit d3e0be152803ca2fdedb6390e4befcdec99e04db
Author: bebopagogo <bebopagogo@users.noreply.github.com>
Date:   Sun Mar 16 09:15:31 2014 -0400

    added uncommitted norm_engine changes

 src/encoder.hpp     |    2 +-
 src/norm_engine.cpp |   27 ++++++++++++++-------------
 src/norm_engine.hpp |    4 +---
 3 files changed, 16 insertions(+), 17 deletions(-)

commit 0514aa5b51c3cfbce7b8f83fb3b65dedc3d8b98c
Merge: 74d344c b433adf
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Mar 16 11:07:20 2014 +0000

    Merge pull request #925 from hintjens/master

    Fixed comment

commit b433adf49ec2b4381d1ff8a387875e77f8ceacf5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 16 11:53:40 2014 +0100

    Fixed comment

 tests/test_security_curve.cpp |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 74d344ca74b8433eec75be22d9915c0477277473
Merge: 72c02b1 33f22d0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 16 09:33:59 2014 +0100

    Merge pull request #924 from bebopagogo/master

    NORM protocol extension

commit 33f22d0d04b8f26f3bf89a42ca093eab766b888e
Author: bebopagogo <bebopagogo@users.noreply.github.com>
Date:   Sat Mar 15 10:48:12 2014 -0400

    added norm_engine

 configure.ac         |   22 ++++++++++++++++++++++
 src/Makefile.am      |    2 ++
 src/session_base.cpp |   38 ++++++++++++++++++++++++++++++++++++--
 src/socket_base.cpp  |   24 +++++++++++++++++-------
 4 files changed, 77 insertions(+), 9 deletions(-)

commit c91a638a5a4f9c3189244a46b0f8b7b1901930bd
Author: bebopagogo <bebopagogo@users.noreply.github.com>
Date:   Sat Mar 15 10:46:21 2014 -0400

    added norm_engine

 src/norm_engine.cpp |  704 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/norm_engine.hpp |  189 ++++++++++++++
 2 files changed, 893 insertions(+)

commit 72c02b15694586a8b5afc6d7d2de025c358b6bb1
Merge: a5e397a b1e74f7
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Mar 14 15:06:04 2014 +0000

    Merge pull request #923 from hintjens/master

    Revert "Fixed potential SEGFAULT."

commit b1e74f79c4687025d2fb4e7af19ca53ccb73860e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 14 09:39:56 2014 +0100

    Revert "Fixed potential SEGFAULT."

    This reverts commit 79b81f48402c1276d4cfd3bf0cbfb4084952b36b.
    Was causing:

    Assertion failed: destroyed (socket_base.cpp:154)
    /bin/bash: line 5: 31344 Aborted                 ${dir}$tst
    FAIL: test_many_sockets

    On TravisCI.

 src/socket_base.cpp |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit a5e397a55e7e8b7a51501bba1d1c48607df1cee5
Merge: 49e035f 03a3dd2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 13 12:46:09 2014 +0100

    Merge pull request #922 from horus42/master

    Fixed potential SEGFAULT in socket_base.cpp

commit 03a3dd25035d6fb43c143e21520a320b406d9a3e
Merge: 79b81f4 49e035f
Author: czach <czach@rst-automation.com>
Date:   Thu Mar 13 11:11:17 2014 +0100

    Merge remote-tracking branch 'upstream/master'

commit 79b81f48402c1276d4cfd3bf0cbfb4084952b36b
Author: czach <czach@rst-automation.com>
Date:   Thu Mar 13 11:05:50 2014 +0100

    Fixed potential SEGFAULT.

 src/socket_base.cpp |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 49e035fb409b76cea70038a91a10692f2c160ae3
Merge: 4e5f866 350a1ac
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Mar 12 18:36:13 2014 +0100

    Merge pull request #921 from mbarbisan/master

    Allow TCP addresses to be re-resolved whenever there is a reconnection a...

commit 350a1ac12bb4aa67d9a392e3a552a763ec416c0d
Author: Mark Barbisan <mark@barbisan.ca>
Date:   Wed Mar 12 12:53:13 2014 -0400

    Allow TCP addresses to be re-resolved whenever there is a reconnection attempt

 src/req.cpp                    |    2 +-
 src/req.hpp                    |    2 +-
 src/session_base.cpp           |    4 ++--
 src/session_base.hpp           |    6 +++---
 src/socket_base.cpp            |   10 ++--------
 src/tcp_connecter.cpp          |   22 ++++++++++++++++++++--
 src/tcp_connecter.hpp          |    4 ++--
 tests/test_connect_resolve.cpp |   12 ++++++------
 8 files changed, 37 insertions(+), 25 deletions(-)

commit 4e5f866fa40765def89f11e4a0b5a61a65f8c0e1
Merge: e224be2 52db50f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Mar 12 15:28:31 2014 +0100

    Merge pull request #920 from mbarbisan/master

    Add the tag name to the zmq_pollitem_t struct to allow easier forward de...

commit 52db50f8446787fd37e68b3ca6adf28d65a42251
Author: Mark Barbisan <mark@barbisan.ca>
Date:   Wed Mar 12 10:11:12 2014 -0400

    Add the tag name to the zmq_pollitem_t struct to allow easier forward declaration

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e224be25dc06340ddf94082ea1c63d9d61a70a43
Merge: b63c5e5 6009e2c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 10 21:06:06 2014 +0100

    Merge pull request #914 from drewcrawford/issue_912

    Libsodium is now required if and only if --with-libsodium is used

commit 6009e2c6c42fd80cb1e43c6c290b877aa59d39a6
Author: Drew Crawford <drew@sealedabstract.com>
Date:   Mon Mar 10 13:59:33 2014 -0500

    Libsodium is now required if and only if --with-libsodium is used

    This patch is proposed for https://github.com/zeromq/libzmq/issues/912.  If a user specifies that they want libzmq built with libsodium, and the requirement cannot be satisfied, we should error at the user so they can either A) install libsodium to a reasonable location or B) relax their requirement for libsodium support.

    Previously a warning was issued in this case, causing users who wanted libsodium support not to get it, which may be discovered at a much later time when their programs didn't work as expected.

    I release this patch under the LGPL v3 or any later version.

 AUTHORS      |    1 +
 configure.ac |    7 ++++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit b63c5e5469f5e1d1c578b6a65f7a0968dba24b3b
Merge: bf08114 2bcf860
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 6 23:16:05 2014 +0100

    Merge pull request #911 from KennethWilke/master

    Minor change to zmq_curve_keypair doc

commit 2bcf860e77e2098699bbc36c1eb329e2e0da3ec7
Author: KennethWilke <kenneth.wilke@rackspace.com>
Date:   Thu Mar 6 15:18:42 2014 -0600

    Minor change to zmq_curve_keypair doc

 doc/zmq_curve_keypair.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf08114be4f27e6e1c9db063e79b858e3c07b2f2
Merge: 8de07ad 305a144
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Mar 3 19:08:43 2014 -0800

    Merge pull request #910 from hintjens/master

    Added scaffolding for zmq_msg_gets

commit 305a1442ae35d9c4e197ce8d29c1804e6e265359
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 3 13:19:40 2014 +0100

    Added scaffolding for zmq_msg_gets

 doc/Makefile.am      |    2 +-
 doc/zmq_msg_gets.txt |   54 ++++++++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h        |    5 +++--
 src/zmq.cpp          |   15 +++++++++++---
 4 files changed, 70 insertions(+), 6 deletions(-)

commit 8de07ad79bba33f4c9213188137ad74198c457fb
Merge: b008a34 e7a0c54
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 25 17:21:05 2014 +0100

    Merge pull request #906 from olafmandel/fix_msvc8_build

    Fix MSVC8 build

commit e7a0c5487678ed4d29add03aada1265e13662631
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Tue Feb 25 15:11:24 2014 +0100

    Fix MSVC8 build

    The extra semicolons were introduced in 48b50ce together with the
    defintion of the ZMQ_USE_SELECT macros.

 builds/msvc/libzmq/libzmq.vcproj |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit b008a341d7bdc32ed989ed17c9e9f07ff2e0d16a
Merge: 176d2c8 2bc3c82
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 24 20:17:59 2014 +0100

    Merge pull request #905 from guruofquality/missing_librt

    add linking to librt under cmake build - fixes missing symbol

commit 2bc3c827456bd43465bf2beeec402c967f646ecb
Author: Josh Blum <josh@joshknows.com>
Date:   Mon Feb 24 11:07:28 2014 -0800

    add linking to librt under cmake build - fixes missing symbol

    The libzmq library itself uses clock_gettime and should link w/ -lrt on linux.
    Caught this issue on on Ubuntu 12.04 LTS.

 CMakeLists.txt |    4 ++++
 1 file changed, 4 insertions(+)

commit 176d2c8a6721a313e32a4464f12dba98dc5598ef
Merge: 8b7ac4f 45dfbc5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 24 19:06:42 2014 +0100

    Merge pull request #904 from olafmandel/zmq-socket.man

    Fix zmq_socket example in documentation

commit 45dfbc52480a2b9ffa7cfe73fa6b7d8289a24854
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Mon Feb 24 18:27:03 2014 +0100

    Fix zmq_socket example in documentation

    Issues adressed:
     - The actual data was never read from the socket, causing all even
       numbered loop iterations to fail
     - The socket variable was called server once

 doc/zmq_socket.txt |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 8b7ac4ffdc355f70ba3b7d6a671316264afeee25
Merge: 88ed56f acfbfe5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 21 11:02:20 2014 +0100

    Merge pull request #902 from pavel-pimenov/fix-pvs-studio-v547

    Fix build with ZMQ_HAVE_WINDOWS (typedef UINT_PTR fd_t; -> unsigned type...

commit acfbfe53bce6885348b9f11cf5ffec0fe37b4079
Author: Pavel Pimenov <pavel.pimenov@gmail.com>
Date:   Fri Feb 21 13:22:53 2014 +0400

    Fix build with ZMQ_HAVE_WINDOWS (typedef UINT_PTR fd_t; -> unsigned type)
      V547 Expression 'file_desc >= 0' is always true. Unsigned type value is always >= 0. socket_base.cpp 845
      V547 Expression 'file_desc >= 0' is always true. Unsigned type value is always >= 0. socket_base.cpp 863
      V547 Expression 'file_desc >= 0' is always true. Unsigned type value is always >= 0. socket_base.cpp 897
      http://www.viva64.com/en/d/0137/print/

 src/select.hpp      |    2 +-
 src/socket_base.cpp |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 88ed56fa9d2ea05810672fbdb98d36e2edae4d7c
Merge: 3b8254d acf0949
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 18 15:19:41 2014 +0100

    Merge pull request #901 from pijyoi/master

    workaround missing Mstcpip.h in mingw32

commit acf0949f183267427752a0515dab036021fc7e40
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Tue Feb 18 21:24:24 2014 +0800

    workaround missing Mstcpip.h in mingw32

 src/windows.hpp |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 3b8254daed36f7cc5683e9242e1f7475f0cd9775
Merge: 1879b8b 9d3d9d6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 18 08:49:39 2014 +0100

    Merge pull request #900 from pijyoi/master

    fix: win32 tcp_keepalive gets set even when option is -1

commit 9d3d9d635ae2e6329c4ec4f31970990abafefdc3
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Tue Feb 18 14:17:32 2014 +0800

    fix: win32 tcp_keepalive gets set even when option is -1

 src/tcp.cpp |   16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 1879b8ba76d52f8e7d616808e7257ea786f21c81
Merge: f789177 48b50ce
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 17 16:07:31 2014 +0100

    Merge pull request #899 from olafmandel/duplicate_poller_detect

    Remove duplicate poller decision making

commit 48b50cefb4dc9f6da3b45fb8e2fb24431ec41959
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Mon Feb 17 14:08:11 2014 +0100

    Remove duplicate poller decision making

    The decision about the poller mechanism to use (select, poll, ...)
    was done twice: once by the build system and once by the code in
    poller.hpp. As the build-system can actually detect the mechanisms
    available, prefer that result to the hard coded defaults in
    poller.hpp.

    At the same time, remove the duplicate detection of select() vs.
    poll()-variant from proxy.cpp, signaler.cpp and zmq.cpp.

    This patch has not been tested on many build platforms: especially
    the cmake build needs testing / patching. For the other builds,
    hard code the result as these these are all Windows platforms.

 CMakeLists.txt                             |   54 ++++++++++++++++++++---
 acinclude.m4                               |    2 +-
 builds/cmake/platform.hpp.in               |   12 +++--
 builds/mingw32/Makefile.mingw32            |    2 +-
 builds/msvc/libzmq/libzmq.vcproj           |   10 ++---
 builds/msvc/properties/ZeroMQ.props        |    2 +-
 builds/msvc/properties/ZeroMQ_Static.props |    2 +-
 src/poller.hpp                             |   65 ++++++++--------------------
 src/proxy.cpp                              |   17 +-------
 src/signaler.cpp                           |   33 +++-----------
 src/zmq.cpp                                |   24 +---------
 11 files changed, 88 insertions(+), 135 deletions(-)

commit f789177abe8913133be9c458bd958b940f247f91
Merge: 0be4a92 8cca473
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Feb 17 11:18:51 2014 +0000

    Merge pull request #898 from hintjens/master

    Added temporary CURVE debugging support

commit 8cca4735d8ba002f9a66c1f42d5100b5a76ce875
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Feb 16 20:19:46 2014 +0100

    Added temporary CURVE debugging support

    - just prints server-side failures to console
    - can be improved over time, e.g. enabled at build time or
      sent to inproc debug channel

 src/curve_server.cpp |   27 +++++++++++++++++++++++++++
 src/curve_server.hpp |    3 ++-
 2 files changed, 29 insertions(+), 1 deletion(-)

commit 0be4a92d205ce2a90cbd53a1e3d7da217b17e3e0
Merge: a838b38 d9d73e4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 14 22:48:51 2014 +0100

    Merge pull request #895 from olafmandel/LIBZMQ_CHECK_POLLER

    Clarify configure messages for --with-poller=...

commit a838b3897bc9f5f27ac9dc05b763e017e8aa0bac
Merge: ba5fcc9 f1ba66a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 14 20:41:54 2014 +0100

    Merge pull request #894 from olafmandel/Cygwin_gitignore

    Update .gitignore to exclude *.exe under Cygwin

commit d9d73e4bf953f1fdf5afb6cfc5fcec34dbe67839
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Fri Feb 14 14:40:51 2014 +0100

    Clarify configure messages for --with-poller=...

 acinclude.m4 |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f1ba66a78b6c513a5a257830d2204bf517665122
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Fri Feb 14 14:37:45 2014 +0100

    Update .gitignore to exclude *.exe under Cygwin

 .gitignore |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba5fcc95ebf95606406599e1d54f8e7354afe2ca
Merge: 1e9ea54 e41c8cb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 14 10:15:57 2014 +0100

    Merge pull request #892 from olafmandel/ZMQ_SOCKET_LIMIT

    Rename ZMQ_MAX_SOCKETS_MAX to ZMQ_SOCKET_LIMIT

commit e41c8cba0e4e8f2e36475fe7b223a84cc6d2a144
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Fri Feb 14 10:09:19 2014 +0100

    Rename ZMQ_MAX_SOCKETS_MAX to ZMQ_SOCKET_LIMIT

    As per suggestion by Pieter Hintjens. Also update wording in
    zmq_ctx_set manual a bit.

 doc/zmq_ctx_get.txt        |    8 ++++----
 doc/zmq_ctx_set.txt        |    2 +-
 include/zmq.h              |    2 +-
 src/ctx.cpp                |    2 +-
 tests/test_ctx_options.cpp |    4 ++--
 5 files changed, 9 insertions(+), 9 deletions(-)

commit 1e9ea54bf6b0f2d2c2a82af2118b6b7be008fd1f
Merge: af42d43 5815b76
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 13 19:15:01 2014 +0100

    Merge pull request #889 from olafmandel/MAX_SOCKETS_MAX

    Add ZMQ_MAX_SOCKETS_MAX to zmq_ctx_get()

commit af42d439cdaaa56ff9884938ed13307f008b934d
Merge: a6e05ad e8a13c4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 13 19:13:04 2014 +0100

    Merge pull request #890 from brunoqc/880

    Fix a strict-aliasing with type-punning

commit a6e05ad5a31b9b6747ea213db1e7a07568a51bf7
Merge: b54a168 3fb800c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 13 19:12:46 2014 +0100

    Merge pull request #891 from lalebarde/master

    Reverse zmq_proxy_chain and zmq_proxy_hook

commit 3fb800c10013bf6e756bd52e70d060166ec16f48
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Thu Feb 13 18:52:15 2014 +0100

    fix revert

 doc/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit abf9d8b74ea3be11abd68d4016e5ede3c7e5b834
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Thu Feb 13 18:33:52 2014 +0100

    Revert "add a proxy hook"

    This reverts commit 9ae6a91fadb96fd48038fde04cc3d4b61b49a8a1.

 doc/zmq_proxy_hook.txt |  200 ------------------------------------------------
 include/zmq.h          |    8 --
 src/proxy.cpp          |   34 ++------
 src/proxy.hpp          |   15 +---
 src/zmq.cpp            |   21 +----
 tests/test_proxy.cpp   |   93 +++-------------------
 6 files changed, 23 insertions(+), 348 deletions(-)

commit bc25366f7cf7f06a4baccd94b19e24a34fe97ac8
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Thu Feb 13 18:31:00 2014 +0100

    Revert "add proxy_chain, a multi proxies chaining in the same thread feature"

    This reverts commit bc7441f5176589ad9a34dc2bde6b91d78a44e3e0.

 doc/zmq_proxy_chain.txt    |  103 ----------------
 include/zmq.h              |    2 -
 src/proxy.cpp              |   88 +++++---------
 src/proxy.hpp              |   10 +-
 src/zmq.cpp                |   49 ++++----
 tests/Makefile.am          |    2 -
 tests/test_proxy_chain.cpp |  279 --------------------------------------------
 7 files changed, 56 insertions(+), 477 deletions(-)

commit e8a13c44b011a73ea037b573e415032ce0fccca1
Author: Bruno Bigras <bigras.bruno@gmail.com>
Date:   Thu Feb 13 12:06:10 2014 -0500

    Fix a strict-aliasing with type-punning

    Fixes #880

 src/ip.cpp |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 5815b768b9b6075d8743fe32947006af853fa9e8
Author: Olaf Mandel <o.mandel@menlosystems.com>
Date:   Thu Feb 13 15:54:06 2014 +0100

    Add ZMQ_MAX_SOCKETS_MAX to zmq_ctx_get()

    The new options allows querying the maximum allowed number of sockets.
    This is system dependent and cannot be encoded in the include file as a
    preprocessor macro: for ZMQ_USE_SELECT, this depends on the FD_SETSIZE
    macro at time of library compilation, not at time of include file use.

 doc/zmq_ctx_get.txt        |    5 +++++
 doc/zmq_ctx_set.txt        |    3 ++-
 include/zmq.h              |    1 +
 src/ctx.cpp                |    4 ++++
 tests/test_ctx_options.cpp |    8 ++++++++
 5 files changed, 20 insertions(+), 1 deletion(-)

commit b54a168d418f3ce93e4578ab067c63b1727eb07f
Merge: c7ffef3 b1471da
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 13 11:36:51 2014 +0100

    Merge pull request #884 from guruofquality/cmake_fixes

    fix libzmq.pc generation under cmake

commit c7ffef37bcc6fc0000726a544b4bc1f058d19bad
Merge: 1737520 a5741ea
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 13 10:03:55 2014 +0100

    Merge pull request #886 from guruofquality/auto_fixes

    fix autotools out of tree build link issue on linux

commit 1737520c672779150085a3324773a0e378141b95
Merge: 6150812 12442a3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 13 09:31:43 2014 +0100

    Merge pull request #887 from ricnewton/master

    Fix hang on terminate when inproc is connected but never bound.

commit 12442a3d6521cb5577c70928ae73bc76b1023a7d
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Feb 12 23:45:39 2014 +0000

    Bind pending connections on terminate outside lock.

 src/ctx.cpp |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 668c42fc2623aa1d234592395749f62c2282ccdc
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Feb 12 23:10:23 2014 +0000

    Fix hang on term when inproc is connected but never bound.

 src/ctx.cpp                   |    8 ++++++
 tests/test_inproc_connect.cpp |   54 +++++++++++++++++++++++++++--------------
 2 files changed, 44 insertions(+), 18 deletions(-)

commit a5741ea2f519e9bdad31392392e882b4b813de9b
Author: Josh Blum <josh@joshknows.com>
Date:   Wed Feb 12 11:22:37 2014 -0800

    fix autotools out of tree build link issue on linux

    added srcdir to --version-script=$(srcdir)/libzmq.vers

 src/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b1471da5ac60520836ddea3462520e6edb18f99a
Author: Josh Blum <josh@joshknows.com>
Date:   Tue Feb 11 15:46:38 2014 -0800

    fix libzmq.pc generation under cmake

    The ${libdir} was getting replaced/removed by configure_file() making pkg-config give bad flags: -L -lzmq
    My fix was to add @ONLY to configure_file() so ${} style pkg-config substitutions are left alone.
    In addition, I put the other typical ${} substitutions back into the libzmq.pc, since its now safe.

 CMakeLists.txt         |    2 +-
 src/libzmq.pc.cmake.in |    8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 6150812ff150341e83f63e99badee3ee103792a1
Merge: e376ad2 ab9349d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Feb 11 17:38:23 2014 +0000

    Merge pull request #881 from hintjens/master

    Revert "Fix potential memory leak"

commit ab9349d3fe907f49a5f69c8b1e57309214f5a80b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 11 18:30:08 2014 +0100

    Revert "Fix potential memory leak"

    This reverts commit 50d34e5653ade4f3f1623c86f1426aeb746ae564.

 src/socket_base.cpp |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit e376ad2787ebef91748921f1fb4766ce2b49d6a7
Merge: 8cda54c a094078
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Feb 9 21:57:49 2014 +0100

    Merge pull request #876 from hurtonm/master

    Fix identity handling for inproc transport

commit a09407829e956599d35959bdb271f26c09fd0043
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Feb 9 18:57:15 2014 +0100

    Fix identity handling for inproc transport

    Fixes #872

 src/ctx.cpp         |   16 ++++++----------
 src/pipe.cpp        |    5 +++--
 src/socket_base.cpp |   16 ++++++++++++++--
 3 files changed, 23 insertions(+), 14 deletions(-)

commit 8cda54c52b08005b71f828243f22051cdbc482b4
Merge: 5a47fc4 7a86b39
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 7 23:53:57 2014 +0100

    Merge pull request #874 from gyulalaszlo/cmake-switchable-tests

    Added ZMQ_BUILD_TESTS to CMakeLists.txt to allow turning off tests.

commit 7a86b39d634b7dfff87058ad0a041caa24624c3b
Author: Gyula Laszlo <gyula.laszlo.gm@gmail.com>
Date:   Fri Feb 7 17:50:45 2014 +0100

    Added ZMQ_BUILD_TESTS to CMakeLists.txt to allow turning off tests. Useful when building ZMQ as a git submodule.

 CMakeLists.txt |  150 +++++++++++++++++++++++++++++---------------------------
 1 file changed, 79 insertions(+), 71 deletions(-)

commit 5a47fc4f08e8ecf2adefec6d36156985cb927116
Merge: 0ac223c 50d34e5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 4 08:27:02 2014 -0800

    Merge pull request #871 from apyrgio/develop

    Fix potential segfault/memleak

commit 50d34e5653ade4f3f1623c86f1426aeb746ae564
Author: Alex Pyrgiotis <apyrgio@grnet.gr>
Date:   Mon Feb 3 18:03:25 2014 +0200

    Fix potential memory leak

    Delete the socket if the initialization part of the socket creation
    fails.

 src/socket_base.cpp |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e6ef16d005a8ad2c5cf2626654b5576042329d9c
Author: Alex Pyrgiotis <apyrgio@grnet.gr>
Date:   Mon Feb 3 17:35:53 2014 +0200

    Fix potential segmentation fault

    Call the allocation assertion macro before dereferencing the socket
    pointer.

 src/socket_base.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0ac223c746c2111c070f0b73e91a3b097c973bf7
Merge: 1fe82ae 4f56631
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Feb 3 03:25:29 2014 -0800

    Merge pull request #870 from hintjens/master

    Fixed issue #868

commit 4f56631f78699c9099ca79268221c932f8fc6eb3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 3 11:16:49 2014 +0100

    Fixed issue #868

 src/ip.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 45b593e7ed57106de93dd1582660a69aafe88cd7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 3 11:03:56 2014 +0100

    Whitespace fix

 src/thread.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 40d7ca6a606fd168a9a75dd5abafab146822ce94
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 9 13:35:33 2014 +0100

    Whitespace cleanups

 src/ctx.cpp |   28 ++++++++--------------------
 1 file changed, 8 insertions(+), 20 deletions(-)

commit 1fe82ae0a4dcae85b3ae0b7839d46310c264cb8b
Merge: 365b7b8 bb81b1e
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Jan 31 03:14:08 2014 -0800

    Merge pull request #866 from hintjens/master

    Fixed issue #865 - validation on ZMQ_TCP_KEEPALIVE

commit bb81b1e3d9b10e49e00eb32bf31b80611dce70f6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 31 12:02:42 2014 +0100

    Fixed issue #865 - validation on ZMQ_TCP_KEEPALIVE

 src/options.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 365b7b8d20bc9794464e2656006f561f9456d7d0
Merge: 6cd8693 0b9a9f7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 31 02:26:16 2014 -0800

    Merge pull request #864 from ricnewton/master

    Fix cmake build

commit 0b9a9f7671b0bf07cc2b03775179b1f4aac895c6
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Jan 30 13:21:20 2014 +0000

    Fix cmake build

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cd86932c5a03c2aea52cfbc4ee0d3e98bb915a2
Merge: de96d65 046e37e
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Jan 30 05:00:53 2014 -0800

    Merge pull request #863 from hintjens/master

    Test for 127.0.0.1 at tests startup

commit 046e37e907ee55fdcad000030a42c947659a6c60
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 29 20:16:58 2014 +0100

    Test for 127.0.0.1 at tests startup

 tests/test_system.cpp |   25 ++++++++++++++++---------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit de96d65f15110ca59ea7bd99048744eeea5dee6f
Merge: e45fddc fa31840
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jan 29 06:34:13 2014 -0800

    Merge pull request #862 from hintjens/master

    Fixed man page for zmq_proxy_hook

commit fa318400dcdd65f53eec5e778468e7b25e311f43
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 29 15:15:29 2014 +0100

    Fixed man page for zmq_proxy_hook

    - spaces instead of tabs for indentation
    - fixed levels under EXAMPLE USAGE
    - added to Makefile.am

 .gitignore             |    1 +
 doc/Makefile.am        |    3 +-
 doc/zmq_proxy_hook.txt |   87 ++++++++++++++++++++++++------------------------
 3 files changed, 46 insertions(+), 45 deletions(-)

commit e45fddc2bc9d39c2c22e9c2de2cc99469185d4a4
Merge: e436073 5dd82a6
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jan 29 05:59:52 2014 -0800

    Merge pull request #861 from pavel-pimenov/master

    [libzmq] const string p -> const string& p (#860)

commit 5dd82a6fa6f9075a4a9e8359d657ce08eee5ea46
Author: Pavel Pimenov <pavel.pimenov@gmail.com>
Date:   Wed Jan 29 15:58:53 2014 +0400

    [libzmq] const string p -> const string& p (#860)

 src/mechanism.cpp |    4 ++--
 src/mechanism.hpp |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit e436073b37dc48398ee2d91304bc38100df02d88
Merge: fcd9b95 bc7441f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 28 11:30:42 2014 -0800

    Merge pull request #858 from lalebarde/master

    add proxy_chain, a multi proxies chaining in the same thread feature

commit bc7441f5176589ad9a34dc2bde6b91d78a44e3e0
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Mon Jan 27 16:48:18 2014 +0100

    add proxy_chain, a multi proxies chaining in the same thread feature

 doc/zmq_proxy_chain.txt    |  103 ++++++++++++++++
 include/zmq.h              |    2 +
 src/proxy.cpp              |   88 +++++++++-----
 src/proxy.hpp              |   10 +-
 src/zmq.cpp                |   49 ++++----
 tests/Makefile.am          |    2 +
 tests/test_proxy_chain.cpp |  279 ++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 477 insertions(+), 56 deletions(-)

commit fcd9b9506a8b20515130ee60a5d1197b54340302
Merge: 188e99c b1aba5d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jan 26 06:22:10 2014 -0800

    Merge pull request #855 from hintjens/master

    Man page fixes

commit b1aba5dc30dd7809734cf1de88af704190bfb035
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 24 11:41:28 2014 -0600

    Fixed example for zmq_msg_copy

 doc/zmq_msg_copy.txt |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 62ac5bb77f33985c6c73c98e78fcc9ce7935cbfe
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 24 10:20:46 2014 -0600

    Fixed type for ZMQ_RCVMORE getsockopt example

 doc/zmq_msg_recv.txt |    2 +-
 doc/zmq_recvmsg.txt  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 188e99c0d482ef50983e0a4e14be1ab03af6bbd0
Merge: a706551 9ae6a91
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 24 09:57:46 2014 -0800

    Merge pull request #854 from lalebarde/master

    add a proxy hook

commit 9ae6a91fadb96fd48038fde04cc3d4b61b49a8a1
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Wed Jan 22 15:20:13 2014 +0100

    add a proxy hook

 doc/zmq_proxy_hook.txt |  201 ++++++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h          |    8 ++
 src/proxy.cpp          |   34 ++++++--
 src/proxy.hpp          |   15 +++-
 src/zmq.cpp            |   21 ++++-
 tests/test_proxy.cpp   |   93 +++++++++++++++++++---
 6 files changed, 349 insertions(+), 23 deletions(-)

commit a7065519dfd6455f6cb084c1375afa6b6ac14c49
Merge: 8fea78b 9c228e9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jan 23 08:23:23 2014 -0800

    Merge pull request #852 from hintjens/master

    Fixes to test cases

commit 9c228e9374ba072fcecf2b6439c49a44f0ba23a7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 23 09:23:46 2014 -0600

    Fixes to test cases

    - renamed test_stream_disconnect_notifications (too long!)
    - removed print statements in that test case
    - fixed Makefile.am for test_zap_ipc_creds (was not building)

 .gitignore                                     |    2 +
 tests/Makefile.am                              |    9 +-
 tests/test_stream_disconnect.cpp               |  258 ++++++++++++++++++++++
 tests/test_stream_disconnect_notifications.cpp |  272 ------------------------
 4 files changed, 262 insertions(+), 279 deletions(-)

commit 8fea78b130bb21104c0893ca07ed1d600de1e5d9
Merge: 9c6aa1e e71dfd1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 22 05:24:34 2014 -0800

    Merge pull request #849 from pijyoi/master

    typo fix: RECVHWM -> RCVHWM

commit e71dfd13d79c63085d59c853f188677bc0684fdb
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Wed Jan 22 08:40:35 2014 +0800

    typo fix: RECVHWM -> RCVHWM

 doc/zmq_setsockopt.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c6aa1e9e00ab11a1c716e1fd2f1c56030972e30
Merge: 14c6cba 188e76a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 21 12:08:00 2014 -0800

    Merge pull request #848 from Prarrot/master

    Changed fail behavior of CONNECT_RID to an assert failure instead of silent failure.

commit 188e76a73f7704f2b0b1e26e1370b19eb49b5ac3
Author: Tim M <tim@ent.net>
Date:   Tue Jan 21 11:49:41 2014 -0800

    Added asserts on socket close in test_conenct_rid.

 tests/test_connect_rid.cpp |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 515af9b147f941a6e7eef4b7bddaad9c655ddc31
Author: Tim M <tim@ent.net>
Date:   Tue Jan 21 11:43:34 2014 -0800

    Added assert on duplicate id in ROUTER and STREAM sockets.  Updated man to reflect this change.  Modified test case to match.

 doc/zmq_setsockopt.txt     |    6 +++---
 src/router.cpp             |    5 ++---
 src/stream.cpp             |    4 ++--
 tests/test_connect_rid.cpp |   14 ++++----------
 4 files changed, 11 insertions(+), 18 deletions(-)

commit 141e1b5966e6422a97fb503634ae766ed9265530
Author: Tim M <tim@ent.net>
Date:   Tue Jan 21 11:24:39 2014 -0800

    Cleaned up formatting of test_connect_rid.  Set LINGER to 0 on sockets.  This may address the test failing on some devices.

 tests/test_connect_rid.cpp |  216 +++++++++++++++++++++++++++-----------------
 1 file changed, 132 insertions(+), 84 deletions(-)

commit 14c6cba2a56997785468b053365287865d603d24
Merge: 6602470 5bc6737
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 21 02:14:34 2014 -0800

    Merge pull request #846 from lalebarde/master

    factorize code in proxy

commit 660247066f87f613c8c10a0531d5901bedcf1163
Merge: 0e94ddf 2d6d8af
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 21 02:12:30 2014 -0800

    Merge pull request #847 from Prarrot/master

    Added test_connect_rid

commit 2d6d8af0b8623ddcb5fe57b18d2a1949a429178f
Author: Tim M <tim@ent.net>
Date:   Mon Jan 20 12:26:26 2014 -0800

    added space at end of file

 tests/test_connect_rid.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 2b0fe6d181b006be8df80a41fda045b117fa471d
Author: Tim M <tim@ent.net>
Date:   Mon Jan 20 12:23:48 2014 -0800

    Updated AUTHORS

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 7279429cf10bdde0880d5eaac5c6b0035e4e70a7
Author: Tim M <tim@ent.net>
Date:   Mon Jan 20 12:21:07 2014 -0800

    tabs to spaces

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de1164255a213716ccee4d799163ef7c15569850
Author: Tim M <tim@ent.net>
Date:   Mon Jan 20 12:18:04 2014 -0800

    added test_connect_rid file and added to CMakeLists again.

 CMakeLists.txt             |    1 +
 tests/test_connect_rid.cpp |  136 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 137 insertions(+)

commit 5bc67370390f10573eb3eec1c424722ea16a48e8
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Mon Jan 20 17:00:02 2014 +0100

    factorize code in proxy

 src/proxy.cpp |  128 +++++++++++++++++++++++++++------------------------------
 1 file changed, 60 insertions(+), 68 deletions(-)

commit 0e94ddf377d0aa6fdba1dbeef363d7fcad2ac48b
Merge: aaeae8d ebb51d7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 20 03:40:46 2014 -0800

    Merge pull request #842 from ipechorin/master

    Fix compilation of tests on MSVC 2008

commit ebb51d79227789627efb7a427d28d61669aca73d
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Mon Jan 20 21:03:45 2014 +1300

    Fix CMake tests - delete non-existing test_connect_rid

 CMakeLists.txt |    1 -
 1 file changed, 1 deletion(-)

commit 1d7a07d9192fdb6c72f4aa5aa09508376bcdd686
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Mon Jan 20 20:55:32 2014 +1300

    Fix compilation of tests on MSVC 2008

 tests/testutil.hpp |    1 +
 1 file changed, 1 insertion(+)

commit aaeae8deb308febfab30e3bf96706fc38e9604b6
Merge: 2f85447 3fbc10e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 19 19:37:13 2014 -0800

    Merge pull request #841 from Prarrot/master

    ZMQ_CONNECT_RID tests and man

commit 3fbc10eba7393b0bfac87d0c700a14162fefc895
Author: Tim M <tim@ent.net>
Date:   Sun Jan 19 17:28:13 2014 -0800

    Updated man entries, and added behavior in case the user duplicates peer ids.  In this case the socket reverts to default behavior.

 doc/zmq_setsockopt.txt |   26 ++++++++++++++++++++++++++
 src/router.cpp         |    6 ++++--
 src/stream.cpp         |    5 ++++-
 3 files changed, 34 insertions(+), 3 deletions(-)

commit 1d9b76c860b3575bbe956cce461e6c001f497e2f
Author: Tim M <tim@ent.net>
Date:   Sun Jan 19 15:59:43 2014 -0800

    Added test for ZMQ_CONNECT_RID

 CMakeLists.txt |    1 +
 src/router.cpp |    4 +---
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 2f36f65f8ff0b1064f708525e1abd61932b744f3
Author: Tim M <tim@ent.net>
Date:   Sun Jan 19 15:05:20 2014 -0800

    Fixed duplicate variable declaration.

 src/stream.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f85447273a06ac36e714fd72e1e170864ec6507
Merge: 5f07d10 50bd28c
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jan 19 01:38:05 2014 -0800

    Merge pull request #839 from hintjens/master

    Cleaned up option to force identity on outgoing connection

commit 50bd28c037ad85af638a97bc869725dbff51c8c0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 19 09:27:57 2014 +0100

    Cleaned up option to force identity on outgoing connection

    - renamed to ZMQ_CONNECT_RID
    - fixed whitespace malformating around previous patch
    - renamamed next_peer_id to next_rid in preparation for
      larger rename of IDENTITY to ROUTING_ID

    Note: ZMQ_CONNECT_RID has no test case and no entry in the man
    page, as yet.

 include/zmq.h       |    3 ++-
 src/router.cpp      |   45 ++++++++++++++++++++++++---------------------
 src/router.hpp      |    4 ++--
 src/socket_base.hpp |    4 +++-
 src/stream.cpp      |   20 +++++++++++---------
 src/stream.hpp      |    4 ++--
 6 files changed, 44 insertions(+), 36 deletions(-)

commit 5f07d103a740966603f4c38fdda8b36b89c1b7c2
Merge: cedca84 b1920bd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 19 00:09:15 2014 -0800

    Merge pull request #838 from Prarrot/master

    Fixed compile issue with missing member of socket_base.  Changed ZMQ_NEX...

commit cedca84196c275772297e105de52d04d0762ea17
Merge: d82389a 00aeadd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 19 00:08:05 2014 -0800

    Merge pull request #837 from arsenm/master

    Fix cmake build and warnings

commit b1920bdf9016320b0e1a357ce0988919fbcc4c89
Author: Tim M <tim@ent.net>
Date:   Sat Jan 18 17:49:54 2014 -0800

    Fixed compile issue with missing member of socket_base.  Changed ZMQ_NEXT_IDENTITY to ZMQ_NEXT_CONNECT_PEER_ID.

    Fixed case where ZMQ_NEXT_CONNECT_PEER_ID is used in ROUTER, and ROUTER does not read the identity message from the connected pipe.

 include/zmq.h       |    2 +-
 src/router.cpp      |   12 ++++++++----
 src/socket_base.hpp |    3 ++-
 src/stream.cpp      |    2 +-
 4 files changed, 12 insertions(+), 7 deletions(-)

commit 00aeaddf945cf7bdca33473fdd591a0f874ab2b4
Author: Matt Arsenault <arsenm2@gmail.com>
Date:   Sat Jan 18 13:08:06 2014 -0800

    Fix unused parameter and variable warnings.

 src/mechanism.cpp                              |    4 ++--
 src/mechanism.hpp                              |    4 ++--
 src/stream.cpp                                 |    5 +----
 src/stream_engine.cpp                          |    2 +-
 src/ypipe_conflate.hpp                         |    2 +-
 src/zmq_utils.cpp                              |    5 +++--
 tests/test_conflate.cpp                        |    2 +-
 tests/test_disconnect_inproc.cpp               |    2 +-
 tests/test_hwm.cpp                             |    2 +-
 tests/test_stream.cpp                          |    4 ++--
 tests/test_stream_disconnect_notifications.cpp |    2 +-
 11 files changed, 16 insertions(+), 18 deletions(-)

commit 5a230f7d9e1a6094d9b0fc6b8ad28ac54db149be
Author: Matt Arsenault <arsenm2@gmail.com>
Date:   Sat Jan 18 12:59:12 2014 -0800

    Fix cmake configure error from deleted test.

 CMakeLists.txt |    3 ---
 1 file changed, 3 deletions(-)

commit d82389a788731715f8557503552b41f40209115d
Merge: a66c47f f13512a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 17 23:13:07 2014 -0800

    Merge pull request #834 from Prarrot/master

    Updated STREAM and ROUTER sockets to allow for pre-naming of outbound connections

commit a66c47f9951a80ed09cd3f8044b08c6e9c3589bc
Merge: d13b74e 92f8f24
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 17 23:11:45 2014 -0800

    Merge pull request #833 from mrvn/pull_store-fd-on-connect

    Store socket FD after connect

commit d13b74e9552fc115381446bb6cd4aeff27213f54
Merge: 53d0199 afb24b5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 17 23:11:27 2014 -0800

    Merge pull request #832 from mrvn/pull_stream-connect-notification

    Add STREAM connect notification.

commit f13512a92634fa502b8f5747ff49e7137951fde7
Author: Tim M <tim@ent.net>
Date:   Fri Jan 17 14:41:45 2014 -0800

    fixed define value in header

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5d4860ea1238360490dc9fe8cfb8dc81b5a47903
Author: Tim M <tim@ent.net>
Date:   Fri Jan 17 14:34:39 2014 -0800

    Both STREAM and ROUTER sockets suffer from a naming problem on outbound connections. While these connections can be created, they can't be immediately used. Traffic must be received before it can be sent. This prevents practical, minimal usage of STREAM or ROUTER as a true N fan in/out socket.

    This change simply provides the user with a socket option that sets a user defined name of the next outbound connection:

    zmq_setsockopt(routerSock,ZMQ_NEXT_IDENTITY,"myname",6);
    if(0 > zmq_connect(routerSock,"tcp://127.0.0.1:1234")) return 1;
    ret = zmq_send(routerSock,"myname",6,ZMQ_SNDMORE);
    zmq_send(routerSock,b.mem,b.used,0);

    In this example, the socket is immediately given the name "myname", and is capable of immediately sending traffic.

    This approach is more effective in three ways:
    1) It prevents all sorts of malicious peer naming attacks that can cause undefined behavior in existing ROUTER connections. (Two connections are made that both transmit the same name to the ROUTER, the ROUTER behavior is undefined)
    2) It allows immediate control of connections made to external parties for STREAM sockets. Something that is not possible right now. Before an outbound connection had no name for STREAM or ROUTER sockets because outbound connections cannot be sent to without first receiving traffic.
    3) It is simpler and more general than expecting two ROUTER sockets to handshake on assigned connection names. Plus it allows inline sending to new connections on ROUTER.

 include/zmq.h  |    2 +-
 src/router.cpp |   15 +++++++++++++--
 src/stream.cpp |   38 +++++++++++++++++++++++++++++++-------
 src/stream.hpp |    2 +-
 4 files changed, 46 insertions(+), 11 deletions(-)

commit afb24b53e6d1fc39cd1b73be706b335ed5c7b6fb
Author: Goswin von Brederlow <goswin-v-b@web.de>
Date:   Fri Jan 17 23:21:42 2014 +0100

    Add STREAM connect notification.
    Adjust test cases to connection notification.
    Increase error checking in test cases.

 src/stream_engine.cpp                          |    8 ++
 tests/test_stream.cpp                          |   64 ++++++++--
 tests/test_stream_disconnect_notifications.cpp |  150 ++++++++++++++++++------
 3 files changed, 174 insertions(+), 48 deletions(-)

commit 92f8f244e231d5b43a494b361ac7db75d69406c6
Author: Goswin von Brederlow <goswin-v-b@web.de>
Date:   Fri Jan 17 23:23:32 2014 +0100

    Store socket FD after connect

 src/tcp_connecter.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit 53d0199e50ddc9fad07b5cf64113cdbf7a0fbf04
Merge: 22655d0 f4a67b2
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Jan 16 05:25:58 2014 -0800

    Merge pull request #828 from snikulov/cmake_rc_merge_fix

    fixed cmake merge related to version.rc.in handling

commit f4a67b2520822547a649faa0b3c560116a62424b
Author: Sergei Nikulov <sergey.nikulov@gmail.com>
Date:   Thu Jan 16 16:29:12 2014 +0400

    fixed cmake merge related to version.rc.in handling

 CMakeLists.txt |    4 ----
 1 file changed, 4 deletions(-)

commit 22655d05c70f11c92ca5da642eb4be7885833a51
Merge: 526847b 88a8be8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 15 22:08:19 2014 -0800

    Merge pull request #827 from EricMCornelius/master

    Corrects ypipe initialization when conflate is NOT enabled.

commit 88a8be8231eeed87d0817339eaba00e16bbb9519
Author: Eric Cornelius <EricMCornelius@gmail.com>
Date:   Wed Jan 15 18:11:13 2014 -0500

    Update pipe.cpp

 src/pipe.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 589fa57afa78f678d31204d7509cd99539c87ada
Author: Eric Cornelius <EricMCornelius@gmail.com>
Date:   Wed Jan 15 18:08:45 2014 -0500

    Corrects ypipe initialization when conflate is NOT enabled.

    Fixes LIBZMQ-584

 src/pipe.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 526847b73b1ec1bf90f3056d64232e9c92073c25
Merge: f8300d1 17651b9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 14 22:25:01 2014 -0800

    Merge pull request #825 from AndreLouisCaron/disconnect-notifications

    Adds support for detecting ZMQ_STREAM disconnections.

commit f8300d183aa41a119e567cf1b8429831649c9bc1
Merge: f253fe5 2101154
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 14 22:24:30 2014 -0800

    Merge pull request #824 from AndreLouisCaron/fix-cmake-build

    Fixes CMake build after ZAP test file was deleted.

commit 21011541e01433e90b8f3ea119c871df3c6c4921
Author: Andre Caron <andre.l.caron@gmail.com>
Date:   Tue Jan 14 17:22:52 2014 -0800

    Fixes CMake build after ZAP test file was deleted.

    File was removed in 5bf96f64b07ff74548495fdf38198a9cc8edb662 a few days ago.

 CMakeLists.txt |    1 -
 1 file changed, 1 deletion(-)

commit 17651b927603199200930ced30f4367920c720ad
Author: Andre Caron <andre.l.caron@gmail.com>
Date:   Sun Jan 12 22:36:47 2014 -0500

    Adds support for detecting ZMQ_STREAM disconnections.

    When a ZMQ_STREAM socket connection is broken (intentionally, via `shutdown()`
    or accidentally via client crash or network failure), there is no way for the
    application to dertermine that it should drop per-connection data (such as
    buffers).

    This contribution makes sure the application receives a 0-length message to
    notify it that the connection has been broken.  This is symmetric with the
    process of closing the connection from within the application (where the
    application sends a 0-length message to tell ZeroMQ to close the connection).

    Conflicts:
        CMakeLists.txt

 AUTHORS                                        |    1 +
 CMakeLists.txt                                 |    1 +
 doc/zmq_socket.txt                             |    4 +-
 src/stream_engine.cpp                          |    8 +
 tests/Makefile.am                              |    2 +
 tests/test_stream_disconnect_notifications.cpp |  200 ++++++++++++++++++++++++
 6 files changed, 215 insertions(+), 1 deletion(-)

commit f253fe5f42c6ca96ea401e69fc7aa504a5120122
Merge: d981d01 bf06f3b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 14 03:29:16 2014 -0800

    Merge pull request #823 from ricnewton/master

    Define NOMINMAN to fix windows build.

commit bf06f3bb27075516242cb50a3e86db63aab4961a
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Jan 14 10:27:40 2014 +0000

    Define NOMINMAN to fix windows build.

 src/windows.hpp |    3 +++
 1 file changed, 3 insertions(+)

commit d981d016559dfb49661e245ff2253943b7859e4d
Merge: d765a0e d38a0c4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 13 09:38:43 2014 -0800

    Merge pull request #821 from davipt/master

    use version-script only for ELF linux

commit d38a0c43b6ca7f5acf3cbd2c99e1911bac72e5a8
Author: Bruno D. Rodrigues <bruno.rodrigues@litux.org>
Date:   Mon Jan 13 17:31:56 2014 +0000

    use version-script only for ELF linux

 src/Makefile.am |    4 ++++
 1 file changed, 4 insertions(+)

commit d765a0e7d4bd09d90caee9b687334e1f49e0dfd3
Merge: 676dada 5efee6e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 13 03:40:04 2014 -0800

    Merge pull request #820 from jtanx/win32

    Fix compilation on Windows (MinGW-w64)

commit 5efee6e0d5c3d466eb63421b2d4b40609e560401
Author: Jeremy Tan <jeremy@jx.tan.fake>
Date:   Mon Jan 13 18:38:59 2014 +0800

    Fix compilation on MinGW-w64

 src/windows.hpp      |  129 ++------------------------------------------------
 tests/test_srcfd.cpp |    1 +
 2 files changed, 5 insertions(+), 125 deletions(-)

commit 676dada8f64800c393f4ef038d5485ca8ec71cf5
Merge: 5c4f3cc e46ec31
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 12 15:51:56 2014 -0800

    Merge pull request #819 from hurtonm/master

    Implement socket_base_t::get_credential member function

commit e46ec31209bc660c3463d70b84d8c38591ca1a43
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Jan 12 21:58:36 2014 +0100

    Implement socket_base_t::get_credential member function

    The get_credential () member function returns
    credential for the last peer we received message for.
    The idea is that this function is used to implement user-level API.

 src/curve_server.cpp    |    3 +++
 src/dealer.cpp          |    6 ++++++
 src/dealer.hpp          |    1 +
 src/fq.cpp              |   16 +++++++++++++++-
 src/fq.hpp              |   10 ++++++++++
 src/mechanism.cpp       |   10 ++++++++++
 src/mechanism.hpp       |    6 ++++++
 src/msg.cpp             |    5 +++++
 src/msg.hpp             |    2 ++
 src/null_mechanism.cpp  |    3 +++
 src/pair.cpp            |   16 ++++++++++++++--
 src/pair.hpp            |    6 ++++++
 src/pipe.cpp            |   15 +++++++++++++++
 src/pipe.hpp            |    5 +++++
 src/plain_mechanism.cpp |    3 +++
 src/pull.cpp            |    5 +++++
 src/pull.hpp            |    1 +
 src/router.cpp          |    5 +++++
 src/router.hpp          |    1 +
 src/socket_base.cpp     |    5 +++++
 src/socket_base.hpp     |    6 ++++++
 src/stream_engine.cpp   |   25 ++++++++++++++++++++++++-
 src/stream_engine.hpp   |    1 +
 src/xsub.cpp            |    5 +++++
 src/xsub.hpp            |    1 +
 25 files changed, 158 insertions(+), 4 deletions(-)

commit 5c4f3cc6030ce7eb2c3c0e8b25c0d6ce81960f9d
Merge: ea54669 27c0508
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jan 12 08:35:05 2014 -0800

    Merge pull request #817 from Debian/symbols

    Only export zmq_* symbols

commit ea54669b6f86889a294b2a4fdc63590d2666c57a
Merge: 6e1b1fe 245c75a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jan 12 08:33:21 2014 -0800

    Merge pull request #818 from Debian/s390x

    Fix timestamp counter on s390/s390x

commit 245c75aad6a58d8c5c4c3e2732b7a8edbc925dd8
Author: Alessandro Ghedini <alessandro@ghedini.me>
Date:   Sun Jan 12 12:31:31 2014 +0100

    Fix timestamp counter on s390/s390x

    Fixes #811

 src/clock.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 27c050845c94f54101f6f64b2fdebb27c41e67d4
Author: Alessandro Ghedini <alessandro@ghedini.me>
Date:   Sun Jan 12 12:30:45 2014 +0100

    Only export zmq_* symbols

 src/Makefile.am |    2 +-
 src/libzmq.vers |    4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 6e1b1fef8fe123430ca2384efc91e56947f41e3b
Merge: 2667115 bd2874a
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Jan 10 02:34:39 2014 -0800

    Merge pull request #816 from snikulov/fix_test_windows

    windows: changed tcp port from glrpc assigned to unassigned one

commit bd2874a3a0f8335fd8672b0780c14c7fe37e01f6
Author: Sergei Nikulov <sergey.nikulov@gmail.com>
Date:   Fri Jan 10 13:49:11 2014 +0400

    windows: changed tcp port from glrpc assigned to unassigned one

 tests/test_stream.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 266711556dc2844c17c8efa9b1b70bc4e43e6b23
Merge: ab07f72 1904f90
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Jan 10 00:29:08 2014 -0800

    Merge pull request #815 from snikulov/cmake_install_update

    cmake: fixed error 'install TARGETS given no ARCHIVE DESTINATION'

commit 1904f9028441911a189afb9f71946d015c8d2d16
Author: Sergei Nikulov <sergey.nikulov@gmail.com>
Date:   Fri Jan 10 10:47:33 2014 +0400

    cmake: fixed error 'install TARGETS given no ARCHIVE DESTINATION for static library target'

 CMakeLists.txt |    1 +
 1 file changed, 1 insertion(+)

commit ab07f7220d7e1cec64ab174ca241c2294bc15790
Merge: 1014501 5d41d51
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 8 13:37:22 2014 -0800

    Merge pull request #814 from hurtonm/master

    Replace assert with zmq_assert

commit 5d41d51ba560b37e616f04716d30e7a294c7cd53
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jan 8 21:11:51 2014 +0100

    Replace assert with zmq_assert

 src/msg.cpp           |    2 +-
 src/proxy.cpp         |    2 +-
 src/req.cpp           |    2 +-
 src/stream_engine.cpp |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 101450167969afa3909af01c7143fa74de8dc27b
Merge: 60d6b89 a80fb34
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Jan 8 09:42:24 2014 -0800

    Merge pull request #813 from hurtonm/master

    Fix some comments regarding method overriding

commit a80fb347655c45b90a66f418960b624a7ec0305a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jan 8 18:25:31 2014 +0100

    Fix some comments regarding method overriding

 src/dealer.hpp      |    2 +-
 src/object.hpp      |    2 +-
 src/pair.hpp        |    2 +-
 src/pull.hpp        |    2 +-
 src/push.hpp        |    2 +-
 src/rep.hpp         |    2 +-
 src/req.hpp         |    4 ++--
 src/router.hpp      |    2 +-
 src/socket_base.hpp |    2 +-
 src/stream.hpp      |    2 +-
 src/sub.cpp         |    4 ++--
 src/xsub.hpp        |    2 +-
 12 files changed, 14 insertions(+), 14 deletions(-)

commit 60d6b89c5eaff8101f4f3aab2d946e16d70b8171
Merge: 6292218 d72ceb9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 7 23:49:37 2014 -0800

    Merge pull request #812 from hurtonm/master

    Make it explicit that the probe function doesn't modify passed message

commit d72ceb93beffa674977179681dbc593c7b9f0f7f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jan 8 07:49:02 2014 +0100

    Make it explicit that the probe function doesn't modify passed message

 src/dbuffer.hpp        |    2 +-
 src/msg.cpp            |    2 +-
 src/msg.hpp            |    2 +-
 src/pipe.cpp           |    2 +-
 src/pipe.hpp           |    2 +-
 src/ypipe.hpp          |    2 +-
 src/ypipe_base.hpp     |    2 +-
 src/ypipe_conflate.hpp |    2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit 629221889d46835d2ed238c6f70f893693ba8834
Merge: ecb9770 23ea1b2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 6 20:56:23 2014 -0800

    Merge pull request #810 from sradomski/master

    ZMQ_SRCFD docs and tests

commit 23ea1b2b641ffdda91bfb223a0ad9dbfec06b841
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Tue Jan 7 01:13:46 2014 +0100

    typo in docs

 doc/zmq_msg_get.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3aeaa6fab135aced3e762031621491c4779285c0
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Tue Jan 7 01:09:51 2014 +0100

    ZMQ_SRCFD docs and tests

    Also moved the fd field from message content to message itself

 doc/zmq_msg_get.txt  |    6 ++++
 include/zmq.h        |    2 +-
 src/msg.cpp          |   20 +++++------
 src/msg.hpp          |    9 ++---
 src/socket_base.cpp  |   10 +++---
 src/socket_base.hpp  |    2 +-
 tests/Makefile.am    |    2 ++
 tests/test_srcfd.cpp |   98 ++++++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 129 insertions(+), 20 deletions(-)

commit ecb9770947f6eacc5ab016eb32cbd60d6b614953
Merge: c7e3efb 96f5fdd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 6 04:46:52 2014 -0800

    Merge pull request #809 from hurtonm/master

    Simplify ypipe_t and ypipe_base_t template parameters

commit 96f5fddc4503c9e013cba49246c1a33b4c96aba7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jan 6 11:19:56 2014 +0100

    Simplify ypipe_t and ypipe_base_t template parameters

 src/pipe.cpp           |    6 +++---
 src/pipe.hpp           |    2 +-
 src/ypipe.hpp          |    2 +-
 src/ypipe_base.hpp     |    2 +-
 src/ypipe_conflate.hpp |    2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit c7e3efba6b77aa21c23207f902c1f6499a79ab6b
Merge: 08d897b 823b7eb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 6 01:48:39 2014 -0800

    Merge pull request #808 from sradomski/master

    Allow clients to get remote endpoint per message for TCP connections

commit 823b7ebeb00691e9764cd83f602e9c4a20c884ce
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Mon Jan 6 10:33:58 2014 +0100

    Removed dead code

 src/session_base.cpp |    4 ----
 1 file changed, 4 deletions(-)

commit f30fb8501ef845eae9a44c032813e5c45e189ac4
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Mon Jan 6 10:31:42 2014 +0100

    Expose remote FD via zmq_msg_get(&msg, ZMQ_SRCFD)

    This patch allows client applications to retrieve the remote endpoint from a message that originated from a tcp socket

 include/zmq.h        |    1 +
 src/msg.cpp          |   15 +++++++++++++++
 src/msg.hpp          |    4 ++++
 src/session_base.cpp |    6 ++++++
 src/socket_base.cpp  |   15 +++++++++++++++
 src/socket_base.hpp  |    6 ++++++
 src/tcp_listener.cpp |    4 ++++
 src/zmq.cpp          |    2 ++
 8 files changed, 53 insertions(+)

commit 08d897b17451c1694a94ff0d8cbfee35a3025924
Merge: b5d2239 8c3e645
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 2 22:13:46 2014 -0800

    Merge pull request #804 from mattconnolly/master

    Update test_filter_ipc to not use abstract socket.

commit 8c3e64501334a8a3af0610139b9f4456c532615b
Author: Matt Connolly <matt.connolly@me.com>
Date:   Fri Jan 3 10:42:57 2014 +1000

    Update test_filter_ipc to not use abstract socket.

    This fixes the test on Mac OS X and SmartOS (probably other Solarises).
    Also updates the sockets using ipc: to use DEALER sockets instead
    of PAIR sockets.

 tests/test_abstract_ipc.cpp |    4 ++--
 tests/test_filter_ipc.cpp   |    9 +++++----
 2 files changed, 7 insertions(+), 6 deletions(-)

commit b5d2239a4e19a038e4a6aa03f3fea5f29fc10f66
Merge: 2fa49e9 cd2827f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 2 13:10:17 2014 -0800

    Merge pull request #803 from vortechs2000/fix-libzmq-576

    Fix LIBZMQ-576 - Revert "Merge pull request #510 from miniway/master"

commit cd2827fb36c9dd5fe13bc541c441d50093b182ac
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Thu Jan 2 10:43:01 2014 -0600

    Fix LIBZMQ-576 - Revert "Merge pull request #510 from miniway/master"

    This reverts commit f27eb67e1abb0484c41050e454404cce30647b63, reversing
    changes made to a3ae0d4c16c892a4e6c96d626a7c8b7068450336.

    https://zeromq.jira.com/browse/LIBZMQ-576

    Conflicts:
        src/stream_engine.cpp

    Conflicts were around additional defaults to the constructor after the
    'terminating' default.  The additional defaults were left alone, and
    the 'terminating' default was removed.

 src/encoder.hpp       |    5 -----
 src/i_encoder.hpp     |    1 -
 src/stream_engine.cpp |   12 ------------
 src/stream_engine.hpp |    1 -
 4 files changed, 19 deletions(-)

commit 2fa49e96d2dc79c07597d35ff0264480dbc4c96a
Merge: 384f852 b3b9e04
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jan 2 03:19:45 2014 -0800

    Merge pull request #800 from hintjens/master

    Minor cosmetic fixes

commit b3b9e046eec7c8d49501bc51c7b7562002ee14c3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 2 12:00:57 2014 +0100

    Updated copyright statements for 2014

 AUTHORS                           |    2 +-
 include/zmq.h                     |    2 +-
 include/zmq_utils.h               |    2 +-
 perf/inproc_lat.cpp               |    2 +-
 perf/local_lat.cpp                |    2 +-
 perf/local_thr.cpp                |    2 +-
 perf/remote_lat.cpp               |    2 +-
 perf/remote_thr.cpp               |    2 +-
 src/address.cpp                   |    2 +-
 src/address.hpp                   |    2 +-
 src/array.hpp                     |    2 +-
 src/atomic_counter.hpp            |    2 +-
 src/atomic_ptr.hpp                |    2 +-
 src/blob.hpp                      |    2 +-
 src/clock.cpp                     |    2 +-
 src/clock.hpp                     |    2 +-
 src/command.hpp                   |    2 +-
 src/config.hpp                    |    2 +-
 src/ctx.cpp                       |    2 +-
 src/ctx.hpp                       |    2 +-
 src/curve_client.cpp              |    2 +-
 src/curve_client.hpp              |    2 +-
 src/curve_server.cpp              |    2 +-
 src/curve_server.hpp              |    2 +-
 src/dbuffer.hpp                   |    2 +-
 src/dealer.cpp                    |    2 +-
 src/dealer.hpp                    |    2 +-
 src/decoder.hpp                   |    2 +-
 src/devpoll.cpp                   |    2 +-
 src/devpoll.hpp                   |    2 +-
 src/dist.cpp                      |    2 +-
 src/dist.hpp                      |    2 +-
 src/encoder.hpp                   |    2 +-
 src/epoll.cpp                     |    2 +-
 src/epoll.hpp                     |    2 +-
 src/err.cpp                       |    2 +-
 src/err.hpp                       |    2 +-
 src/fd.hpp                        |    2 +-
 src/fq.cpp                        |    2 +-
 src/fq.hpp                        |    2 +-
 src/i_decoder.hpp                 |    2 +-
 src/i_encoder.hpp                 |    2 +-
 src/i_engine.hpp                  |    2 +-
 src/i_poll_events.hpp             |    2 +-
 src/io_object.cpp                 |    2 +-
 src/io_object.hpp                 |    2 +-
 src/io_thread.cpp                 |    2 +-
 src/io_thread.hpp                 |    2 +-
 src/ip.cpp                        |    2 +-
 src/ip.hpp                        |    2 +-
 src/ipc_address.cpp               |    2 +-
 src/ipc_address.hpp               |    2 +-
 src/ipc_connecter.cpp             |    2 +-
 src/ipc_connecter.hpp             |    2 +-
 src/ipc_listener.cpp              |    2 +-
 src/ipc_listener.hpp              |    2 +-
 src/kqueue.cpp                    |    2 +-
 src/kqueue.hpp                    |    2 +-
 src/lb.cpp                        |    2 +-
 src/lb.hpp                        |    2 +-
 src/likely.hpp                    |    2 +-
 src/mailbox.cpp                   |    2 +-
 src/mailbox.hpp                   |    2 +-
 src/mechanism.cpp                 |    2 +-
 src/mechanism.hpp                 |    2 +-
 src/msg.cpp                       |    2 +-
 src/msg.hpp                       |    2 +-
 src/mtrie.cpp                     |    2 +-
 src/mtrie.hpp                     |    2 +-
 src/mutex.hpp                     |    2 +-
 src/null_mechanism.cpp            |    2 +-
 src/null_mechanism.hpp            |    2 +-
 src/object.cpp                    |    2 +-
 src/object.hpp                    |    2 +-
 src/options.cpp                   |    2 +-
 src/options.hpp                   |    2 +-
 src/own.cpp                       |    2 +-
 src/own.hpp                       |    2 +-
 src/pair.cpp                      |    2 +-
 src/pair.hpp                      |    2 +-
 src/pgm_receiver.cpp              |    2 +-
 src/pgm_receiver.hpp              |    2 +-
 src/pgm_sender.cpp                |    2 +-
 src/pgm_sender.hpp                |    2 +-
 src/pgm_socket.cpp                |    2 +-
 src/pgm_socket.hpp                |    2 +-
 src/pipe.cpp                      |    2 +-
 src/pipe.hpp                      |    2 +-
 src/plain_mechanism.cpp           |    2 +-
 src/plain_mechanism.hpp           |    2 +-
 src/poll.cpp                      |    2 +-
 src/poll.hpp                      |    2 +-
 src/poller.hpp                    |    2 +-
 src/poller_base.cpp               |    2 +-
 src/poller_base.hpp               |    2 +-
 src/precompiled.cpp               |    2 +-
 src/precompiled.hpp               |    2 +-
 src/proxy.cpp                     |    2 +-
 src/proxy.hpp                     |    2 +-
 src/pub.cpp                       |    2 +-
 src/pub.hpp                       |    2 +-
 src/pull.cpp                      |    2 +-
 src/pull.hpp                      |    2 +-
 src/push.cpp                      |    2 +-
 src/push.hpp                      |    2 +-
 src/random.cpp                    |    2 +-
 src/random.hpp                    |    2 +-
 src/raw_decoder.cpp               |    2 +-
 src/raw_decoder.hpp               |    2 +-
 src/raw_encoder.cpp               |    2 +-
 src/raw_encoder.hpp               |    2 +-
 src/reaper.cpp                    |    2 +-
 src/reaper.hpp                    |    2 +-
 src/rep.cpp                       |    2 +-
 src/rep.hpp                       |    2 +-
 src/req.cpp                       |    2 +-
 src/req.hpp                       |    2 +-
 src/router.cpp                    |    2 +-
 src/router.hpp                    |    2 +-
 src/select.cpp                    |    2 +-
 src/select.hpp                    |    2 +-
 src/session_base.cpp              |    2 +-
 src/session_base.hpp              |    2 +-
 src/signaler.cpp                  |    2 +-
 src/signaler.hpp                  |    2 +-
 src/socket_base.cpp               |    2 +-
 src/socket_base.hpp               |    2 +-
 src/stdint.hpp                    |    2 +-
 src/stream.cpp                    |    2 +-
 src/stream.hpp                    |    2 +-
 src/stream_engine.cpp             |    2 +-
 src/stream_engine.hpp             |    2 +-
 src/sub.cpp                       |    2 +-
 src/sub.hpp                       |    2 +-
 src/tcp.cpp                       |    2 +-
 src/tcp.hpp                       |    2 +-
 src/tcp_address.cpp               |    2 +-
 src/tcp_address.hpp               |    2 +-
 src/tcp_connecter.cpp             |    2 +-
 src/tcp_connecter.hpp             |    2 +-
 src/tcp_listener.cpp              |    2 +-
 src/tcp_listener.hpp              |    2 +-
 src/thread.cpp                    |    2 +-
 src/thread.hpp                    |    2 +-
 src/tipc_address.cpp              |    2 +-
 src/tipc_address.hpp              |    2 +-
 src/tipc_connecter.cpp            |    2 +-
 src/tipc_connecter.hpp            |    2 +-
 src/tipc_listener.cpp             |    2 +-
 src/tipc_listener.hpp             |    2 +-
 src/trie.cpp                      |    2 +-
 src/trie.hpp                      |    2 +-
 src/v1_decoder.cpp                |    2 +-
 src/v1_decoder.hpp                |    2 +-
 src/v1_encoder.cpp                |    2 +-
 src/v1_encoder.hpp                |    2 +-
 src/v2_decoder.cpp                |    2 +-
 src/v2_decoder.hpp                |    2 +-
 src/v2_encoder.cpp                |    2 +-
 src/v2_encoder.hpp                |    2 +-
 src/v2_protocol.hpp               |    2 +-
 src/windows.hpp                   |    2 +-
 src/wire.hpp                      |    2 +-
 src/xpub.cpp                      |    2 +-
 src/xpub.hpp                      |    2 +-
 src/xsub.cpp                      |    2 +-
 src/xsub.hpp                      |    2 +-
 src/ypipe.hpp                     |    2 +-
 src/ypipe_base.hpp                |    2 +-
 src/ypipe_conflate.hpp            |    2 +-
 src/yqueue.hpp                    |    2 +-
 src/zmq.cpp                       |    2 +-
 src/zmq_utils.cpp                 |    2 +-
 tests/test_abstract_ipc.cpp       |    2 +-
 tests/test_conflate.cpp           |    2 +-
 tests/test_connect_delay_tipc.cpp |    2 +-
 tests/test_connect_resolve.cpp    |    2 +-
 tests/test_ctx_destroy.cpp        |    2 +-
 tests/test_ctx_options.cpp        |    2 +-
 tests/test_diffserv.cpp           |    2 +-
 tests/test_disconnect_inproc.cpp  |    2 +-
 tests/test_filter_ipc.cpp         |    2 +-
 tests/test_fork.cpp               |    2 +-
 tests/test_hwm.cpp                |    2 +-
 tests/test_immediate.cpp          |    2 +-
 tests/test_inproc_connect.cpp     |    2 +-
 tests/test_invalid_rep.cpp        |    2 +-
 tests/test_iov.cpp                |    2 +-
 tests/test_ipc_wildcard.cpp       |    2 +-
 tests/test_issue_566.cpp          |    2 +-
 tests/test_last_endpoint.cpp      |    2 +-
 tests/test_many_sockets.cpp       |    2 +-
 tests/test_monitor.cpp            |    2 +-
 tests/test_msg_flags.cpp          |    2 +-
 tests/test_pair_inproc.cpp        |    2 +-
 tests/test_pair_ipc.cpp           |    2 +-
 tests/test_pair_tcp.cpp           |    2 +-
 tests/test_probe_router.cpp       |    2 +-
 tests/test_proxy.cpp              |    2 +-
 tests/test_req_correlate.cpp      |    2 +-
 tests/test_req_relaxed.cpp        |    2 +-
 tests/test_reqrep_device.cpp      |    2 +-
 tests/test_reqrep_inproc.cpp      |    2 +-
 tests/test_reqrep_ipc.cpp         |    2 +-
 tests/test_reqrep_tcp.cpp         |    2 +-
 tests/test_resource.cpp           |    2 +-
 tests/test_router_handover.cpp    |    2 +-
 tests/test_router_mandatory.cpp   |    2 +-
 tests/test_security_curve.cpp     |    2 +-
 tests/test_security_null.cpp      |    2 +-
 tests/test_security_plain.cpp     |    2 +-
 tests/test_shutdown_stress.cpp    |    2 +-
 tests/test_spec_dealer.cpp        |    2 +-
 tests/test_spec_pushpull.cpp      |    2 +-
 tests/test_spec_rep.cpp           |    2 +-
 tests/test_spec_req.cpp           |    2 +-
 tests/test_spec_router.cpp        |    2 +-
 tests/test_stream.cpp             |    2 +-
 tests/test_stream_empty.cpp       |    2 +-
 tests/test_sub_forward.cpp        |    2 +-
 tests/test_system.cpp             |    2 +-
 tests/test_term_endpoint.cpp      |    2 +-
 tests/test_timeo.cpp              |    2 +-
 tests/testutil.hpp                |    2 +-
 tools/curve_keygen.cpp            |    2 +-
 225 files changed, 225 insertions(+), 225 deletions(-)

commit ff45caabd15a483a7ce2bf779d6439e0f42d91cb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 2 11:54:13 2014 +0100

    Fixed copyrights on TIPC code

    - corporate copyright statements sit in AUTHORS file

 AUTHORS                |    1 +
 src/tipc_address.cpp   |    2 +-
 src/tipc_address.hpp   |    2 +-
 src/tipc_connecter.cpp |    2 +-
 src/tipc_connecter.hpp |    2 +-
 src/tipc_listener.cpp  |    2 +-
 src/tipc_listener.hpp  |    2 +-
 7 files changed, 7 insertions(+), 6 deletions(-)

commit 5bf96f64b07ff74548495fdf38198a9cc8edb662
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 1 17:11:40 2014 +0100

    Removed ZMQ_ZAP_IPC_CREDS option

    - This seems redundant; is there a use case for NOT providing
      the IPC credentials to the ZAP authenticator?

    - More, why is IPC authentication done via libzmq instead of ZAP?
      Is it because we're missing the transport type on the ZAP request?

 .gitignore                   |    1 -
 doc/zmq_getsockopt.txt       |   19 ------
 doc/zmq_setsockopt.txt       |   18 ------
 include/zmq.h                |    1 -
 src/options.cpp              |   19 ------
 src/stream_engine.cpp        |    6 +-
 tests/Makefile.am            |    3 +-
 tests/test_zap_ipc_creds.cpp |  135 ------------------------------------------
 8 files changed, 5 insertions(+), 197 deletions(-)

commit adf5b45d7160b31cbc04466716bf848e31c00b9f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 1 16:28:30 2014 +0100

    Reordered socket options

    - put into alphabetical order
    - there was no consistency in previous ordering

 doc/zmq_getsockopt.txt |  724 +++++++++++++++++++-------------------
 doc/zmq_setsockopt.txt |  913 +++++++++++++++++++++++-------------------------
 2 files changed, 803 insertions(+), 834 deletions(-)

commit 3ad8c61190c7ccfb44249a6eaf8b6eece2d0d4ce
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 1 15:28:11 2014 +0100

    Whitespace fixes

 src/router.cpp |   13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 49a2902c82977838b219350c58ef0cee422a1c1f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 1 15:28:01 2014 +0100

    Fixed issue #801

 doc/zmq_setsockopt.txt |   35 +++++++++++++++++------------------
 1 file changed, 17 insertions(+), 18 deletions(-)

commit 9d9592f8307dc18c41a5878fe366a105884a8bf4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Dec 23 13:14:32 2013 +0100

    Whitespace fixes

    Minor layout fix

    Whitespace fix

 doc/zmq_proxy_steerable.txt |   12 +++++++++---
 doc/zmq_setsockopt.txt      |    1 +
 src/router.cpp              |    1 +
 3 files changed, 11 insertions(+), 3 deletions(-)

commit 384f8522aa22ff595802ef1c0d8da11ccd81b862
Merge: 5a0d212 a5f4d82
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Dec 24 08:29:34 2013 -0800

    Merge pull request #799 from lodagro/patch-1

    fix doc typo

commit a5f4d823a540d108ff3d66e7ebeb44f21e6a5e00
Author: Wouter Overmeire <lodagro@gmail.com>
Date:   Tue Dec 24 15:00:43 2013 +0100

    fix doc typo

 src/decoder.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a0d21297e2763b7f23a216ee59b8688286a00ba
Merge: b5aa2b0 5fa3f0a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Dec 23 09:09:57 2013 -0800

    Merge pull request #798 from pijyoi/master

    doc bugfix: ZMQ_MSGMORE should be ZMQ_SNDMORE

commit 5fa3f0a045971d2ad8d0c4eac3023515186b81c1
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Mon Dec 23 23:06:18 2013 +0800

    doc bugfix: ZMQ_MSGMORE should be ZMQ_SNDMORE

 doc/zmq_setsockopt.txt |    2 +-
 doc/zmq_socket.txt     |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit b5aa2b0f1c0d1301777c8e9ac9a607b4ae92dcf8
Merge: 93e26ef b554757
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 22 02:24:15 2013 -0800

    Merge pull request #797 from agronholm/master

    Fixed setting TCP keepalive parameters on Windows

commit b554757cf0c6c9fbe8e7bfd945cb05284833f765
Author: Alex GrÃ¶nholm <alex.gronholm+git@nextday.fi>
Date:   Sun Dec 22 02:55:18 2013 +0200

    Fixed setting TCP keepalive parameters on Windows

 src/tcp.cpp     |   30 ++++++++++--------------------
 src/windows.hpp |    1 +
 2 files changed, 11 insertions(+), 20 deletions(-)

commit 93e26efd5d497e8b9e118dde312a85e036a265da
Merge: 32f3fb4 311b6bf
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Dec 20 13:36:30 2013 -0800

    Merge pull request #796 from hintjens/master

    Fixes to IPC wildcarding & test cases

commit 311b6bf9f7082c1141d0d530ff5df41893d7d4d4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 20 14:34:29 2013 +0100

    Test was sometimes failing

    - was not waiting long enough at socket close
    - increased to 50 msec

 tests/test_immediate.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf3702395ca0dfd6a279f96b3a702fd09f17950c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 20 14:28:54 2013 +0100

    Fixed wildcard IPC endpoint and added test case

 .gitignore                  |    2 ++
 src/ipc_listener.cpp        |    4 +++-
 tests/Makefile.am           |    2 ++
 tests/test_ipc_wildcard.cpp |   55 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 62 insertions(+), 1 deletion(-)

commit 62f3fdf3b70fccff393fa9f5634faddf93a5ec5a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 20 14:17:35 2013 +0100

    Fixed indentation

 src/ipc_address.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 32f3fb490a296fb2529225c4dab3be0550997172
Merge: fc93902 8ba1311
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Dec 20 00:49:23 2013 -0800

    Merge pull request #794 from hintjens/master

    Fixed use of deprecated tempnam

commit 8ba1311e348b10aec36c90ad9b93f77fd0efd379
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 19 21:06:22 2013 +0100

    Fixed use of deprecated tempnam

 src/ipc_listener.cpp |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit cf697815707ce211405f4aa61c10ba1184a3d281
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Nov 30 12:37:55 2013 +0100

    Added release notes for 4.0.3

 NEWS |  430 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 427 insertions(+), 3 deletions(-)

commit fc93902c4e511b1def58c434b3ee0be170d6bb80
Merge: b459120 f4c5c9e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 19 00:00:46 2013 -0800

    Merge pull request #793 from minrk/test_resource

    add failing test for binding to resources

commit f4c5c9e890e0c7008c110fff16321f5c20655528
Author: MinRK <benjaminrk@gmail.com>
Date:   Wed Dec 18 16:37:37 2013 -0800

    add failing test for binding to resources

 tests/Makefile.am       |    4 +++-
 tests/test_resource.cpp |   56 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 59 insertions(+), 1 deletion(-)

commit b4591202d24ba93f9c70dceb26bf63333a7af0eb
Merge: 5401c35 b7a2248
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Dec 17 05:41:24 2013 -0800

    Merge pull request #791 from moteus/patch-1

    Update doc for zmq_proxy_steerable [ci skip]

commit b7a2248e2256b0d5fc37d02458ca7a383ca0e2fd
Author: Alexey Melnichuk <mimir@newmail.ru>
Date:   Tue Dec 17 15:27:55 2013 +0300

    Update doc for zmq_proxy_steerable [ci skip]

 doc/zmq_proxy_steerable.txt |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 5401c35267c7aa601c49709006db99a7c8ed52ea
Merge: dc2ab43 dfcf295
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 15 00:16:37 2013 -0800

    Merge pull request #790 from trevorbernard/master

    Add tests/test_zap_ipc_creds to .gitignore

commit dc2ab43297d5a8a20fe17c0ef954ad5216c17dd3
Merge: 02a8d1e 754ae1b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 15 00:16:09 2013 -0800

    Merge pull request #789 from trevorbernard/single-connect

    Single connect

commit dfcf2950fc320b6289a2ebe0cc19a1dc8ff6aeb4
Author: Trevor Bernard <trevor.bernard@userevents.com>
Date:   Sat Dec 14 21:24:59 2013 -0400

    Add tests/test_zap_ipc_creds to .gitignore

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 754ae1b115f9d595df6abbaa0c344ee55b15ff6b
Author: Trevor Bernard <trevor.bernard@userevents.com>
Date:   Sat Dec 14 20:53:37 2013 -0400

    Add Trevor Bernard to AUTHORS

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 10a6641ef2626f1b392e381fd5b22841754e0c4c
Author: Trevor Bernard <trevor.bernard@userevents.com>
Date:   Sat Dec 14 20:53:18 2013 -0400

    Fix issue #788 - Only allow a single connect per endpoint for SUB, REQ, and DEALER sockets

 src/socket_base.cpp |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 02a8d1ea4cd70cb1fcaf9aaa98711951d843d406
Merge: e14c9bc 7f22995
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Dec 12 05:29:02 2013 -0800

    Merge pull request #785 from pijyoi/mutex_signaler

    support signaler_port in config.hpp set to value other than 0 and 5905

commit e14c9bcb2386333a6ba35be60c6133040707efed
Merge: b4395d1 b50ed02
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Dec 12 05:24:43 2013 -0800

    Merge pull request #786 from algernon/hotfix/curve_keygen.cpp

    tools/: Link curve_keygen with a c++ linker

commit b50ed02a20ea51669db0f5e34d2edfe2ca8bf280
Author: Gergely Nagy <algernon@balabit.hu>
Date:   Thu Dec 12 11:44:12 2013 +0100

    tools/: Link curve_keygen with a c++ linker

    When trying to linking curve_keygen as if it was a C program, linking
    fails (at least with gcc 4.8 on Debian testing) because it can't find
    C++ symbols. Linking with g++ instead fixes the issue.

    To achieve this, the source is renamed to curve_keygen.cpp, and
    tools/Makefile.am is updated accordingly.

    Signed-off-by: Gergely Nagy <algernon@balabit.hu>

 tools/Makefile.am      |    4 ++--
 tools/curve_keygen.c   |   58 ------------------------------------------------
 tools/curve_keygen.cpp |   58 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 60 insertions(+), 60 deletions(-)

commit 7f22995e356a7109739e22772088a2f20cbff0b0
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Thu Dec 12 00:39:01 2013 +0800

    use mutex implementation if fixed signaler_port!=5905

 src/signaler.cpp |   29 ++++++++++++++++++++++++++---
 1 file changed, 26 insertions(+), 3 deletions(-)

commit b4395d15f905001a5c381164ecb541ce2f93f099
Merge: 0f3703a a018ef5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 6 14:41:41 2013 -0800

    Merge pull request #782 from hashstat/master

    Add support for extending ZAP request address with IPC peer credentials.

commit a018ef5e8684c63a7c5a712e0b1a019a4240d568
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Fri Dec 6 14:28:44 2013 -0800

    Add support for extending ZAP request address with IPC peer credentials.

    Another take on LIBZMQ-568 to allow filtering IPC connections, this time
    using ZAP.  This change is backward compatible.  If the
    ZMQ_ZAP_IPC_CREDS option is set, the user, group, and process IDs of the
    peer process are appended to the address (separated by colons) of a ZAP
    request; otherwise, nothing changes.  See LIBZMQ-568 and zmq_setsockopt
    documentation for more information.

 CMakeLists.txt               |   12 +++-
 configure.ac                 |    1 +
 doc/zmq_getsockopt.txt       |   19 ++++++
 doc/zmq_setsockopt.txt       |   19 ++++++
 include/zmq.h                |    1 +
 src/ip.cpp                   |   10 ++--
 src/ip.hpp                   |    2 +-
 src/options.cpp              |   19 ++++++
 src/options.hpp              |    1 +
 src/stream_engine.cpp        |   29 ++++++++-
 tests/Makefile.am            |   11 +++-
 tests/test_zap_ipc_creds.cpp |  135 ++++++++++++++++++++++++++++++++++++++++++
 12 files changed, 249 insertions(+), 10 deletions(-)

commit 0f3703a3eea2766bf2e95210d288f5a888548779
Merge: 4a4db83 56b1710
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 6 13:03:58 2013 -0800

    Merge pull request #781 from hashstat/master

    Enable building IPC filtering with cmake and another small autoconf fix.

commit 56b17100d4207b171d98cf6ff2ed8c622b47fe74
Merge: f0bd333 4a4db83
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Fri Dec 6 11:00:14 2013 -0800

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit f0bd33372897373b3ee6e42791e01447edb2699f
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Fri Dec 6 10:59:07 2013 -0800

    Move {SO,LOCAL}_PEERCRED checks to C++ context.

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit dc5528cba6e3606ee31f9caace74c1be5f04f6dc
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Fri Dec 6 10:55:44 2013 -0800

    Enable building IPC filtering with cmake.

 CMakeLists.txt               |    5 +++++
 builds/cmake/platform.hpp.in |    3 +++
 2 files changed, 8 insertions(+)

commit 4a4db83e55ec1e129f500741519fb7b91400d81e
Merge: 0a9a4fa dc9b130
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 6 10:52:39 2013 -0800

    Merge pull request #780 from hashstat/master

    Shortened ZMQ_IPC_ACCEPT_FILTER_[UGP]ID to ZMQ_IPC_FILTER_[UGP]ID.

commit dc9b1309b97366dd571c1bc1220c4b28f384af41
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Fri Dec 6 09:58:10 2013 -0800

    Shortened ZMQ_IPC_ACCEPT_FILTER_[UGP]ID to ZMQ_IPC_FILTER_[UGP]ID.

 doc/zmq_setsockopt.txt    |   18 +++++++++---------
 include/zmq.h             |    6 +++---
 src/options.cpp           |    6 +++---
 tests/test_filter_ipc.cpp |   22 +++++++++++-----------
 4 files changed, 26 insertions(+), 26 deletions(-)

commit 0a9a4fa9048fe1a9139e93ed249ee6663f076233
Merge: f5b6bd7 af80820
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 6 05:30:48 2013 -0800

    Merge pull request #779 from hashstat/master

    Fix failing test case in test_filter_ipc.

commit af808203d7a136d7ee7a1a17af4bdb5c5816a2f7
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Fri Dec 6 00:46:14 2013 -0800

    Fix failing test case in test_filter_ipc.

    Add explicit check for primary group.

 configure.ac              |    5 +++--
 src/ipc_listener.cpp      |    4 +++-
 tests/test_filter_ipc.cpp |   23 +++++++++++++++++++++--
 3 files changed, 27 insertions(+), 5 deletions(-)

commit f5b6bd70f37406946d70ee94a7eeb6fd650ea1e5
Merge: e48ca50 fd8d6d4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 5 03:25:12 2013 -0800

    Merge pull request #775 from pijyoi/master

    use enum retired_fd instead of -1

commit e48ca506633597e4fd42da4aaeb4b88554ade436
Merge: b7de042 c7693be
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 5 03:23:12 2013 -0800

    Merge pull request #774 from shubred1/master

    Updated documentation for zmq_disconnect() and zmq_setsockopt().

commit b7de0424fc66e8375daa4cc76ade627aca80f494
Merge: a9492a0 2252322
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 5 03:20:05 2013 -0800

    Merge pull request #773 from hashstat/master

    Add IPC accept filter support

commit fd8d6d471f486fd2392a17774f4c26e99af21f66
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Thu Dec 5 07:04:21 2013 +0800

    use enum retired_fd instead of -1

    using -1 causes a warning on Windows platform because SOCKET is unsigned.

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2252322acc6aeeb292218124973af9db38b11e34
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Wed Dec 4 14:17:39 2013 -0800

    Add IPC accept filter socket options.

    Adds ZMQ_IPC_ACCEPT_FILTER_{PID,UID,GID} socket options to add processs,
    user, and group IDs to the IPC filter sets. Fixes LIBZMQ-568.

 .gitignore                |    1 +
 doc/zmq_setsockopt.txt    |   62 ++++++++++++++++++++
 include/zmq.h             |    3 +
 src/options.cpp           |   40 +++++++++++++
 tests/Makefile.am         |    4 +-
 tests/test_filter_ipc.cpp |  141 +++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 250 insertions(+), 1 deletion(-)

commit 8662f44efa95bc1d62cb91f9600b1cb278219563
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Wed Dec 4 13:56:12 2013 -0800

    Intial IPC accept filter support.

    Adds sets of process (Linux only), user, and group IDs for filtering
    connections from peer processes over IPC transport.  If all of the
    filter sets are empty, every connection is accepted.  Otherwise,
    credentials for a connecting process are checked against the filter sets
    and the connection is only accepted if a match is found.

    This commit is part of LIBZMQ-568 and only adds the filter sets and
    implements the filter in the IPC accept method.  The interface for
    adding IDs to filter sets are included in a separate commit.

    IPC accept filtering is supported only on Linux and OS X.

 configure.ac         |    2 ++
 src/ipc_listener.cpp |   79 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/ipc_listener.hpp |    6 ++++
 src/options.hpp      |   17 +++++++++++
 4 files changed, 104 insertions(+)

commit c7693bedeae0b7c6ba9d8fd6a1d2defa5db11ad4
Author: Shane Hubred <shane@hubred.us>
Date:   Wed Dec 4 15:02:49 2013 -0600

    Updated documentation for zmq_disconnect() and zmq_setsockopt().

 doc/zmq_disconnect.txt |   12 ++++++++++--
 doc/zmq_setsockopt.txt |   24 ++++++++++++------------
 2 files changed, 22 insertions(+), 14 deletions(-)

commit a9492a0852aee907b8c756680ad3878760f242fc
Merge: 39e2b79 973d13d
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Dec 3 08:38:15 2013 -0800

    Merge pull request #770 from hurtonm/master

    Code cleanup

commit 973d13d545f9b5a18ad49d82ceed49bb6409ea8f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Dec 3 09:59:26 2013 +0100

    Code cleanup

 src/session_base.cpp  |   69 ++++++++++++++++++++++---------------------------
 src/session_base.hpp  |   10 +++----
 src/stream_engine.cpp |    2 +-
 3 files changed, 37 insertions(+), 44 deletions(-)

commit 39e2b79912dddc1febae075b8ff6eabaeeaf52f0
Merge: 0f6e737 ff292d6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 1 13:13:07 2013 -0800

    Merge pull request #768 from Talksum/master

    changing zmq_proxy_steerable to not use null terminated strings

commit ff292d62d040d4b1b86ba3bf91b2dab2991386e4
Author: Brian Knox <briank@talksum.com>
Date:   Sun Dec 1 20:29:03 2013 +0000

    changing zmq_proxy_steerable to not use null terminated strings

 src/proxy.cpp        |    6 +++---
 tests/test_proxy.cpp |    8 ++++----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 0f6e737ff8ac73393434dc5b4d55c095a60a4b71
Merge: 243aba2 cf14c54
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 1 02:48:32 2013 -0800

    Merge pull request #766 from hurtonm/master

    Fix issue #763

commit cf14c5410208f5d6f9e69c223d981dfba2e206c7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Nov 30 21:24:32 2013 +0100

    Fix issue #763

 src/stream_engine.cpp |    7 +++++++
 1 file changed, 7 insertions(+)

commit 243aba265b57d781c253e20b85ccd2f6f1f26aff
Merge: a9eb6f7 bd41087
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 28 02:43:45 2013 -0800

    Merge pull request #765 from pijyoi/master

    make win32 signaler support ephemeral ports

commit bd41087ab9b9a6ccd886901ebfed6a6e6e06ba19
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Thu Nov 28 18:25:28 2013 +0800

    make win32 signaler support ephemeral ports

 src/signaler.cpp |   55 ++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 35 insertions(+), 20 deletions(-)

commit a9eb6f792b975dd4437ccedee58e498fac286755
Merge: 3cddcba abbe704
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 25 01:32:51 2013 -0800

    Merge pull request #762 from ricnewton/master

    Fix windows build for type of service.

commit abbe704d9e2b79ad2415aec7fcc6cdc703c70b4b
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Nov 25 09:25:23 2013 +0000

    Fix windows build for type of service.

 CMakeLists.txt |    1 +
 src/ip.cpp     |    6 +-----
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 3cddcbaadc9b8a07b33c417cf2c0ca62fe8356c3
Merge: b91ef99 a4385e6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Nov 24 22:50:18 2013 -0800

    Merge pull request #761 from claws/add_dscp_sockopt

    Add ability to set Differential Services Code Point socket option

commit a4385e6105534bb85d19e362e0e95aeecfe15ebf
Author: Chris Laws <clawsicus@gmail.com>
Date:   Mon Nov 25 13:40:05 2013 +1030

    tidy up

 .gitignore          |    1 +
 tests/test_diffserv |  228 ---------------------------------------------------
 2 files changed, 1 insertion(+), 228 deletions(-)

commit 38bceca9caaaa2ec67da609f01c8d42568549cae
Author: Chris Laws <clawsicus@gmail.com>
Date:   Mon Nov 25 13:31:21 2013 +1030

    Add ability to set and get DSCP socket option

 doc/zmq_getsockopt.txt  |   11 +++
 doc/zmq_setsockopt.txt  |   29 ++++--
 include/zmq.h           |    1 +
 src/ip.cpp              |   15 ++++
 src/ip.hpp              |    3 +
 src/options.cpp         |   14 +++
 src/options.hpp         |    3 +
 src/tcp_connecter.cpp   |   12 ++-
 src/tcp_listener.cpp    |   10 ++-
 tests/Makefile.am       |    4 +-
 tests/test_diffserv     |  228 +++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_diffserv.cpp |   70 +++++++++++++++
 12 files changed, 389 insertions(+), 11 deletions(-)

commit b91ef997ce65c27938c17d6ea0c9a53839545cab
Merge: 7c2c028 8f97f62
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Nov 24 13:02:47 2013 -0800

    Merge pull request #760 from shancat/move_linger_test

    Move linger test to issue repo.

commit 8f97f621a820672a368edb0983b694e53d9c08e3
Author: Shannen Saez <shannenlaptop@gmail.com>
Date:   Mon Nov 25 13:26:49 2013 +1100

    Move linger test to issue repo.

    See https://github.com/zeromq/issues/pull/7

    Signed-off-by: Shannen Saez <shannenlaptop@gmail.com>

 CMakeLists.txt        |    7 ++--
 tests/Makefile.am     |    5 +--
 tests/test_linger.cpp |   93 -------------------------------------------------
 3 files changed, 4 insertions(+), 101 deletions(-)

commit 7c2c02862ec4acb7e0a7ec754cc89edf91f126e7
Merge: 46c5a23 75a293d
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Nov 24 08:19:02 2013 -0800

    Merge pull request #759 from hintjens/master

    Moved version macros to top for better visibility

commit 75a293d3796f5c6f29bd5c3617d457ffb57b5522
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Nov 24 12:47:24 2013 +0100

    Moved version macros to top for better visibility

 include/zmq.h |   30 +++++++++++++-----------------
 1 file changed, 13 insertions(+), 17 deletions(-)

commit 46c5a239cb4cb6207219e619c42262bcedc1aedc
Merge: 0ee7691 4d22d45
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Nov 19 08:15:50 2013 -0800

    Merge pull request #758 from hintjens/master

    Fixed test_many_sockets

commit 4d22d456a91e649de39a7ad9e326d26585c6857b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 19 17:11:15 2013 +0100

    Reverting path change on platform.hpp, this broke some builds

 tests/testutil.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f98fbd5ad8c2f4d4a652dda45b4a2dfd1caa21ec
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 19 16:51:06 2013 +0100

    Fixed test_many_sockets

    * failed on systems where process could not allocate 1024 sockets by default
    * include path for platform.hpp was wrong; fixed it

 tests/test_many_sockets.cpp |   73 ++++++++++++++++++-------------------------
 tests/testutil.hpp          |    2 +-
 2 files changed, 32 insertions(+), 43 deletions(-)

commit 0ee76912e7d3595603cd09e225062f487e84bd28
Merge: a0bde50 3535a1d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 15 06:33:52 2013 -0800

    Merge pull request #756 from 0x6d686b/master

    Fixed typo in documentation about zmq_proxy_steerable()

commit 3535a1d7ea868d4aa8884cfdc8d61682bac3a4ad
Author: Mathias HablÃ¼tzel <habl@zhaw.ch>
Date:   Fri Nov 15 15:31:09 2013 +0100

    Fixed typo in documentation about zmq_proxy_steerable()

 doc/zmq_proxy_steerable.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a0bde5088758898ad88f0021e12335fed0593e04
Merge: 4a7f07a c89518d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 13 04:58:37 2013 -0800

    Merge pull request #755 from hintjens/master

    Added links to RFCs for socket patterns

commit c89518d33d40ee52fce30a17c86c8e7617afa6be
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 13 13:57:53 2013 +0100

    Added links to RFCs for socket patterns

 doc/zmq_socket.txt |    4 ++++
 1 file changed, 4 insertions(+)

commit 4a7f07a19ae226fe92c3c7320bd425f9a18d0c79
Merge: e3ddda7 7bd0b6a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 11 10:42:08 2013 -0800

    Merge pull request #754 from pijyoi/master

    remove all asserts during critical section for win32 make_fdpair codepath

commit e3ddda7a1ff9f7e598ae2aa481a44353da495b5a
Merge: ba33fb7 cf8ba92
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Nov 11 09:13:09 2013 -0800

    Merge pull request #753 from pijyoi/master

    handle bind error in make_fdpair() win32 codepath

commit 7bd0b6ada16567b6b936a214df2b9183e508e27c
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Tue Nov 12 01:12:24 2013 +0800

    remove all asserts during critical section

    the size of the critical section is reduced by only entering the critical
    section right before the bind().

 src/signaler.cpp |   76 ++++++++++++++++++++++--------------------------------
 1 file changed, 31 insertions(+), 45 deletions(-)

commit ba33fb748b33b2359085e5f7914e172b7efa4efb
Merge: 51fa803 5f8067c
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Nov 11 09:10:51 2013 -0800

    Merge pull request #752 from ricnewton/master

    Revert "Make FD_SETSIZE = ZMQ_MAX_SOCKETS_DFLT + 1 so there is room for ...

commit cf8ba925b4f7a0358f47ef28ac5b8f3251b22fa4
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Tue Nov 12 00:07:06 2013 +0800

    return error to caller on bind error

 src/signaler.cpp |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 5f8067cd1bc74be88d39a62decc8ab544aeeba8c
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Nov 11 13:54:58 2013 +0000

    Fix signed/unsigned comparison

 tests/test_many_sockets.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dee333b2edf37bcd38156584afc5cd1e337763b6
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Nov 11 13:53:25 2013 +0000

    Fix signed/unsigned comparison

 tests/test_many_sockets.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51fa803d6328fbfe8c079484eafa24ae642770cb
Merge: dc339f4 31cf53f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Nov 11 05:51:12 2013 -0800

    Merge pull request #751 from psl-felipefarinon/master

    Removing C++11 code.

commit 7c514294408c22117c4a0553e5d36d18cac23928
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Nov 11 13:41:42 2013 +0000

    Reduce default maximum number of sockets by 1 so there is room for the reaper socket.

 include/zmq.h               |    2 +-
 tests/test_many_sockets.cpp |   79 +++++++++++++++++++++++++++++++++++--------
 2 files changed, 65 insertions(+), 16 deletions(-)

commit f77b96e4d9a530dc264e74ce07fd5a7298cfaaa6
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Nov 11 13:09:23 2013 +0000

    Revert "Make FD_SETSIZE = ZMQ_MAX_SOCKETS_DFLT + 1 so there is room for the repear socket."

    This reverts commit 0b92831b2a82c3bbc0e9371662c546b94915a3ea.

 CMakeLists.txt                             |    2 +-
 builds/mingw32/Makefile.mingw32            |    2 +-
 builds/msvc/libzmq/libzmq.vcproj           |   10 +++++-----
 builds/msvc/properties/ZeroMQ.props        |    2 +-
 builds/msvc/properties/ZeroMQ_Static.props |    2 +-
 5 files changed, 9 insertions(+), 9 deletions(-)

commit 31cf53f0250a6a381e63342c11704175101c0cc4
Author: psl-felipefarinon <felipe.farinon@powersyslab.com>
Date:   Mon Nov 11 10:20:28 2013 -0200

    issue #583 removing C++11 code.

 src/clock.cpp |    1 -
 1 file changed, 1 deletion(-)

commit dc339f4c6d95117fd1d24f3a00b833290a5410b9
Merge: 1719b63 f06645c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Nov 10 04:10:12 2013 -0800

    Merge pull request #750 from mattconnolly/master

    Update signaler make_fdpair to set file descriptors to -1 when too many ...

commit f06645c5f16c27baed186369ebf03eac252e3850
Author: Matt Connolly <matt.connolly@me.com>
Date:   Sun Nov 10 21:16:12 2013 +1000

    Update signaler make_fdpair to set file descriptors to -1 when too many files are open using socketpair.

 src/signaler.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1719b63f1d6b9d533b67671daecf043cfd137e4f
Merge: 2b989de 7504260
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Nov 10 02:25:04 2013 -0800

    Merge pull request #749 from davipt/fix-001-test_many_sockets_and_mac_open

    Fix socket creation above sistem limits for all 'other' OS not covered b...

commit 750426037d7cd1fd0aa14966a58f9b9b501563d5
Author: Bruno D. Rodrigues <bruno.rodrigues@litux.org>
Date:   Sun Nov 10 10:19:19 2013 +0000

    Fix socket creation above sistem limits for all 'other' OS not covered by eventfd, windows or vms; enhanced test to create sockets up to a bigger limit to really test hitting the OS limit

 src/signaler.cpp            |    2 +-
 tests/test_many_sockets.cpp |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 2b989ded67e023d7a4c3a2b6af72817530ba27ca
Merge: 8e21bc0 7971ef3
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Nov 9 04:11:50 2013 -0800

    Merge pull request #748 from hintjens/master

    Added ignore test case

commit 7971ef385711af045d84adf760d000da37c90076
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Nov 9 12:27:21 2013 +0100

    Added ignore test case

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 8e21bc0b463272f412da998cb50a7d793f1cdb2c
Merge: e66b42f 05d5962
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 12:45:54 2013 -0800

    Merge pull request #747 from hurtonm/master

    Signal that the peer performed orderly shutdown

commit 05d5962872fc6b03fa4e256557f6afef22e5f354
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Oct 9 10:51:30 2013 +0200

    Signal that the peer performed orderly shutdown

 src/stream_engine.cpp |   77 +++++++++++++++++++++++--------------------------
 src/stream_engine.hpp |    7 ++---
 2 files changed, 39 insertions(+), 45 deletions(-)

commit e66b42f36323268376c9c15b97034d66bc17f388
Merge: 4616403 0b92831
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 11:46:29 2013 -0800

    Merge pull request #746 from ricnewton/master

    Make FD_SETSIZE = ZMQ_MAX_SOCKETS_DFLT + 1 so there is room for the reaper socket

commit 0b92831b2a82c3bbc0e9371662c546b94915a3ea
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 18:26:13 2013 +0000

    Make FD_SETSIZE = ZMQ_MAX_SOCKETS_DFLT + 1 so there is room for the repear socket.

 CMakeLists.txt                             |    2 +-
 builds/mingw32/Makefile.mingw32            |    2 +-
 builds/msvc/libzmq/libzmq.vcproj           |   10 +++++-----
 builds/msvc/properties/ZeroMQ.props        |    2 +-
 builds/msvc/properties/ZeroMQ_Static.props |    2 +-
 5 files changed, 9 insertions(+), 9 deletions(-)

commit 4616403b109600554f5e063f4d7718475eca1ce7
Merge: 89ecf2d 7a510b4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 10:00:57 2013 -0800

    Merge pull request #745 from ricnewton/master

    Get maximum number of sockets it can handle from poller_t

commit 7a510b4b60a2dc0f0cac9b74a74a4ae44f8c53c1
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 17:50:29 2013 +0000

    Fix formatting.

 src/ctx.cpp     |    8 ++++----
 src/devpoll.cpp |    2 +-
 src/devpoll.hpp |    2 +-
 src/epoll.cpp   |    2 +-
 src/epoll.hpp   |    2 +-
 src/kqueue.cpp  |    2 +-
 src/kqueue.hpp  |    2 +-
 src/poll.cpp    |    2 +-
 src/poll.hpp    |    2 +-
 src/select.cpp  |    2 +-
 src/select.hpp  |    2 +-
 11 files changed, 14 insertions(+), 14 deletions(-)

commit 90425cd5d6627f409d30717e8fb9fd3d3e3efb7b
Merge: 3aa7348 89ecf2d
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 17:47:44 2013 +0000

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 89ecf2de796265ed130047e843d579f1952a85d3
Merge: 1596a5e 485db41
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 09:47:29 2013 -0800

    Merge pull request #744 from psl-felipefarinon/master

    Fixing broken build issue #583

commit 3aa7348e0bfcc09b2d6b63200c4b3fd0171f94d7
Merge: 568cc1a 1596a5e
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 17:46:32 2013 +0000

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 568cc1adaa034fddbbefedf921664237d62c4555
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 17:46:19 2013 +0000

    Get maximum number of sockets it can handle from poller_t

 src/ctx.cpp     |   12 ++++++++++--
 src/devpoll.cpp |    5 +++++
 src/devpoll.hpp |    2 ++
 src/epoll.cpp   |    5 +++++
 src/epoll.hpp   |    2 ++
 src/kqueue.cpp  |    5 +++++
 src/kqueue.hpp  |    2 ++
 src/poll.cpp    |    5 +++++
 src/poll.hpp    |    2 ++
 src/select.cpp  |    5 +++++
 src/select.hpp  |    2 ++
 11 files changed, 45 insertions(+), 2 deletions(-)

commit 485db41a438abd39bafdb3d2565ed4715e48fe6d
Author: psl-felipefarinon <felipe.farinon@powersyslab.com>
Date:   Thu Nov 7 15:21:42 2013 -0200

    Fixing broken build issue #583

 src/clock.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 1596a5e871f72a4c34b74911cc0d168a64c3ec5f
Merge: 998c10a 97cfa64
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 09:18:53 2013 -0800

    Merge pull request #743 from ricnewton/master

    Add test case for many sockets

commit 97cfa64d93c750363c5dca218c62a1c6598131ee
Merge: c4f0995 998c10a
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 16:49:06 2013 +0000

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 998c10a1b7458fcb17653c0862063bf2d3d5767b
Merge: de5a787 51f8571
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 08:48:48 2013 -0800

    Merge pull request #741 from hintjens/master

    Simplified error handling for make_fdpair on Windows

commit c4f09953d856c28f70728100532348383257c74f
Merge: 554b3c1 de5a787
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 16:48:07 2013 +0000

    Merge remote-tracking branch 'upstream/master'

commit 554b3c1f706164838361b624eebe4c027db6ad73
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 16:47:55 2013 +0000

    Add test case for many sockets

 CMakeLists.txt              |    1 +
 tests/Makefile.am           |    4 +++-
 tests/test_many_sockets.cpp |   51 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 55 insertions(+), 1 deletion(-)

commit de5a7878684d6a5e231c4a371b46184540585e06
Merge: e3898b5 b8a9f29
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 08:12:48 2013 -0800

    Merge pull request #742 from psl-felipefarinon/master

    Fixing issue #583. Using low resolution timer for clock::now_ms

commit b8a9f299fb5e9cc46b2c47c14d705174669677fd
Author: psl-felipefarinon <felipe.farinon@powersyslab.com>
Date:   Thu Nov 7 14:06:54 2013 -0200

    Fixing issue #583. Using low resolution timer for clock::now_ms

 src/clock.cpp |   58 +++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 56 insertions(+), 2 deletions(-)

commit 51f857193320a8a46220c090834993ab2dd06cbc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 15:30:25 2013 +0100

    Simplified fdpair reset after fork

 src/signaler.cpp |   22 ++++------------------
 1 file changed, 4 insertions(+), 18 deletions(-)

commit 2be70dca1acdc9a93c73cea3526b012424017219
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 15:26:56 2013 +0100

    Simplified error handling for make_fdpair on Windows

 src/signaler.cpp |    7 -------
 1 file changed, 7 deletions(-)

commit e3898b5d776abf3ae123ed10c28542f4d932dc4e
Merge: 729e949 c573f6b
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Nov 7 06:20:34 2013 -0800

    Merge pull request #740 from hintjens/master

    Fix for issue 574

commit c573f6b8120880e07b95903ffaa496a69a14468f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 7 14:59:53 2013 +0100

    Fix for issue 574

 src/signaler.cpp    |   89 ++++++++++++++++++++++++++-------------------------
 src/signaler.hpp    |    4 +--
 src/socket_base.cpp |   82 ++++++++++++++++++++++++-----------------------
 3 files changed, 89 insertions(+), 86 deletions(-)

commit 729e9496b286d078a8cf839e3115e216fcfe55d7
Merge: 6ed1f47 e84f17b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 6 23:34:36 2013 -0800

    Merge pull request #739 from mbarbisan/master

    Modified the zmq_setsockopt documentation to include the ZMQ_ROUTER_HAND...

commit e84f17bbb46481d447dbed8962230fdeb9ff95f0
Author: Mark Barbisan <mark@barbisan.ca>
Date:   Wed Nov 6 23:21:28 2013 -0500

    Modified the zmq_setsockopt documentation to include the ZMQ_ROUTER_HANDOVER option

 AUTHORS                |    1 +
 doc/zmq_setsockopt.txt |   22 +++++++++++++++++++---
 2 files changed, 20 insertions(+), 3 deletions(-)

commit 6ed1f4766af3de4c9077eb54d31e19d1ec6181ee
Merge: 8797af7 844689e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 6 07:41:02 2013 -0800

    Merge pull request #738 from ricnewton/master

    Fix race condition on shutdown

commit 844689ed9aad89b1462f6d417c49b7024b4af1af
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Nov 6 15:19:04 2013 +0000

    Fix race condition on shutdown

 src/ctx.cpp |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 8797af777bfdaccefe9b318987db3c0f79aa8287
Merge: c2c6ec1 5b60540
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Nov 6 04:53:05 2013 -0800

    Merge pull request #737 from hintjens/master

    Removed over-long pauses in tests

commit 5b60540ed0c9f11e6e984a4b9645a17e6f8ebf02
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 6 13:30:41 2013 +0100

    Removed over-long pauses in tests

    - used msleep (10) in most places instead of zmq_sleep (1)
    - may cause failures on slower machines
    - to change, modify SETTLE_TIME in testutil.h
    - tested down to 1 msec on fast boxes

 tests/test_conflate.cpp           |    7 +-
 tests/test_connect_delay_tipc.cpp |    4 +-
 tests/test_ctx_destroy.cpp        |    2 +-
 tests/test_immediate.cpp          |    3 +-
 tests/test_inproc_connect.cpp     |    2 +-
 tests/test_iov.cpp                |    2 +-
 tests/test_monitor.cpp            |    6 +-
 tests/test_proxy.cpp              |  210 +++++++++++++++++--------------------
 tests/test_req_relaxed.cpp        |    2 +-
 tests/test_spec_req.cpp           |    2 +-
 tests/test_sub_forward.cpp        |    2 +-
 tests/test_sub_forward_tipc.cpp   |    2 +-
 tests/test_term_endpoint.cpp      |    4 +-
 tests/test_term_endpoint_tipc.cpp |    5 +-
 tests/testutil.hpp                |   24 ++---
 15 files changed, 126 insertions(+), 151 deletions(-)

commit c2c6ec190771b698f110595b40ddc335bbd7a672
Merge: 3700453 edbfae3
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Nov 5 04:39:43 2013 -0800

    Merge pull request #736 from Hugne/lookup_domain

    zmq: change TIPC default lookup domain when connecting

commit edbfae31411154cd455dc4ca2ca20e77cd6489f6
Author: Erik Hugne <erik.hugne@ericsson.com>
Date:   Tue Nov 5 13:23:45 2013 +0100

    zmq: change TIPC default lookup domain when connecting

    By default, TIPC uses a closest first approach to find
    a publication that can satisfy your connection request.
    Any publication on the local node will automatically
    be chosen for all requests, even if you're trying to
    spread it out over multiple machines.
    We fix this by widening the default lookup scope.

    Signed-off-by: Erik Hugne <erik.hugne@ericsson.com>

 src/tipc_address.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 370045367dea8ce1078893970204f45c29e359e1
Merge: 0d5ffd5 bbbcceb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 5 04:08:10 2013 -0800

    Merge pull request #735 from Hugne/tipc_docs

    zmq: add TIPC manpage

commit bbbccebbe711a991d807bf70132bb4a982bb4e71
Author: Erik Hugne <erik.hugne@ericsson.com>
Date:   Tue Nov 5 13:01:40 2013 +0100

    zmq: add TIPC manpage

    Signed-off-by: Erik Hugne <erik.hugne@ericsson.com>

 doc/Makefile.am  |    2 +-
 doc/zmq_tipc.txt |   82 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 83 insertions(+), 1 deletion(-)

commit 0d5ffd5a0ce9e0c3f20a193bbc14528f84526e49
Merge: 75af9dd 5e6aa58
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Nov 4 07:54:07 2013 -0800

    Merge pull request #734 from hintjens/master

    Fixed issue 578

commit 5e6aa58a140767b055d461ab13e71281e9a7996d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 4 16:04:13 2013 +0100

    Fixed issue 578 - corrected type usage

 src/zmq_utils.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d7c8021afce92b1df0d986b908a0e885387aba1f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 4 15:39:20 2013 +0100

    Fixed issue 578

 .gitignore        |    9 +++++++++
 src/zmq_utils.cpp |   11 ++++++-----
 2 files changed, 15 insertions(+), 5 deletions(-)

commit 75af9ddb78f0cfe77d2b372e3ce06fa1345aa8a8
Merge: 027990a bdf8bc3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 4 05:29:36 2013 -0800

    Merge pull request #733 from mingulov/doc

    Doc examples with zmq_msg_close usage - parameter is 'zmq_msg_t *'

commit bdf8bc31938639a1dd0be48d43c76cfbb3f2c66e
Author: Denis Mingulov <denis@mingulov.com>
Date:   Mon Nov 4 15:15:23 2013 +0200

    Doc examples with zmq_msg_close usage - parameter is 'zmq_msg_t *'

    Documentation examples for zmq_msg_get and zmq_msg_more functions have an
    incorrect call to zmq_msg_close function - with 'zmq_msg_t' as a parameter
    despite 'zmq_msg_t *' is required, so it is impossible to compile these
    examples properly.

    Also for zmq_msg_get example - declaration of zmq_msg_t variable is added
    (like it is done in other examples).

 doc/zmq_msg_get.txt  |    3 ++-
 doc/zmq_msg_more.txt |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 027990a112dfce8311dbf5564a42d138f8ae8473
Merge: 299068b 58ac87d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 1 07:14:00 2013 -0700

    Merge pull request #732 from Hugne/tipc

    zmq: narrow condition to include TIPC in build/test

commit 58ac87def1b5349ddfd9d89cde0ca18e5f7cd7cd
Author: Erik Hugne <erik.hugne@ericsson.com>
Date:   Fri Nov 1 14:59:31 2013 +0100

    zmq: narrow condition to include TIPC in build/test

    As TIPC transport for 0MQ will only work on post 3.8
    Linux kernels where nonblocking connect was added,
    we add AC_RUN test to check for this functionality.
    Should the test fail, tipc is excluded from build/test.

    Signed-off-by: Erik Hugne <erik.hugne@ericsson.com>

 configure.ac           |   34 ++++++++++++++++++++++++++++++++++
 src/address.cpp        |    4 ++--
 src/session_base.cpp   |    2 +-
 src/socket_base.cpp    |    6 +++---
 src/tipc_address.cpp   |    2 +-
 src/tipc_address.hpp   |    2 +-
 src/tipc_connecter.cpp |    2 +-
 src/tipc_connecter.hpp |    2 +-
 src/tipc_listener.cpp  |    2 +-
 src/tipc_listener.hpp  |    2 +-
 tests/Makefile.am      |    4 ++--
 11 files changed, 48 insertions(+), 14 deletions(-)

commit 299068b5719c4da5f8fb4cf79ddc8f93744986b5
Merge: 2db808f 5e71475
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 1 06:30:27 2013 -0700

    Merge pull request #731 from mbarbisan/master

    Shorten ZMQ_ROUTER_REASSIGN_IDENTITIES to ZMQ_ROUTER_HANDOVER. Also, add...

commit 2db808f25089044a0c9e1ca8b740dac69cc2213c
Merge: bc88b88 632677e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 1 04:05:55 2013 -0700

    Merge pull request #730 from Hugne/tipc

    Tipc support

commit 632677e8059d7de509146ffebe9ce82bbefb2f72
Author: Erik Hugne <erik.hugne@ericsson.com>
Date:   Fri Nov 1 11:17:10 2013 +0100

    ricnewton review comment

    Signed-off-by: Erik Hugne <erik.hugne@ericsson.com>

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9d5a3793319769a1403ebc49e583afb5ba150aba
Author: Erik Hugne <erik.hugne@ericsson.com>
Date:   Wed Oct 30 16:03:27 2013 +0100

    zmq: add TIPC transport tests

    The tests are identical to the TCP ones, only the
    addressing is changed.

    Signed-off-by: Erik Hugne <erik.hugne@ericsson.com>

 AUTHORS                              |    1 +
 tests/Makefile.am                    |   21 +++
 tests/test_connect_delay_tipc.cpp    |  238 ++++++++++++++++++++++++++++++++++
 tests/test_pair_tipc.cpp             |   54 ++++++++
 tests/test_reqrep_device_tipc.cpp    |  143 ++++++++++++++++++++
 tests/test_reqrep_tipc.cpp           |   54 ++++++++
 tests/test_router_mandatory_tipc.cpp |   62 +++++++++
 tests/test_shutdown_stress_tipc.cpp  |   93 +++++++++++++
 tests/test_sub_forward_tipc.cpp      |   99 ++++++++++++++
 tests/test_term_endpoint_tipc.cpp    |  119 +++++++++++++++++
 10 files changed, 884 insertions(+)

commit eab85b52953bd23076c5b9333ef1c455cdc3666d
Author: Erik Hugne <erik.hugne@ericsson.com>
Date:   Fri Nov 1 09:09:54 2013 +0100

    zmq: add support for TIPC transport

    A ZeroMQ application can opt for TIPC based sockets
    using the TIPC port name format:
    zmq_bind(sb, "tipc://{type,lower,upper}");
    zmq_connect(sc, "tipc://{type,inst}");

    'type' is the service ID, and 'lower/upper' can be
    used for service partitioning or basic load
    balancing.

    ZeroMQ TIPC transport requires a kernel >= 3.8
    (nonblocking connect support for TIPC).

    Signed-off-by: Erik Hugne <erik.hugne@ericsson.com>

 src/Makefile.am        |    9 +-
 src/address.cpp        |   19 +++-
 src/address.hpp        |    6 ++
 src/session_base.cpp   |   11 +++
 src/socket_base.cpp    |   44 ++++++++-
 src/tipc_address.cpp   |  105 ++++++++++++++++++++
 src/tipc_address.hpp   |   65 ++++++++++++
 src/tipc_connecter.cpp |  256 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/tipc_connecter.hpp |  127 ++++++++++++++++++++++++
 src/tipc_listener.cpp  |  178 +++++++++++++++++++++++++++++++++
 src/tipc_listener.hpp  |   97 ++++++++++++++++++
 11 files changed, 914 insertions(+), 3 deletions(-)

commit 5e71475d45dd320014cfe8542467c8e375def9c8
Author: Mark Barbisan <mark@barbisan.ca>
Date:   Thu Oct 31 23:42:48 2013 -0400

    Shorten ZMQ_ROUTER_REASSIGN_IDENTITIES to ZMQ_ROUTER_HANDOVER. Also, added a test for the HANDOVER functionality.

 include/zmq.h                  |    2 +-
 src/router.cpp                 |    8 ++--
 src/router.hpp                 |    2 +-
 tests/Makefile.am              |    2 +
 tests/test_router_handover.cpp |  101 ++++++++++++++++++++++++++++++++++++++++
 5 files changed, 109 insertions(+), 6 deletions(-)

commit bc88b88804cba89a950bf65a5950c9cf8d1b320b
Merge: 9d22ab1 3825f3b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 31 11:01:55 2013 -0700

    Merge pull request #729 from mbarbisan/master

    Fixed LIBZMQ-556: ROUTER socket does not support reconnection from clients with multiple NICs

commit 9d22ab1c4fac2fb0c9e52b6e1b0f51368903f534
Merge: 2a03d54 c75ed69
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 31 06:08:20 2013 -0700

    Merge pull request #728 from NetImperia/patch-1

    Update tcp_connecter.cpp - Crash Fix: Assertion failed: Permission denied (..\..\..\src\tcp_connecter.cpp:279) on windows 8

commit 3825f3b3009f3a123c0144486d5507d195f24b86
Author: Mark Barbisan <mark@barbisan.ca>
Date:   Wed Oct 30 23:45:46 2013 -0400

    Add support to the ROUTER socket to reassign identities upon name collision.

 include/zmq.h  |    1 +
 src/router.cpp |   41 ++++++++++++++++++++++++++++++++++++++---
 src/router.hpp |    5 +++++
 3 files changed, 44 insertions(+), 3 deletions(-)

commit c75ed69af3baa27051fc02e1f1528fe5d08533a6
Author: NetImperia <com@netimperia.com>
Date:   Wed Oct 30 18:16:06 2013 -0700

    Update tcp_connecter.cpp

    Crash Fix: Assertion failed: Permission denied (..\..\..\src\tcp_connecter.cpp:279) on windows 8

 src/tcp_connecter.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 2a03d541dc4e8bdd08c91890a17c400913144c74
Merge: 37450fa 5405c6a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 29 04:24:38 2013 -0700

    Merge pull request #727 from ricnewton/master

    Remove redundant entry in tests makefile.

commit 5405c6ac218fa623920788bbd0e1276b80556820
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Oct 29 11:18:49 2013 +0000

    Remove redundant entry in tests makefile.

 tests/Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit 37450fad66acfb3b68aa1cd1c4f60619e32832d8
Merge: 9f87f74 36d7bba
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Oct 29 04:17:12 2013 -0700

    Merge pull request #726 from mattconnolly/master

    Adding source for test_stream_empty

commit 36d7bba3896825c7bd769af764eb28758c19298c
Author: Matt Connolly <matt.connolly@me.com>
Date:   Tue Oct 29 20:50:52 2013 +1000

    Adding source for test_stream_empty

 tests/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 9f87f747e3e56c1263fdc7e41d7ddceeb9cb2d7a
Merge: 335cffc 2b08047
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 29 02:32:22 2013 -0700

    Merge pull request #725 from ricnewton/master

    Sync cmake tests with tests in makefile.am

commit 2b08047d363cadb8406c754b978391162916daf7
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Oct 29 09:10:00 2013 +0000

    Fix formatting issue.

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 54a379f9662fc64c414f18570d627ba8edccdfc3
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Oct 29 09:07:38 2013 +0000

    Clean up dead code in cmake.

 CMakeLists.txt |    6 ------
 1 file changed, 6 deletions(-)

commit 5a74ad56a9c6cc90250311c8c8cc920ce9672ce3
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Oct 29 09:06:24 2013 +0000

    Sync cmake tests with tests in makefile.am

 CMakeLists.txt |   60 +++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 36 insertions(+), 24 deletions(-)

commit 335cffc1e3d0f2424f970597c1569aa5d2aad82f
Merge: ac63e56 eaba5df
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Oct 28 16:11:42 2013 -0700

    Merge pull request #724 from hintjens/master

    Renamed test_router_raw_empty to test_stream_empty

commit eaba5dfe379b544dd91d4e0e748fe62dfa9b9449
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 28 21:00:42 2013 +0100

    Renamed test_router_raw_empty to test_stream_empty

    * The ZMQ_ROUTER_RAW API was deprecated in favor of ZMQ_STREAM
    * Same issue hit router.cpp, which I've fixed

 .gitignore                      |    1 +
 src/stream.cpp                  |    2 ++
 tests/Makefile.am               |    2 +-
 tests/test_router_raw_empty.cpp |   65 ---------------------------------------
 tests/test_stream_empty.cpp     |   60 ++++++++++++++++++++++++++++++++++++
 5 files changed, 64 insertions(+), 66 deletions(-)

commit ac63e56255ae75a2c35626addcea2e011da9f579
Merge: b40879f c2c0f39
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Oct 28 04:05:02 2013 -0700

    Merge pull request #723 from hintjens/master

    Fixed ref to zmq_socket_monitor

commit c2c0f39d36236156c1abba72dba9badb2b65dc9d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 28 11:48:28 2013 +0100

    Fixed ref to zmq_socket_monitor

 doc/zmq.txt |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b40879f9de0c747aed8cecc57c854415a62695a5
Merge: c9772d0 379c280
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 28 03:30:53 2013 -0700

    Merge pull request #722 from ricnewton/master

    Fix test warnings

commit 379c280bdee706cbdd1d851d28abec5982dd456d
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Oct 28 08:34:32 2013 +0000

    Fix test warning.

 tests/test_ctx_options.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 15f5b7ff6a346899f6181d4e5718fae188ad8136
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Oct 28 08:30:31 2013 +0000

    Fix test warning.

 tests/test_router_raw_empty.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c9772d0a5c4fa447fb3a419dcfbba57ee3b58754
Merge: dad0933 366c8f8
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Oct 28 01:19:00 2013 -0700

    Merge pull request #721 from minrk/init-raw

    add missing msg->init for ROUTER_RAW with empty message

commit 366c8f87c46efe6fb2b995170bf427f774b4fcfd
Author: MinRK <benjaminrk@gmail.com>
Date:   Sun Oct 27 22:50:32 2013 -0700

    test zmq_msg_close after sending empty message on ROUTER_RAW

 tests/Makefile.am               |    2 ++
 tests/test_router_raw_empty.cpp |   65 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 67 insertions(+)

commit 96ee8bb9d9e36208af1c288bf355318b4c667a72
Author: MinRK <benjaminrk@gmail.com>
Date:   Sun Oct 27 22:50:04 2013 -0700

    add missing msg->init for ROUTER_RAW with empty message

 src/router.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit dad09334693224824e5b4a761c627d7e4ced604b
Merge: 628787c 0beb39a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 25 00:53:38 2013 -0700

    Merge pull request #718 from xantares/tarball_cmake

    include cmake files in tarball

commit 628787c965e213062fe87b8707159bcbba3e66ae
Merge: 770d52e 65050b1
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Oct 24 00:30:48 2013 -0700

    Merge pull request #720 from hintjens/master

    test_stream failed when response was broken into frames

commit 65050b1b031398804c49e3c2bc0481feba6e37db
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 24 03:31:02 2013 +0200

    Added --with-relaxed to disable pedantic compiles

 configure.ac |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 1ee7b9b1ea0690d18da9ab19bfab41bf59513bc8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 23 23:58:39 2013 +0200

    test_stream failed when response was broken into frames

 tests/test_stream.cpp |   13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 770d52ecfecb76cce5763f61e85c62bacced4b84
Merge: 71b423a ffd633b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 23 12:17:55 2013 -0700

    Merge pull request #719 from xantares/mingw_arch

    fix use of CMAKE_SYSTEM_PROCESSOR

commit ffd633b3bb8306dc6e04fe4a6d47cc7775d40f6c
Author: xantares <xantares09@hotmail.com>
Date:   Wed Oct 23 20:22:20 2013 +0200

    fix use of CMAKE_SYSTEM_PROCESSOR

 CMakeLists.txt |   18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 0beb39a4489afee218a4b7a375b0717409369047
Author: xantares <xantares09@hotmail.com>
Date:   Wed Oct 23 20:21:35 2013 +0200

    Revert "fix use of CMAKE_SYSTEM_PROCESSOR"

    This reverts commit e5baf1e05e696619cb4400db9c9324996ab1400c.

 CMakeLists.txt |   18 +++++++-----------
 1 file changed, 7 insertions(+), 11 deletions(-)

commit e5baf1e05e696619cb4400db9c9324996ab1400c
Author: xantares <xantares09@hotmail.com>
Date:   Wed Oct 23 20:19:52 2013 +0200

    fix use of CMAKE_SYSTEM_PROCESSOR

 CMakeLists.txt |   18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit e273d94db80e20f5ce557709e55d7e93011223b2
Author: xantares <xantares09@hotmail.com>
Date:   Wed Oct 23 19:06:29 2013 +0200

    include cmake files in tarball

 Makefile.am     |    1 +
 src/Makefile.am |    3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 71b423ae8d6b3a6979b8ae712d800600b6447756
Merge: 1f85ed0 87718c6
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Oct 23 07:16:40 2013 -0700

    Merge pull request #717 from hintjens/master

    Clarified use of secret/public keys

commit 87718c6102f92cba5eda062cac8f4a4778e0c152
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 23 16:03:40 2013 +0200

    Clarified use of secret/public keys

 doc/zmq_setsockopt.txt |   23 +++++++++++------------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit 1f85ed06db9d83a92406bba774b88c85256daa63
Merge: 4582fe3 09426ff
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Oct 23 03:16:49 2013 -0700

    Merge pull request #716 from hintjens/master

    Fixed man page for CURVE key options

commit 09426ff30821c2a5211673817092767b2af9b049
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 23 12:04:31 2013 +0200

    Fixed man page for CURVE key options

 doc/zmq_setsockopt.txt |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 4582fe3276ca0803f2cd9148e546fe8dc68e9386
Merge: 41b2f83 8ee2a47
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 21 02:16:28 2013 -0700

    Merge pull request #715 from ricnewton/master

    Add new tests to CMakeLists.txt

commit 8ee2a47267d173e19b1166449d3450c805c81a3d
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Oct 21 10:06:17 2013 +0100

    Add new tests to CMakeLists.txt

 CMakeLists.txt |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 41b2f83bef06f2bd2abca233cc0fe231ab89ec8c
Merge: 08c91c0 406e605
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Oct 21 01:58:00 2013 -0700

    Merge pull request #714 from hintjens/master

    Cleaned up the code

commit 406e6051e40bedf7aba5f140d4e551b58059483c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 21 10:51:59 2013 +0200

    Cleaned up the code

    - removed unnecessary malloc
    - spaces, not tabs to indent
    - renamed control states to be more logical
    - renamed SUSPEND to PAUSE, feels more accurate
    - fixed indentation, which was off in places

 src/proxy.cpp |  130 ++++++++++++++++++++++++++++++---------------------------
 1 file changed, 68 insertions(+), 62 deletions(-)

commit 08c91c0f949334aad95d851fba6e999bb99d6912
Merge: 5f1a9a4 984c2e9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 21 01:39:09 2013 -0700

    Merge pull request #712 from lalebarde/master

    add proxy control flow and test

commit 984c2e94e411e9146655f42076c29bc3d8f0f1db
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Fri Oct 18 16:40:21 2013 +0200

    small fix inzmq_proxy_steerable doc

 doc/zmq_proxy_steerable.txt |    3 ---
 1 file changed, 3 deletions(-)

commit 99b13638ebabbf7fb80072f78e9492e109721395
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Fri Oct 18 16:35:54 2013 +0200

    add doc to zmq_proxy_steerable

 doc/Makefile.am             |    2 +-
 doc/zmq_proxy_steerable.txt |   96 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 97 insertions(+), 1 deletion(-)

commit 5f1a9a4ae50825fa6632d29e240304e99e1ddccb
Merge: 3b628fd 1b8daed
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 18 06:37:16 2013 -0700

    Merge pull request #713 from ricnewton/master

    Use consistant integer type in raw_decoder

commit 5250bdab9fa8b8e089f24994144ce831dcdf9839
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Fri Oct 18 15:22:53 2013 +0200

    add tests/test_proxy in gitignore

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 1b8daed9db41b4237a91b254dbc791b53260dc1c
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Oct 18 14:20:30 2013 +0100

    Use consistant integer type in raw_decoder

 src/raw_decoder.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1bb982ecc2e072dfa710ef62699c67b8d97a2ca0
Merge: f06bf8d 3b628fd
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Oct 18 14:09:39 2013 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit e33a382f8dcf98e7ad677bb56be4c2ca1e77365a
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Fri Oct 18 15:01:05 2013 +0200

    new zmq_proxy is zmq_proxy_steerable to respect C API

 include/zmq.h        |    3 ++-
 src/zmq.cpp          |   14 +++++++++++++-
 tests/test_proxy.cpp |    2 +-
 3 files changed, 16 insertions(+), 3 deletions(-)

commit 1b75d1ecb5cdfc47190d587bcf37680777a96356
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Fri Oct 18 11:12:48 2013 +0200

    add proxy control flow and test

 AUTHORS              |    1 +
 include/zmq.h        |    2 +-
 src/proxy.cpp        |   56 +++++++++--
 src/proxy.hpp        |    3 +-
 src/zmq.cpp          |    3 +-
 tests/Makefile.am    |    2 +
 tests/test_proxy.cpp |  267 ++++++++++++++++++++++++++++++++++++++++++++++++++
 tests/testutil.hpp   |   19 ++++
 8 files changed, 344 insertions(+), 9 deletions(-)

commit 3b628fd85a6e1d5404f260105a9f37b617922cbf
Merge: 6139a66 f0a0e4d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 14 11:28:37 2013 -0700

    Merge pull request #710 from jenshz/patch-1

    Update zmq_msg_init_data.txt

commit f0a0e4d817a61331d175e98111f53e592135b813
Author: Jens Henrik Hertz <jens@autobutler.dk>
Date:   Mon Oct 14 20:27:23 2013 +0200

    Update zmq_msg_init_data.txt

 doc/zmq_msg_init_data.txt |    4 ++++
 1 file changed, 4 insertions(+)

commit 6139a66eee0b65132f325a89b62c19ca5353807b
Merge: ff90fa7 097c2c8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Oct 13 05:46:55 2013 -0700

    Merge pull request #709 from hintjens/master

    Temporary workaround for broken libsodium install

commit 097c2c8f8b4ec84633aae2ba9436105a13ce5615
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Oct 13 14:45:58 2013 +0200

    Temporary workaround for broken libsodium install

 .travis.yml |    3 +++
 1 file changed, 3 insertions(+)

commit ff90fa7f4d79f2e51bb92250b418d3f5ea08d387
Merge: 9bb4215 7ecab54
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Oct 11 06:33:04 2013 -0700

    Merge pull request #708 from hurtonm/master

    Load identity message to decoder at start

commit 7ecab54ac3b7a6103c46892990217acafb039eed
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jun 21 16:23:38 2013 +0200

    Load identity message to decoder at start

 src/stream_engine.cpp |    7 +++++++
 1 file changed, 7 insertions(+)

commit 9bb4215cfe6b7b9d823c65e461553810fda013f4
Merge: 82ab836 b2d52a3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 11 02:45:35 2013 -0700

    Merge pull request #707 from xantares/master

    Fixed out-of-source build

commit b2d52a3730c300d5adcafc5653e58ee96d5e768f
Author: xantares <xantares09@hotmail.com>
Date:   Thu Oct 10 22:08:54 2013 +0200

    Fixed out-of-source build

 tools/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82ab83630611de10b1a9807b87c911a29d4337c6
Merge: 63e0fe9 b35c08b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 9 11:44:32 2013 -0700

    Merge pull request #706 from hurtonm/master

    Rename engine's methods to improve code readability

commit b35c08beb4e6a8b72e05265cb5f49af22f2663d7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Sep 26 09:37:04 2013 +0200

    Rename engine's methods to improve code readability

 src/i_engine.hpp      |    4 ++--
 src/pgm_receiver.cpp  |    4 ++--
 src/pgm_receiver.hpp  |    4 ++--
 src/pgm_sender.cpp    |    4 ++--
 src/pgm_sender.hpp    |    4 ++--
 src/session_base.cpp  |    4 ++--
 src/stream_engine.cpp |   34 +++++++++++++++++-----------------
 src/stream_engine.hpp |    8 ++++----
 8 files changed, 33 insertions(+), 33 deletions(-)

commit 63e0fe915e456137bec998303b2d599d9e9a0e8c
Merge: cc22825 50a1973
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Oct 9 11:20:46 2013 -0700

    Merge pull request #705 from hintjens/master

    Fixed doc for IDENTITY socket option

commit 50a1973ee6011a85204d96267a0786f9fcf09aaf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 9 19:52:46 2013 +0200

    Identity can only be set on sockets that can connect to ROUTER

 doc/zmq_getsockopt.txt |    6 +++---
 doc/zmq_setsockopt.txt |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit cc2282556a90a92767af8bb77e411f5c9d3dd14d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 8 17:54:01 2013 +0200

    Update NEWS

 NEWS |    7 -------
 1 file changed, 7 deletions(-)

commit 1b6ca34d16885052ec41a98b67c02c1651c9e88d
Merge: 2cf6d52 b7eb1cd
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Oct 8 06:05:42 2013 -0700

    Merge pull request #703 from hintjens/master

    Reverted use of enums for zmq.h constants (too painful for binding authors)

commit b7eb1cdcce8436f237b1a908b8be426369b037b0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 8 14:51:19 2013 +0200

    Revert "replace macro constants with enum types for user facing constants"

    This reverts commit d4bb6d693f0542bbf35bc1b6810100d5b2a901a8.

 include/zmq.h |  222 ++++++++++++++++++++++++++-------------------------------
 1 file changed, 101 insertions(+), 121 deletions(-)

commit b0085a7f29d431c1f93d04fb0e6cc7499f27689a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 8 14:51:00 2013 +0200

    Revert "distinguish between options and defaults"

    This reverts commit e7804c5027633d18558c05b550ea11c46fb37c42.

 include/zmq.h |    9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

commit 2cf6d5231001407c6bba18768ee7d0a150431978
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 8 10:48:37 2013 +0200

    Fixed NEWS for 4.0.1 release

 NEWS |   27 +++++++++++++++------------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit c629b6c7b0a9f6effcf4080f72137dbc38a11150
Merge: 7560103 6ef68be
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 8 01:48:16 2013 -0700

    Merge pull request #702 from hintjens/master

    Updated NEWS for 4.0.1 release

commit 6ef68be04f5d704d94417a42c804b6a28bf49f8d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 8 10:36:33 2013 +0200

    Updated NEWS for 4.0.1 release

 NEWS |   41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 756010343dc69d9b37c59f21766d7c37eb3610b5
Merge: 283e523 433ea35
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 7 22:36:01 2013 -0700

    Merge pull request #701 from ezhikus/master

    Typo in type name "emTPy_slots_t"

commit 433ea35b6c1af450279c887b5ec095dd4d72da21
Author: Volodymyr Korniichuk <9173519@gmail.com>
Date:   Tue Oct 8 00:40:30 2013 +0300

    Typo in type name "emTPy_slots_t"

    https://zeromq.jira.com/browse/LIBZMQ-565

 src/ctx.hpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 283e52357c982789955334831425b9c44bea898a
Merge: 1a20220 62e26b3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 7 11:50:36 2013 -0700

    Merge pull request #700 from hashstat/master

    Add documentation on Linux ipc abstract namespace support and a bug fix.

commit 62e26b32424d17a3c589d7a30c4c19d554cc547f
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Mon Oct 7 10:55:40 2013 -0700

    Add tests/test_abstract_ipc to .gitignore.

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit e0f4d603c2b123f156be2aa1ca4eeeaf5c1740e4
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Mon Oct 7 10:42:39 2013 -0700

    Fix detection of abstract ipc pathname and length calculation.

    Abstract socket pathnames must have a NULL character in the first
    position, but the second character must also be checked to differentiate
    an abstract name from the empty string.  The address length must also
    indicate the length of the pathname because the kernel uses the entire
    address as the name, including NULL characters.  ZMQ uses
    NULL-terminated strings for the address, so the abstract address length
    is the length of the string following the initial NULL byte plus 3; two
    bytes for the address family and one for the initial NULL character.

 src/ipc_address.cpp |   19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit ae7fad48a85c54eded3a78ceb644f4235c67e7e9
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Mon Oct 7 10:41:20 2013 -0700

    Add note on Linux abstract namespace to ipc documentation.

 doc/zmq_ipc.txt |    5 +++++
 1 file changed, 5 insertions(+)

commit 1a202208177a482008768440cb1412a270bee971
Merge: bacc9ae 7a960ff
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Oct 5 00:22:26 2013 -0700

    Merge pull request #699 from ezhikus/free_and_delete

    It is safe to "free(NULL)" and "delete NULL"

commit bacc9aeeae74ba2e915c5aec5ea3b636677208a0
Merge: 23e58e3 f499c89
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Oct 5 00:14:09 2013 -0700

    Merge pull request #698 from hashstat/master

    Add abstract namespace support for IPC sockets on Linux.

commit 7a960ff29c2d628ac3cc45bdb600b4cb3c1f3825
Author: Volodymyr Korniichuk <VolodymyrKorn@gmail.com>
Date:   Fri Oct 4 21:54:52 2013 +0300

    useless checks were removed

 src/ctx.cpp           |    6 ++----
 src/mtrie.cpp         |    3 +--
 src/session_base.cpp  |    3 +--
 src/stream_engine.cpp |    9 +++------
 src/trie.cpp          |    3 +--
 src/yqueue.hpp        |    6 ++----
 6 files changed, 10 insertions(+), 20 deletions(-)

commit f499c89528be9a8bf87146b3c3808988c83aad74
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Thu Oct 3 16:35:30 2013 -0700

    Add test for abstract namespace support in ipc sockets on Linux.

    See issue 567.

 configure.ac                |    3 +++
 tests/Makefile.am           |    8 +++++-
 tests/test_abstract_ipc.cpp |   57 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 67 insertions(+), 1 deletion(-)

commit 31cdbd2afa47318316a8a1f203904330e53fc120
Author: Brandon Carpenter <brandon.carpenter@pnnl.gov>
Date:   Thu Oct 3 16:21:42 2013 -0700

    Add abstract namespace support for IPC sockets on Linux.

    Converts an initial strudel or "at sign" (@) in the Unix socket path to
    a NULL character ('\0') indicating that the socket uses the abstract
    namespace instead of the filesystem namespace.  For instance, binding a
    socket to 'ipc://@/tmp/tester' will not create a file associated with
    the socket whereas binding to 'ipc:///tmp/tester' will create the file
    /tmp/tester.  See issue 567 for more information.

 AUTHORS             |    1 +
 src/ipc_address.cpp |   12 ++++++++++++
 2 files changed, 13 insertions(+)

commit 23e58e30d5ae04250a82e9008a9db01dea07a15c
Merge: d33a3ad 55bfe7d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Oct 4 10:13:46 2013 -0700

    Merge pull request #697 from pijyoi/master

    bugfixes for mingw compilation

commit 55bfe7dbabad89330cd8d67f48a16d4e41a39baf
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sat Oct 5 00:51:47 2013 +0800

    WinSock2.h filename should be all lowercase

 tests/test_system.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79c2598a0817403c2b5bcef74cb96ecab798cc85
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sat Oct 5 00:48:52 2013 +0800

    test for _MSC_VER before using MSVC specific code

 tests/testutil.hpp |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit d33a3ad0fda75385b98cd478db1e53fd45cf8015
Merge: 6934766 e7804c5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 4 01:58:48 2013 -0700

    Merge pull request #696 from calid/enum-constants

    replace macro constants with enum types for user facing constants

commit e7804c5027633d18558c05b550ea11c46fb37c42
Author: Dylan Cali <calid1984@gmail.com>
Date:   Fri Oct 4 02:19:07 2013 -0500

    distinguish between options and defaults

 include/zmq.h |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 6934766cf8cf403eb63b8d810ad8b51b780d63de
Merge: 21129c7 88882e3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 4 00:07:25 2013 -0700

    Merge pull request #695 from hurtonm/master

    Stop curve handshake when cookie box verification fails

commit d4bb6d693f0542bbf35bc1b6810100d5b2a901a8
Author: Dylan Cali <calid1984@gmail.com>
Date:   Fri Oct 4 01:45:42 2013 -0500

    replace macro constants with enum types for user facing constants

 include/zmq.h |  222 +++++++++++++++++++++++++++++++--------------------------
 1 file changed, 121 insertions(+), 101 deletions(-)

commit 88882e31cdb6d1c3dedecdeffc207ed33cf043f4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Oct 4 08:20:55 2013 +0200

    Stop curve handshake when cookie box verification fails

 src/curve_server.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 21129c750191116a066439cf71a1d1023636020c
Merge: cd030ef edeedc6
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Oct 2 03:30:11 2013 -0700

    Merge pull request #694 from hintjens/master

    Clarified that zmq.h constants are part of the public contract

commit edeedc6dd83b4bba3c51fc02aefe30d4dfe3f765
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 2 12:15:31 2013 +0200

    Disabled randomly failing part of test

 tests/test_spec_rep.cpp |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit d37d32fb0c9f7987669c2fdb23c81124e3557fed
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 2 12:05:14 2013 +0200

    Clarified that zmq.h constants are part of the public contract

 include/zmq.h |    8 ++++++++
 1 file changed, 8 insertions(+)

commit cd030ef1c2783606d95cbd367b315749e733dafd
Merge: 73ae948 0b4ce80
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Oct 2 01:10:43 2013 -0700

    Merge pull request #693 from calid/doc-fix

    fix minor typo in zmq_ctx_get doc example

commit 0b4ce808536efdf1ac66a0c2661f90f06f0aa025
Author: Dylan Cali <calid1984@gmail.com>
Date:   Wed Oct 2 02:59:44 2013 -0500

    fix minor typo in zmq_ctx_get doc example

 doc/zmq_ctx_get.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 73ae948abb7b30bd3cad240fb4591fff5f2a7d8f
Merge: ead6826 fd4d125
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Sep 30 09:56:26 2013 -0700

    Merge pull request #692 from hintjens/master

    Packaging for zmq_curve_keypair function

commit fd4d125d8e3dbbb74261a6c006cb9306b0be9f14
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 30 15:14:02 2013 +0200

    Packaging for zmq_curve_keypair function

    * Added new man page for this
    * Added test case, in tests/test_security_curve.cpp
    * Noted in zmq_utils.h that these methods are documented

 doc/Makefile.am               |    2 +-
 doc/zmq.txt                   |    9 +++++++
 doc/zmq_curve_keypair.txt     |   56 +++++++++++++++++++++++++++++++++++++++++
 doc/zmq_z85_decode.txt        |    2 +-
 doc/zmq_z85_encode.txt        |    1 +
 include/zmq_utils.h           |   24 ++++++++++--------
 tests/test_security_curve.cpp |   24 ++++++++++++------
 7 files changed, 98 insertions(+), 20 deletions(-)

commit ead6826cc1cde16f1bd319cd57e9edf092d5b394
Merge: 30d3488 4577956
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 29 13:19:26 2013 -0700

    Merge pull request #691 from minrk/curve_keygen

    Expose zmq_curve_keypair via zmq_utils

commit 4577956964b74b2ed52d7a62a8e498260efa78e7
Author: MinRK <benjaminrk@gmail.com>
Date:   Sun Sep 29 13:07:51 2013 -0700

    return NULL and set EINVAL on bad z85 input

    asserts aren't appropriate for checking user input.

 src/zmq_utils.cpp |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 87254abc9f4397f641ace5c2cf79bd359ff728ff
Author: MinRK <benjaminrk@gmail.com>
Date:   Sun Sep 29 13:05:27 2013 -0700

    use zmq_curve_keypair in curve_keygen

 tools/curve_keygen.c |   34 ++++++++++++----------------------
 1 file changed, 12 insertions(+), 22 deletions(-)

commit d1a927a92ecccb1d3616c9c2b8acc8b12facf06d
Author: MinRK <benjaminrk@gmail.com>
Date:   Sun Sep 29 13:02:39 2013 -0700

    add zmq_curve_keypair to zmq_utils

 include/zmq_utils.h |    4 ++++
 src/zmq_utils.cpp   |   37 ++++++++++++++++++++++++++++++++++++-
 2 files changed, 40 insertions(+), 1 deletion(-)

commit 30d34888e0544c9d598977ea0c0e7d789f878f3d
Merge: 6c25d2f 7660b78
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 29 04:22:24 2013 -0700

    Merge pull request #690 from mattconnolly/master

    config for libsodium in alternate path, using CPP flags for both C and C...

commit 7660b78e12c34a1c8855c14cba7b163787d2c922
Author: Matt Connolly <matt.connolly@me.com>
Date:   Sun Sep 29 21:19:50 2013 +1000

    config for libsodium in alternate path, using CPP flags for both C and C++ sources.

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6c25d2f88083c7671044509d17b982ffb4395af0
Merge: f1002e9 cf4bfd4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 29 02:29:53 2013 -0700

    Merge pull request #689 from minrk/curve_keygen

    include missing platform.hpp in curve_keygen

commit cf4bfd48cfdebc66d63f784f72444dbacef3ca80
Author: MinRK <benjaminrk@gmail.com>
Date:   Sat Sep 28 15:42:52 2013 -0700

    include missing platform.hpp in curve_keygen

    it was excluded, so HAVE_SODIUM would never be defined,
    leading to curve_keygen always reporting "recompile with libsodium"

 tools/curve_keygen.c |    1 +
 1 file changed, 1 insertion(+)

commit 3d7b2b4c04cfa6bdd74fbbd495268a9800f15398
Author: MinRK <benjaminrk@gmail.com>
Date:   Sat Sep 28 15:42:00 2013 -0700

    declare z85_encode / decode in zmq_utils

    they are used by curve_keygen, but not available

 include/zmq_utils.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit f1002e9492f3124ad62fedb4e52a0c6a2df539c6
Merge: 2af23cf 848ce1a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 27 04:30:24 2013 -0700

    Merge pull request #688 from mattconnolly/master

    This pull requests fixes building on SmartOS and possibly other Solaris-like systems

commit 848ce1adb103c0490167d991e002101bbc705b89
Author: Matt Connolly <matt.connolly@me.com>
Date:   Fri Sep 27 11:20:09 2013 +0000

    Disable compiler warning for Solaris

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit aa84e851537ce890755a96dee8d87347f0265e5b
Author: Matt Connolly <matt.connolly@me.com>
Date:   Fri Sep 27 11:12:16 2013 +0000

    Add '-lssp' linker flag for Solaris. Check for libraries after host specific setup.

 configure.ac |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 2af23cf40c190435c0aba367fadd30652b0ecdf3
Merge: d568e7f 015b43f
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 26 05:39:17 2013 -0700

    Merge pull request #687 from hintjens/master

    Updated CMake project for test_issue_566

commit 015b43f969d0dc882e323a2289af02d9a95715e2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 26 14:32:47 2013 +0200

    Updated CMake project for test_issue_566

 CMakeLists.txt |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d568e7f5873c5652d52e6892db8756449999a592
Merge: 5271bc9 e42a0a4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Sep 26 05:30:59 2013 -0700

    Merge pull request #686 from hintjens/master

    Added test case for issue 566

commit e42a0a4074b6b2f32ade6a6c3d90435f0b737eeb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 26 14:18:40 2013 +0200

    Added test case for issue 566

    * Tests dealer-to-router connection 100 times
    * This was failing in ZMQ v4.0.0 RC1

 .gitignore               |    1 +
 src/stream_engine.cpp    |    2 +-
 tests/Makefile.am        |    4 ++-
 tests/test_issue_566.cpp |   85 ++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 90 insertions(+), 2 deletions(-)

commit 5271bc9db3e7d60ce89c68d13d2776316f0895d6
Merge: 9827a12 26d5ac4
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 26 02:45:14 2013 -0700

    Merge pull request #685 from hintjens/master

    Build/test errors on OS/X with clang++

commit 26d5ac4075b8bd4aaccc832f6a4692f94a2c5115
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 26 11:35:52 2013 +0200

    curve_keygen needed assert.h

 tools/curve_keygen.c |    1 +
 1 file changed, 1 insertion(+)

commit 9d51155ce2019fc6ea2b486c33eee0d2754f723b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 26 11:33:44 2013 +0200

    Build/test errors on OS/X with clang++

 src/options.cpp       |    2 +-
 tests/test_stream.cpp |    1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 9827a1278b1dc057e7562fa371b4b1d06a5da6c3
Merge: b0b2567 be25cfd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 26 01:01:47 2013 -0700

    Merge pull request #684 from hurtonm/master

    Call flush after writing the identity message

commit be25cfdf35af1b6d8df33dfbed7fdde0d6c63c76
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Sep 26 09:38:09 2013 +0200

    Call flush after writing the identity message

 src/stream_engine.cpp |    1 +
 1 file changed, 1 insertion(+)

commit f06bf8d25b2ef782968eed218a8333e2e472086b
Merge: 9db0791 b0b2567
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Sep 25 13:27:20 2013 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit b0b2567fcf6e424ab7e24dbdf7f2550454f957b5
Merge: cc2823e 82149dd
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Sep 24 08:11:17 2013 -0700

    Merge pull request #683 from hintjens/master

    Updated libzmq CURVE to track RFC 27

commit 82149dde196a0a1bfdc8cbe9d17aa8c81f5f0be5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 24 15:31:10 2013 +0200

    Updated libzmq CURVE to track RFC 27

    * The INITIATE command vouch box is Box[C',S](C->S') instead of Box[C'](C->S),
      as recommended by https://codesinchaos.wordpress.com/2012/09/09/curvecp-1/,
      to reduce the risk of client impersonation.

    * Mirrors the change in libcurve and CurveZMQ specifications.

 src/curve_client.cpp |   25 ++++++++++++++-----------
 src/curve_server.cpp |   26 ++++++++++++--------------
 2 files changed, 26 insertions(+), 25 deletions(-)

commit cc2823e2404d9b3e2b434a9dc42d2da9a215f9fa
Merge: 51fe8cf b3346fb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 24 03:48:09 2013 -0700

    Merge pull request #682 from hintjens/master

    Fixed build for MSVC 2008

commit 51fe8cfe52e5dd27ee482c31d060ccf0b55eebba
Merge: 5f0a8dc b504aad
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 24 03:32:34 2013 -0700

    Merge pull request #681 from ipechorin/master

    stdint.h is not available on all platforms

commit b3346fb37a6dcfda8da656a3df1dfc21d3109de3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 24 12:29:21 2013 +0200

    Fixed build for MSVC 2008

 include/zmq_utils.h |   15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit b504aad160afa739ba46a3b56f9f881daed3fa67
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Tue Sep 24 14:10:31 2013 +0400

    stdint.h is not available on all platforms

 include/zmq.h       |    3 +++
 include/zmq_utils.h |    1 -
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 5f0a8dcffe107b668075515b3c03d921c2e24455
Merge: 920385c 186b713
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Sep 24 00:24:45 2013 -0700

    Merge pull request #680 from hintjens/master

    Bumped library version and age

commit 186b713aba6b5fb5224a77fbeba62ca9e0eb7bfe
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 24 09:10:39 2013 +0200

    Bumped library version and age

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 920385c40fb607aeecfc663f94e61cd0adbd02f6
Merge: 0e7124b 12eef06
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 23 23:00:33 2013 -0700

    Merge pull request #679 from mattconnolly/master

    Update configure: Allow libsodium to be installed in a custom path

commit 12eef06e45f5bb1501dadd60b7a6a002842b057f
Author: Matt Connolly <matt.connolly@me.com>
Date:   Tue Sep 24 08:07:43 2013 +1000

    Update configure: Allow libsodium to be installed in a custom path

 configure.ac |   39 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit 7b5da7dc09ff90e16f9b5377faf0e23e83a880f5
Author: Matt Connolly <matt.connolly@me.com>
Date:   Tue Sep 24 08:07:10 2013 +1000

    git ignore test run output files: tests/test*.{log|trs}

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 9db0791cd530bdc5b02b473fa19d400c00aa37cc
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Sep 23 08:29:34 2013 +0100

    Revert "Copy platform.hpp into src directory in cmake build."

    This reverts commit 11b699e73cbda47ff450554ebca2385d20a0b75a.

 CMakeLists.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit efbe7d45fae3bf6141e6775219e5ecd0503d32c3
Merge: 11b699e 0e7124b
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Sep 23 08:28:34 2013 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 0e7124b65685dc2bbba194151d1a3a0f5b869250
Merge: 59f1fbc f36a49d
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 20 14:27:11 2013 -0700

    Merge pull request #678 from hintjens/master

    Move away from port 8080 which is occupied on some boxes

commit f36a49de6d4a318f45941171675ce7f3338e7345
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 23:16:29 2013 +0200

    Move away from port 8080 which is occupied on some boxes

 tests/test_stream.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 59f1fbc9a2b40a21000bc6513ee69cf5a332a3ec
Merge: aa2aab1 e3e7efe
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 20 12:45:00 2013 -0700

    Merge pull request #677 from vortechs2000/fix_aix

    Revert "Reference platform.h by ../src/platform.h - AIX is ignoring -I flags"

commit e3e7efedbe5f9a5041a985a0043649e0f3c20f1b
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Fri Sep 20 14:38:11 2013 -0500

    Revert "Reference platform.h by ../src/platform.h - AIX is ignoring -I flags"

    This reverts commit 015d9564ee16959847a30a0ec3b080f718f40678.

 perf/inproc_lat.cpp |    3 +--
 perf/inproc_thr.cpp |    3 +--
 tests/testutil.hpp  |    3 +--
 3 files changed, 3 insertions(+), 6 deletions(-)

commit aa2aab17853f2beb6b99349439c44a93abbde6fc
Merge: 1293f1b b49aa7a
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 20 12:13:11 2013 -0700

    Merge pull request #674 from hintjens/master

    Fixed packaging (makefiles were wrong)

commit 11b699e73cbda47ff450554ebca2385d20a0b75a
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 20 19:34:31 2013 +0100

    Copy platform.hpp into src directory in cmake build.

 CMakeLists.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1293f1b9568c270f9a31c991feef2e6625efc736
Merge: 1a9ea3e 015d956
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 09:54:00 2013 -0700

    Merge pull request #675 from vortechs2000/fix_aix

    Reference platform.h by ../src/platform.h - AIX is ignoring -I flags

commit 015d9564ee16959847a30a0ec3b080f718f40678
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Fri Sep 20 11:43:53 2013 -0500

    Reference platform.h by ../src/platform.h - AIX is ignoring -I flags

 perf/inproc_lat.cpp |    3 ++-
 perf/inproc_thr.cpp |    3 ++-
 tests/testutil.hpp  |    3 ++-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit b49aa7a65dcf12c14826ab58f7b00159f99176f9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 17:28:19 2013 +0200

    Updated NEWS for 4.0.0 release

 NEWS |  118 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 118 insertions(+)

commit 0d3f9eb592dc420e8ee7621c64914b083bade8bf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 16:40:40 2013 +0200

    Missing file from Makefile.am

 src/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 21157f7d851acdf94a84b3eeb8328a3fc9a25d82
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 15:59:16 2013 +0200

    Next version off libzmq master is 4.1.0

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 84a013e3de0840c391e44bcbb30f16f8eb0b8d5d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 15:58:55 2013 +0200

    Fixed packaging for source distribution

 src/Makefile.am   |    1 -
 tools/Makefile.am |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 1a9ea3e24a9285e4fb45851b166070ae69958ed0
Merge: aaf2a2c 5e609be
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 20 06:41:30 2013 -0700

    Merge pull request #673 from hintjens/master

    Renamed new socket options to be clearer

commit 5e609be3457644bda01ca91ad1cb6b511e2933c5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 15:30:04 2013 +0200

    Renamed new socket options to be clearer

    * ZMQ_REQ_STRICT was negative option (default 1) which goes against
      the standard, where defaults are zero. I renamed this to
      ZMQ_REQ_RELAXED.

    * ZMQ_REQ_REQUEST_IDS felt clumsy and describes the technical solution
      rather than the problem/requirement. I changed to ZMQ_REQ_CORRELATE
      which seems more explicit.

 .gitignore                     |    4 +-
 CMakeLists.txt                 |    4 +-
 doc/zmq_getsockopt.txt         |    4 +-
 doc/zmq_setsockopt.txt         |   26 +++---
 include/zmq.h                  |    4 +-
 src/req.cpp                    |    6 +-
 tests/Makefile.am              |    8 +-
 tests/test_req_correlate.cpp   |  177 ++++++++++++++++++++++++++++++++++++++++
 tests/test_req_relaxed.cpp     |  116 ++++++++++++++++++++++++++
 tests/test_req_request_ids.cpp |  177 ----------------------------------------
 tests/test_req_strict.cpp      |  117 --------------------------
 11 files changed, 321 insertions(+), 322 deletions(-)

commit aaf2a2cdfbfba9b9782df6b358651a31174574d3
Merge: 8f0a757 0997a8b
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 20 06:24:47 2013 -0700

    Merge pull request #672 from hintjens/master

    Renamed test_connect_delay to test_immediate to match name of option

commit 0997a8b75309b3129a8b9ba86be915020c90caf8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 14:39:35 2013 +0200

    Removed inaccurate note in zmq_poll man page

 doc/zmq_poll.txt |    4 ----
 1 file changed, 4 deletions(-)

commit 71c9ae8b18b3af0c89f16228359f46d5029372f4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 14:28:06 2013 +0200

    Built zmq_send_const man page properly

 doc/Makefile.am        |    2 +-
 doc/zmq.txt            |    1 +
 doc/zmq_send_const.txt |    2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 92c01f69db71ce693f3e3ae121b22217815266e6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 14:23:43 2013 +0200

    Renamed test_connect_delay to test_immediate

    * The ZMQ_CONNECT_DELAY option was renamed to ZMQ_IMMEDIATE

 .gitignore                   |    2 +-
 CMakeLists.txt               |    2 +-
 tests/Makefile.am            |    4 +-
 tests/test_connect_delay.cpp |  229 ------------------------------------------
 tests/test_immediate.cpp     |  229 ++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 233 insertions(+), 233 deletions(-)

commit 0644256ef4d7f1f40b8988b3c2a5636ef4af1698
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 20 13:28:16 2013 +0200

    Updated NEWS for 3.2.x releases

 NEWS |   30 +++++++++++++++++++++++++++++-
 1 file changed, 29 insertions(+), 1 deletion(-)

commit 8f0a757f08f66688ccffdc43ca01b9d07464f032
Merge: 90867a4 78cabfe
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 19 06:09:13 2013 -0700

    Merge pull request #671 from ricnewton/master

    Testing github jenkins integration

commit 78cabfe8eabd252cd7a75a6a2b8af8ef1552dd51
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 19 12:58:58 2013 +0100

    More testing github jenkins integration

 AUTHORS |    1 -
 1 file changed, 1 deletion(-)

commit d503e19381e96d7cf0a07d78b33cdb55c880cac4
Merge: 544575d 90867a4
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 19 12:37:54 2013 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 544575d18ca4c81827c0becb8fa27c03e78f64bf
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 19 12:28:21 2013 +0100

    Revert "More testing github jenkins integratio"

    This reverts commit 0640d6d2baa014ad93ba57ad2f692af8f9081eb0.

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 0640d6d2baa014ad93ba57ad2f692af8f9081eb0
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 19 12:11:50 2013 +0100

    More testing github jenkins integratio

 AUTHORS |    1 -
 1 file changed, 1 deletion(-)

commit 575ff39bfe6b9c51b159e1e10d7881c017ef7d62
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 19 12:02:17 2013 +0100

    Testing github jenkins integration

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 90867a4e8f23c9a360c7b276b93521b1a61b7866
Merge: 39de9be 7a747b5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 19 02:42:31 2013 -0700

    Merge pull request #670 from ricnewton/master

    Fix cmake build

commit 7a747b5797e4976012cfe1f96f44e224b5f643f0
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 19 09:46:26 2013 +0100

    Fix cmake build

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 39de9bebcb53ad08f745c29befe8e13c88c0cf57
Merge: de91c73 e055560
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 19 00:43:49 2013 -0700

    Merge pull request #669 from hintjens/master

    Renamed inproc connect test (name was too long)

commit e05556075f446c1b5004e6854a157648fe077f8b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 19 09:36:43 2013 +0200

    Renamed inproc connect test (name was too long)

 .gitignore                                |    3 +-
 tests/Makefile.am                         |    4 +-
 tests/test_inproc_connect.cpp             |  339 +++++++++++++++++++++++++++++
 tests/test_inproc_connect_before_bind.cpp |  339 -----------------------------
 4 files changed, 342 insertions(+), 343 deletions(-)

commit de91c7362cd6ca64a1a964b126658768c45e2814
Merge: 94c98ab b132305
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Sep 18 04:09:51 2013 -0700

    Merge pull request #668 from mrothe/no-public-tests

    tests: don't listen on public ports

commit 94c98abba3cfcdbd1127840e7ba5a06d63d467af
Merge: dc79171 825052f
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Sep 18 04:07:35 2013 -0700

    Merge pull request #667 from hintjens/master

    Reverted pull request 666

commit b13230510ceced26f2dd6ee4707d9403f645da15
Author: Markus Rothe <markus@unixforces.net>
Date:   Wed Sep 18 12:58:19 2013 +0200

    tests: don't listen on public ports

 tests/test_connect_delay.cpp     |    8 ++++----
 tests/test_disconnect_inproc.cpp |    2 +-
 tests/test_probe_router.cpp      |    2 +-
 tests/test_req_request_ids.cpp   |    2 +-
 tests/test_req_strict.cpp        |    2 +-
 tests/test_security_curve.cpp    |    2 +-
 tests/test_security_null.cpp     |   12 ++++++------
 tests/test_security_plain.cpp    |    2 +-
 tests/test_spec_dealer.cpp       |    2 +-
 tests/test_spec_pushpull.cpp     |    2 +-
 tests/test_spec_rep.cpp          |    2 +-
 tests/test_spec_req.cpp          |    2 +-
 tests/test_spec_router.cpp       |    2 +-
 tests/test_stream.cpp            |    4 ++--
 14 files changed, 23 insertions(+), 23 deletions(-)

commit 825052f83fd32179d0c52478ae4eb9266e2c4a6b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 17 14:05:55 2013 +0200

    Revert "makes curve keys symetric as in libcurve + factorisation"

    This reverts commit bfd472f97cad5e37fa384b687a906f515600bac4.

 include/zmq.h                 |   21 +++-----
 src/curve_client.cpp          |   54 +++++++++----------
 src/curve_client.hpp          |   30 +++++------
 src/curve_server.cpp          |   54 +++++++++----------
 src/curve_server.hpp          |   20 +++----
 src/options.cpp               |  120 ++++++++++++++++++++++++-----------------
 src/options.hpp               |   10 ++--
 tests/test_security_curve.cpp |   37 ++++++-------
 8 files changed, 178 insertions(+), 168 deletions(-)

commit 22eb4d600b237cee894c7f32c6cdc8d5594fb9e3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 17 14:05:41 2013 +0200

    Revert "oblige the application to explicitely set the node type for PLAIN"

    This reverts commit 1206f4572b4b3bb405a14cc60605b75d53b819a0.

 include/zmq.h                 |    4 ++--
 src/options.cpp               |   16 +++++++++-------
 tests/test_security_curve.cpp |    4 ++--
 tests/test_security_plain.cpp |    9 +++------
 4 files changed, 16 insertions(+), 17 deletions(-)

commit 9e66685c0874210cbd74eb4a4c1283f249863973
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 17 13:33:24 2013 +0200

    Reformatted text

 doc/zmq_setsockopt.txt |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit dc79171fc37597613c827f5ab00aa71fee3d2ac9
Merge: ad0b325 1206f45
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 17 04:32:45 2013 -0700

    Merge pull request #666 from lalebarde/master

    curve key names as in libcurve, symetry design, a few logic improvements

commit 1206f4572b4b3bb405a14cc60605b75d53b819a0
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Tue Sep 17 12:47:21 2013 +0200

    oblige the application to explicitely set the node type for PLAIN

 include/zmq.h                 |    4 ++--
 src/options.cpp               |   16 +++++++---------
 tests/test_security_curve.cpp |    4 ++--
 tests/test_security_plain.cpp |    9 ++++++---
 4 files changed, 17 insertions(+), 16 deletions(-)

commit bfd472f97cad5e37fa384b687a906f515600bac4
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Tue Sep 17 12:44:14 2013 +0200

    makes curve keys symetric as in libcurve + factorisation

 include/zmq.h                 |   21 +++++---
 src/curve_client.cpp          |   54 +++++++++----------
 src/curve_client.hpp          |   30 +++++------
 src/curve_server.cpp          |   54 +++++++++----------
 src/curve_server.hpp          |   20 +++----
 src/options.cpp               |  120 +++++++++++++++++------------------------
 src/options.hpp               |   10 ++--
 tests/test_security_curve.cpp |   37 +++++++------
 8 files changed, 168 insertions(+), 178 deletions(-)

commit ad0b325e4a0f172438700d933b8bcaee7caf4d73
Merge: 67013f1 7bb2b6a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Sep 17 01:53:59 2013 -0700

    Merge pull request #665 from hintjens/master

    Added test case for NULL domains

commit 7bb2b6ae11cafd241a6007bb2d564d4765ff8cf9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 17 10:04:57 2013 +0200

    Fixed length of domain setting

 tests/test_security_null.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7735ca5f8dcc98f71e24ca15c980fd6e2715c036
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 17 09:48:32 2013 +0200

    Added test case for NULL domains

 tests/test_security_null.cpp |   90 +++++++++++++++++++++++++++++++-----------
 1 file changed, 67 insertions(+), 23 deletions(-)

commit 67013f19f6fd37c1abe9cc89102e7bb38628ebea
Merge: 971b275 321a8ff
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Sep 16 06:20:21 2013 -0700

    Merge pull request #664 from hintjens/master

    NULL mechanism was not dealing with ZAP denials properly

commit 321a8ffea91583535a7cddf7b970cff7f9414b4c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 16 15:09:55 2013 +0200

    NULL mechanism was not dealing with ZAP denials properly

 src/null_mechanism.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 971b275f7acc3573575f5375453dd2a93e2605fd
Merge: 276cd1f fe9815a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Sep 16 02:04:44 2013 -0700

    Merge pull request #663 from hintjens/master

    Fixed random failures in test_security_plain and _curve

commit fe9815a7892404deef3989d9ff35a9e78935bc83
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 16 10:56:49 2013 +0200

    Fixed random failures in test_security_plain and _curve

    * ZAP handler thread was not getting time to start up
    * Code now creates and binds handler socket in parent thread and
      passes the socket to the zap_handler, so this always gets the
      authentication requests.

 tests/test_security_curve.cpp |   55 ++++++++++++++++++++---------------------
 tests/test_security_null.cpp  |   45 +++++++++++++++++----------------
 2 files changed, 49 insertions(+), 51 deletions(-)

commit 276cd1f1dae6e1404a143edfe7e1323314224e16
Merge: fbe1b79 6f35100
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 16 01:32:55 2013 -0700

    Merge pull request #662 from ricnewton/master

    Fix windows build

commit 6f351007d4a710207ad4730923add9635873af11
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Sep 16 09:23:47 2013 +0100

    Fix windows build

 tests/testutil.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fbe1b79188eb45deaa67a95e9a21a62a52e54b7e
Merge: d76f3f7 dc1f5e9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 15 15:36:00 2013 -0700

    Merge pull request #661 from lalebarde/master

    simplify test_security_curve.cpp with zmq_z85_encode

commit dc1f5e9f7c0c2331b0eb5edc487b711f257bc89b
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Mon Sep 16 00:06:24 2013 +0200

    simplify test_security_curve.cpp with zmq_z85_encode

 tests/test_security_curve.cpp |   35 +----------------------------------
 1 file changed, 1 insertion(+), 34 deletions(-)

commit d76f3f7c036d02e7ac36d444bec471425cd36d5c
Merge: 5c7b392 576e3ca
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Sep 15 11:37:16 2013 -0700

    Merge pull request #660 from hintjens/master

    Added z85 codec to ZMQ API

commit 576e3ca5e0f0d67f673e1ef30ec1071d19cb6b3a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 15 20:07:33 2013 +0200

    Added z85 codec to ZMQ API

    * Removed redundant Z85 code and include files from project
    * Simplified use of headers in test cases (now they all just use testutil.hpp)
    * Export zmq_z85_encode() and zmq_z85_decode() in API
    * Added man pages for these two functions

 doc/Makefile.am                           |    3 +-
 doc/zmq_curve.txt                         |    2 +
 doc/zmq_z85_decode.txt                    |   50 +++++++++++++
 doc/zmq_z85_encode.txt                    |   56 +++++++++++++++
 include/zmq.h                             |    6 ++
 include/zmq_utils.h                       |    5 ++
 src/Makefile.am                           |    1 -
 src/options.cpp                           |   14 ++--
 src/z85_codec.hpp                         |  109 -----------------------------
 src/zmq_utils.cpp                         |   91 ++++++++++++++++++++++--
 tests/test_conflate.cpp                   |    2 -
 tests/test_connect_delay.cpp              |    6 --
 tests/test_connect_resolve.cpp            |    3 -
 tests/test_ctx_destroy.cpp                |    3 -
 tests/test_ctx_options.cpp                |    2 -
 tests/test_disconnect_inproc.cpp          |    2 -
 tests/test_fork.cpp                       |   10 +--
 tests/test_hwm.cpp                        |    3 -
 tests/test_inproc_connect_before_bind.cpp |    2 -
 tests/test_invalid_rep.cpp                |    4 +-
 tests/test_iov.cpp                        |    5 --
 tests/test_last_endpoint.cpp              |    2 -
 tests/test_linger.cpp                     |    3 -
 tests/test_monitor.cpp                    |    4 --
 tests/test_msg_flags.cpp                  |    2 -
 tests/test_pair_inproc.cpp                |    1 -
 tests/test_pair_ipc.cpp                   |    1 -
 tests/test_pair_tcp.cpp                   |    1 -
 tests/test_probe_router.cpp               |    3 -
 tests/test_req_request_ids.cpp            |    2 -
 tests/test_req_strict.cpp                 |    3 -
 tests/test_reqrep_device.cpp              |    3 -
 tests/test_reqrep_inproc.cpp              |    1 -
 tests/test_reqrep_ipc.cpp                 |    1 -
 tests/test_reqrep_tcp.cpp                 |    1 -
 tests/test_router_mandatory.cpp           |    3 -
 tests/test_security_curve.cpp             |    4 --
 tests/test_security_null.cpp              |    3 -
 tests/test_security_plain.cpp             |    3 -
 tests/test_shutdown_stress.cpp            |    4 --
 tests/test_spec_dealer.cpp                |    2 -
 tests/test_spec_pushpull.cpp              |    2 -
 tests/test_spec_rep.cpp                   |    2 -
 tests/test_spec_req.cpp                   |    3 -
 tests/test_spec_router.cpp                |    2 -
 tests/test_stream.cpp                     |    2 -
 tests/test_sub_forward.cpp                |    4 --
 tests/test_system.cpp                     |   15 ++--
 tests/test_term_endpoint.cpp              |    4 --
 tests/test_timeo.cpp                      |    5 --
 tests/testutil.hpp                        |   14 +++-
 tools/curve_keygen.c                      |   46 +-----------
 tools/z85_codec.h                         |  109 -----------------------------
 53 files changed, 237 insertions(+), 397 deletions(-)

commit 5c7b39275f322799d1baa9be79340943071fa950
Merge: 9066851 193d0bb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Sep 15 09:51:09 2013 -0700

    Merge pull request #659 from hintjens/master

    Fixed Z85 methods to be static

commit 193d0bb63400d1a0f9a4c970e08c4807358244eb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 15 17:30:18 2013 +0200

    Fixed Z85 methods to be static and not pollute library

 src/z85_codec.hpp             |    4 ++--
 tests/test_security_curve.cpp |   41 +++++++++++++++++++++++++++++++++++++++--
 tools/curve_keygen.c          |   39 +++++++++++++++++++++++++++++++++++++--
 tools/z85_codec.h             |    4 ++--
 4 files changed, 80 insertions(+), 8 deletions(-)

commit 65ef76bb59255c2614055910748359276656c996
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 15 15:45:37 2013 +0200

    Minor simplification to makefile

 tools/Makefile.am |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 90668517da4d29383470a794c51bb1647b2cc8ab
Merge: 133c32d 4e6c56e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 15 06:19:00 2013 -0700

    Merge pull request #658 from ricnewton/inproc_connect_before_bind

    Support high water mark on inproc socket connect before bind.

commit 4e6c56e081a00f9963af337f5d49c73e2ac8afc3
Merge: b929882 133c32d
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Sep 15 13:36:07 2013 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq into inproc_connect_before_bind

commit b9298823b4b42dd5beeedfcf8e06cb5f57ecd3bb
Author: Richard Newton <richard_newton@waters.com>
Date:   Sun Sep 15 13:35:44 2013 +0100

    Set hwm on connect socket before bind has happend to just that of connects hwm.

 src/pipe.cpp        |    4 +-
 src/socket_base.cpp |    8 ++-
 tests/test_hwm.cpp  |  156 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 163 insertions(+), 5 deletions(-)

commit 7841b0dd0f94e050bce753c394cd034ab3184ee9
Author: Richard Newton <richard_newton@waters.com>
Date:   Sat Sep 14 17:27:18 2013 +0100

    Support high water mark on inproc socket connect before bind.

 src/ctx.cpp        |   97 ++++++++++++++++++++++---------------
 src/ctx.hpp        |    2 +
 src/object.hpp     |    3 +-
 src/pipe.cpp       |    5 ++
 src/pipe.hpp       |    3 ++
 tests/test_hwm.cpp |  134 +++++++++++++++++++++++++++++++++++++++-------------
 6 files changed, 171 insertions(+), 73 deletions(-)

commit 133c32d5ed523c8bd7976f1fd43663083d9456ff
Merge: 3298e5a 0db2bbe
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 13 00:52:12 2013 -0700

    Merge pull request #657 from hintjens/master

    Build didn't work if libsodium wasn't installed

commit 0db2bbe29d4b4096ecb863c1702cb29d3eadbd29
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 13 09:47:23 2013 +0200

    Build didn't work if libsodium wasn't installed

 tools/curve_keygen.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 3298e5a206ccab9c441c69a165332a97cbf6ccb9
Merge: c1fabf5 b9c0906
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 12 13:46:37 2013 -0700

    Merge pull request #656 from ricnewton/inproc_connect_before_bind

    Allow inproc sockets to connect before bind

commit b9c09064d5760e015b33c716aace846eb3802c43
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 12 21:22:47 2013 +0100

    Fix whitespace

 src/socket_base.cpp |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit d5bd68b60b0311699b0fad411db0f1a09f3ee030
Merge: 379bcb0 c1fabf5
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 12 21:09:30 2013 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq into inproc_connect_before_bind

commit 379bcb088153cf4207e46b82bebd50f9fcf7e359
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 12 21:07:29 2013 +0100

    Send identities when connecting pending sockets.

 src/ctx.cpp                               |   39 ++++++++++++----
 src/ctx.hpp                               |    7 +--
 src/object.cpp                            |    2 +-
 src/object.hpp                            |    2 +-
 src/socket_base.cpp                       |    3 +-
 tests/test_inproc_connect_before_bind.cpp |   71 +++++++++++++++++++++++++----
 6 files changed, 102 insertions(+), 22 deletions(-)

commit c1fabf5ca9e7e9c575ab7a6e8a648a9f0e0ebf2a
Merge: 60f4704 345bf14
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Sep 12 10:27:57 2013 -0700

    Merge pull request #655 from hintjens/master

    Fixed overwrite in zmq_getsockopt

commit 7c3496a76acfad992ebd7f1af1c2b22174b79530
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 12 18:09:37 2013 +0100

    Fix race condition and support multiple socket connects before bind.

 .gitignore                                |    1 +
 src/command.hpp                           |    1 +
 src/ctx.cpp                               |   43 +++++--
 src/ctx.hpp                               |    4 +-
 src/object.cpp                            |   16 ++-
 src/object.hpp                            |    3 +-
 src/socket_base.cpp                       |   46 +-------
 tests/Makefile.am                         |    4 +-
 tests/test_inproc_connect_before_bind.cpp |  180 ++++++++++++++++++++++++++++-
 9 files changed, 232 insertions(+), 66 deletions(-)

commit 60f470450d5d541eed604b437252b0c300f1f6ee
Merge: 168efb9 6c84a54
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 12 09:53:26 2013 -0700

    Merge pull request #654 from lalebarde/master

    add exhaustive comparison in testutil bounce

commit 6c84a543882c8ac4e673c5de40df11a27ab76c75
Author: Laurent Alebarde <l.alebarde@free.fr>
Date:   Thu Sep 12 18:17:31 2013 +0200

    add exhaustive comparison in testutil bounce

 tests/testutil.hpp |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 345bf146f151cbc62fd8b000dbe1316463d2a82d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 12 18:03:23 2013 +0200

    Fixed overwrite in zmq_getsockopt

    On ZMQ_CURVE_xxxKEY fetches, would return 41 bytes into caller's 40-byte
    buffer. Now these fetches only return 41 bytes if the caller explicitly
    provides a 41-byte buffer (i.e. the option size is 41).

 doc/zmq_getsockopt.txt |   12 +++++++-----
 src/options.cpp        |    6 +++---
 src/options.hpp        |    2 +-
 src/z85_codec.hpp      |    3 ++-
 tools/z85_codec.h      |    3 ++-
 5 files changed, 15 insertions(+), 11 deletions(-)

commit 6fefa4166acae14edf69473bb739a34d46128a70
Merge: 5f20d63 168efb9
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 12 15:13:25 2013 +0100

    Merge remote-tracking branch 'upstream/master' into inproc_connect_before_bind

commit 5f20d63665c0ddbd3ff8824a9d1eda33bea07735
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 12 14:44:44 2013 +0100

    First attempt at inproc connect before bind

 CMakeLists.txt                            |    3 +-
 src/ctx.cpp                               |   28 +++++++
 src/ctx.hpp                               |   13 +++
 src/object.cpp                            |   15 ++++
 src/object.hpp                            |    5 ++
 src/socket_base.cpp                       |  127 ++++++++++++++++++++---------
 tests/test_ctx_destroy.cpp                |    3 +
 tests/test_inproc_connect_before_bind.cpp |  114 ++++++++++++++++++++++++++
 tests/test_pair_inproc.cpp                |    2 +-
 9 files changed, 270 insertions(+), 40 deletions(-)

commit 168efb9739eb3064bbbffc7c5849e4682e47547b
Merge: 0d14efe 0f9e5f6
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Sep 12 05:21:25 2013 -0700

    Merge pull request #653 from mattconnolly/master

    Fix preprocessor typoe

commit 6ff65a8aa4c97ddf442c4d72a74a95a81be5057f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 12 13:16:22 2013 +0200

    Builds and installs curve_keygen tool

 tools/Makefile.am |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 0d14efe73a9c39b263240614ad4a40ac5020e55e
Merge: 0f7141c ac8c72c
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Sep 12 03:56:27 2013 -0700

    Merge pull request #652 from hintjens/master

    Minor fixes to project packaging

commit ac8c72cea68235faffe71b248bf45ae57fe5619f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 12 12:47:14 2013 +0200

    Added test_ctx_destroy to .gitignore

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit d1ba8a50d2fad55dbb000065326e2e9138bfd1d0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 12 12:46:43 2013 +0200

    Extended TravisCI build to use libsodium

 .travis.yml |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit 52370bff4485d6aa3e84ccf49f4f6020b50b76af
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 12 12:46:23 2013 +0200

    Removed debugging printfs

 tests/test_security_curve.cpp |    2 --
 tests/test_security_null.cpp  |    2 --
 tests/test_security_plain.cpp |    2 --
 3 files changed, 6 deletions(-)

commit 0f9e5f60498cdd2146c24a8133356d59d963d806
Author: Matt Connolly <matt.connolly@me.com>
Date:   Thu Sep 12 20:30:16 2013 +1000

    Fix preprocessor typoe

 tests/test_system.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0f7141c21a2eb5adc6cb14530b7cce7d048ccbd6
Merge: bba0dd1 8e6b5ad
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 11 09:33:08 2013 -0700

    Merge pull request #651 from ricnewton/master

    Fix Makefile.am for test_ctx_destroy

commit 8e6b5ad17ef963d2ecafa3b25659a226fa1d212c
Author: Richard Newton <richard_newton@waters.com>
Date:   Wed Sep 11 15:02:16 2013 +0100

    Fix Makefile.am for test_ctx_destroy

 tests/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit bba0dd19a1886ed818c537abd8ca7896bafc2f68
Merge: 25c89ca ccf0e61
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 10 07:03:40 2013 -0700

    Merge pull request #650 from ricnewton/master

    Implement non-blocking shutdown command

commit ccf0e61b770bde35b6ce7d46ca026c15a2101b1c
Merge: 64e1c18 25c89ca
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Sep 10 13:30:11 2013 +0100

    Merge remote-tracking branch 'upstream/master'

commit 64e1c181f71299614975b2809e112803719221b1
Author: Richard Newton <richard_newton@waters.com>
Date:   Tue Sep 10 13:30:00 2013 +0100

    Implement non-blocking shutdown command that unblocks other threads waiting on blocking operations.

 CMakeLists.txt             |    1 +
 doc/zmq_ctx_shutdown.txt   |   52 +++++++++++++++++++++++++
 include/zmq.h              |    1 +
 src/ctx.cpp                |   19 ++++++++++
 src/ctx.hpp                |    9 +++++
 src/zmq.cpp                |   10 +++++
 tests/Makefile.am          |    1 +
 tests/test_ctx_destroy.cpp |   90 ++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 183 insertions(+)

commit 25c89cace164c50434ec0300aa2fd50337064561
Merge: 4edad54 6725c46
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Sep 9 12:12:36 2013 -0700

    Merge pull request #649 from hintjens/master

    Fixed minor error in NULL mechanism (spec was wrong)

commit 6725c4644f111ba3f3ab3b0aba5a53cea0265391
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 9 20:40:34 2013 +0200

    Added ZMQ_ZAP_DOMAIN socket option

    * This is passed to the ZAP handler in the 'domain' field

    * If not set, or empty, then NULL security does not call the ZAP handler

    * This resolves the phantom ZAP request syndrome seen with sockets where
      security was never intended (e.g. in test cases)

    * This means if you install a ZAP handler, it will not get any requests
      for new connections until you take some explicit action, which can be
      setting a username/password for PLAIN, a key for CURVE, or the domain
      for NULL.

 doc/zmq_getsockopt.txt        |   50 +++++++++++++++++----------
 doc/zmq_setsockopt.txt        |   76 +++++++++++++++++++++++++----------------
 include/zmq.h                 |    5 +--
 src/curve_server.cpp          |    7 ++--
 src/null_mechanism.cpp        |    9 +++--
 src/options.cpp               |   53 +++++++++++++++++-----------
 src/options.hpp               |   11 +++---
 src/plain_mechanism.cpp       |    7 ++--
 tests/test_security_curve.cpp |   22 ++++++------
 tests/test_security_null.cpp  |   27 ++++++++-------
 tests/test_security_plain.cpp |   16 +++++----
 11 files changed, 171 insertions(+), 112 deletions(-)

commit c45d91a10611b8a9812691f404fd3e30f002585a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 9 19:58:31 2013 +0200

    Fixed comments on curve_keygen tool

 tools/curve_keygen.c |   26 ++++++++++----------------
 1 file changed, 10 insertions(+), 16 deletions(-)

commit 635a03d2404129d0d5cee0ad517591befeba4f14
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 9 19:58:18 2013 +0200

    Was sending NULL mechanism name with extra null (fixed)

 src/null_mechanism.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4edad545372774c5d8aaae87d45490f27d171884
Merge: 498dc37 a601b3f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 6 03:19:45 2013 -0700

    Merge pull request #648 from ricnewton/master

    Fix tests on windows

commit a601b3f6f40e8d5a2926dbf61c00d9b416e33560
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 6 10:25:00 2013 +0100

    Remove windows debug code.

 tests/test_system.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 7485b09cba0d335de271949f41bb6a5b77ee08c4
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Sep 6 10:08:11 2013 +0100

    Fix tests on windows

 tests/test_security_curve.cpp |    2 +-
 tests/test_system.cpp         |   33 +++++++++++++++++++++++++++++++++
 2 files changed, 34 insertions(+), 1 deletion(-)

commit 498dc3798878c611392b27064efa1e2161d1d9bf
Merge: 1f03710 4c75306
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Sep 6 00:54:51 2013 -0700

    Merge pull request #645 from hintjens/master

    Updated libzmq to match RFCs

commit 4c753060236caf12102194b313abfb28dccaa7ff
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 6 09:22:09 2013 +0200

    Fixed test_stream case

    - was not looping to read all input from peer
    - broke on OS/X specifically

 tests/test_stream.cpp |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 9dd324aab23d8540260c8da93ae3927854542ecb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 5 15:18:42 2013 +0200

    z85 encoding buffer overrun

 tests/test_security_curve.cpp |    2 +-
 tools/curve_keygen.c          |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1f037109806081468f250dda4f2762cec8e1f452
Merge: 7b02f1c 11deee4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 12:12:28 2013 -0700

    Merge pull request #647 from sebastien/master

    Clarified zmq_socket.txt ZMQ_STREAM section, added HTTP server example

commit 11deee4e3eafb0f97aae95b786e39007e335ca41
Merge: f918884 7b02f1c
Author: Sebastien Pierre <sebastien.pierre@gmail.com>
Date:   Wed Sep 4 15:02:50 2013 -0400

    Merge branch 'master' of github.com:sebastien/libzmq

commit f9188841b02b90fbba493c803f17be082d47f4d1
Author: Sebastien Pierre <sebastien.pierre@gmail.com>
Date:   Wed Sep 4 14:58:07 2013 -0400

    Clarified zmq_socket.txt ZMQ_STREAM section, added example

 doc/zmq_socket.txt |   45 +++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 43 insertions(+), 2 deletions(-)

commit 0a9261472f6c28e4092b0564da3960146bdfd743
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 19:41:33 2013 +0200

    Removed test_raw_socket

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32fa426e61b92bdd0929990cebc799839cc335a7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 19:38:15 2013 +0200

    Added system check at start of selftests

    - tests that system can provide at least 1,000 sockets
    - we could expand on this but this covers the main case of OS/X
      having a too-low default limit of 256 handles per process

 .gitignore            |    1 +
 tests/Makefile.am     |    4 +++-
 tests/test_system.cpp |   51 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 55 insertions(+), 1 deletion(-)

commit 7b02f1c966cc7b615b6cfd5df81f09478be2dcb0
Merge: ef207e4 bb34885
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 09:42:39 2013 -0700

    Merge pull request #646 from minrk/xfail-linger

    mark test_linger as expected failure

commit bb348858f14e797ef125f8ba95a3218ddbc3180a
Author: MinRK <benjaminrk@gmail.com>
Date:   Wed Sep 4 09:38:54 2013 -0700

    mark test_linger as expected failure

    rather than pretending it passes

 tests/Makefile.am     |    3 ++-
 tests/test_linger.cpp |    3 ---
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 6612280946a40ae3d0d48ff729a1a81c23046ca8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 18:10:47 2013 +0200

    Removed temporary patch on tests/Makefile.am

 tests/Makefile.am |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 28b0a5fa2711b43e2378b7c16367ce14604df096
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 17:59:45 2013 +0200

    Updated libzmq to match RFC 23, 24, 25, 26

    * Command names changed from null terminated to length-specified
    * Command frames use the correct flag (bit 2)
    * test_stream acts as test case for command frames
    * Some code cleanups

 src/curve_client.cpp          |   24 +++++++--------
 src/curve_client.hpp          |    8 ++---
 src/curve_server.cpp          |   24 +++++++--------
 src/curve_server.hpp          |    8 ++---
 src/mechanism.hpp             |    8 ++---
 src/msg.hpp                   |    3 +-
 src/null_mechanism.cpp        |    8 ++---
 src/null_mechanism.hpp        |    4 +--
 src/plain_mechanism.cpp       |   66 +++++++++++++++++++++--------------------
 src/plain_mechanism.hpp       |   20 ++++++-------
 src/stream_engine.cpp         |   20 ++++++-------
 src/stream_engine.hpp         |    8 ++---
 src/v2_decoder.cpp            |    2 ++
 src/v2_encoder.cpp            |    2 ++
 src/v2_protocol.hpp           |    3 +-
 tests/Makefile.am             |    3 +-
 tests/test_security_curve.cpp |    2 +-
 tests/test_stream.cpp         |    8 ++---
 18 files changed, 114 insertions(+), 107 deletions(-)

commit 1844a27c82fbd72a83ffd28b59c2e5ab1f2ddab7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 15:00:05 2013 +0200

    Removed test_raw_sock test case (replaced by test_stream)

 tests/Makefile.am       |    6 +-
 tests/test_raw_sock.cpp |  166 -----------------------------------------------
 2 files changed, 1 insertion(+), 171 deletions(-)

commit ef207e45ce88d5aab6c92b0f8f4322881fb73b44
Merge: 7561ff7 873d80c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 4 04:19:34 2013 -0700

    Merge pull request #644 from ipechorin/master

    Fix MSVC 2008 and 2010 project files

commit 873d80c9fecc823d903b7e458b959f9877598d8c
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 4 15:13:14 2013 +0400

    fix MSVC 2008 project: include the source files added recently

 builds/msvc/libzmq/libzmq.vcproj |   62 ++++++++++++++++++++++++++++++++------
 1 file changed, 53 insertions(+), 9 deletions(-)

commit e071d3a4ae1421941127d360e31284eac5451047
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 4 15:00:59 2013 +0400

    fix MSVC10 project: include the source files added recently

 builds/msvc/libzmq/libzmq.vcxproj         |   10 +++++++++-
 builds/msvc/libzmq/libzmq.vcxproj.filters |   24 ++++++++++++++++++++++++
 2 files changed, 33 insertions(+), 1 deletion(-)

commit 7561ff70f36b23f40366c1ac721f1b4fbd16c4fa
Merge: 0ff896d 4696f00
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 2 16:10:07 2013 -0700

    Merge pull request #643 from ricnewton/master

    Fix cmake file for security tests

commit 4696f002ca5c36d19967f414ffd673c9d156a3fc
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Sep 2 23:41:17 2013 +0100

    Fix cmake file for security tests

 CMakeLists.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0ff896d094100b530ec253b71f2c9c0a76dac1d7
Merge: 3a50aa4 fb67e16
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Sep 2 10:30:49 2013 -0700

    Merge pull request #642 from hintjens/master

    Fixed ZAP authentication

commit fb67e160a11db104f89043c702000b7c974d7537
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 2 18:21:36 2013 +0200

    Fixed ZAP authentication

    - if ZAP server returns anything except 200, connection is closed
    - all security tests now pass correctly
    - test_security_curve now does proper client key authentication using test key
    - test_security_plain now does proper password authentication

 src/curve_server.cpp          |    4 ++++
 src/plain_mechanism.cpp       |    4 ++++
 tests/test_security_curve.cpp |   46 ++++++++++++++++++++++++++---------------
 tests/test_security_plain.cpp |   27 ++++++++++++------------
 tests/testutil.hpp            |   11 +++++-----
 5 files changed, 56 insertions(+), 36 deletions(-)

commit 3a50aa4473a0d808da3530f1d2977e5298ebe272
Merge: c128fac fba5612
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Sep 2 08:32:09 2013 -0700

    Merge pull request #641 from hintjens/master

    Fixed regression tests

commit fba56120262c18b8c54902509f85a544f06048d1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 2 17:22:24 2013 +0200

    Fixed 'make check' failures

    - Split off NULL security check from PLAIN
    - Cleaned up test_linger code a little
    - Got all tests to pass, added TODOs for outstanding issues
    - Added ZAP authentication for NULL test case
    - NULL mechanism was not passing server identity - fixed
    - cleaned up test_security_plain and removed option double-checks (made code ugly)
    - lowered timeout on expect_bounce_fail to 150 msec to speed up checks
    - removed all sleeps from test_fork and simplified code (it still passes :-)

 .gitignore                    |    5 +
 include/zmq_utils.h           |    4 +-
 src/curve_server.cpp          |    2 +-
 src/null_mechanism.cpp        |    8 ++
 src/plain_mechanism.cpp       |    2 +-
 tests/Makefile.am             |    8 +-
 tests/test_fork.cpp           |  115 ++++++----------
 tests/test_linger.cpp         |   98 +++++++-------
 tests/test_security.cpp       |  292 -----------------------------------------
 tests/test_security_curve.cpp |  242 +++++++++++++++-------------------
 tests/test_security_null.cpp  |  109 +++++++++++++++
 tests/test_security_plain.cpp |  154 ++++++++++++++++++++++
 tests/testutil.hpp            |   10 +-
 13 files changed, 482 insertions(+), 567 deletions(-)

commit 01b336f1f179d62d096e2629956fbcd95c504664
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 2 15:08:36 2013 +0200

    Whitespace fixes

 tests/test_security.cpp       |    4 ++--
 tests/test_security_curve.cpp |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c128fac7a7401421e179bf8fd19c1faf2ecf0bd7
Merge: 6fa274e c646ac9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 2 06:06:58 2013 -0700

    Merge pull request #639 from minrk/test_linger

    add test_linger

commit 6fa274ebeff1c5f34e523fc3f2297ea7969bcae8
Merge: 282765c 1771755
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 2 06:06:31 2013 -0700

    Merge pull request #640 from mattconnolly/fork

    Adding ability for a context to be terminated in a forked child process

commit 282765cab41ca49eb1b4083f56aaa4aaed3c1b12
Merge: ca8ac83 436cad3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Sep 2 06:04:51 2013 -0700

    Merge pull request #628 from ianbarber/master

    Remove delay options

commit 1771755888a1b7bb8b17a111d5be93b7f2d4d9be
Author: Matt Connolly <matt.connolly@me.com>
Date:   Mon Sep 2 07:13:46 2013 +1000

    test_fork.cpp: adding missing headers for linux

 tests/test_fork.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit c646ac96c084f618d2267ce8c738ca561a5c1bdf
Author: MinRK <benjaminrk@gmail.com>
Date:   Sun Sep 1 13:50:18 2013 -0700

    cast rc to size_t for comparisons

    avoids -Wall failures comparing int to uint

 tests/test_linger.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c3adc86d6b9da02603e665822df295372778e06c
Author: Matt Connolly <matt.connolly@me.com>
Date:   Mon Sep 2 06:49:30 2013 +1000

    Fix unused variable when using eventfd

 src/signaler.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit ca8ac83e97d48e97c332da6935f80dca042b7d58
Merge: 8ef7fbb 9d94640
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 1 10:18:50 2013 -0700

    Merge pull request #637 from minrk/test_plain_inauth

    test failed auth for both PLAIN and CURVE

commit a3d9d01af87a8f4817df0d369c605931ea9ebf03
Author: Matt Connolly <matt.connolly@me.com>
Date:   Sun Sep 1 20:40:45 2013 +1000

    test_fork: update test to verify communication between parent and child

 tests/test_fork.cpp |   69 ++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 55 insertions(+), 14 deletions(-)

commit ff2900fd5286013ae37c00fd0d578bc1eab93140
Author: Matt Connolly <matt.connolly@me.com>
Date:   Sat Aug 31 21:17:11 2013 +1000

    Terminate context in a child process of fork() to replace file descriptors to not interfere with parent process's context

 src/ctx.cpp      |   16 ++++++++++++++
 src/ctx.hpp      |    5 +++++
 src/kqueue.cpp   |   10 +++++++++
 src/kqueue.hpp   |    6 ++++++
 src/mailbox.cpp  |    1 -
 src/mailbox.hpp  |    7 ++++++
 src/reaper.cpp   |   11 ++++++++++
 src/reaper.hpp   |    5 +++++
 src/signaler.cpp |   62 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/signaler.hpp |   20 +++++++++++++++++-
 10 files changed, 141 insertions(+), 2 deletions(-)

commit 0478ee04f4f4525715e78f31a3209de6880a0a5e
Author: Matt Connolly <matt.connolly@me.com>
Date:   Sun Sep 1 20:19:58 2013 +1000

    Adding test showing failure to close socket/context in forked child

 .gitignore          |    1 +
 configure.ac        |    2 +-
 tests/Makefile.am   |    4 ++-
 tests/test_fork.cpp |   75 +++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 80 insertions(+), 2 deletions(-)

commit 58b370df699c5f535e2d5ae6e0a631d2ca330435
Author: MinRK <benjaminrk@gmail.com>
Date:   Sat Aug 31 18:27:50 2013 -0700

    add test_linger

    tests that default LINGER (-1) ensures message delivery.

    Note: it fails for large messages ( > 1MB, depending on the system).

 tests/Makefile.am     |    2 +
 tests/test_linger.cpp |  103 +++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 105 insertions(+)

commit 8ef7fbb4a4a1b1f9062046ed3d268433c974c38d
Merge: 82a00e3 6a18f59
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Aug 31 13:35:21 2013 -0700

    Merge pull request #638 from shawnjgoff/master

    Change name of icanhasall to subscribe_to_all

commit 6a18f59532e8361384519f0f637baabe17380e2a
Author: Shawn J. Goff <shawn.goff@accelecon.com>
Date:   Sat Aug 31 09:53:47 2013 -0400

    Change name of icanhasall to subscribe_to_all

    icanhasall is cute (for now), but the effect of the variable is clear
    only after tracking down its origin reading the commit. This change is
    intended to make it easier for people to have some intuition about its
    effect from its name.

 src/dealer.cpp      |    6 +++---
 src/dealer.hpp      |    2 +-
 src/pair.cpp        |    6 +++---
 src/pair.hpp        |    2 +-
 src/pull.cpp        |    6 +++---
 src/pull.hpp        |    2 +-
 src/push.cpp        |    6 +++---
 src/push.hpp        |    2 +-
 src/router.cpp      |    6 +++---
 src/router.hpp      |    2 +-
 src/socket_base.cpp |   10 +++++-----
 src/socket_base.hpp |    4 ++--
 src/stream.cpp      |    6 +++---
 src/stream.hpp      |    2 +-
 src/xpub.cpp        |    6 +++---
 src/xpub.hpp        |    2 +-
 src/xsub.cpp        |    6 +++---
 src/xsub.hpp        |    2 +-
 18 files changed, 39 insertions(+), 39 deletions(-)

commit 9d94640edc5b6fc6a7d3a2b66abea680f478921e
Author: MinRK <benjaminrk@gmail.com>
Date:   Fri Aug 30 17:56:59 2013 -0700

    test failed CURVE auth

    adds expect_bounce_fail test function

    which is like bounce, but fails if messages arrive.

 tests/test_security.cpp       |   17 +--------
 tests/test_security_curve.cpp |   83 ++++++++++++++++++++++++++++++++++++++++-
 tests/testutil.hpp            |   37 ++++++++++++++++++
 3 files changed, 119 insertions(+), 18 deletions(-)

commit 0cac56fe524bd5a85c4f1e08f5a4492bab1c2b30
Author: MinRK <benjaminrk@gmail.com>
Date:   Fri Aug 30 15:28:16 2013 -0700

    test PLAIN auth with failed login

    This test fails because PLAIN authentication doesn't actually reject connections

 tests/test_security.cpp |   80 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 79 insertions(+), 1 deletion(-)

commit 82a00e3a985c6c13e34f385fd19624d521620c5d
Merge: 22f05fa da52806
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Aug 30 13:38:27 2013 -0700

    Merge pull request #636 from ricnewton/master

    Disable failing tests on windows.

commit da52806d68cd663495ec9c58a2a712bb5561b64c
Author: Richard Newton <richard_newton@waters.com>
Date:   Fri Aug 30 19:04:32 2013 +0100

    Disable failing tests on windows.

 CMakeLists.txt |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 22f05fa2fa43a72de8a0f9b195514749665447a7
Merge: 4ca6ab2 93a068a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Aug 29 12:37:15 2013 -0700

    Merge pull request #635 from guidog/master

    Fixed silly port number.

commit 93a068a832ae64f294e68f54fa828cb6be24f93e
Author: Guido Goldstein <github@a-nugget.de>
Date:   Thu Aug 29 20:55:23 2013 +0200

    Fixed silly port number.

 tests/test_conflate.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ca6ab26fa8b026215515355b6179966e4fa77ed
Merge: 83e547f 455739f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Aug 29 04:54:55 2013 -0700

    Merge pull request #634 from guidog/master

    Fixed markup so documentation can be built.

commit 455739f94258c021bfdc001f3aa315374058e912
Author: Guido Goldstein <github@a-nugget.de>
Date:   Thu Aug 29 09:35:17 2013 +0200

    Fixed markup so documentation can be built.

 doc/zmq_setsockopt.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 83e547f09f985a4bf1e4a19bdc13f03315f450ef
Merge: 2e9385a eaf227d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 24 14:31:16 2013 -0700

    Merge pull request #633 from eburkitt/vs2012-clean-compile

    get to clean compile under vs2012

commit eaf227d4deb3bc43c5507f7b86d8c46ec4912b06
Author: Evan Burkitt <evanb@edulinksys.com>
Date:   Fri Aug 23 17:14:03 2013 -0700

    get to clean compile under vs2012

    Added some missing (but existing in branch) files to libzmq11 project needed
    to compile as static library by VS2012 (at least), and fixed some warnings.
    One warning remains in raw_decoder.cpp, which I'm leaving for now because I'm
    not sure how project owners would like to fix it.

 builds/msvc/libzmq/libzmq11.vcxproj |    4 ++++
 src/dealer.cpp                      |    2 +-
 src/mutex.hpp                       |    2 +-
 src/req.cpp                         |    4 ++--
 src/router.cpp                      |    6 +++---
 5 files changed, 11 insertions(+), 7 deletions(-)

commit 2e9385ac02d14ce78837deb2c9f76155eacdda14
Merge: d485404 19ca8a0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 21 01:35:43 2013 -0700

    Merge pull request #631 from jrossi/master

    Add the Socket Identity info to the ZAP Messages

commit 436cad37ece8bc81d333b8a33d38af4ebaea26db
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Aug 20 22:49:19 2013 +0100

    fix type on HWM

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9baa051dd42e584d382a62a98fb31bac47674fa
Merge: 531d3eb d485404
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Aug 20 22:48:04 2013 +0100

    Merge in master changes

commit d485404aab6efa15a1bdcb881874a4fad4b0b5a8
Merge: cb6b5a6 3f3777d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Aug 20 14:37:52 2013 -0700

    Merge pull request #626 from dkrikun/master

    Add ZMQ_CONFLATE socket option

commit 19ca8a0fc0a13e3da6af6636bf3756d77397734f
Author: Jeremy Rossi <jeremy@jeremyrossi.com>
Date:   Tue Aug 20 13:48:05 2013 -0400

    Add the Socket Identity info to the ZAP Messages

    This change adds the socket identity infomartion from the socket to the
    zap frames.  In doing this the ZAP is able preform different operations
    based on different sockets.  This is not compaitable with the current ZAP
    RFC, but that can be updated.  As the ZAP rfc is currently draft for I
    did not change the version number.

    Tests also modified and passing.

 src/curve_server.cpp          |    8 ++++++++
 src/plain_mechanism.cpp       |    8 ++++++++
 tests/test_security.cpp       |    5 +++++
 tests/test_security_curve.cpp |    5 +++++
 4 files changed, 26 insertions(+)

commit cb6b5a65fcee87d343cf6d12b792c28a2625aa77
Merge: bcfe863 fd8b0fe
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Aug 19 05:55:07 2013 -0700

    Merge pull request #629 from ulikoehler/init_data_assert

    Minor doc & assert fixes

commit fd8b0fec077c6f4724b6dd17018ed4edd0bbe6c4
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Mon Aug 19 14:49:29 2013 +0200

    Re-add comment line from cmsg branch

 src/msg.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit a28c38efa5084ba92ec98f1f055bbe22881548a6
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Mon Aug 19 14:45:29 2013 +0200

    Fix spaces before comments

 src/msg.hpp |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3f3777d05bada63414339bedb7aefc56051836c2
Author: danielkr <krikun.daniel@gmail.com>
Date:   Mon Aug 19 15:34:11 2013 +0300

    Add test for ZMQ_CONFLATE option

 tests/Makefile.am       |    4 ++-
 tests/test_conflate.cpp |   77 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 80 insertions(+), 1 deletion(-)

commit 9c2740d9fad86fb3b983ba30cde10b4cf5b4c7cc
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Sun Aug 18 22:50:50 2013 +0200

    Minor fixes to doc ; added zmq_msg_init_data() assert preventing deferred segfault

 src/msg.cpp |    6 ++++--
 src/msg.hpp |    5 ++++-
 src/zmq.cpp |    2 +-
 3 files changed, 9 insertions(+), 4 deletions(-)

commit bcfe863fd4d8500217ea0b9e22296101249867fa
Merge: b3ca7fd 121a838
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Aug 19 01:11:07 2013 -0700

    Merge pull request #630 from ulikoehler/cmsg

    Optimized zmq::msg_t for constant messages

commit da4a70d59d14f68d5cb463cce01e9a772f6ca5a2
Author: danielkr <krikun.daniel@gmail.com>
Date:   Mon Aug 19 08:18:20 2013 +0300

    Fix indentation

 src/pipe.cpp |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 121a838a0ce824f40ef57dbc24234409f368ebdb
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Sun Aug 18 23:40:38 2013 +0200

    Added message type for constant messages

 src/msg.cpp |   44 +++++++++++++++++++++++++++++++-------------
 src/msg.hpp |   13 ++++++++++++-
 2 files changed, 43 insertions(+), 14 deletions(-)

commit 531d3ebc096c65b3e2772958acde9bf329136b18
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 18 11:16:21 2013 +0100

    Remove delay options

    These were exposed to users, but have subsequently been removed as
    sockopts. They are currently only being used by ZAP, so I've moved it to
    a simpl function call (actually it's only used in one case even in that,
    so there may be a further simplification possible there).

 src/options.cpp      |    2 --
 src/options.hpp      |    8 --------
 src/pipe.cpp         |   15 ++++++++++-----
 src/pipe.hpp         |    9 ++++++---
 src/session_base.cpp |   10 +++++-----
 src/socket_base.cpp  |    6 ++----
 6 files changed, 23 insertions(+), 27 deletions(-)

commit b3ca7fd4253531ad3f001196ba3eafbec931b2f9
Merge: 1011e8a cb35fd7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Aug 18 00:58:03 2013 -0700

    Merge pull request #627 from ianbarber/master

    Attempt to fix disconnect not respecting linger

commit 1011e8ad2078e923541f16ec738837550e710b6e
Merge: ed272fe 70a1fbe
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Aug 18 00:51:39 2013 -0700

    Merge pull request #624 from ricnewton/master

    Port tests to windows and add to cmake build.

commit cb35fd7bfed767a303da43da523c91b98321a58f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 18 07:50:53 2013 +0100

    Attempt to fix disconnect not respecting linger

    Looks like linger is honoured properly, but shutting down the session
    causes the pipe termination to come from that side - because the local
    pipe then shuts down right away it seems to trigger a terminated on the
    other end instead of waiting. This way we trigger the termination from
    the local end and then terminate the session.

 src/socket_base.cpp |   20 +++++++++++++-------
 src/socket_base.hpp |    5 +++--
 2 files changed, 16 insertions(+), 9 deletions(-)

commit ed272fe56d3b16c9f111aa4db97432d3327d92d8
Merge: eccfede e23d396
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Aug 17 23:27:17 2013 -0700

    Merge pull request #625 from ulikoehler/zmq_send_const

    Add zmq_send_const for constant data

commit f59c1a5c5aec15cd6117eee951ad51ac302ca1ad
Author: danielkr <krikun.daniel@gmail.com>
Date:   Sat Aug 17 23:55:00 2013 +0300

    Update doc for ZMQ_CONFLATE socket option

 doc/zmq_setsockopt.txt |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit daa7a8021f6802d12d8fcfd771dda3101d192f15
Author: danielkr <krikun.daniel@gmail.com>
Date:   Sat Aug 17 23:08:07 2013 +0300

    Plug in dbuffer to serve the ZMQ_CONFLATE option

    ZMQ_CONFLATE option is passed to pipepair() which creates a usual
    ypipe_t or ypipe_conflate_t and plugs it into pipe_t under a common
    abstract base.

 src/Makefile.am        |    5 +-
 src/pipe.cpp           |   51 ++++++++++++++-----
 src/pipe.hpp           |   15 ++++--
 src/session_base.cpp   |   17 +++++--
 src/socket_base.cpp    |   27 ++++++++--
 src/ypipe.hpp          |    3 +-
 src/ypipe_base.hpp     |   44 +++++++++++++++++
 src/ypipe_conflate.hpp |  127 ++++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 263 insertions(+), 26 deletions(-)

commit 4c35b88acbc7d1237e86833253737632cfd6a216
Author: danielkr <krikun.daniel@gmail.com>
Date:   Sat Aug 17 23:00:46 2013 +0300

    Implement double buffer for conflate option

    Add simple double buffer implementation tailored to handle msg_t,
    i.e invoke msg_t::close instead of destructor and so on.
    Seems to me mutex is good enough at this point.

 src/dbuffer.hpp |  134 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 134 insertions(+)

commit d020dd677f9c8c4f89f244b19f1b809fb9b3a635
Author: danielkr <krikun.daniel@gmail.com>
Date:   Sat Aug 17 22:59:07 2013 +0300

    Declare ZMQ_CONFLATE option

 include/zmq.h   |    1 +
 src/options.cpp |   21 ++++++++++++++++++++-
 src/options.hpp |    6 ++++++
 3 files changed, 27 insertions(+), 1 deletion(-)

commit 4eac7e3e4fc443d3ad058d245f88f52ae7a1a817
Author: danielkr <krikun.daniel@gmail.com>
Date:   Sat Aug 17 22:55:04 2013 +0300

    Add scoped_lock_t syntactic sugar

 src/mutex.hpp |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 87c84a252abc59bf34895a42f799278f2f9e478f
Author: danielkr <krikun.daniel@gmail.com>
Date:   Sat Aug 17 22:54:29 2013 +0300

    Add try_lock() to mutex_t

 src/mutex.hpp |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 503da83fceac8c2d6c37ff6fbfac0c4c31e59a91
Author: danielkr <krikun.daniel@gmail.com>
Date:   Sat Aug 17 22:53:02 2013 +0300

    Add #include to string.h in blob.hpp

    Required for memmove(), memcpy()

 src/blob.hpp |    1 +
 1 file changed, 1 insertion(+)

commit e23d3963d337985c80523327a29480625a009d37
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Sat Aug 17 20:39:10 2013 +0200

    Fix doc typo

 doc/zmq_send_const.txt |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 10becae7eb7c43e7ec854c5f7d9f365566e1deef
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Sat Aug 17 20:37:07 2013 +0200

    Added zmq_send_const test

 tests/test_pair_inproc.cpp |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit e2c322cf80e158a59d5b917a76693afc39f5de4e
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Sat Aug 17 20:22:50 2013 +0200

    Implemented zmq_send_const

 doc/zmq_send.txt       |    1 +
 doc/zmq_send_const.txt |  103 ++++++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h          |    1 +
 src/zmq.cpp            |   26 ++++++++++++
 4 files changed, 131 insertions(+)

commit 70a1fbee7a94a7e2ace3c5b5f376c997ccc68ea7
Author: Richard Newton <richard_newton@waters.com>
Date:   Sat Aug 17 14:39:38 2013 +0100

    Fix running tests from cmake on linux.

 CMakeLists.txt |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit e1b2b649fb7459203939cc0dd0446df4f88bb273
Merge: a83baa9 eccfede
Author: Richard Newton <richard_newton@waters.com>
Date:   Sat Aug 17 14:23:42 2013 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit a83baa9b0b35a3664d22a48b918e644c77b47114
Author: Richard Newton <richard_newton@waters.com>
Date:   Sat Aug 17 14:23:22 2013 +0100

    Fix up threading code from port tests to windows.

 include/zmq_utils.h            |    4 +++-
 src/zmq_utils.cpp              |    4 ++--
 tests/test_monitor.cpp         |   15 ++++++---------
 tests/test_security.cpp        |    5 +----
 tests/test_security_curve.cpp  |    5 +----
 tests/test_shutdown_stress.cpp |    6 ++----
 tests/testutil.hpp             |    3 +++
 7 files changed, 18 insertions(+), 24 deletions(-)

commit 7f74fc7c998cba2efd2bc286ab2aad711fb5c475
Author: Richard Newton <richard_newton@waters.com>
Date:   Sat Aug 17 13:43:45 2013 +0100

    Port tests to windows and add to cmake build.

 CMakeLists.txt                   |   52 +++++++++++++++++++++++++++++++++++---
 include/zmq_utils.h              |    6 +++++
 src/zmq_utils.cpp                |   15 +++++++++++
 tests/test_connect_delay.cpp     |   12 ++++-----
 tests/test_connect_resolve.cpp   |    5 ++--
 tests/test_ctx_options.cpp       |    5 ++--
 tests/test_disconnect_inproc.cpp |    3 ++-
 tests/test_hwm.cpp               |    4 +--
 tests/test_invalid_rep.cpp       |    5 ++--
 tests/test_iov.cpp               |   10 ++++----
 tests/test_last_endpoint.cpp     |    5 ++--
 tests/test_monitor.cpp           |   23 ++++++++---------
 tests/test_msg_flags.cpp         |    5 ++--
 tests/test_pair_inproc.cpp       |    1 +
 tests/test_pair_ipc.cpp          |    1 +
 tests/test_pair_tcp.cpp          |    1 +
 tests/test_probe_router.cpp      |    4 +--
 tests/test_raw_sock.cpp          |    5 ++--
 tests/test_req_request_ids.cpp   |    2 +-
 tests/test_req_strict.cpp        |    7 +++--
 tests/test_reqrep_device.cpp     |    5 ++--
 tests/test_reqrep_inproc.cpp     |    1 +
 tests/test_reqrep_ipc.cpp        |    1 +
 tests/test_reqrep_tcp.cpp        |    1 +
 tests/test_router_mandatory.cpp  |    4 +--
 tests/test_security.cpp          |    9 +++----
 tests/test_security_curve.cpp    |    9 +++----
 tests/test_shutdown_stress.cpp   |   15 +++++------
 tests/test_spec_dealer.cpp       |    1 +
 tests/test_spec_pushpull.cpp     |    1 +
 tests/test_spec_rep.cpp          |    1 +
 tests/test_spec_req.cpp          |    6 ++---
 tests/test_spec_router.cpp       |    1 +
 tests/test_stream.cpp            |    5 ++--
 tests/test_sub_forward.cpp       |    8 +++---
 tests/test_term_endpoint.cpp     |   12 ++++-----
 tests/test_timeo.cpp             |   16 ++++--------
 tests/testutil.hpp               |   12 +++++++++
 38 files changed, 171 insertions(+), 108 deletions(-)

commit eccfede10d73bf8505a841b3d75c6f200d31728a
Merge: 749c391 e16a6af
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Aug 8 11:42:53 2013 -0700

    Merge pull request #623 from ricnewton/master

    Fix compile error on windows.

commit e16a6af0c7430ecc0efac674e75fe3f66b0f6ee5
Author: Richard Newton <richard_newton@waters.com>
Date:   Thu Aug 8 17:27:49 2013 +0100

    Fix compile error on windows.

 src/ip.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 749c391b3414cc57afbb4a108867ebc062b2195f
Merge: fe30cc6 423ca36
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Aug 3 12:42:53 2013 -0700

    Merge pull request #622 from ckamm/req-strict

    Rename ZMQ_REQ_SEND_RESETS -> ZMQ_REQ_STRICT.

commit 423ca36b17264ca7b71b23e4a110aa847fd7ac27
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Sat Aug 3 14:35:18 2013 +0200

    Rename ZMQ_REQ_SEND_RESETS -> ZMQ_REQ_STRICT.

    It defaults to enabled. Switch it off to be able to send a new message
    before the previous reply has been received.

 .gitignore                     |    2 +-
 doc/zmq_setsockopt.txt         |   15 ++---
 include/zmq.h                  |    2 +-
 src/req.cpp                    |   10 ++--
 src/req.hpp                    |    4 +-
 tests/Makefile.am              |    4 +-
 tests/test_req_send_resets.cpp |  120 ---------------------------------------
 tests/test_req_strict.cpp      |  121 ++++++++++++++++++++++++++++++++++++++++
 8 files changed, 140 insertions(+), 138 deletions(-)

commit fe30cc6d99d82eebb4145575bc0f95888cc9ff8e
Merge: 9f4526f f5c5955
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 3 02:44:53 2013 -0700

    Merge pull request #619 from ckamm/req-send-resets

    Add ZMQ_REQ_SEND_RESETS option.

commit 9f4526f59a4252f75639178d11a716a7250065ba
Merge: 637f794 39ddc69
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jul 29 06:11:03 2013 -0700

    Merge pull request #621 from hintjens/master

    Added note to clarify policy for embedded apps

commit 39ddc695bc99905382affa4f075f7512851665cf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 29 10:42:15 2013 +0200

    Added note about tivotisation

 COPYING.LESSER |    2 ++
 1 file changed, 2 insertions(+)

commit f5c59556bd232064230b39c05d858ce69d59ae09
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Mon Jul 29 09:33:10 2013 +0200

    REQ: Unset reply_pipe if it terminates.

    * Fixes a terminate() call on a dangling pointer in the SEND_RESETS
      case.
    * Fixes recv_reply_pipe() never receiving a message once the pipe it is
      waiting on is terminated.

 src/req.cpp |   15 +++++++++++----
 src/req.hpp |    1 +
 2 files changed, 12 insertions(+), 4 deletions(-)

commit a0cc87a9d922dd3187f07962536ee676033e0ef8
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Sun Jul 21 13:16:47 2013 +0200

    Add ZMQ_REQ_SEND_RESETS option.

    This allows making a new request on a REQ socket by sending a new
    message. Without the option set, calling send() after the first message
    is done will continue to return an EFSM error.

    It's useful for when a REQ is not getting a response. Previously that
    meant creating a new socket or switching to DEALER.

 .gitignore                     |    1 +
 doc/zmq_setsockopt.txt         |   30 ++++++++--
 include/zmq.h                  |    1 +
 src/req.cpp                    |   23 ++++++--
 src/req.hpp                    |    7 ++-
 tests/Makefile.am              |    4 +-
 tests/test_req_send_resets.cpp |  120 ++++++++++++++++++++++++++++++++++++++++
 7 files changed, 174 insertions(+), 12 deletions(-)

commit 637f79419325952d0b3e63fe09ead81769884785
Merge: 6473dfd b9646f2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jul 26 15:41:29 2013 -0700

    Merge pull request #620 from ckamm/req-id

    Add ZMQ_REQ_REQUEST_IDS option.

commit b9646f2aacf414eb30044a9be3a03d2bd9230c7f
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Fri Jul 26 21:13:43 2013 +0200

    Add ZMQ_REQ_REQUEST_IDS option.

    * Documentation:
    The default behavior of REQ sockets is to rely on the ordering of messages
    to match requests and responses and that is usually sufficient. When this option
    is set to 1, the REQ socket will prefix outgoing messages with an extra frame
    containing a request id. That means the full message is (request id, 0,
    user frames...). The REQ socket will discard all incoming messages that don't
    begin with these two frames.

    * Behavior change: When a REQ socket gets an invalid reply, it used to
      discard the message and return EAGAIN. REQ sockets still discard
      invalid messages, but keep looking at the next one automatically
      until a good one is found or there are no more messages.
    * Add test_req_request_ids.

 .gitignore                     |    1 +
 doc/zmq_setsockopt.txt         |   17 ++++
 include/zmq.h                  |    1 +
 src/req.cpp                    |   77 ++++++++++++++---
 src/req.hpp                    |   12 +++
 tests/Makefile.am              |    4 +-
 tests/test_req_request_ids.cpp |  179 ++++++++++++++++++++++++++++++++++++++++
 7 files changed, 277 insertions(+), 14 deletions(-)

commit 6473dfd8f43beaa62b233f30ea839e25caf47382
Merge: 4944095 4a5358f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jul 18 03:26:21 2013 -0700

    Merge pull request #617 from hurtonm/zap_updates

    Zap updates

commit 4a5358f4d0f227844b5e66a5724fd4df930b25e1
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jul 18 10:10:10 2013 +0200

    Implement ZAP for NULL mechanism

 src/null_mechanism.cpp |  155 +++++++++++++++++++++++++++++++++++++++++++++++-
 src/null_mechanism.hpp |   16 ++++-
 src/stream_engine.cpp  |    3 +-
 3 files changed, 169 insertions(+), 5 deletions(-)

commit 53bc53da04a4fb2fe666e6607c29d11bec780984
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jul 18 09:49:42 2013 +0200

    Update PLAIN mechanism to the latest ZAP revision

 src/plain_mechanism.cpp |   31 ++++++++++++++++++++++---------
 src/plain_mechanism.hpp |    3 +++
 src/stream_engine.cpp   |    3 ++-
 tests/test_security.cpp |    6 +++++-
 4 files changed, 32 insertions(+), 11 deletions(-)

commit d65231be1ced9f6411427a1be971525e7f19f5e9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jul 18 09:39:19 2013 +0200

    Update CURVE mechanism to the latest ZAP revision

 src/curve_server.cpp          |   29 ++++++++++++++++++++++-------
 src/curve_server.hpp          |    3 +++
 src/stream_engine.cpp         |    6 +++++-
 src/stream_engine.hpp         |    2 ++
 tests/test_security_curve.cpp |    5 ++++-
 5 files changed, 36 insertions(+), 9 deletions(-)

commit 7541debe6de46308ada745e08348eb457623acba
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jul 18 09:28:56 2013 +0200

    Add get_peer_ip_address utility function

    The functon returns string representation of peer's
    IP address. We will need this to update ZAP implementation.

 src/ip.cpp |   40 ++++++++++++++++++++++++++++++++++++++++
 src/ip.hpp |    7 ++++++-
 2 files changed, 46 insertions(+), 1 deletion(-)

commit 49440952621cdea052e8539aaa0542de42f6759b
Merge: 1068bc0 d46c2ee
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jul 15 00:15:55 2013 -0700

    Merge pull request #615 from hintjens/master

    Last step in test_spec_req is still failing; disabled it.

commit 1068bc0795f11f6dd543997126150758c8f2b8c4
Merge: 4fb004f 409721b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 14 14:48:17 2013 -0700

    Merge pull request #616 from steve-o/master

    Add static libraries to CMake, minor housekeeping.

commit 409721b9d2657b937d1de6c7eca7111d16c4a125
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Sun Jul 14 13:58:46 2013 -0400

    Add CMake support for static libraries.

 CMakeLists.txt |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 21fe600848a01f4014aa97b04cc301669502db69
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Sun Jul 14 13:36:30 2013 -0400

    Move CMake dependencies together.

 CMakeLists.txt                                |    6 +-
 builds/cmake/Modules/FindAsciiDoc.cmake       |   24 +
 builds/cmake/Modules/TestZMQVersion.cmake     |   18 +
 builds/cmake/Modules/ZMQSourceRunChecks.cmake |  129 ++++
 builds/cmake/NSIS.template32.in               |  952 ++++++++++++++++++++++++
 builds/cmake/NSIS.template64.in               |  960 +++++++++++++++++++++++++
 cmake/Modules/FindAsciiDoc.cmake              |   24 -
 cmake/Modules/TestZMQVersion.cmake            |   18 -
 cmake/Modules/ZMQSourceRunChecks.cmake        |  129 ----
 cmake/NSIS.template32.in                      |  952 ------------------------
 cmake/NSIS.template64.in                      |  960 -------------------------
 11 files changed, 2086 insertions(+), 2086 deletions(-)

commit ae86c56d74a4cc549629829714ff189369027a29
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Sun Jul 14 13:26:55 2013 -0400

    README file moved to GitHub format and extension, drop from packaging and default to NEWS file for popup.

 CMakeLists.txt           |    7 +++----
 cmake/NSIS.template32.in |    2 +-
 cmake/NSIS.template64.in |    2 +-
 3 files changed, 5 insertions(+), 6 deletions(-)

commit d46c2ee2fc566a6ddceae2820a552dbce1c15bff
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 14 13:04:31 2013 +0200

    Disabled last step in test_spec_req so build can complete

 tests/test_spec_req.cpp |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 4fb004f59b81a09a8b428409b61baa79b642712d
Merge: bccf3d6 7de23c0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 14 03:00:06 2013 -0700

    Merge pull request #614 from ckamm/fix-spec-req-fail

    Fix intermittent failure in test_spec_req.

commit 7de23c0c8dafe9305fc89203ff420da9b191d814
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Sun Jul 14 11:55:57 2013 +0200

    Fix intermittent failure in test_spec_req.

    There still is a problem when a stale peer's message
    arrives at the REQ just after a request was sent to that peer.

 tests/test_spec_req.cpp |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit bccf3d61268b3809cb609e9c9a4ec98575fee179
Merge: 93b9f90 bbc9a61
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 14 02:32:20 2013 -0700

    Merge pull request #613 from ckamm/coding-style-spec-tests

    Fix coding style in spec tests.

commit 93b9f9021c76c7812adb592bf29d29ad9eed2ac5
Merge: 524bd7a c56d797
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 14 02:30:21 2013 -0700

    Merge pull request #608 from ckamm/req-drops-unwanted

    REQ sockets drop replies from unasked peers.

commit bbc9a611979aaa62c67eaa768d7f0735d1f53272
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Sun Jul 14 08:32:35 2013 +0200

    Fix coding style in spec tests.

 tests/test_spec_dealer.cpp   |   66 +++++++++++++---------------
 tests/test_spec_pushpull.cpp |   99 ++++++++++++++++++------------------------
 tests/test_spec_rep.cpp      |   57 +++++++++++-------------
 tests/test_spec_req.cpp      |    8 ++--
 tests/test_spec_router.cpp   |   61 ++++++++++++--------------
 5 files changed, 130 insertions(+), 161 deletions(-)

commit c56d797bf915e0774646e651dbbce89b8e566f45
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Tue Jul 2 20:05:20 2013 +0200

    REQ sockets drop replies from unasked peers.

    * Add lb_t::sendpipe() that returns the pipe that was used for sending,
      similar to fq_t::recvpipe().
    * Add forwarder functions to dealer_t to access these two.
    * Add logic to req_t to ignore replies on pipes that are not the one
      where the request was sent.
    * Enable test in test_spec_req.

 AUTHORS                 |    1 +
 src/dealer.cpp          |   14 ++++++++++++--
 src/dealer.hpp          |    4 ++++
 src/lb.cpp              |   10 +++++++++-
 src/lb.hpp              |    7 +++++++
 src/req.cpp             |   39 +++++++++++++++++++++++++++++++++++----
 src/req.hpp             |    9 +++++++++
 tests/test_spec_req.cpp |    3 +--
 8 files changed, 78 insertions(+), 9 deletions(-)

commit 524bd7ac765d33e537ffcf981e7f3d06899a9aca
Merge: 7560910 6bf4ffe
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jul 13 16:27:41 2013 -0700

    Merge pull request #612 from ulikoehler/markdown

    Converted README to markdown

commit 6bf4ffe7270d5079de5760e471595f24acdcc788
Author: Uli KÃ¶hler <ulikoehler@online.de>
Date:   Sun Jul 14 00:55:40 2013 +0200

    Converted README to markdown + added travis build img

 README    |   39 ---------------------------------------
 README.md |   38 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+), 39 deletions(-)

commit 7560910f505c06d29191bdff1659133342ceadfa
Merge: 5ac1964 0f28b72
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jul 13 10:39:06 2013 -0700

    Merge pull request #611 from pijyoi/master

    update Makefile to include new files

commit 0f28b729140900f6dcb7a560e13cbcd85537f2d1
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sat Jul 13 14:31:46 2013 +0800

    update to include stream.cpp and curve related

 builds/mingw32/Makefile.mingw32 |   30 +++++++++++++++++++++++-------
 1 file changed, 23 insertions(+), 7 deletions(-)

commit 5ac19647d9c097a7657d7532f9dfecb16f471e9c
Merge: 08622a7 9ca6898
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jul 8 04:12:06 2013 -0700

    Merge pull request #610 from hintjens/master

    Problem: new spec test cases don't all work

commit 9ca6898f24d3c5b4b550f7bd5c8882d2aaf4fcc7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 7 12:49:24 2013 +0200

    Got new test cases working with libzmq

    * disabled the specific tests that do not work (yet) on libzmq
    * cleaned up one source (test_spec_rep.c) but the others need similar work
    * added sleep in test_spec_rep to allow connects time to happen; this would
      not be needed if we connected out to the REP peers instead in from them,
      but I didn't want to change the logic of the test code.

 .gitignore                   |    5 +++
 tests/test_spec_dealer.cpp   |   41 ++++++++----------
 tests/test_spec_pushpull.cpp |    3 +-
 tests/test_spec_req.cpp      |   97 +++++++++++++++++++++---------------------
 tests/test_spec_router.cpp   |    3 +-
 tests/testutil.hpp           |   16 +++----
 6 files changed, 80 insertions(+), 85 deletions(-)

commit 08622a7788f6e14cb26eb15e19f90939a0bd7696
Merge: 5038ef7 dfba19c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jul 5 15:36:14 2013 -0700

    Merge pull request #609 from ckamm/tests

    Make pipeline/reqrep tests try tcp:// endpoints.

commit dfba19c4b652fb064138f0b3c47b1f27cc8464a8
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Fri Jul 5 17:58:01 2013 +0200

    Make pipeline/reqrep tests try tcp:// endpoints.

    The inproc:// endpoints sometimes use different code paths so
    testing with regular tcp:// endpoints as well can show different
    issues.

 tests/test_spec_dealer.cpp   |   98 ++++++++++++++++++-------------
 tests/test_spec_pushpull.cpp |  132 ++++++++++++++++++++++++++++++------------
 tests/test_spec_rep.cpp      |   58 ++++++++++++-------
 tests/test_spec_req.cpp      |   78 +++++++++++++++----------
 tests/test_spec_router.cpp   |   77 ++++++++++++++++--------
 tests/testutil.hpp           |   11 ++++
 6 files changed, 300 insertions(+), 154 deletions(-)

commit 5038ef74b5bc0aa972cce80e085fcaaa64eaa536
Merge: e093bd9 8fd163c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jul 5 08:18:41 2013 -0700

    Merge pull request #606 from ckamm/master

    Add tests for Request-Reply and Pipeline pattern sockets.

commit 8fd163cf5c82eaa483a00ca31a8e0b433a696657
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Fri Jul 5 15:20:42 2013 +0200

    Add tests for PUSH/PULL sockets.

 tests/Makefile.am            |    4 +-
 tests/test_spec_pushpull.cpp |  250 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 253 insertions(+), 1 deletion(-)

commit e093bd99234b37bb479889a90bcf467a1cb3fdd4
Merge: 78e4791 7b7f7e4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jul 3 15:43:09 2013 -0700

    Merge pull request #607 from cjuniet/master

    [LIBZMQ-544] Fix compilation errors with Clang

commit 7b7f7e4ebdcba8a52cdd76e4cb911ec7c6e7dbf9
Author: Christophe Juniet <c.juniet@gmail.com>
Date:   Wed Jul 3 22:30:48 2013 +0200

    Fix compilation warnings on unsigned comparisons.

    Fix two unsigned comparisons to zero or more being always true. Clang
    won't compile this with -Werror.

 src/options.cpp   |    4 ++--
 src/z85_codec.hpp |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 798b394087d27201e3d4a16594ea867bf5eecf08
Author: Christian Kamm <kamm@incasoftware.de>
Date:   Tue Jul 2 15:04:31 2013 +0200

    Add tests for Request-Reply pattern sockets.

    * See http://rfc.zeromq.org/spec:28/REQREP
    * Not all testable statements are covered.
    * At this point, there are several failures:
      - test_spec_req: The REQ socket does not correctly discard messages
        from peers that are not currently being talked to.
      - test_spec_dealer/router: On disconnect, the queues seem to not be
        emptied. The DEALER can still receive a message the disconnected
        peer sent, the ROUTER can still send to the identity of the dis-
        connected peer.

 tests/Makefile.am          |   12 ++-
 tests/test_spec_dealer.cpp |  248 ++++++++++++++++++++++++++++++++++++++++++++
 tests/test_spec_rep.cpp    |  144 +++++++++++++++++++++++++
 tests/test_spec_req.cpp    |  230 ++++++++++++++++++++++++++++++++++++++++
 tests/test_spec_router.cpp |  180 ++++++++++++++++++++++++++++++++
 tests/testutil.hpp         |   80 +++++++++++++-
 6 files changed, 891 insertions(+), 3 deletions(-)

commit 78e47912d2c5dd2795bf45479c0c2552e3f41d14
Merge: 5a30022 9986106
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 1 04:41:46 2013 -0700

    Merge pull request #605 from ricnewton/master

    Fix tab/space formatting issue

commit 998610602e6c1494131680ca89030663dc62ab0c
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jul 1 12:10:57 2013 +0100

    Fix tab/space formatting issue

 tests/test_monitor.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5a30022045eed8eb3b10acb8bae73bcd2b1af2b0
Merge: a3e16c1 f6e972d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jul 1 04:08:25 2013 -0700

    Merge pull request #603 from ricnewton/master

    Add monitor event for when monitoring is stopped so we can unblock any sockets waiting on monitor socket.

commit a3e16c18b19102e6a96f9362cbf1fd7429ba8bee
Merge: 1cfee8d 01dd6eb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jul 1 04:07:44 2013 -0700

    Merge pull request #604 from ricnewton/cmake_fix

    Fix cmake build

commit 01dd6eb1103da9b38c25209ac25295aa82e8386a
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jul 1 11:52:39 2013 +0100

    Fix cmake build
    Fix build on windows, uint isn't a standard type, unsigned int is.

 CMakeLists.txt    |    1 +
 src/z85_codec.hpp |   12 ++++++------
 2 files changed, 7 insertions(+), 6 deletions(-)

commit f6e972d54619935835604e7bb4dd2f86564c2eab
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jul 1 10:31:57 2013 +0000

    Fix montior tests to handle the monitor stopped event correctly

 tests/test_monitor.cpp |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit d4d23caf326409a18cb6677dd7225f9d6550b269
Author: Richard Newton <richard_newton@waters.com>
Date:   Mon Jul 1 11:00:46 2013 +0100

    Add new socket monitor event for when socket monitoring is stopped.

 include/zmq.h       |    4 +++-
 src/socket_base.cpp |    6 ++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 1cfee8d1e79264e783b1ce2e48120eb8bc4ffc5b
Merge: 2a4aef9 4671108
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 1 02:14:07 2013 -0700

    Merge pull request #601 from leewoosung/hotfixes/patched

    [LIBZMQ-541] pub socket sending fail issue

commit 2a4aef9223bb8c6b101a882f2d9182666852cd07
Merge: 58b1082 783bb89
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 1 02:06:29 2013 -0700

    Merge pull request #602 from hurtonm/master

    Implement socket type checking

commit 783bb890a9c7184b8c8acfe7aad6a75fdd60001a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jul 1 10:04:54 2013 +0200

    Check socket types during mechanism handshake

 src/curve_client.cpp    |    9 ---------
 src/curve_client.hpp    |    3 ---
 src/curve_server.cpp    |    9 ---------
 src/curve_server.hpp    |    3 ---
 src/mechanism.cpp       |   48 +++++++++++++++++++++++++++++++++++++++++++----
 src/mechanism.hpp       |    4 ++++
 src/null_mechanism.cpp  |    9 ---------
 src/null_mechanism.hpp  |    4 ----
 src/plain_mechanism.cpp |    9 ---------
 src/plain_mechanism.hpp |    5 -----
 tests/test_raw_sock.cpp |    2 +-
 tests/test_stream.cpp   |    4 ++--
 12 files changed, 51 insertions(+), 58 deletions(-)

commit 4671108e571b442e5565c399c42d5e7c8f48bde8
Author: ganesh.vr <ganesh.vr@samsung.com>
Date:   Mon Jul 1 15:57:06 2013 +0900

    LIBZMQ-541 issue fix

 src/dist.cpp |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 58b1082467ffd7af3294052d921bd097136a4399
Merge: 11947b1 afe9afa
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 29 23:56:04 2013 -0700

    Merge pull request #600 from hurtonm/master

    Set socket buffers before establishing TCP connection

commit afe9afa2a54f092327af62ce23a50547ab94e513
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Jun 30 06:41:36 2013 +0200

    Set socket buffers before establishing TCP connection

    The window scale option carried in SYN segment is computed from socket's
    receive buffer size. So we need to set this buffer size before calling
    connect or bind.

 src/stream_engine.cpp |   19 -------------------
 src/tcp.cpp           |   22 ++++++++++++++++++++++
 src/tcp.hpp           |    6 ++++++
 src/tcp_connecter.cpp |    6 ++++++
 src/tcp_listener.cpp  |    6 ++++++
 5 files changed, 40 insertions(+), 19 deletions(-)

commit 11947b1ccb8002ee715b791ded6a7f2d14bfbfe9
Merge: a71d64a c9bdb89
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 29 09:36:50 2013 -0700

    Merge pull request #597 from hintjens/master

    Problem: working with binary keys is painful

commit a71d64ab95880bd01f9d49abe8025e3e1a9c6243
Merge: 7460d00 aef2171
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 29 09:34:47 2013 -0700

    Merge pull request #599 from hurtonm/master

    Minor code refactoring

commit aef2171e8390864d484186265ba8f7237d0d368c
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 29 17:24:30 2013 +0200

    Make last_endpoint attribute of socket object

 src/options.cpp     |    8 --------
 src/options.hpp     |    3 ---
 src/socket_base.cpp |   20 +++++++++++++++-----
 src/socket_base.hpp |    3 +++
 4 files changed, 18 insertions(+), 16 deletions(-)

commit c9bdb893f8fd9705a79ecdeabb2e7e1a39f35816
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 29 11:24:46 2013 +0200

    Use generic session class whenever possible

 src/dealer.cpp       |   12 ------------
 src/dealer.hpp       |   15 ---------------
 src/pair.cpp         |   12 ------------
 src/pair.hpp         |   15 ---------------
 src/pub.cpp          |   12 ------------
 src/pub.hpp          |   15 ---------------
 src/pull.cpp         |   12 ------------
 src/pull.hpp         |   15 ---------------
 src/push.cpp         |   12 ------------
 src/push.hpp         |   15 ---------------
 src/rep.cpp          |   12 ------------
 src/rep.hpp          |   15 ---------------
 src/req.cpp          |    8 ++++----
 src/req.hpp          |    2 +-
 src/router.cpp       |   12 ------------
 src/router.hpp       |   15 ---------------
 src/session_base.cpp |   43 +------------------------------------------
 src/stream.cpp       |   12 ------------
 src/stream.hpp       |   15 ---------------
 src/sub.cpp          |   12 ------------
 src/sub.hpp          |   15 ---------------
 src/xpub.cpp         |   12 ------------
 src/xpub.hpp         |   15 ---------------
 src/xsub.cpp         |   12 ------------
 src/xsub.hpp         |   15 ---------------
 25 files changed, 6 insertions(+), 344 deletions(-)

commit 7460d00bacadf8df1c173daca28ebc3ec197543c
Merge: 1beec5e fd7e9b8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 29 02:36:30 2013 -0700

    Merge pull request #598 from hurtonm/master

    Use generic session class whenever possible

commit fd7e9b8c4637679a9fe2a142771f7f977120df4a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 29 11:24:46 2013 +0200

    Use generic session class whenever possible

 src/dealer.cpp       |   12 ------------
 src/dealer.hpp       |   15 ---------------
 src/pair.cpp         |   12 ------------
 src/pair.hpp         |   15 ---------------
 src/pub.cpp          |   12 ------------
 src/pub.hpp          |   15 ---------------
 src/pull.cpp         |   12 ------------
 src/pull.hpp         |   15 ---------------
 src/push.cpp         |   12 ------------
 src/push.hpp         |   15 ---------------
 src/rep.cpp          |   12 ------------
 src/rep.hpp          |   15 ---------------
 src/req.cpp          |    8 ++++----
 src/req.hpp          |    2 +-
 src/router.cpp       |   12 ------------
 src/router.hpp       |   15 ---------------
 src/session_base.cpp |   43 +------------------------------------------
 src/stream.cpp       |   12 ------------
 src/stream.hpp       |   15 ---------------
 src/sub.cpp          |   12 ------------
 src/sub.hpp          |   15 ---------------
 src/xpub.cpp         |   12 ------------
 src/xpub.hpp         |   15 ---------------
 src/xsub.cpp         |   12 ------------
 src/xsub.hpp         |   15 ---------------
 25 files changed, 6 insertions(+), 344 deletions(-)

commit 70417701089e5918452996d7cbe48c89e35a39e0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 28 22:10:22 2013 +0200

    Added Z85 support

    The use of binary for CURVE keys is painful; you cannot easily copy
    these in e.g. email, or use them directly in source code. There are
    various encoding possibilities. Base16 and Base64 are not optimal.
    Ascii85 is not safe for source (it generates quotes and escapes).

    So, I've designed a new Base85 encoding, Z85, which is safe to use
    in code and elsewhere, and I've modified libzmq to use this where
    it also uses binary keys (in get/setsockopt).

    Very simply, if you use a 32-byte value, it's Base256 (binary),
    and if you use a 40-byte value, it's Base85 (Z85).

    I've put the Z85 codec into z85_codec.hpp, it's not elegant C++
    but it is minimal and it works. Feel free to rewrap as a real class
    if this annoys you.

 Makefile.am                   |    6 +--
 configure.ac                  |   12 +++--
 doc/zmq_curve.txt             |   36 +++++++++++---
 doc/zmq_getsockopt.txt        |   58 +++++++++++++++++++---
 doc/zmq_setsockopt.txt        |   32 +++++++-----
 src/Makefile.am               |    1 +
 src/options.cpp               |   39 ++++++++++++++-
 src/options.hpp               |    5 +-
 src/z85_codec.hpp             |  108 +++++++++++++++++++++++++++++++++++++++++
 tests/test_security_curve.cpp |   55 +++++++--------------
 tools/Makefile.am             |    1 +
 tools/curve_keygen.c          |   40 +++++++++++----
 tools/z85_codec.h             |  108 +++++++++++++++++++++++++++++++++++++++++
 13 files changed, 418 insertions(+), 83 deletions(-)

commit 1beec5e960646eead85df5a91e1e9b986af0ce28
Merge: ba1ae7d 76df045
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jun 28 05:05:54 2013 -0700

    Merge pull request #596 from hintjens/master

    Problem: mechanisms are lagging behind specs

commit 76df0459503de64fe5fabb916420faeed2ca667c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 28 12:04:01 2013 +0200

    Return EINVAL when trying to use CURVE without libsodium

 src/options.cpp |   27 +++++++--------------------
 1 file changed, 7 insertions(+), 20 deletions(-)

commit 357a9c45fbfb195a23ad42365153c279c49ea8d9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jun 28 11:24:14 2013 +0200

    Simplify ZMQ_STREAM socket implementation, part II

 src/stream.cpp |   57 ++++++++++++++++++++------------------------------------
 src/stream.hpp |    3 ---
 2 files changed, 20 insertions(+), 40 deletions(-)

commit 7832addd202a20f65e218d74df6621147c7b8eb9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 28 11:42:54 2013 +0200

    Updated security mechanisms to use variable-length commands

    RFC23, RFC24, RFC26 now use variable-length command names that
    end in null octet (valid C strings) instead of fixed-length
    space padded strings.

 src/curve_client.cpp          |   32 +++++------
 src/curve_server.cpp          |   34 +++++------
 src/mechanism.cpp             |    2 +-
 src/null_mechanism.cpp        |   10 ++--
 src/plain_mechanism.cpp       |   12 ++--
 tests/Makefile.am             |    2 +-
 tests/test_raw_sock.cpp       |   19 +++---
 tests/test_security.cpp       |  128 +++++++++++------------------------------
 tests/test_security_curve.cpp |  105 ++++++++-------------------------
 tests/test_stream.cpp         |   19 +++---
 tests/testutil.hpp            |   32 +++++++++++
 11 files changed, 153 insertions(+), 242 deletions(-)

commit ba1ae7d639aa07bec60687bb70ff99c1a1f753d5
Merge: fe2753d 7b27c12
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 28 02:28:23 2013 -0700

    Merge pull request #595 from hurtonm/master

    Another ZMQ_STREAM simplification

commit 7b27c125dc3025fe16b1f259695f7bbaa78ee9f0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jun 28 11:24:14 2013 +0200

    Simplify ZMQ_STREAM socket implementation, part II

 src/stream.cpp |   57 ++++++++++++++++++++------------------------------------
 src/stream.hpp |    3 ---
 2 files changed, 20 insertions(+), 40 deletions(-)

commit dd14d4e01b5188d89fa45d0c8189cf550b22d1ae
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 28 10:16:50 2013 +0200

    Minor whitespace fixes in man page

 doc/zmq_setsockopt.txt |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c4ae74f8161b3f68f5933993bc89acc9209d4ced
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 28 09:41:05 2013 +0200

    Fixed zmq_errno function definition

 src/zmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fe2753da0af6df9931f164aedd04d9d37ebb7f66
Merge: d8f1376 a1bb5e8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 28 01:15:02 2013 -0700

    Merge pull request #594 from hurtonm/master

    Simplify ZMQ_STREAM socket implementation

commit a1bb5e83ffd837e9d074bf727152d62583e7a516
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jun 28 09:08:54 2013 +0200

    Simplify ZMQ_STREAM socket implementation

 src/stream.cpp |   87 +++++++++++++-------------------------------------------
 src/stream.hpp |   18 ++----------
 2 files changed, 22 insertions(+), 83 deletions(-)

commit d8f13760083bd5ae302dd8c38af9c4cd6ac4b1d3
Merge: 4a4d222 ad77937
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jun 27 14:09:04 2013 -0700

    Merge pull request #593 from hintjens/master

    Problem: ROUTER+RAW was not a clean API

commit ad7793795692e93595f01e12773467fb9270e9ec
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 27 20:47:34 2013 +0200

    Added ZMQ_STREAM socket type

    - designed for TCP clients and servers
    - added HTTP client / server example in tests/test_stream.cpp
    - same as ZMQ_ROUTER + ZMQ_ROUTER_RAW + ZMQ_ROUTER_MANDATORY
    - includes b893ce set ZMQ_IDENTITY on outgoing connect
    - deprecates ZMQ_ROUTER_RAW

 .gitignore             |    2 +
 doc/zmq_msg_send.txt   |    2 +
 doc/zmq_send.txt       |    2 +
 doc/zmq_sendmsg.txt    |    2 +
 doc/zmq_setsockopt.txt |    2 +
 doc/zmq_socket.txt     |   42 +++++-
 include/zmq.h          |    1 +
 src/Makefile.am        |    2 +
 src/mechanism.cpp      |    4 +-
 src/router.cpp         |    7 +-
 src/session_base.cpp   |    5 +
 src/socket_base.cpp    |    4 +
 src/stream.cpp         |  335 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/stream.hpp         |  127 ++++++++++++++++++
 tests/Makefile.am      |    9 +-
 tests/test_stream.cpp  |  228 ++++++++++++++++++++++++++++++++
 16 files changed, 763 insertions(+), 11 deletions(-)

commit 4a4d222ec45c10da66c9514713d3959c31b44709
Merge: e9d11c6 b893ce2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jun 23 23:29:44 2013 -0700

    Merge pull request #592 from gavinmcniff/master

    Store identity for raw socket

commit b893ce250301b408d040c75933993cd85560b1ce
Author: Gavin <gavin@mcniff.ie>
Date:   Sun Jun 23 18:16:33 2013 +0100

    Store identity for raw socket

    Identity stored during connect procedure. Can be read using
    zmq_getsockopt and used as the identity frame when sending messages.
    This allows the implementation of a raw socket client.

 src/router.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit e9d11c6611f76ad5aebddeaf7ca73a04d6b7d65d
Merge: ec943ac b12be41
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 23 01:07:59 2013 -0700

    Merge pull request #591 from hurtonm/master

    Rename parse_properties to parse_metadata

commit b12be41736ee4bc1e2137a8553f8183f9b60514d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Jun 23 08:52:27 2013 +0200

    Rename parse_properties to parse_metadata

 src/curve_client.cpp    |    4 ++--
 src/curve_server.cpp    |    4 ++--
 src/mechanism.cpp       |    4 ++--
 src/mechanism.hpp       |   10 ++++++----
 src/null_mechanism.cpp  |    2 +-
 src/plain_mechanism.cpp |    4 ++--
 6 files changed, 15 insertions(+), 13 deletions(-)

commit ec943ac5de7a7572b84b75f41c0ba6ae2bccebb7
Merge: 19cf076 99d4974
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 14:19:02 2013 -0700

    Merge pull request #590 from hurtonm/master

    Refactor how properties are parsed

commit 99d4974580bb6c77c0eccf5f92afe81f761e801d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 19:02:08 2013 +0200

    Refactor how properties are parsed

 src/curve_client.cpp    |   43 +++++------------------------------
 src/curve_client.hpp    |    3 ++-
 src/curve_server.cpp    |   43 +++++------------------------------
 src/curve_server.hpp    |    4 +++-
 src/mechanism.cpp       |   50 +++++++++++++++++++++++++++++++++++++++++
 src/mechanism.hpp       |   14 ++++++++++++
 src/null_mechanism.cpp  |   57 +++++++++++++----------------------------------
 src/null_mechanism.hpp  |    4 ++++
 src/plain_mechanism.cpp |   43 +++++------------------------------
 src/plain_mechanism.hpp |    7 ++++--
 10 files changed, 112 insertions(+), 156 deletions(-)

commit 19cf076f8c79ec511a0859d0a50b92c65a747615
Merge: 73e1952 13df8e6
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 08:28:03 2013 -0700

    Merge pull request #589 from ianbarber/master

    Add test for CURVE mechanism

commit 13df8e6546d85d5308657d6475bd3a867b181e70
Merge: 211bf2b 73e1952
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 16:19:26 2013 +0100

    Merge branch 'master' of git://github.com/zeromq/libzmq

commit 211bf2b08e312a7f9ae1e165085f79788854df0c
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 16:17:25 2013 +0100

    Added security curve test

    Test is skipped if no libsodium.
    Added warning if libsodium not configured

 configure.ac                  |    2 +-
 tests/Makefile.am             |    2 +
 tests/test_security_curve.cpp |  224 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 227 insertions(+), 1 deletion(-)

commit 73e195279ae201f99b38c4afcba86c5663c0eea4
Merge: 2bf5124 084e879
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 07:25:26 2013 -0700

    Merge pull request #588 from hurtonm/master

    Small code cleanup

commit 084e8792de2115e08a5d6bb84d176e4fe8302066
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 13:40:32 2013 +0200

    Small cleanup in pipe.cpp

 src/pipe.cpp |   20 ++++++++------------
 src/pipe.hpp |    2 +-
 2 files changed, 9 insertions(+), 13 deletions(-)

commit 2bf51247feeb02276eddb325883a993e740bfb7f
Merge: 8bb79b5 fa0f0e2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 07:14:28 2013 -0700

    Merge pull request #587 from hurtonm/master

    Make ZAP optional for CURVE mechanism

commit fa0f0e21b82808383e549d872a52a1b7de7e2f37
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 16:05:34 2013 +0200

    Make ZAP optional for PLAIN mechanism

 src/plain_mechanism.cpp |  141 ++++++++++++++++++++++++-----------------------
 src/plain_mechanism.hpp |    6 ++
 2 files changed, 78 insertions(+), 69 deletions(-)

commit 8bb79b5eb1fabfd5e430fc09a29a35c661feb053
Merge: acaaaa5 5975e00
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 06:42:26 2013 -0700

    Merge pull request #586 from hurtonm/master

    Make ZAP optional for CURVE mechanism

commit 5975e00fd1bedfcdd99664baf52fffcc7982120a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 15:33:44 2013 +0200

    Make ZAP optional for CURVE mechanism

 src/curve_server.cpp |   42 ++++++++++++++++--------------------------
 src/curve_server.hpp |    5 ++++-
 2 files changed, 20 insertions(+), 27 deletions(-)

commit acaaaa53517cbe6f5f20b424e41a65a8240bbc5e
Merge: 675bd46 fadfcac
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 05:19:01 2013 -0700

    Merge pull request #585 from hintjens/master

    Problem: allows CURVE security even if libzmq was built without libsodium

commit fadfcac1dec8e3b36bf1498b0d38f818e8d233e7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 13:50:22 2013 +0200

    Fixed compile error, needed unistd.h

 tests/test_monitor.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1ea06883c0694486324ed9a7adc2fba4334987f7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 13:39:20 2013 +0200

    Fixed spelling in comments

 src/lb.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fb43d5a0fef8349b49a573a9fc82aea4f62c95f7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 13:39:02 2013 +0200

    Whitespace fix to man page

 doc/zmq_setsockopt.txt |    1 +
 1 file changed, 1 insertion(+)

commit f4848ddb32612be96eba308c3e7e3361c4c33f98
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 13:38:14 2013 +0200

    Prints message and exits if app tries to use CURVE without libsodium

 src/options.cpp |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 675bd4640bf3646b4d8420984681948e7556d33f
Merge: 9eb2521 1b86324
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 04:18:27 2013 -0700

    Merge pull request #584 from hurtonm/master

    Fix test_disconnect_inproc to work on ILP64 systems

commit 1b86324396fcbe77455645d2a39f5c5b696beaed
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 13:00:33 2013 +0200

    Fix test_disconnect_inproc to work on ILP64 systems

 tests/test_disconnect_inproc.cpp |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 9eb2521537ed1fec2f7be0740b0817802e19c1a9
Merge: 91bc740 694543e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 03:25:44 2013 -0700

    Merge pull request #583 from ianbarber/master

    Small stream engine issue and test_monitor tidy up

commit 694543e3a20f2e6763b12c8930d6351da2c7be45
Merge: f4c51db 91bc740
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 10:59:16 2013 +0100

    Merge branch 'master' of git://github.com/zeromq/libzmq

commit f4c51db842f78182a4b0392c96cd706251c770e9
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 10:58:16 2013 +0100

    Fix small streamengine issue w/ term and handshake

    Also tidy up monitor test a little.

 src/stream_engine.cpp  |    6 ++++++
 tests/test_monitor.cpp |   23 +++++++++++++----------
 2 files changed, 19 insertions(+), 10 deletions(-)

commit 91bc74089ff0655966c6adf566b67796ab12b5ab
Merge: c9638fc 8af208f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 02:57:34 2013 -0700

    Merge pull request #582 from hurtonm/master

    Implement CurveZMQ message encryption and authentication

commit 8af208fab7388c1ee37daaf4403d73a887eeb71f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 11:48:33 2013 +0200

    Implement ZMTP/3.0 CURVE mechanism

 src/stream_engine.cpp |   57 +++++++++++++++++++++++++++++++++++++++++++++++--
 src/stream_engine.hpp |    4 ++++
 2 files changed, 59 insertions(+), 2 deletions(-)

commit e4a211870c43d9a8c96ad16c8b751b37a3cfa53d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 11:46:40 2013 +0200

    Implement CurveZMQ message encryption and authentication

 src/curve_client.cpp |  107 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/curve_client.hpp |    2 +
 src/curve_server.cpp |  107 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/curve_server.hpp |    2 +
 src/mechanism.hpp    |    4 ++
 5 files changed, 222 insertions(+)

commit c9638fceb4886f13a6aeb7db7bdc521ab923a132
Merge: c5078ea 8c0ded5
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 02:12:39 2013 -0700

    Merge pull request #581 from hintjens/master

    Problem: code isn't setting mechanism to CURVE properly

commit 8c0ded5076d9f5afe7c272d0dcd17316af7c66d8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 22 11:05:01 2013 +0200

    Properly set mechanism to CURVE when setting a curve option

 src/options.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit c5078ea1b8123f74bcd9361bc52c650c7855eea5
Merge: 92b02b9 20a7978
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 22 01:08:35 2013 -0700

    Merge pull request #580 from hurtonm/master

    Stop ZMTP handshake when an unexpected message comes

commit 20a7978d679c653eb58e67753f66feb19e55c001
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 22 08:11:55 2013 +0200

    Stop ZMTP handshake when an unexpected message comes

 src/curve_client.cpp    |    3 ++-
 src/curve_server.cpp    |    2 +-
 src/plain_mechanism.cpp |    3 ++-
 src/stream_engine.cpp   |    2 --
 4 files changed, 5 insertions(+), 5 deletions(-)

commit 92b02b98cd3d08378033eac6cb9ea347b20e8fbd
Merge: 1fe7820 cabf4e6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 21 09:00:18 2013 -0700

    Merge pull request #579 from ianbarber/master

    Clean up socket_type_string

commit cabf4e658f2e4ad4d18377b53566d3a4a353c274
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 21 16:56:45 2013 +0100

    Comments to clarify the socket name function

 src/mechanism.hpp     |    2 ++
 src/stream_engine.hpp |    2 --
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1fe7820629f5f8bf5441ddf810901060984da797
Merge: c5a9fa5 10f69c1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jun 20 11:09:20 2013 -0700

    Merge pull request #577 from hintjens/master

    API for CURVE configuration

commit c5a9fa5b5e56ede6c794e8ca6b2bd0cab27f665d
Merge: 65c84ab 3b355fe
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 20 09:47:22 2013 -0700

    Merge pull request #578 from gonzus/master

    Changes to sanity tag in ctx

commit 3b355fec9ac5825ccd5b241aa3e4fbdbbfb989a9
Author: Gonzalo Diethelm <gonzalo.diethelm@diethelm.org>
Date:   Thu Jun 20 12:43:32 2013 -0400

    Introduced private constants for the context sanity tag values.
    Ignored more MSVC intermmediate files.

 .gitignore  |    2 +-
 src/ctx.cpp |    9 ++++++---
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 10f69c1500af39e7405b8a07b16be11c01827d70
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 20 18:30:30 2013 +0200

    Clarified man pages on mixed security

 doc/zmq_curve.txt      |   13 ++++++++-----
 doc/zmq_setsockopt.txt |    6 ++++--
 2 files changed, 12 insertions(+), 7 deletions(-)

commit d9bb16725ebe52faa3655ddd39cf2b8d0c82d0a3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 20 18:09:12 2013 +0200

    Added options for CURVE security

    - ZMQ_CURVE_PUBLICKEY for clients and servers
    - ZMQ_CURVE_SECRETKEY for clients
    - ZMQ_CURVE_SERVERKEY for clients
    - ZMQ_CURVE_SERVER for servers
    - added tools/curve_keygen.c as example
    - updated man pages

 .gitignore             |    2 ++
 doc/zmq.txt            |    6 ++--
 doc/zmq_curve.txt      |   41 ++++++++++++++++++++++------
 doc/zmq_setsockopt.txt |   71 +++++++++++++++++++++++++++++++++++++++++++-----
 include/zmq.h          |    9 +++---
 src/curve_client.cpp   |   11 ++------
 src/curve_server.cpp   |    3 +-
 src/options.cpp        |   57 ++++++++++++++++++++++++++++++++++++++
 src/options.hpp        |   15 +++++-----
 tools/curve_keygen.c   |   47 ++++++++++++++++++++++++++++++++
 10 files changed, 222 insertions(+), 40 deletions(-)

commit 65c84abdb538de24de4cfa9dac7b4db789a0787e
Merge: 9273022 37b99c0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 20 05:27:49 2013 -0700

    Merge pull request #576 from hurtonm/zmtp_curve

    Implement ZMTP/3.0 CURVE handshake

commit 37b99c0b4b706437e4298de7440c681b1b6ff218
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Jun 18 23:38:24 2013 +0200

    Implement ZMTP/3.0 CURVE handshake

 CMakeLists.txt       |    2 +
 src/Makefile.am      |    4 +
 src/curve_client.cpp |  344 +++++++++++++++++++++++++++++++
 src/curve_client.hpp |  109 ++++++++++
 src/curve_server.cpp |  547 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/curve_server.hpp |  113 +++++++++++
 src/options.hpp      |    9 +
 7 files changed, 1128 insertions(+)

commit 927302226096c6cbbc2fec28d1e293588f35887d
Merge: 1195092 9bd8d9a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 17 06:38:33 2013 -0700

    Merge pull request #575 from murphybytes/master

    Missing files in cmake generated build.

commit 9bd8d9a7269c0a04704e4dda978d1486a759b1b9
Author: John Murphy <murphybytes@gmail.com>
Date:   Sun Jun 16 18:42:51 2013 -0500

    added missing files required to build

 CMakeLists.txt |    3 +++
 1 file changed, 3 insertions(+)

commit 1195092c61befa2fceb9d16780a4570ec3f9f4a7
Merge: 5c54bc3 3832792
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 15 01:27:38 2013 -0700

    Merge pull request #574 from pijyoi/master

    fix memory leak in ipc_listener wildcard

commit 38327927ceda89422ae32f9223f40a0532f60b57
Author: xinchuan <nixchuan@gmail.com>
Date:   Sat Jun 15 16:11:50 2013 +0800

    fix memory leak in tempnam() usage

 src/ipc_listener.cpp |   19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit 5c54bc358e8d6fb1f4bc5bfc4ef64c26b84b2a4f
Merge: 6b8569d 627190c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 10 03:34:23 2013 -0700

    Merge pull request #573 from shripchenko/master

    another iteration on ZMQ_PROBE_ROUTER

commit 627190c8bee128032d74ce27e218e28323b535fd
Author: shripchenko <shripchenko@intermedia.net>
Date:   Mon Jun 10 02:31:00 2013 -0700

    another iteration on ZMQ_PROBE_ROUTER
    now it properly works for ROUTER

 src/dealer.cpp              |    4 ++--
 src/router.cpp              |   29 +++++++++++++----------------
 tests/test_probe_router.cpp |    4 +---
 3 files changed, 16 insertions(+), 21 deletions(-)

commit 6b8569d78abb16f764cf366bbe62cfbc61d1c226
Merge: 210fcbb 6ff51ee
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jun 7 07:33:25 2013 -0700

    Merge pull request #572 from hintjens/master

    Updated ZAP PLAIN request to follow latest draft

commit 6ff51ee909fd3389f038ac5b1767a4a88716f3a6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 7 15:50:36 2013 +0200

    Updated ZAP request for changed protocol draft

    - username and password sent as two string frames
    - fixed test case to match

 src/plain_mechanism.cpp |   21 ++++++++++---------
 tests/test_security.cpp |   51 +++++++++++++++++++----------------------------
 2 files changed, 32 insertions(+), 40 deletions(-)

commit 656ff5b208bbb06335b7b32453d054d7f668636e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 7 13:28:47 2013 +0200

    Small fixes to documentation

    - REQ and REP sockets don't have HWM issues
    - ZMQ_DONTWAIT applies to DEALER and PUSH only

 doc/zmq_msg_send.txt |    7 ++++---
 doc/zmq_send.txt     |    7 ++++---
 doc/zmq_sendmsg.txt  |    7 ++++---
 doc/zmq_socket.txt   |   20 ++++----------------
 4 files changed, 16 insertions(+), 25 deletions(-)

commit 210fcbbbeb927a63271374a60ed7923b2db158d0
Merge: 7a43c02 2928c91
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jun 6 04:41:55 2013 -0700

    Merge pull request #571 from hurtonm/master

    Add ZAP support

commit 2928c91a6dba5ba19f5e481ead40c00100169aed
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jun 6 13:13:10 2013 +0200

    Implement ZAP and integrate it with PLAIN mechanism

 src/i_engine.hpp        |    2 +
 src/mechanism.hpp       |    3 +
 src/pgm_receiver.hpp    |    1 +
 src/pgm_sender.hpp      |    1 +
 src/plain_mechanism.cpp |  152 ++++++++++++++++++++++++++++++++++++++++++++---
 src/plain_mechanism.hpp |    9 ++-
 src/session_base.cpp    |  143 +++++++++++++++++++++++++++++++++++++-------
 src/session_base.hpp    |   15 +++++
 src/stream_engine.cpp   |   48 ++++++++-------
 src/stream_engine.hpp   |    8 +--
 tests/test_security.cpp |  131 ++++++++++++++++++++++++++++++++++++++++
 11 files changed, 458 insertions(+), 55 deletions(-)

commit 4e47084dd4ca9244158c2d55b2e6e315ee23dfc4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jun 6 11:00:41 2013 +0200

    Minor cleanups

 src/pipe.cpp            |    2 +-
 src/plain_mechanism.cpp |   17 ++++++++---------
 src/session_base.cpp    |    8 ++++----
 src/session_base.hpp    |    4 ++--
 4 files changed, 15 insertions(+), 16 deletions(-)

commit c3e40736ded9c96981ddd2e399cd1b43c9f5980f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 28 16:49:24 2013 +0200

    Rename terminated->pipe_terminated

 src/dealer.cpp       |    6 +++---
 src/dealer.hpp       |    2 +-
 src/dist.cpp         |    2 +-
 src/dist.hpp         |    2 +-
 src/fq.cpp           |    2 +-
 src/fq.hpp           |    2 +-
 src/lb.cpp           |    2 +-
 src/lb.hpp           |    2 +-
 src/pair.cpp         |    2 +-
 src/pair.hpp         |    2 +-
 src/pipe.cpp         |    2 +-
 src/pipe.hpp         |    2 +-
 src/pull.cpp         |    4 ++--
 src/pull.hpp         |    2 +-
 src/push.cpp         |    4 ++--
 src/push.hpp         |    2 +-
 src/router.cpp       |    4 ++--
 src/router.hpp       |    2 +-
 src/session_base.cpp |    2 +-
 src/session_base.hpp |    2 +-
 src/socket_base.cpp  |    4 ++--
 src/socket_base.hpp  |    4 ++--
 src/xpub.cpp         |    4 ++--
 src/xpub.hpp         |    2 +-
 src/xsub.cpp         |    6 +++---
 src/xsub.hpp         |    2 +-
 26 files changed, 36 insertions(+), 36 deletions(-)

commit 7a43c02aaf331e3821fdf15841798ca5512d9e65
Merge: d5f6036 a9679da
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jun 6 01:18:37 2013 -0700

    Merge pull request #570 from hintjens/master

    Packaging of probe function

commit a9679da764a279b368603b9160c0f81a419c2160
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 5 15:55:15 2013 +0200

    Packaging on ZMQ_PROBE_ROUTER

    - renamed to ZMQ_PROBE_ROUTER

 .gitignore                  |    2 +-
 doc/zmq_setsockopt.txt      |   14 ++++----
 include/zmq.h               |    2 +-
 src/dealer.cpp              |   14 ++++----
 src/dealer.hpp              |    4 +--
 src/router.cpp              |   16 ++++-----
 src/router.hpp              |    4 +--
 tests/Makefile.am           |    4 +--
 tests/test_probe_router.cpp |   77 +++++++++++++++++++++++++++++++++++++++++++
 tests/test_router_probe.cpp |   75 -----------------------------------------
 10 files changed, 105 insertions(+), 107 deletions(-)

commit 2344131db3800e95a05e3ed11ca0e31aed468166
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 5 15:25:52 2013 +0200

    Packaging of ZMQ_PROBE

    - Cleaned up man page a little
    - Wrote test case tests/test_router_probe.cpp

 .gitignore                  |    1 +
 doc/zmq_setsockopt.txt      |   26 ++++++++-------
 tests/Makefile.am           |    2 ++
 tests/test_router_probe.cpp |   75 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 92 insertions(+), 12 deletions(-)

commit dbd58f8e151681dfe210af93be3e2b72c10dc40f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 5 12:42:25 2013 +0200

    Fixed out-of-date reference

 doc/zmq_socket.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c980e17dd6f83bc01f9b4442fe90d53e9562850
Author: shripchenko <shripchenko@intermedia.net>
Date:   Fri May 24 07:09:53 2013 -0700

    changed option name. +documentation changes

 doc/zmq_setsockopt.txt |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 97324398a7d647c3a2cdba7597db2b8057c60c30
Author: shripchenko <shripchenko@intermedia.net>
Date:   Thu May 23 01:49:40 2013 -0700

    refactored ZMQ_ROUTER_ANNOUNCE_SELF code. renamed it to ZMQ_PROBE_NEW_PEERS.
    implement it for DEALER tocket.
    +documentation

 doc/zmq_setsockopt.txt |   10 ++++------
 src/dealer.cpp         |    6 +++---
 src/router.cpp         |    7 +++++--
 3 files changed, 12 insertions(+), 11 deletions(-)

commit d5f603690f48c219c35419726f796a9ceb4de369
Merge: d1f011d 42ab0e8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 1 01:08:48 2013 -0700

    Merge pull request #569 from jpoliv/master

    Make "./configure --with-system-pgm" detect the OpenPGM 5.2 system library.

commit 42ab0e82176f98aa80bed1e874dd36b72bc314b4
Author: Jose Pedro Oliveira <jpo@di.uminho.pt>
Date:   Sat Jun 1 03:39:40 2013 +0100

    Make
        ./configure --with-system-pgm
    detect the OpenPGM 5.2 system library.

    Note that OpenPGM installs a versioned pkgconfig file
    (openpgm-5.2.pc, openpgm-5.1.pc).

 configure.ac |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit d1f011d7e5087649b51e0e6dde9c8e8832e7ea86
Merge: 6caa173 43d0497
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 31 16:14:02 2013 -0700

    Merge pull request #568 from jmgao/patch-2

    Fold constant expression into constant.

commit 43d049741f86a2385d7743d6065336d971c73118
Author: Josh Gao <jgao@mobileiron.com>
Date:   Fri May 31 13:22:51 2013 -0700

    Fix mistaken use of xor in "2^31 - 1".

 src/mechanism.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6caa17373b766a002e32906c6cacea0f743114a2
Merge: 240eff3 9a0b2c8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 29 14:13:13 2013 -0700

    Merge pull request #567 from ianbarber/master

    Fixed memory leak in stream engine

commit 9a0b2c897039b6fa35287e065b3803104b622ac2
Author: Ian Barber <ianbarber@google.com>
Date:   Wed May 29 21:58:20 2013 +0100

    Pieter's change to fix memory leak on mechanism

 src/stream_engine.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 240eff384aa924e366c1709f41b9afa94d0d7890
Merge: 9d63ebf f805e4d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 29 09:03:54 2013 -0700

    Merge pull request #563 from shripchenko/master

    Refactoring of 'ZMQ_ROUTER_ANNOUNCE_SELF'

commit 9d63ebf6d624d374bedfe0d9050d145665a0c92c
Merge: f781eb7 4e4803e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 28 04:51:47 2013 -0700

    Merge pull request #564 from hurtonm/master

    Rename pipe states so they are more mnemonic

commit 4e4803e07faad51b17fe05bddad300e863ed1afa
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 28 13:18:19 2013 +0200

    Rename pipe states to make it more mnemonic

 src/pipe.cpp |   76 ++++++++++++++++++++++++++++++----------------------------
 src/pipe.hpp |   30 ++++++++++++-----------
 2 files changed, 56 insertions(+), 50 deletions(-)

commit f805e4dd03d012e644b4153866c70e99490b0349
Author: shripchenko <shripchenko@intermedia.net>
Date:   Fri May 24 07:09:53 2013 -0700

    changed option name. +documentation changes

 doc/zmq_setsockopt.txt |   10 ++++++----
 include/zmq.h          |    2 +-
 src/dealer.cpp         |    2 +-
 src/router.cpp         |    2 +-
 4 files changed, 9 insertions(+), 7 deletions(-)

commit aec989fb5dcdbd9043057c94035621dbac8b8e33
Author: shripchenko <shripchenko@intermedia.net>
Date:   Thu May 23 02:02:18 2013 -0700

    small refactoring

 src/dealer.cpp |    6 +++---
 src/router.cpp |    7 ++-----
 2 files changed, 5 insertions(+), 8 deletions(-)

commit 51750a7d2a0ddceb1c51096cac7cd79a442bce42
Author: shripchenko <shripchenko@intermedia.net>
Date:   Thu May 23 01:49:40 2013 -0700

    refactored ZMQ_ROUTER_ANNOUNCE_SELF code. renamed it to ZMQ_PROBE_NEW_PEERS.
    implement it for DEALER tocket.
    +documentation

 doc/zmq_setsockopt.txt |   15 +++++++++++++++
 include/zmq.h          |    2 +-
 src/dealer.cpp         |   41 ++++++++++++++++++++++++++++++++++++++++-
 src/dealer.hpp         |    4 ++++
 src/router.cpp         |   35 ++++++++++++++++++++++-------------
 src/router.hpp         |    8 ++++----
 6 files changed, 86 insertions(+), 19 deletions(-)

commit f781eb7e7bb53c8fa7bd5f9ff1116c7abadc2076
Merge: 13643b2 fbd1729
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed May 22 07:05:20 2013 -0700

    Merge pull request #562 from hintjens/master

    Removed tracing on router option setting

commit fbd1729cbda254442c48c272f827c1f7bbaad551
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 22 00:17:03 2013 +0200

    Removed tracing for Travis builds

 src/router.cpp |    6 ------
 1 file changed, 6 deletions(-)

commit 13643b2aec307fb7d799fe0371e88918f9875b40
Merge: d113495 910b469
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 21 14:32:05 2013 -0700

    Merge pull request #561 from shripchenko/master

    Add ROUTER socket option to introduce self(send an empty message) to new peers, to allow ROUTER<->ROUTER auto-discovery problem.

commit 910b46922419c0622a5917ea02f6af820b14c578
Merge: ed3a115 ec7f711
Author: shripchenko <shripchenko@intermedia.net>
Date:   Tue May 21 10:26:11 2013 -0700

    Merge branch 'master' of https://github.com/shripchenko/libzmq

commit ed3a115da9111766d010f45db615503def10dfed
Author: shripchenko <shripchenko@intermedia.net>
Date:   Tue May 21 10:20:24 2013 -0700

    Add ROUTER socket option to introduce self(send an empty message) to new peers, to allow ROUTER<->ROUTER auto-discovery problem.

 include/zmq.h  |    1 +
 src/router.cpp |   19 ++++++++++++++++++-
 src/router.hpp |    3 +++
 3 files changed, 22 insertions(+), 1 deletion(-)

commit ec7f711c5883299eb4062fd98adb239ba1c06320
Author: root <root@ast-pbx-mt-3.intermedia.net>
Date:   Tue May 21 10:20:24 2013 -0700

    Add ROUTER socket option to introduce self(send an empty message) to new peers, to allow ROUTER<->ROUTER auto-discovery problem.

 include/zmq.h  |    1 +
 src/router.cpp |   19 ++++++++++++++++++-
 src/router.hpp |    3 +++
 3 files changed, 22 insertions(+), 1 deletion(-)

commit c7c865da75c8ba2d7db2455e4a9ce273f54e197f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 21 18:52:44 2013 +0200

    Whitespace fixes

 tests/test_connect_delay.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d11349550092bc50cfe3984cddc73a4db15b4d24
Merge: 536ea4f 4112693
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 21 09:03:51 2013 -0700

    Merge pull request #560 from hintjens/master

    Working on Travis builds

commit 4112693051909cbfee5d9ab8a5c7f895f65f547b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 21 15:15:16 2013 +0200

    Cleaned up router option code
    - made consistent with options.cpp code
    - added trace print for ongoing issue with Travis CI builds

 src/router.cpp |   51 +++++++++++++++++++++++++++++++++------------------
 1 file changed, 33 insertions(+), 18 deletions(-)

commit 536ea4fc24f08f2821449ea2f8b05fc87ce58647
Merge: e9e44c6 bf96cb4
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue May 21 00:39:58 2013 -0700

    Merge pull request #559 from hintjens/master

    Adding support for Travis CI

commit bf96cb44e24faf2ae3c3983263c0693d156b369b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 21 09:32:13 2013 +0200

    Fixed name of Travis file

 .travis.yaml |    2 --
 .travis.yml  |    2 ++
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 59a164d2b5beafce60971b5a35902e69581e0aa2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 21 09:20:39 2013 +0200

    Added support for Travis CI

 .travis.yaml |    2 ++
 1 file changed, 2 insertions(+)

commit e9e44c6b09e4bada7ec89b45bf116722d784dbdf
Merge: 5d2a8b1 31ee92f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 19 02:05:57 2013 -0700

    Merge pull request #558 from hintjens/master

    stdint.h isn't available on all platforms

commit 31ee92f2fda594be8be57652a4fd5f83720f0ee8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 19 10:01:33 2013 +0100

    stdint.h is not available on all platforms

 include/zmq.h     |   16 +++++++++++++++-
 src/mechanism.hpp |    3 +--
 2 files changed, 16 insertions(+), 3 deletions(-)

commit 73562112b831c61c95688d7ce3957ab2193b475d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat May 18 11:53:20 2013 +0100

    Whitespace fixes

 src/plain_mechanism.cpp |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit fa5c0e18e304946cdad4fa747f52af141a561934
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat May 18 11:53:10 2013 +0100

    Trivial fix to man page

 doc/zmq_curve.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5d2a8b18e5fabe748b7dc3a00ef5420a6915dc27
Merge: 342e576 f06abca
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri May 17 09:46:53 2013 -0700

    Merge pull request #557 from hintjens/master

    Added as_server to options

commit f06abca04683d0e50e298cb5617b5afdbed562ee
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 17 17:26:54 2013 +0100

    Disable failing test for now

 tests/test_security.cpp |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit f909b9c7222a8265cfeb8538900add46abd0f2f7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 17 17:46:30 2013 +0200

    plain_mechanism now uses options.as_server
    - we need to switch to PLAIN according to options.mechanism
    - we need to catch case when both peers are as-server (or neither is)
    - and to use username/password from options, for client

 src/ipc_connecter.cpp   |    2 +-
 src/ipc_listener.cpp    |    2 +-
 src/options.cpp         |   10 ++--
 src/options.hpp         |    3 +-
 src/plain_mechanism.cpp |  123 +++++++++++++++++++++--------------------------
 src/plain_mechanism.hpp |    2 +-
 src/stream_engine.cpp   |   10 ++--
 src/stream_engine.hpp   |    4 +-
 src/tcp_connecter.cpp   |    2 +-
 src/tcp_listener.cpp    |    2 +-
 tests/test_security.cpp |   84 +++++++++++++++++++++++++-------
 11 files changed, 140 insertions(+), 104 deletions(-)

commit da1e9a178a0651431d20ec440b5a366ea7153ba4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 16 20:29:55 2013 +0200

    Cleaned up test pingpong code

 tests/testutil.hpp |   48 ++++++++++++++++++++++++++----------------------
 1 file changed, 26 insertions(+), 22 deletions(-)

commit 342e576ec83653a51fb788cf68aec095ed1794f5
Merge: fbcbb06 182a224
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 17 09:20:16 2013 -0700

    Merge pull request #556 from hurtonm/master

    Use socket options to select security mechanism

commit 182a224bb0607c59a5951034e994fdaf72a96450
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri May 17 15:49:26 2013 +0200

    Use socket options to select security mechanism

 src/plain_mechanism.cpp |   11 +++++------
 src/stream_engine.cpp   |    8 ++++++--
 2 files changed, 11 insertions(+), 8 deletions(-)

commit fbcbb06b466865a87264a2b7263d41ce57200dbf
Merge: 593010f e1f797b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 15 08:56:06 2013 -0700

    Merge pull request #555 from hintjens/master

    Added options for PLAIN security

commit e1f797b0482d7887bd44238bdec28194b0c83628
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 15 17:54:03 2013 +0200

    Added configuration for PLAIN security

    * ZMQ_PLAIN_SERVER, ZMQ_PLAIN_USERNAME, ZMQ_PLAIN_PASSWORD options
    * Man page changes to zmq_setsockopt and zmq_getsockopt
    * Man pages for ZMQ_NULL, ZMQ_PLAIN, and ZMQ_CURVE
    * Test program test_security

 .gitignore              |    1 +
 doc/Makefile.am         |    5 +-
 doc/zmq.txt             |   17 ++
 doc/zmq_curve.txt       |   40 +++
 doc/zmq_getsockopt.txt  |   58 ++++-
 doc/zmq_null.txt        |   27 ++
 doc/zmq_plain.txt       |   37 +++
 doc/zmq_setsockopt.txt  |   76 +++++-
 include/zmq.h           |   12 +
 src/options.cpp         |  631 ++++++++++++++++++++++++-----------------------
 src/options.hpp         |    9 +-
 src/zmq.cpp             |    4 +-
 tests/Makefile.am       |    2 +
 tests/test_security.cpp |  117 +++++++++
 14 files changed, 710 insertions(+), 326 deletions(-)

commit 8ea779c8f72e72ee1a62a5703d32ddc79972761a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 15 14:11:15 2013 +0200

    Fixed sizeof usage in man pages

 doc/zmq_msg_recv.txt   |    2 +-
 doc/zmq_recvmsg.txt    |    2 +-
 doc/zmq_setsockopt.txt |    4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 593010fbeb965a1b945d16c7e887c8b0065b2499
Merge: 131b0a7 4eecda8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 14 14:02:52 2013 -0700

    Merge pull request #554 from hurtonm/master

    Implement ZMTP/3.0 PLAIN mechanism

commit 4eecda8af371b8c6afd43d499c86ae79aa788a05
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 14 10:41:37 2013 +0200

    Implement ZMTP/3.0 PLAIN mechanism

    This implements protocol handshake.
    We still need to design and implement 1) API changes so a user
    can set username and password, and 2) a mechanism for engine
    to authenticate users.

 src/Makefile.am         |    2 +
 src/ipc_connecter.cpp   |    3 +-
 src/ipc_listener.cpp    |    3 +-
 src/plain_mechanism.cpp |  359 +++++++++++++++++++++++++++++++++++++++++++++++
 src/plain_mechanism.hpp |   74 ++++++++++
 src/stream_engine.cpp   |   15 +-
 src/stream_engine.hpp   |    6 +-
 src/tcp_connecter.cpp   |    3 +-
 src/tcp_listener.cpp    |    3 +-
 9 files changed, 460 insertions(+), 8 deletions(-)

commit d47295db708cb19a46070bc5f88d76d117abc339
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon May 13 22:34:27 2013 +0200

    Abstract security mechanism

 src/Makefile.am        |    4 ++
 src/mechanism.cpp      |   73 +++++++++++++++++++
 src/mechanism.hpp      |   73 +++++++++++++++++++
 src/null_mechanism.cpp |  152 +++++++++++++++++++++++++++++++++++++++
 src/null_mechanism.hpp |   51 +++++++++++++
 src/stream_engine.cpp  |  185 ++++++++++++------------------------------------
 src/stream_engine.hpp  |   11 +--
 7 files changed, 406 insertions(+), 143 deletions(-)

commit 131b0a7148eaf7abda8a234aa60028136b178c74
Merge: 3ef3b94 e918fd4
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed May 8 11:51:02 2013 -0700

    Merge pull request #553 from hintjens/master

    Some changes to building and packaging

commit e918fd4d694c795e32327bf6383b3d4b9c97bb17
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 7 14:47:07 2013 +0200

    Use correct libsodium call for detection

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff268b7c8a364a29cfb7e90dd943bef46502fe50
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 7 14:44:55 2013 +0200

    Fixed packaging for Windows - was missing errno sources

 builds/msvc/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fa346fddd39369fe93478ecf5ac87f54ec4adb72
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 27 17:08:32 2013 +0200

    Added configure check for libsodium

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3ef3b9405c9994533eba9dd39be2b9f85cc7cdd8
Merge: df01235 a7032e9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 28 09:37:23 2013 -0700

    Merge pull request #552 from hurtonm/master

    Implement ZMTP/3.0 NULL mechanism

commit a7032e9ca8a75fea4c599c51dd9fce5e9ca7c9f3
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Apr 28 10:40:52 2013 +0200

    Update test_raw_sock to work with ZMTP/3.0

 tests/test_raw_sock.cpp |   57 ++++++++++++++++++++++++++++++++++-------------
 1 file changed, 41 insertions(+), 16 deletions(-)

commit cd4d8bb15a18831e1f4d45f2c5bee11d0c30b436
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Apr 28 10:15:25 2013 +0200

    Implement ZMTP/3.0 NULL mechanism

 src/stream_engine.cpp |  203 +++++++++++++++++++++++++++++++++++++++++++++++--
 src/stream_engine.hpp |   33 ++++++--
 2 files changed, 224 insertions(+), 12 deletions(-)

commit df012358712d4ec150a264edd0d80d4c9339cb9d
Merge: 522765b cb2ee7a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Apr 27 06:27:24 2013 -0700

    Merge pull request #551 from hintjens/master

    zmq_msg_close clarification in man pages

commit cb2ee7a5c21d50289ffc82a5417c6e39999e25e7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 27 14:52:19 2013 +0200

    Fixed up test_iov case

 .gitignore        |    1 +
 tests/Makefile.am |    3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 7e129a405ce42724df42cfbd2102e5938b3595cd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 27 12:48:29 2013 +0200

    Clarified zmq_msg_close not needed after zmq_msg_send

 doc/zmq_msg_close.txt |    3 ++-
 doc/zmq_msg_send.txt  |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 522765be1ee7a32e687a3777c969a7a310fe1d09
Merge: 0bf5a31 56ead84
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 25 14:28:11 2013 -0700

    Merge pull request #550 from JonDyte/iovec

    Experimental function zmq_recviov doesnt work correctly in a couple of c...

commit 56ead8449092ef2f6ea056f1d070dd7c73af29c5
Author: Jon Dyte <jon@totient.co.uk>
Date:   Thu Apr 25 21:58:26 2013 +0100

    Experimental function zmq_recviov doesnt work correctly in a couple of cases
    1) VSM - you cannot hand out the 'data' address as it was not allocated on the heap
    2) for other messages the 'data' address cannot be handed out either, as it not the address
    originally returned by malloc and hence cannot be passed to 'free'.
    see msg.cpp
    u.lmsg.content = (content_t*) malloc (sizeof (content_t) + size_);
    ....
    u.lmsg.content->data = u.lmsg.content + 1;

    So the function is changed to always malloc a data buffer and copy the data into it.
    There is a possible optimisation using memmove for the non-VSM case but that is not done yet.

 src/zmq.cpp        |   23 +++++------
 tests/Makefile.am  |    3 +-
 tests/test_iov.cpp |  111 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 125 insertions(+), 12 deletions(-)

commit 0bf5a31494604f6d1769b458bf410a2fdd0425c1
Merge: 9703dd8 b5e5e10
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Apr 23 17:20:04 2013 -0700

    Merge pull request #549 from methodmissing/sigpipe-declare-err

    Fix return code redeclaration for platforms with SO_NOSIGPIPE

commit b5e5e101263d6ab7ccb14eaa3944e9a4a3aab3e1
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Tue Apr 23 22:58:28 2013 +0100

    Fix return code redeclaration for platforms with SO_NOSIGPIPE

 src/stream_engine.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9703dd806a4bf70377edce9c6916109efd9c1df7
Merge: 0880d5b 710f38f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Apr 23 05:28:25 2013 -0700

    Merge pull request #548 from hintjens/master

    Fixed issue LIBZMQ-526

commit 710f38f1cca6e2fc4d886541073325c09e074c33
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 22 15:12:53 2013 +0200

    Fixed syntax error

 src/tcp_connecter.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f4dbccd4fb230c6f911c518619cf97b84fa20dbb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 22 14:50:56 2013 +0200

    Fix for LIBZMQ-526

 src/tcp_connecter.cpp |   23 ++++++++++++++++-------
 1 file changed, 16 insertions(+), 7 deletions(-)

commit 0880d5b8ed976305e98a4748af2f1c7926dedf46
Merge: d0c58d2 f0cf409
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Apr 18 08:30:50 2013 -0700

    Merge pull request #547 from hintjens/master

    Fixed issue LIBZMQ-525

commit f0cf4095b5055eb41e9cd8f841542944ddf7e771
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 18 17:23:57 2013 +0200

    Fixed issue #525 - multipart upstreaming from xsub to xpub

 src/xpub.cpp |   36 +++++++++++++++++++++---------------
 src/xpub.hpp |    4 ++--
 src/xsub.cpp |    2 +-
 3 files changed, 24 insertions(+), 18 deletions(-)

commit d0c58d24093264ace762b2a846b8996e21f9b507
Merge: f4a07b3 9df7c70
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Apr 15 11:01:37 2013 -0700

    Merge pull request #546 from hintjens/master

    Throughput perf test was borked, fixed it

commit 9df7c70abad3b572b8201dca666a055bd3fadf57
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 15 17:21:58 2013 +0200

    Cleaned up copyright statements in perftest tools

 perf/inproc_lat.cpp |    4 +---
 perf/local_lat.cpp  |    4 +---
 perf/remote_lat.cpp |    4 +---
 3 files changed, 3 insertions(+), 9 deletions(-)

commit c980820d29d483da05e203858bd1a38b718f334f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 15 17:18:03 2013 +0200

    I'm reverting the various changes to the throughput test programs since as far
    as I can see, these didn't work any more. At the very least, the command line
    API was broken and forced the user to enter new, exotic arguments. Patches
    should not break existing APIs. But also, the internals of these programs had
    become weird.

    If we want to build more complex performance tests, that's fine, but we should
    make new programs, not break the old ones. We need minimal, safe performance
    tests in 0MQ.

    Also, the code was quite horrid. So it's gone. If anyone wants to bring it back
    please make the code neat, and build new APIs instead of breaking the old ones.

    Cheers
    Pieter

 perf/local_thr.cpp  |  283 +++++++----------------------------------
 perf/remote_thr.cpp |  348 ++++++---------------------------------------------
 2 files changed, 86 insertions(+), 545 deletions(-)

commit 67e02ca8bc78208befd10c6b45bba50e2d6e93ed
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 11 18:53:02 2013 +0200

    Use of named authors on man pages is no longer a good idea since it puts off
    contributors and doesn't reflect the real process. I've taken out all named
    authors and referred to the contribution policy. Hopefully this will improve
    the contributions to the man pages.

 doc/zmq.txt                |    4 ++--
 doc/zmq_bind.txt           |    4 ++--
 doc/zmq_close.txt          |    4 ++--
 doc/zmq_connect.txt        |    4 ++--
 doc/zmq_ctx_destroy.txt    |    3 ++-
 doc/zmq_ctx_get.txt        |    3 ++-
 doc/zmq_ctx_new.txt        |    3 ++-
 doc/zmq_ctx_set.txt        |    3 ++-
 doc/zmq_ctx_term.txt       |    3 ++-
 doc/zmq_disconnect.txt     |    4 ++--
 doc/zmq_errno.txt          |    4 ++--
 doc/zmq_getsockopt.txt     |    4 ++--
 doc/zmq_init.txt           |    4 ++--
 doc/zmq_inproc.txt         |    4 ++--
 doc/zmq_ipc.txt            |    8 ++------
 doc/zmq_msg_close.txt      |    4 ++--
 doc/zmq_msg_copy.txt       |    4 ++--
 doc/zmq_msg_data.txt       |    4 ++--
 doc/zmq_msg_get.txt        |    4 ++--
 doc/zmq_msg_init.txt       |    4 ++--
 doc/zmq_msg_init_data.txt  |    4 ++--
 doc/zmq_msg_init_size.txt  |    4 ++--
 doc/zmq_msg_more.txt       |    4 ++--
 doc/zmq_msg_move.txt       |    4 ++--
 doc/zmq_msg_recv.txt       |    5 ++---
 doc/zmq_msg_send.txt       |    5 ++---
 doc/zmq_msg_set.txt        |    3 ++-
 doc/zmq_msg_size.txt       |    4 ++--
 doc/zmq_pgm.txt            |    5 +++--
 doc/zmq_poll.txt           |    4 ++--
 doc/zmq_proxy.txt          |    3 ++-
 doc/zmq_recv.txt           |    5 ++---
 doc/zmq_recvmsg.txt        |    5 ++---
 doc/zmq_send.txt           |    4 ++--
 doc/zmq_sendmsg.txt        |    5 ++---
 doc/zmq_setsockopt.txt     |    6 ++++--
 doc/zmq_socket.txt         |    6 ++++--
 doc/zmq_socket_monitor.txt |    4 ++--
 doc/zmq_strerror.txt       |    5 +++--
 doc/zmq_tcp.txt            |    4 ++--
 doc/zmq_term.txt           |    4 ++--
 doc/zmq_unbind.txt         |    4 ++--
 doc/zmq_version.txt        |    5 +++--
 43 files changed, 93 insertions(+), 88 deletions(-)

commit f4a07b3951979a3cb3dc00f499211dfea4e29bc6
Merge: c5721f9 e52c436
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 14 14:27:32 2013 -0700

    Merge pull request #545 from hurtonm/master

    Interoperate with higher versions of ZMTP protocol

commit e52c43625281f077dda2d584a16692150fd44486
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Apr 14 22:47:17 2013 +0200

    Interoperate with higher versions of ZMTP protocol

 src/stream_engine.cpp |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit c5721f99883d27bd52bf85092df8ff2cca93f3b5
Merge: d2b5f1f d079190
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 13 02:55:02 2013 -0700

    Merge pull request #544 from steve-o/libzmq-446

    [#LIBZMQ-446] Silence error on setting PGM_TOS on REL 4.

commit d079190efa9de7e4a9eb61b005b18a0b54671d72
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Fri Apr 12 23:55:04 2013 -0400

    [#LIBZMQ-446] Silence error on setting PGM_TOS due to some platforms raising an error at runtime. Noted are RHEL 4.

 src/pgm_socket.cpp |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit d2b5f1f49ecc78635c8239c6e066f878fb91624a
Merge: a3713cb a432ea1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 12 13:22:41 2013 -0700

    Merge pull request #543 from steve-o/vc110_fix

    MSVC local_thr & remote_thr dependency fix

commit a432ea14d220eb24a494571994b2b8591cf6b296
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Fri Apr 12 11:59:24 2013 -0400

    Add vc80 project dependency on platform.hpp for local & remote throughput tests.

 builds/msvc/c_local_thr/c_local_thr.vcproj   |    2 ++
 builds/msvc/c_remote_thr/c_remote_thr.vcproj |    2 ++
 2 files changed, 4 insertions(+)

commit cd31f67a806839e68ce407b417cd389fe9e961a9
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Fri Apr 12 11:55:27 2013 -0400

    Add platform.hpp as project dependency to vc100 and vc110 projects for local & remote throughput tests.

 builds/msvc/c_local_thr/c_local_thr.vcxproj     |   20 ++++++++++++++++++++
 builds/msvc/c_local_thr/c_local_thr11.vcxproj   |   22 +++++++++++++++++++++-
 builds/msvc/c_remote_thr/c_remote_thr.vcxproj   |   20 ++++++++++++++++++++
 builds/msvc/c_remote_thr/c_remote_thr11.vcxproj |   22 +++++++++++++++++++++-
 4 files changed, 82 insertions(+), 2 deletions(-)

commit a3713cb750b27de7e046ebe3db2f7891a179cfcc
Merge: fd42be9 9d79ac2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 12 07:02:04 2013 -0700

    Merge pull request #542 from hurtonm/master

    Use state functions for message flow

commit 9d79ac283061c1531c1ab2878a2765afdaba9d77
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Apr 12 11:59:49 2013 +0200

    Use state functions for message flow

    The patch makes the code somewhat simpler and prepares it for
    more complex initialization handshakes.

 src/stream_engine.cpp |  100 +++++++++++++++++++++++++------------------------
 src/stream_engine.hpp |   24 +++++-------
 2 files changed, 62 insertions(+), 62 deletions(-)

commit fd42be9dbab047d0ed35572ead3be755177a60d2
Merge: 91f1e13 7942db7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 11 09:57:54 2013 -0700

    Merge pull request #541 from hurtonm/rework_message_flow

    Refactor code so that messages go through engines

commit 7942db7606c76f71b77863f8f883047ec69ffc5f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Mar 18 02:00:00 2013 +0100

    Refactor code so that messages go through engines

 src/Makefile.am       |    2 -
 src/decoder.hpp       |   94 +++++-------------
 src/encoder.hpp       |   62 ++++++------
 src/i_decoder.hpp     |   15 +--
 src/i_encoder.hpp     |   15 ++-
 src/i_msg_sink.hpp    |   43 ---------
 src/i_msg_source.hpp  |   44 ---------
 src/pgm_receiver.cpp  |  137 ++++++++++++++------------
 src/pgm_receiver.hpp  |   11 ++-
 src/pgm_sender.cpp    |   34 +++++--
 src/pgm_sender.hpp    |    8 ++
 src/raw_decoder.cpp   |   66 +++----------
 src/raw_decoder.hpp   |   25 +++--
 src/raw_encoder.cpp   |   53 +---------
 src/raw_encoder.hpp   |   10 +-
 src/req.cpp           |   10 +-
 src/req.hpp           |    1 -
 src/session_base.cpp  |   30 ------
 src/session_base.hpp  |   25 ++---
 src/stream_engine.cpp |  258 +++++++++++++++++++++++++++++++------------------
 src/stream_engine.hpp |   37 +++++--
 src/v1_decoder.cpp    |   73 ++++++--------
 src/v1_decoder.hpp    |   12 +--
 src/v1_encoder.cpp    |   51 ++--------
 src/v1_encoder.hpp    |   10 +-
 src/v2_decoder.cpp    |   82 ++++++----------
 src/v2_decoder.hpp    |   15 ++-
 src/v2_encoder.cpp    |   53 ++--------
 src/v2_encoder.hpp    |   13 +--
 src/wire.hpp          |    8 +-
 30 files changed, 527 insertions(+), 770 deletions(-)

commit 91f1e13125497683f9c8b604ff70617c540a3946
Merge: c396144 6d19e40
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Apr 11 03:10:38 2013 -0700

    Merge pull request #540 from hintjens/master

    Small clarification about connect and ROUTER

commit 6d19e400f1c824696d402591d12a8bed13df00f2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 11 09:48:41 2013 +0200

    Added clarification about connect on ROUTER

 doc/zmq_connect.txt |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit c3961442163a57c1a6bf17d2ef2a1b2f1c0f4f27
Merge: 106d962 2aec837
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 8 06:33:29 2013 -0700

    Merge pull request #539 from TTimo/master

    Adds a needed Windows system library dependency

commit 2aec837218c4b9d2cdea7f33005ce4c3ad57f6c5
Author: Timothee "TTimo" Besset <ttimo@ttimo.net>
Date:   Sun Apr 7 12:44:48 2013 -0500

    InitializeSecurityDescriptor needs Advapi32.lib

 builds/msvc/libzmq/libzmq11.vcxproj |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 106d962311386cba98e708b3c57b2265405c5367
Author: Timothee "TTimo" Besset <ttimo@ttimo.net>
Date:   Sat Apr 6 19:39:06 2013 -0500

    restore fixed MSVC 2010 projects, fork new MSVC 2012 projects

 builds/msvc/c_local_lat/c_local_lat.vcxproj     |    6 +-
 builds/msvc/c_local_lat/c_local_lat11.vcxproj   |   91 ++++++
 builds/msvc/c_local_thr/c_local_thr.vcxproj     |    6 +-
 builds/msvc/c_local_thr/c_local_thr11.vcxproj   |   91 ++++++
 builds/msvc/c_remote_lat/c_remote_lat.vcxproj   |    6 +-
 builds/msvc/c_remote_lat/c_remote_lat11.vcxproj |   91 ++++++
 builds/msvc/c_remote_thr/c_remote_thr.vcxproj   |    6 +-
 builds/msvc/c_remote_thr/c_remote_thr11.vcxproj |   91 ++++++
 builds/msvc/inproc_lat/inproc_lat.vcxproj       |    6 +-
 builds/msvc/inproc_lat/inproc_lat11.vcxproj     |  110 +++++++
 builds/msvc/inproc_thr/inproc_thr.vcxproj       |    6 +-
 builds/msvc/inproc_thr/inproc_thr11.vcxproj     |  110 +++++++
 builds/msvc/libzmq/libzmq.vcxproj               |   10 +-
 builds/msvc/libzmq/libzmq11.vcxproj             |  346 +++++++++++++++++++++++
 builds/msvc/msvc11.sln                          |  150 ++++++++++
 15 files changed, 1087 insertions(+), 39 deletions(-)

commit b5ace90e8ea8ba0b6df0c762a11bdee3b8c2a13a
Merge: 1e7db60 44df35c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 1 03:09:42 2013 -0700

    Merge pull request #538 from TTimo/master

    MSVC fixes

commit 44df35cb1e5bf7f64a01a48bf19e37112c071ad6
Author: Timothee "TTimo" Besset <ttimo@ttimo.net>
Date:   Sun Mar 31 18:18:05 2013 -0500

    Use Multithreaded DLL Runtime, Debug/Release accordingly - need consistency for the czmq configurations

 builds/msvc/libzmq/libzmq.vcxproj |    6 ++++++
 1 file changed, 6 insertions(+)

commit 5973b4c665c4a02d4bd5fce2370bd5cfaa821266
Author: Timothee "TTimo" Besset <ttimo@ttimo.net>
Date:   Sun Mar 31 09:10:56 2013 -0500

    Windows friendly replacement for gettimeofday

 perf/local_thr.cpp  |   44 ++++++++++++++++++++++++++++++++++++++------
 perf/remote_thr.cpp |   42 +++++++++++++++++++++++++++++++++++-------
 2 files changed, 73 insertions(+), 13 deletions(-)

commit 574fe35b3261edc50956d44d09a1413597af061d
Author: Timothee "TTimo" Besset <ttimo@ttimo.net>
Date:   Sun Mar 31 09:09:50 2013 -0500

    Fix MSVC project files.

 builds/msvc/c_local_lat/c_local_lat.vcxproj   |    4 ++++
 builds/msvc/c_local_thr/c_local_thr.vcxproj   |    4 ++++
 builds/msvc/c_remote_lat/c_remote_lat.vcxproj |    4 ++++
 builds/msvc/c_remote_thr/c_remote_thr.vcxproj |    4 ++++
 builds/msvc/inproc_lat/inproc_lat.vcxproj     |    6 ++++-
 builds/msvc/inproc_thr/inproc_thr.vcxproj     |    6 ++++-
 builds/msvc/libzmq/libzmq.vcxproj             |   12 ++++++++--
 builds/msvc/libzmq/libzmq.vcxproj.filters     |   12 +++++-----
 builds/msvc/msvc10.sln                        |   32 +++++++++++++++++++++++--
 9 files changed, 72 insertions(+), 12 deletions(-)

commit 1e7db60e9ad5a17faa6d307105ceff5aec4974fc
Merge: 01fef41 f8e7d46
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 24 16:08:45 2013 -0700

    Merge pull request #537 from TTimo/master

    mingw32 fixes

commit f8e7d462a6c988c0a06c31ae14297fafe3bfba8a
Author: Timothee Besset <ttimo@ttimo.net>
Date:   Sun Mar 24 23:32:21 2013 +0100

    mingw32 fixes

 builds/mingw32/Makefile.mingw32 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 01fef415753d00acca7200b60835fe4027adcdf6
Merge: 09a00de 257debf
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Mar 24 07:49:25 2013 -0700

    Merge pull request #536 from hintjens/master

    Fixed test_last_endpoint (#80)

commit 257debf65903783fc54792ed90ee6439cda87cff
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 24 15:12:34 2013 +0100

    Removed IPC endpoint from test; not portable, and fragile (#80)

 tests/test_last_endpoint.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 09a00de80384826bb1fb0d50dcae2417595ee27a
Merge: 5ba7445 8c96deb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 21 05:07:46 2013 -0700

    Merge pull request #534 from hintjens/master

    Reverted cleanups of copyrghts

commit 5ba7445b7aac823688f83f06526e8a5a4e7c0020
Merge: 39214b3 3286bf5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Mar 20 10:34:48 2013 -0700

    Merge pull request #535 from ken-tilera/master

    Optimize atomics implementaiton for the Tile architecture

commit 3286bf5ab66c5ea00237af642967a25043581353
Author: Ken Steele <ken@tilera.com>
Date:   Wed Mar 20 12:54:38 2013 -0400

    On the Tile architecture, use atomic instructions for atomic ptr and counter.

    For atomic_counter and atomic_ptr classes, detect the Tile architecture
    using #if defined __tile__ matching ARM and Solaris and then use the
    Tile atomic instructions. Without this change, the default Mutex
    implementation is used, which is slower.

 AUTHORS                |    1 +
 src/atomic_counter.hpp |   10 ++++++++++
 src/atomic_ptr.hpp     |    8 ++++++++
 3 files changed, 19 insertions(+)

commit 8c96deb900cde8759ade482ef6c660d7fc35a03c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Mar 20 11:59:23 2013 +0100

    Added corporate copyrights

 AUTHORS |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 39214b3e40cca54c020368378e9fd8135f54f1eb
Merge: 3b132e3 03c2841
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 18 02:46:45 2013 -0700

    Merge pull request #533 from mika-fischer/workaround-for-496

    Work around for LIBZMQ-496

commit 03c28411d892da23ae1a17728a368e38b9a072ad
Author: Mika Fischer <fischer@videmo.de>
Date:   Tue Feb 19 11:01:13 2013 +0100

    Work around for LIBZMQ-496

    The problem is that other threads might still be in mailbox::send() when
    it is destroyed. So as a workaround, we just acquire the mutex in the
    destructor. Therefore the running send will finish before the mailbox is
    destroyed.

    See also the fix for LIBZMQ-281 in zeromq2-x.

    Signed-off-by: Mika Fischer <mika.fischer@zoopnet.de>

 src/mailbox.cpp |    5 +++++
 1 file changed, 5 insertions(+)

commit 3b132e337ee7c99db5d1dc3c1447de496b2f2f04
Merge: 9ea20b8 8181840
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 18 01:05:38 2013 -0700

    Merge pull request #532 from hurtonm/pgm_build_fix

    Update PGM with recent changes

commit 81818401e83ac31e5746e7a4b6490468b99566f7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Mar 18 02:05:51 2013 +0100

    Update PGM with recent changes

 src/pgm_receiver.cpp |    5 +++--
 src/pgm_receiver.hpp |    6 +++---
 src/pgm_sender.hpp   |    4 ++--
 3 files changed, 8 insertions(+), 7 deletions(-)

commit 16f8ea3e95f3e7897ed9d1a7536e7acccaaf54f0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 17 11:30:49 2013 +0100

    Clarified HWM=0 means infinite

 doc/zmq_getsockopt.txt |    6 ++++--
 doc/zmq_setsockopt.txt |    6 ++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 9ea20b82cc7fffd233d4db854fed4013711ce639
Merge: c7cb5ab c69e797
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Mar 13 12:45:37 2013 -0700

    Merge pull request #531 from murrekatt/master

    Fixed CMake building after encoder/decoder changes

commit c69e79706e88d8946ea58b173ac041a214f9c780
Author: Tommy Back <tommy.jh.back@gmail.com>
Date:   Wed Mar 13 20:27:49 2013 +0100

    Fix to building libzmq with CMake as sub-project (git submodule).

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 601eedb7f3624e1e8c334ce396b64fff91b8a3e8
Author: Tommy Back <tommy.jh.back@gmail.com>
Date:   Wed Mar 13 20:10:00 2013 +0100

    Updated CMake building to work after encoder/decoder changes.

 CMakeLists.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c7cb5ab7c0c1d72fe54799cef4ac4f26fa224cc3
Merge: 1810f10 f1738b9
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Mar 12 14:00:20 2013 -0700

    Merge pull request #530 from hintjens/master

    Fixed copyrights in sources

commit f1738b9b9219ffa78bb57fdedc703590abaf5ac2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 12 17:04:51 2013 +0100

    More copyright cleanups

 tests/test_connect_delay.cpp     |    4 ++--
 tests/test_connect_resolve.cpp   |    3 +--
 tests/test_ctx_options.cpp       |    3 +--
 tests/test_disconnect_inproc.cpp |   19 +++++++++++++++++++
 tests/test_hwm.cpp               |    4 +---
 tests/test_invalid_rep.cpp       |    4 +---
 tests/test_last_endpoint.cpp     |    4 +---
 tests/test_monitor.cpp           |    4 +---
 tests/test_msg_flags.cpp         |    4 +---
 tests/test_pair_inproc.cpp       |    3 +--
 tests/test_pair_ipc.cpp          |    3 +--
 tests/test_pair_tcp.cpp          |    4 +---
 tests/test_raw_sock.cpp          |    3 +--
 tests/test_reqrep_device.cpp     |    4 +---
 tests/test_reqrep_inproc.cpp     |    3 +--
 tests/test_reqrep_ipc.cpp        |    3 +--
 tests/test_reqrep_tcp.cpp        |    4 +---
 tests/test_router_mandatory.cpp  |    3 +--
 tests/test_shutdown_stress.cpp   |    4 +---
 tests/test_sub_forward.cpp       |    4 +---
 tests/test_term_endpoint.cpp     |    4 +---
 tests/test_timeo.cpp             |    4 +---
 tests/testutil.hpp               |    4 +---
 23 files changed, 42 insertions(+), 57 deletions(-)

commit 0e77d65f128251cd63dada27ce95849b3b815d29
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 12 16:15:54 2013 +0100

    Removed pointless comment

 src/dealer.cpp |    6 ------
 src/router.cpp |    7 -------
 2 files changed, 13 deletions(-)

commit 8358d4e8328895456399f8c2ee8a0f273fa3f8dc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 12 16:11:19 2013 +0100

    Renamed ZMQ_DELAY_ATTACH_ON_CONNECT_COULD_THIS_BE_ANY_LONGER to ZMQ_IMMEDIATE

 doc/zmq_setsockopt.txt |   15 +++++++++------
 include/zmq.h          |   10 +++++-----
 src/options.cpp        |   10 +++++-----
 src/options.hpp        |    2 +-
 src/session_base.cpp   |    2 +-
 src/socket_base.cpp    |    4 ++--
 6 files changed, 23 insertions(+), 20 deletions(-)

commit 12c7db8c42ac04d3aaed6674ae43af91c39d29bf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 12 15:56:10 2013 +0100

    Code name clean up

 src/stream_engine.cpp |   20 ++++++++++----------
 src/stream_engine.hpp |   21 ++++++++-------------
 2 files changed, 18 insertions(+), 23 deletions(-)

commit d826c53b9b163e33952abb515718bb04526b8940
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 12 15:38:48 2013 +0100

    Bumped ZMTP revision to 2

    * Starting draft ZMTP/2.1 protocol (revision 2)
    * Basis for adding security to the wire protocol
    * Maintains backward compatibility

 src/stream_engine.cpp   |   24 ++++++++++++------------
 src/stream_engine.hpp   |    7 +++++++
 src/v2_protocol.hpp     |    1 -
 tests/test_raw_sock.cpp |    6 +++---
 4 files changed, 22 insertions(+), 16 deletions(-)

commit 785ef41f678399f2d1835492b3d593ca7b54a498
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 12 15:26:07 2013 +0100

    Refactored codecs to match ZMTP version numbers

 src/Makefile.am         |   10 +--
 src/decoder.cpp         |  164 -----------------------------------------------
 src/decoder.hpp         |   31 ---------
 src/encoder.cpp         |   99 ----------------------------
 src/encoder.hpp         |   24 -------
 src/stream_engine.cpp   |   55 ++++++++--------
 src/tcp_connecter.cpp   |    2 +-
 src/v1_decoder.cpp      |  141 ++++++++++++++++++++--------------------
 src/v1_decoder.hpp      |   21 ++----
 src/v1_encoder.cpp      |   60 ++++++++---------
 src/v1_encoder.hpp      |   15 ++---
 src/v1_protocol.hpp     |   42 ------------
 src/v2_decoder.cpp      |  160 +++++++++++++++++++++++++++++++++++++++++++++
 src/v2_decoder.hpp      |   60 +++++++++++++++++
 src/v2_encoder.cpp      |  100 +++++++++++++++++++++++++++++
 src/v2_encoder.hpp      |   56 ++++++++++++++++
 src/v2_protocol.hpp     |   39 +++++++++++
 src/xsub.cpp            |    8 +--
 tests/test_raw_sock.cpp |    2 +-
 19 files changed, 570 insertions(+), 519 deletions(-)

commit f0f16505e5c3468b9cc598abd797f0aa650447a6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 12 13:17:00 2013 +0100

    Removed corporate advertisements from source file headers

    Copyrights had become ads for Sustrik's corporate sponsors, going against the original
    agreement to share copyrights with the community (that agreement was: one line stating
    iMatix copyright + one reference to AUTHORS file). The proliferation of corporate ads
    is also unfair to the many individual authors. I've removed ALL corporate title from
    the source files so the copyright statements can now be centralized in AUTHORS and
    source files can be properly updated on an annual basis.

 include/zmq.h          |    5 +----
 include/zmq_utils.h    |    3 +--
 src/address.cpp        |    3 +--
 src/address.hpp        |    3 +--
 src/array.hpp          |    4 +---
 src/atomic_counter.hpp |    4 +---
 src/atomic_ptr.hpp     |    4 +---
 src/blob.hpp           |    3 +--
 src/clock.cpp          |    3 +--
 src/clock.hpp          |    3 +--
 src/command.hpp        |    4 +---
 src/config.hpp         |    4 +---
 src/ctx.cpp            |    4 +---
 src/ctx.hpp            |    4 +---
 src/dealer.cpp         |    4 +---
 src/dealer.hpp         |    3 +--
 src/decoder.cpp        |    4 +---
 src/decoder.hpp        |    4 +---
 src/devpoll.cpp        |    4 +---
 src/devpoll.hpp        |    4 +---
 src/dist.cpp           |    4 +---
 src/dist.hpp           |    3 +--
 src/encoder.cpp        |    5 +----
 src/encoder.hpp        |    4 +---
 src/epoll.cpp          |    4 +---
 src/epoll.hpp          |    4 +---
 src/err.cpp            |    4 +---
 src/err.hpp            |    4 +---
 src/fd.hpp             |    3 +--
 src/fq.cpp             |    5 +----
 src/fq.hpp             |    4 +---
 src/i_decoder.hpp      |    3 +--
 src/i_encoder.hpp      |    3 +--
 src/i_engine.hpp       |    4 +---
 src/i_msg_sink.hpp     |    3 +--
 src/i_msg_source.hpp   |    3 +--
 src/i_poll_events.hpp  |    4 +---
 src/io_object.cpp      |    4 +---
 src/io_object.hpp      |    4 +---
 src/io_thread.cpp      |    4 +---
 src/io_thread.hpp      |    4 +---
 src/ip.cpp             |    4 +---
 src/ip.hpp             |    4 +---
 src/ipc_address.cpp    |    3 +--
 src/ipc_address.hpp    |    3 +--
 src/ipc_connecter.cpp  |    3 +--
 src/ipc_connecter.hpp  |    3 +--
 src/ipc_listener.cpp   |    3 +--
 src/ipc_listener.hpp   |    3 +--
 src/kqueue.cpp         |    4 +---
 src/kqueue.hpp         |    4 +---
 src/lb.cpp             |    5 +----
 src/lb.hpp             |    4 +---
 src/likely.hpp         |    3 +--
 src/mailbox.cpp        |    4 +---
 src/mailbox.hpp        |    4 +---
 src/msg.cpp            |    6 ++----
 src/msg.hpp            |    5 +----
 src/mtrie.cpp          |    4 +---
 src/mtrie.hpp          |    4 +---
 src/mutex.hpp          |    4 +---
 src/object.cpp         |    4 +---
 src/object.hpp         |    4 +---
 src/options.cpp        |    5 +----
 src/options.hpp        |    5 +----
 src/own.cpp            |    3 +--
 src/own.hpp            |    3 +--
 src/pair.cpp           |    4 +---
 src/pair.hpp           |    4 +---
 src/pgm_receiver.cpp   |    5 +----
 src/pgm_receiver.hpp   |    5 +----
 src/pgm_sender.cpp     |    5 +----
 src/pgm_sender.hpp     |    5 +----
 src/pgm_socket.cpp     |    5 +----
 src/pgm_socket.hpp     |    5 +----
 src/pipe.cpp           |    5 +----
 src/pipe.hpp           |    5 +----
 src/poll.cpp           |    4 +---
 src/poll.hpp           |    4 +---
 src/poller.hpp         |    4 +---
 src/poller_base.cpp    |    3 +--
 src/poller_base.hpp    |    3 +--
 src/precompiled.cpp    |    3 +--
 src/precompiled.hpp    |    3 +--
 src/proxy.cpp          |    3 +--
 src/proxy.hpp          |    3 +--
 src/pub.cpp            |    4 +---
 src/pub.hpp            |    4 +---
 src/pull.cpp           |    4 +---
 src/pull.hpp           |    4 +---
 src/push.cpp           |    4 +---
 src/push.hpp           |    4 +---
 src/random.cpp         |    3 +--
 src/random.hpp         |    3 +--
 src/raw_decoder.cpp    |    4 +---
 src/raw_decoder.hpp    |    4 +---
 src/raw_encoder.cpp    |    5 +----
 src/raw_encoder.hpp    |    4 +---
 src/reaper.cpp         |    3 +--
 src/reaper.hpp         |    3 +--
 src/rep.cpp            |    4 +---
 src/rep.hpp            |    4 +---
 src/req.cpp            |    5 +----
 src/req.hpp            |    5 +----
 src/router.cpp         |    5 +----
 src/router.hpp         |    5 +----
 src/select.cpp         |    4 +---
 src/select.hpp         |    4 +---
 src/session_base.cpp   |    5 +----
 src/session_base.hpp   |    5 +----
 src/signaler.cpp       |    3 +--
 src/signaler.hpp       |    3 +--
 src/socket_base.cpp    |    5 +----
 src/socket_base.hpp    |    5 +----
 src/stdint.hpp         |    3 +--
 src/stream_engine.cpp  |    4 +---
 src/stream_engine.hpp  |    4 +---
 src/sub.cpp            |    4 +---
 src/sub.hpp            |    4 +---
 src/tcp.cpp            |    4 +---
 src/tcp.hpp            |    4 +---
 src/tcp_address.cpp    |    4 +---
 src/tcp_address.hpp    |    4 +---
 src/tcp_connecter.cpp  |    4 +---
 src/tcp_connecter.hpp  |    4 +---
 src/tcp_listener.cpp   |    4 +---
 src/tcp_listener.hpp   |    4 +---
 src/thread.cpp         |    4 +---
 src/thread.hpp         |    4 +---
 src/trie.cpp           |    5 +----
 src/trie.hpp           |    5 +----
 src/v1_decoder.cpp     |    4 +---
 src/v1_decoder.hpp     |    4 +---
 src/v1_encoder.cpp     |    5 +----
 src/v1_encoder.hpp     |    4 +---
 src/v1_protocol.hpp    |    3 +--
 src/windows.hpp        |    4 +---
 src/wire.hpp           |    3 +--
 src/xpub.cpp           |    4 +---
 src/xpub.hpp           |    3 +--
 src/xsub.cpp           |    4 +---
 src/xsub.hpp           |    3 +--
 src/ypipe.hpp          |    4 +---
 src/yqueue.hpp         |    4 +---
 src/zmq.cpp            |    4 +---
 src/zmq_utils.cpp      |    4 +---
 146 files changed, 147 insertions(+), 427 deletions(-)

commit cb69986d743df388944d7dc5ea4bb12f7c49d2ed
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 8 14:22:58 2013 +0100

    Comment change

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 898ad19851ba81b4175696028bd5427a38c86614
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 26 12:43:52 2013 +0100

    It's its not it's

 doc/zmq_pgm.txt            |    4 ++--
 doc/zmq_socket_monitor.txt |   22 +++++++++++-----------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 1810f1025f633a7d3c6edafb4ac4650b7c06de69
Merge: ba2dda4 d78d497
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 8 10:03:19 2013 -0800

    Merge pull request #529 from guidog/master

    Adapted zmq_socket_monitor man page to new API.

commit d78d4972ae3eed299ce9245a734c95b94c161af1
Author: Guido Goldstein <github@a-nugget.de>
Date:   Fri Mar 8 16:58:04 2013 +0100

    Adapted man page to API.

 doc/zmq_socket_monitor.txt |  229 +++++++++++++++++++-------------------------
 1 file changed, 100 insertions(+), 129 deletions(-)

commit ba2dda407d73d009851cb19f7fa831d6576f4a76
Merge: 656258c b0b8ab2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 8 05:21:25 2013 -0800

    Merge pull request #528 from guidog/master

    Changed message structure for event notifications

commit b0b8ab27c5a3734aa2e9103a61e1a850e14d7dd3
Author: Guido Goldstein <github@a-nugget.de>
Date:   Fri Mar 8 13:48:18 2013 +0100

    Changed message structure for event notifications.

 include/zmq.h          |    6 ++--
 src/socket_base.cpp    |   67 +++++++++++++++--------------------------
 src/socket_base.hpp    |    5 +---
 src/zmq.cpp            |   10 -------
 tests/test_monitor.cpp |   78 ++++++++++++++++++++++++++----------------------
 5 files changed, 70 insertions(+), 96 deletions(-)

commit 656258c1d4ec3f3d71f4ea85783d95576aff2bf5
Merge: 068909f 21eeb03
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 8 02:24:46 2013 -0800

    Merge pull request #527 from guidog/master

    Simplified zmq_event_t structure.

commit 21eeb03b6cab29e5f4cb60b195272314f6375678
Author: Guido Goldstein <github@a-nugget.de>
Date:   Fri Mar 8 10:34:25 2013 +0100

    Simplified the zmq_event_t structure for easier access and better usability towards language bindings.

 include/zmq.h          |   48 ++++----------------------------------
 src/socket_base.cpp    |   60 ++++++++++++++++++++++++------------------------
 src/zmq.cpp            |   37 +++--------------------------
 tests/test_monitor.cpp |   39 ++++++++++++-------------------
 4 files changed, 52 insertions(+), 132 deletions(-)

commit 068909f4445381f597337bd0f51786f45ba0df35
Merge: be11608 7e37cc8
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Mar 5 08:00:59 2013 -0800

    Merge pull request #526 from breese/master

    Fixed Linux compilation problem

commit 7e37cc8ed471ef06554ea88e20dbf5315dcc2bb9
Author: Bjorn Reese <breese@sourceforge.net>
Date:   Tue Mar 5 11:52:47 2013 +0100

    Linux build fails due to undeclared variable

 perf/remote_thr.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit be1160832e91f757a65ff37c3450e4f26ce3daff
Merge: f420f0a 679869d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Mar 3 01:14:00 2013 -0800

    Merge pull request #525 from pijyoi/master

    remote_thr.cpp: port pthreads usage to win32 api

commit 679869d98144adf70e738fa269f4d4c89e2f08a3
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sun Mar 3 15:39:44 2013 +0800

    add simple Makefile to build with mingw32

 builds/mingw32/Makefile.mingw32 |   31 +++++++++++++++++++++++++++++++
 builds/mingw32/platform.hpp     |   32 ++++++++++++++++++++++++++++++++
 2 files changed, 63 insertions(+)

commit 3176509e6029ec269e340d266b99059f97b5c065
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sun Mar 3 15:28:00 2013 +0800

    include source directory version of zmq.h and zmq_utils.h

    this follows what {local,remote}_lat.cpp and inproc_{thr,lat}.cpp do.

 perf/local_thr.cpp  |    4 ++--
 perf/remote_thr.cpp |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 402f9fd243dfd150e7dc567ce6e045d3a7d14b50
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sun Mar 3 15:18:54 2013 +0800

    remote_thr.cpp: port pthreads usage to win32 api

 perf/remote_thr.cpp |   74 ++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 49 insertions(+), 25 deletions(-)

commit f420f0aff78c1734d335f9304bbca658ba30d7ec
Merge: 22d9d95 1e52a45
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Feb 28 14:14:31 2013 -0800

    Merge pull request #524 from dlittleton/master

    Windows: Fix rounding error in now_us. [Jira LIBZMQ-514]

commit 1e52a451d68bd274635d7338f114ff708bc0294f
Author: Duane Littleton <dlittleton@vocollect.com>
Date:   Wed Feb 27 13:53:07 2013 -0500

    Windows: Fix rounding error when calculating now_us

    Improve accuracy of time calculations and avoid division by zero when
    ticksPerSecond.QuadPart < 1000000.

 src/clock.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 22d9d95dd26bf3e39119e10d652ffbc97c46ca6d
Merge: deb9773 a22714d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 26 12:33:26 2013 -0800

    Merge pull request #523 from ambitslix/perf

    Improvements and fixes for performance of PUSH/PULL in local_thr and rem...

commit a22714dd79021279ce64e7795be7f25ede8c1f83
Author: Attila Mark <gougolith@gmail.com>
Date:   Tue Feb 26 12:10:27 2013 -0800

    Improvements and fixes for performance of PUSH/PULL in local_thr and remote_thr.

    - option to set number of zmq threads on the command line for local_thr
    - option to set number of zmq_threads and workers in remote_thr
    - option to set SND/RCV buffer sizes on command line
    - option to set whether to PUSH/PULL on command line
    - option to set to use zmq_recv or zmq_msg for transfer on command line
    - better timing function
    - corrected and improved throughput reporting
    - HWM and DELAY socket options

 AUTHORS             |    1 +
 perf/local_thr.cpp  |  253 +++++++++++++++++++++++++++++++++++--------
 perf/remote_thr.cpp |  299 +++++++++++++++++++++++++++++++++++++++++++--------
 3 files changed, 466 insertions(+), 87 deletions(-)

commit deb977345c85939551551c73fe710fc1f9252100
Merge: fb45685 066f3d2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Feb 25 05:30:11 2013 -0800

    Merge pull request #522 from hintjens/master

    Fixed overflow in results calculation

commit 066f3d2c9bf3126f91a4339be1f9862fea25cb77
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 25 14:13:15 2013 +0100

    Fixed overflow in local_thr results calculation

 perf/local_thr.cpp |   36 ++++++++++++------------------------
 1 file changed, 12 insertions(+), 24 deletions(-)

commit fb45685aa82689f6024c5eb91a65adb5059f3acf
Merge: 0434366 0ecc96b
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Feb 24 09:04:26 2013 -0800

    Merge pull request #521 from SRombauts/master

    Static Library Linking for Windows

commit 0ecc96bf33b66413bff1db1ae72bec67a6522824
Author: Sebastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Sun Feb 24 16:10:17 2013 +0100

    Adding missing new ZeroMQ_Static.props and Static.props files

    + ignore StaticRelease & StaticDebug intermediate files

 .gitignore                                 |    4 ++--
 builds/msvc/properties/Static.props        |   15 +++++++++++++++
 builds/msvc/properties/ZeroMQ_Static.props |   23 +++++++++++++++++++++++
 3 files changed, 40 insertions(+), 2 deletions(-)

commit b3bcd8e323773c3ede84ec1fe7ab7e4df045e063
Author: Sebastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Sun Feb 24 15:44:14 2013 +0100

    Static Library Linking for Windows

    - New ZMQ_STATIC flag to enable "libzmq.lib" Windows static library (or "libzmq_d.lib" in Debug mode).
    - ZMQ_STATIC needs also to be defined by projects using static linking against "libzmq.lib"
    - New StaticDebug & StaticRelease configurations for libzmq Win32 projects under MSVC 2008 & 2010
    - Tested with Visual Studio 2008 Express under Windows 7, and Visual Studio 2010 Express under Windows 8.

 builds/msvc/Makefile.am             |    4 +-
 builds/msvc/libzmq/libzmq.vcproj    | 1776 +++++++++++++++++++----------------
 builds/msvc/libzmq/libzmq.vcxproj   |   40 +-
 builds/msvc/msvc.sln                |    6 +
 builds/msvc/msvc10.sln              |    6 +
 builds/msvc/properties/ZeroMQ.props |    1 -
 include/zmq.h                       |    4 +-
 include/zmq_utils.h                 |    4 +-
 8 files changed, 1013 insertions(+), 828 deletions(-)

commit 0434366088ac519c9a4a8bc1f5b37b6b7662d927
Merge: 25dc715 d175676
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 22 00:27:56 2013 -0800

    Merge pull request #520 from xantares/master

    Fixed module path with cmake < 2.8.3

commit d17567626a54a60fea6ec8bd29ba8548c90ac7eb
Author: Michel Zou <xantares09@hotmail.com>
Date:   Fri Feb 22 09:01:41 2013 +0100

    Fixed module path with cmake < 2.8.3

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25dc715b7bf7c0fa0cbd274c5b500d8380e321ba
Merge: 897023c a61535a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Feb 20 11:45:14 2013 -0800

    Merge pull request #519 from SRombauts/master

    Corrected linking error in MSVC 2010 build + perf/projects compilation

commit 897023c3c1cecacdbd32f3215f45ee68410d61ee
Merge: ccf2b9b a85c9f4
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Feb 20 11:44:22 2013 -0800

    Merge pull request #518 from hintjens/master

    Fixed MAXMSGSIZE setsockopt, which I'd broken

commit a61535a23a6388c13239882129d6876acf7ade91
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Wed Feb 20 16:08:18 2013 +0100

    VS2008 & VS2010: adding the pre-build command to copy platform.hpp in perf/ directory to the two appropriate projects, for each MSVC version

 builds/msvc/inproc_lat/inproc_lat.vcproj  |  350 +++++++++++++++--------------
 builds/msvc/inproc_lat/inproc_lat.vcxproj |   22 +-
 builds/msvc/inproc_thr/inproc_thr.vcproj  |  350 +++++++++++++++--------------
 builds/msvc/inproc_thr/inproc_thr.vcxproj |   22 +-
 builds/msvc/libzmq/libzmq.vcxproj         |   20 +-
 5 files changed, 411 insertions(+), 353 deletions(-)

commit a85c9f45d14a52f66c414e743fd609d9a7324685
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 20 14:05:55 2013 +0100

    MAXMSGSIZE broke when I cleaned up this code - fixed

 src/options.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 157bf4523ef00dce8fe89d0806da4f0b01c55aa8
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Tue Feb 19 22:16:40 2013 +0100

    VS2010: adding another pre-build command to copy platform.hpp in perf/ directory

 builds/msvc/libzmq/libzmq.vcxproj |    6 ++++++
 1 file changed, 6 insertions(+)

commit 23db53d0aa720e2f26c67ecd94eeacfbdffc4cda
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Tue Feb 19 22:01:50 2013 +0100

    Corrected linking error in MSVC 2010 build

    - raw_encoder.cpp and raw_decoder.cpp where missing in Visual Studio 2010 project

 builds/msvc/libzmq/libzmq.vcxproj         |    4 ++++
 builds/msvc/libzmq/libzmq.vcxproj.filters |   12 ++++++++++++
 2 files changed, 16 insertions(+)

commit ccf2b9b46665f37a579f5f04f7b80848e97944a6
Merge: a5ef501 57f84d6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 19 10:31:26 2013 -0800

    Merge pull request #517 from SRombauts/master

    Windows CE support : using standard _WIN32_WCE flag instead of WINCE

commit 57f84d68111b1005e9f216b94070e837a3b65407
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Tue Feb 19 18:57:12 2013 +0100

    Windows CE support : some more #if !defined _WIN32_WCE

    - Windows CE does not manage security attributes (no SetSecurityDescriptorDacl(), SetEvent (NULL, xxx) ...)
    - Windows CE does not inheritance of sockets for child process (SetHandleInformation ((HANDLE) *w_, HANDLE_FLAG_INHERIT...)
    - see comments about story "Porting ZeroMQ to Windows Mobile" on webpage http://www.zeromq.org/story:5

 src/signaler.cpp     |   14 +++++++++++++-
 src/tcp_listener.cpp |    4 ++++
 2 files changed, 17 insertions(+), 1 deletion(-)

commit 05bb0ead54815d0b8262a9e0063e37f289bc307a
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Tue Feb 19 18:55:01 2013 +0100

    Windows CE support : uncommenting #define EACCES needed

    - tested for Windows CE 5.0 under Visual Studio 2008 Pro
    - tested for Windows XP under Visual Studio 2008 Pro

 builds/msvc/errno.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 41d79bc19eb4b53c6e6c7ea0477a1607ff0b59a7
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Tue Feb 19 16:49:23 2013 +0100

    Windows CE support : using standard _WIN32_WCE flag instead of WINCE

    - when compiling for Windows CE, a C++ project must define the preprocessor definitions: UNDER_CE=$(CEVersion),_WIN32_WCE=$(CEVersion)
    - choosing the "_WIN32_CE" form for uniformization with "_WIN32" and "_WIN32_WINNT" already used in libzmq (boost is using both forms)
    - see http://msdn.microsoft.com/en-us/library/ee479161(v=winembedded.60).aspx

 builds/msvc/errno.cpp |    2 +-
 include/zmq.h         |    2 +-
 src/clock.cpp         |    2 +-
 src/err.cpp           |    2 +-
 src/err.hpp           |    2 +-
 src/socket_base.cpp   |    2 +-
 src/thread.cpp        |    2 +-
 src/windows.hpp       |    2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit a5ef50141c24c3f658595865d69cbeb132a492ab
Merge: a8dfcb3 927000f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 19 05:33:42 2013 -0800

    Merge pull request #516 from SRombauts/master

    Corrected some more linking errors in MSVC build

commit 927000fe2ff7182f55ebd400b959ef3d62d8aa17
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Tue Feb 19 14:18:50 2013 +0100

    Fixed 7 MSVC2008 Compiler Warning (level 3) C4800: 'const int' : forcing value to bool 'true' or 'false' (performance warning)

    - added explicit test "(xxx != 0)" to get a "bool" value out of the "int" expression
    - see the MSDN recommandation http://msdn.microsoft.com/en-us/library/b6801kcy(v=vs.90).aspx

 src/ctx.cpp         |    2 +-
 src/options.cpp     |    4 ++--
 src/router.cpp      |    4 ++--
 src/socket_base.cpp |    2 +-
 src/xpub.cpp        |    2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit 42be4d13a7f96089e97d58a9d35ea38baa850fac
Author: SÃ©bastien Rombauts <sebastien.rombauts@gmail.com>
Date:   Tue Feb 19 13:46:52 2013 +0100

    Corrected more linking error in MSVC build

    - raw_encoder.cpp and raw_decoder.cpp in missing in MSVC project

 builds/msvc/libzmq/libzmq.vcproj |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit a8dfcb3c7de53b8b2ec7a5495532e83dd44ee16d
Merge: 08be168 e628421
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Feb 18 12:19:11 2013 -0800

    Merge pull request #515 from hintjens/master

    Updated NEWS for 3.2.2 stable

commit e628421ed5a7f2a9e2bc92ecfa513d24d8e45cb1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 18 21:14:14 2013 +0100

    Updated NEWS for 3.2.2 stable

 NEWS |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 08be168dd0011ab259f8f34b0817027bb1ac645c
Merge: 7094a70 8c71ac4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 15 08:44:30 2013 -0800

    Merge pull request #514 from pijyoi/fixcs

    release critical section on failure to create signaler fdpair

commit 8c71ac47e83dc4ae116ab4abb5e4a76e8249d888
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Fri Feb 15 10:45:43 2013 +0800

    release critical section on failure to create signaler fdpair

 src/signaler.cpp |   48 +++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 37 insertions(+), 11 deletions(-)

commit 7094a706123a73c95492dd3a5f4ebc2566eb44f2
Merge: 9a6b875 51cfcb1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Feb 10 01:23:13 2013 -0800

    Merge pull request #513 from hintjens/master

    Fixed test_connect_resolve

commit 51cfcb117a488d8411b34dff483312c4e0fa405b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Feb 10 08:39:27 2013 +0100

    Some DNSs will resolve ANY domain name so I made more reliable errors.

 tests/test_connect_resolve.cpp |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 9a6b875f2181ef46baf65d3baf33135bb67f2864
Merge: 6b2304a 1a13554
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Feb 7 04:23:56 2013 -0800

    Merge pull request #512 from montoyaedu/master

    broken tests compilation. Makefile.am

commit 1a13554fe0fc94bd1fc5619e270c3abc50cd5b63
Author: montoyaedu <montoya.edu@gmail.com>
Date:   Thu Feb 7 12:27:33 2013 +0100

    solved broken tests compilation

 tests/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b2304ad9749819a7325feae12aa141a5cd1e443
Merge: f27eb67 ec04ccb
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 5 15:13:12 2013 -0800

    Merge pull request #511 from mjasperse/patch-2

    Corrected linking error in MSVC build

commit ec04ccba79d70abfe7355e6584f5ff79a94793a7
Author: mjasperse <m.jasperse@gmail.com>
Date:   Wed Feb 6 10:09:07 2013 +1100

    Corrected linking error in MSVC build

    MSVC build fails with linking errors for unresolved symbolsÂ SetSecurityDescriptorDacl andÂ InitializeSecurityDescriptor in signaler.obj
    Adding the relevant link library (Advapi32.lib) toÂ VCLinkerTool fixes this (tested MSVC2010 on XP and Win7)

 builds/msvc/libzmq/libzmq.vcproj |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f27eb67e1abb0484c41050e454404cce30647b63
Merge: a3ae0d4 2c1a3c5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 1 00:54:36 2013 -0800

    Merge pull request #510 from miniway/master

    LIBZMQ-497 there could be unsent bytes in encoder

commit 2c1a3c55f73a504b82c32b75790c59426cde76e9
Author: Min(Dongmin Yu) <miniway@gmail.com>
Date:   Fri Feb 1 17:32:28 2013 +0900

    LIBZMQ-497 there could be unsent bytes in encoder

    When we send a large message, the message can be splitted into two chunks.
    One is in the encoder buffer and the other is the zero-copy pointer.
    The session could get the term before the last chunk is sent.

 src/encoder.hpp       |    5 +++++
 src/i_encoder.hpp     |    1 +
 src/stream_engine.cpp |   12 ++++++++++++
 src/stream_engine.hpp |    1 +
 4 files changed, 19 insertions(+)

commit a3ae0d4c16c892a4e6c96d626a7c8b7068450336
Merge: b60689e 8ab3c4a
Author: Chuck Remes <git@chuckremes.com>
Date:   Thu Jan 31 13:40:02 2013 -0800

    Merge pull request #509 from hintjens/master

    Added IPv6 option to context

commit 8ab3c4a1bfbde44f45bd97eb40cbd27236239d10
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 31 21:52:30 2013 +0100

    Fixed issue #500

 .gitignore                 |    3 +++
 doc/zmq_ctx_get.txt        |    6 ++++-
 doc/zmq_ctx_set.txt        |   11 +++++++++
 src/ctx.cpp                |   20 ++++++++++++----
 src/ctx.hpp                |    3 +++
 src/options.hpp            |    1 -
 src/socket_base.cpp        |    1 +
 tests/Makefile.am          |    6 ++---
 tests/test_ctx_options.cpp |   56 ++++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 97 insertions(+), 10 deletions(-)

commit b60689e59df90068396c52acbccf9986b6a55514
Merge: 049931f 309740e
Author: Chuck Remes <git@chuckremes.com>
Date:   Thu Jan 31 11:54:42 2013 -0800

    Merge pull request #508 from hintjens/master

    IPv6 related changes and cleanups to test cases

commit 309740e1972565fdcbfe886439977a4603a7d10e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 31 20:47:45 2013 +0100

    Fixed issue #499

 doc/zmq_getsockopt.txt |   21 ++++++++++---
 doc/zmq_setsockopt.txt |   24 +++++++++++----
 src/options.cpp        |   29 +++++++++---------
 src/options.hpp        |    6 ++--
 src/socket_base.cpp    |    2 +-
 src/tcp_address.cpp    |   77 +++++++++++++++++++++---------------------------
 src/tcp_address.hpp    |   15 ++++------
 src/tcp_listener.cpp   |    7 +++--
 8 files changed, 98 insertions(+), 83 deletions(-)

commit 963c6a8e2f15e077c40c461ede7b5cf777a30dd4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 31 19:46:22 2013 +0100

    Lots of cleanups to self-tests
    * Removed or truncated sleeps so the tests run faster
    * Removed dependencies on zmq_utils
    * Rewrote a few tests that were confusing
    * Minor code cleanups

 tests/test_connect_delay.cpp     |  195 +++++++++++++++++---------------------
 tests/test_connect_resolve.cpp   |    2 -
 tests/test_disconnect_inproc.cpp |   23 ++---
 tests/test_hwm.cpp               |    7 +-
 tests/test_invalid_rep.cpp       |    2 -
 tests/test_monitor.cpp           |  152 ++++++++++++++---------------
 tests/test_msg_flags.cpp         |   12 +--
 tests/test_pair_inproc.cpp       |    2 -
 tests/test_pair_ipc.cpp          |    2 -
 tests/test_pair_tcp.cpp          |    2 -
 tests/test_raw_sock.cpp          |    8 +-
 tests/test_reqrep_device.cpp     |   10 +-
 tests/test_reqrep_inproc.cpp     |    2 -
 tests/test_reqrep_ipc.cpp        |    2 -
 tests/test_reqrep_tcp.cpp        |    2 -
 tests/test_router_mandatory.cpp  |    1 -
 tests/test_shutdown_stress.cpp   |    2 -
 tests/test_sub_forward.cpp       |   24 +++--
 tests/test_term_endpoint.cpp     |   28 +++---
 tests/test_timeo.cpp             |  107 ++++++++-------------
 tests/testutil.hpp               |    4 +-
 21 files changed, 248 insertions(+), 341 deletions(-)

commit c39cb0bde14c53009f745ce0e5669156cc76a8a7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 31 16:26:28 2013 +0100

    Rewrote completely, was bogusly testing EAGAIN

 tests/test_router_mandatory.cpp |   89 +++++++++++++++------------------------
 1 file changed, 35 insertions(+), 54 deletions(-)

commit 3a558fcc4b8bfa72c649834b76d2fc7e9c93c74e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 31 15:00:17 2013 +0100

    Rewrote raw test completely

 tests/test_raw_sock.cpp |  286 +++++++++++++++--------------------------------
 1 file changed, 88 insertions(+), 198 deletions(-)

commit 8c9289342a1702d557b412487342e2f9a8bbf265
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 31 09:10:49 2013 +0100

    Fixed use of deprecated zmq_init/term

 tests/test_connect_resolve.cpp  |    4 ++--
 tests/test_hwm.cpp              |    4 ++--
 tests/test_invalid_rep.cpp      |    7 +++++--
 tests/test_last_endpoint.cpp    |   11 ++++++++++-
 tests/test_monitor.cpp          |    4 ++--
 tests/test_msg_flags.cpp        |   10 ++++++++--
 tests/test_pair_inproc.cpp      |    4 ++--
 tests/test_pair_ipc.cpp         |    4 ++--
 tests/test_pair_tcp.cpp         |    4 ++--
 tests/test_raw_sock.cpp         |    1 -
 tests/test_reqrep_device.cpp    |    4 ++--
 tests/test_reqrep_inproc.cpp    |    4 ++--
 tests/test_reqrep_ipc.cpp       |    4 ++--
 tests/test_reqrep_tcp.cpp       |    4 ++--
 tests/test_router_mandatory.cpp |    4 ++--
 tests/test_shutdown_stress.cpp  |    6 +++---
 tests/test_sub_forward.cpp      |    4 ++--
 tests/test_term_endpoint.cpp    |   10 ++++------
 tests/test_timeo.cpp            |    4 ++--
 19 files changed, 56 insertions(+), 41 deletions(-)

commit 5f009e5234fc7a4e79f5add942098abd71a58ee2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 30 23:53:23 2013 +0100

    Various cleanups to test programs

 tests/test_connect_delay.cpp     |    6 ++----
 tests/test_disconnect_inproc.cpp |   11 ++---------
 tests/test_last_endpoint.cpp     |    9 ++++-----
 tests/test_raw_sock.cpp          |   36 +++++++++++++++++-------------------
 4 files changed, 25 insertions(+), 37 deletions(-)

commit 18a14aedead54354aac1a886a0e65c0fcd7afead
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 30 23:53:09 2013 +0100

    Added ZMQ_IPV6 option, cleaned up setsockopt code, it was nasty

 include/zmq.h   |    3 +-
 src/options.cpp |  427 +++++++++++++++++++++++--------------------------------
 2 files changed, 181 insertions(+), 249 deletions(-)

commit aa21e090e19496bedc2b87bae1cb8f6bc4356885
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 18 11:38:49 2013 +0100

    Updated .gitignore

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 049931fc1eeb3e680c6b251a33ed983f8f6585cb
Merge: 470d06b f1e77f2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 30 08:04:31 2013 -0800

    Merge pull request #507 from bjoto/master

     LIBZMQ-498 - Remove heap allocations in zmq_poll for small poll item sets

commit f1e77f2246726e5e0303eef79f15cd44c4c4a383
Author: Bjorn Topel <bjorn.topel@gmail.com>
Date:   Wed Jan 30 16:46:45 2013 +0100

    Removed heap allocation for in zmq_poll for small item sets

    Until now, zmq_poll always allocates the poll items on the heap.
    Now, small item sets, up to ZMQ_POLLITEMS_DFLT, are stack allocated
    and only larger sets are allocated on the heap.

 include/zmq.h |    2 ++
 src/zmq.cpp   |   20 ++++++++++++++------
 2 files changed, 16 insertions(+), 6 deletions(-)

commit 470d06bb9ef3bb33920a9f6240340ec668e6fb1a
Merge: e8cbfac e464a91
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 27 15:18:11 2013 -0800

    Merge pull request #506 from arsenm/master

    Fix using wrong name for windows.h check with cmake

commit e464a91086386de9bd65e0d9c3c55a38dff056a6
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Sun Jan 27 18:09:32 2013 -0500

    Fix using wrong name for windows.h check in cmake

 CMakeLists.txt               |    2 +-
 builds/cmake/platform.hpp.in |    5 +----
 2 files changed, 2 insertions(+), 5 deletions(-)

commit e8cbfac9663169ffe1ab0deb47db2a8796a78172
Merge: abc8907 ba3e18f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 23 11:55:48 2013 -0800

    Merge pull request #503 from chazmcgarvey/define-dummy-eproto

    define a dummy EPROTO for platforms that don't use it

commit abc8907e440f0ccb4f1a8758892bf79d93a9847f
Merge: 93618e7 f01bab6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 23 11:55:17 2013 -0800

    Merge pull request #505 from arsenm/master

    Fix perf-tools build on Linux with cmake

commit 93618e7d02b83171c5db7672dfa795978194dd1e
Merge: 7bc3e53 0a1bd45
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 23 11:55:02 2013 -0800

    Merge pull request #504 from o172/master

    Adds tests/test_disconnect_inproc to .gitignore

commit f01bab6633c170315f2a7d1aee71a46e122a4b0b
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Wed Jan 23 14:31:02 2013 -0500

    Fix cmake not linking librt to perf-tools

 CMakeLists.txt |    6 ++++++
 1 file changed, 6 insertions(+)

commit 0a1bd457210da2cff41ad36aefdedee2f6ed0757
Author: o172(xenovo) <git@o172.net>
Date:   Wed Jan 23 19:20:52 2013 +0000

    Added tests/test_disconnect_inproc to .gitignore

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 7bc3e53b53fa43da46ff9f56113793abc7ad592e
Merge: eeaa2c8 d850272
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 21 21:18:08 2013 -0800

    Merge pull request #502 from ianbarber/master

    Add bounds check on upstream XSUB messages

commit ba3e18f700659202247e38a7f48ea16d32bd8e79
Author: Charles McGarvey <chazmcgarvey@brokenzipper.com>
Date:   Mon Jan 21 17:14:26 2013 -0700

    define a dummy EPROTO for platforms that don't use it

    This accomplishes the same thing as 2e2ef7fd in a potentially cleaner way.

 src/err.hpp          |    5 +++++
 src/ipc_listener.cpp |    7 +------
 src/tcp_listener.cpp |    7 +------
 3 files changed, 7 insertions(+), 12 deletions(-)

commit d850272417dd7a3be4c5e0f429118f0005a0285b
Author: Ian Barber <ianbarber@google.com>
Date:   Mon Jan 21 16:11:27 2013 -0800

    Add size check on XSUB message sends

    Ensures 0 length messages aren't being checked for subscribtion status on whatever data happens to be following the data pointer.

 src/xsub.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit eeaa2c8e426b797be412f09c1a4071db1f6b2d01
Merge: 3a63218 2e2ef7f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 21 14:47:35 2013 -0800

    Merge pull request #501 from chazmcgarvey/conditional-eproto

    do not use EPROTO on platforms that do not have it

commit 2e2ef7fd330cd009c20b349a85d54e220d714f48
Author: Charles McGarvey <chazmcgarvey@brokenzipper.com>
Date:   Mon Jan 21 15:00:55 2013 -0700

    do not use EPROTO on platforms that do not have it

 src/ipc_listener.cpp |    7 ++++++-
 src/tcp_listener.cpp |    7 ++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 3a632185a625c9025393a624559624d2de078f60
Merge: 29a1d8e 7918175
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jan 20 03:43:49 2013 -0800

    Merge pull request #500 from haf/fixes/asciidoc-title

    Shortening the =-chars to make asciidoc work

commit 791817571702f8d84379184bcbbe7b81b0c613dd
Author: Henrik <henrik@haf.se>
Date:   Sat Jan 19 18:02:24 2013 +0100

    Shortening the =-chars to make asciidoc work

 doc/zmq_ctx_term.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29a1d8ec6032e2ca9636ca112ed4ec033058772d
Merge: f467011 21c97f0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 17 23:49:52 2013 -0800

    Merge pull request #499 from minrk/ac_header

    Minor autoconf tweaks

commit f467011dbc718b251890a22cb6439cfc8b3d4424
Merge: 21fc2a9 edd43e1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jan 17 23:49:32 2013 -0800

    Merge pull request #498 from minrk/zmq_ctx_term

    deprecate zmq_ctx_destroy in favor of zmq_ctx_term

commit 21c97f0cc27ae8de2887fe0bad22e3fef60a3e26
Author: MinRK <benjaminrk@gmail.com>
Date:   Thu Jan 17 16:00:38 2013 -0800

    AM_CONFIG_HEADER -> AC_CONFIG_HEADERS

    AM_CONFIG_HEADER raises an 'obsolete error' with automake 1.13.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64c019e24d14bdefd91faaa345174bc36c4e738e
Author: MinRK <benjaminrk@gmail.com>
Date:   Thu Jan 17 15:59:11 2013 -0800

    move configure.in -> configure.ac

    autotools warns that configure.in
    should actually be named configure.ac

 configure.ac |  428 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.in |  428 ----------------------------------------------------------
 2 files changed, 428 insertions(+), 428 deletions(-)

commit edd43e1ca45b86b649cbcbdada801b04d2895001
Author: MinRK <benjaminrk@gmail.com>
Date:   Thu Jan 17 14:36:38 2013 -0800

    deprecate zmq_ctx_destroy in favor of zmq_ctx_term

    in order to avoid logical collisions with pre-existing notions of context destruction in bindings (czmq, pyzmq).

 builds/redhat/zeromq.spec.in     |    1 +
 doc/Makefile.am                  |    2 +-
 doc/zmq.txt                      |    2 +-
 doc/zmq_ctx_destroy.txt          |    4 +--
 doc/zmq_ctx_new.txt              |    2 +-
 doc/zmq_ctx_term.txt             |   66 ++++++++++++++++++++++++++++++++++++++
 doc/zmq_term.txt                 |    2 +-
 include/zmq.h                    |    3 +-
 src/zmq.cpp                      |    9 ++++--
 tests/test_connect_delay.cpp     |   10 +++---
 tests/test_disconnect_inproc.cpp |    2 +-
 11 files changed, 88 insertions(+), 15 deletions(-)

commit 21fc2a9946f65df7e03e852760b02833dd655018
Merge: c2fbb72 bbc5bef
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jan 14 19:54:38 2013 -0800

    Merge pull request #497 from hintjens/master

    Clarified how icp:// works with zmq_bind

commit bbc5befc66f187a769982b57b64712dbcc317250
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 14 17:49:19 2013 +0100

    Clarified zmq_bind on icp://

 doc/zmq_ipc.txt |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit c2fbb722a4de76dd894702da893517d6c5f5ab98
Merge: 7d475ad 35f18ae
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jan 12 08:33:33 2013 -0800

    Merge pull request #496 from amuraru/master

    Fixed el5/el6 deps in RPM spec file / newline fix

commit 35f18aef74bf016e00ba60b84af267054a38968f
Author: Adrian Muraru <amuraru@adobe.com>
Date:   Fri Jan 11 22:51:08 2013 +0200

    Fixed newline in test_disconnect_inproc

 tests/test_disconnect_inproc.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fb0beb6f2942cfadb2a22fde97b809f26103741d
Author: Adrian Muraru <amuraru@adobe.com>
Date:   Fri Jan 11 22:50:31 2013 +0200

    Fixed el5/el6 deps in RPM spec file

 builds/redhat/zeromq.spec.in |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 7d475add7e798dca20f445453de43b88ef3eb0ac
Merge: c1f76e4 d997d88
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jan 8 06:22:27 2013 -0800

    Merge pull request #495 from hintjens/master

    Whitespace and comment cleanups

commit d997d88096f8588c0d80712a7fd2c212d36241d6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 8 09:18:38 2013 +0100

    Revert "Old change to move ports off 5555 (was conflicting with other stuff)"

    This reverts commit da0efaa81771aba497a961d70f2166f500a52afd.

 tests/test_connect_delay.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aff14067135f66aa9ce7816e08bac3a9b661b3e2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 8 09:18:23 2013 +0100

    Revert "Test cases were failing on bind"

    This reverts commit 8ba097f3da8d1a752755a52b1d3ec967c23f0643.

 tests/test_raw_sock.cpp |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a4bedc52552b6e4f8a903c3781b7e9897b310741
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 8 09:16:50 2013 +0100

    Whitespace and comment fixes

 src/xpub.cpp |   17 ++++++++---------
 src/xsub.cpp |   20 +++++++++++---------
 2 files changed, 19 insertions(+), 18 deletions(-)

commit da0efaa81771aba497a961d70f2166f500a52afd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 8 09:09:27 2013 +0100

    Old change to move ports off 5555 (was conflicting with other stuff)

 tests/test_connect_delay.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b0f0d3fcb49de6f1ebb9227ae664b9f426ece290
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 23 17:59:34 2012 +0100

    Clarification on zmq_msg_more

 doc/zmq_msg_more.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 12a648db0773960e8b374a3b0ed57de36c62174a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 23 17:57:35 2012 +0100

    Specified that it's safe to call zmq_msg_more after zmq_msg_close

 doc/zmq_msg_more.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ef186fe15bfc7344fca015bc212eb2e98d8d3ed7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 23 17:47:44 2012 +0100

    Spelling fixes

 src/stream_engine.cpp |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit af934f85caf5ec1e56514270c81ec57a92e106d9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 23 17:47:32 2012 +0100

    Removed use of deprecated API methods

 doc/zmq_msg_get.txt        |    2 +-
 doc/zmq_msg_more.txt       |    2 +-
 doc/zmq_recv.txt           |    2 --
 doc/zmq_recvmsg.txt        |    1 -
 doc/zmq_send.txt           |    2 --
 doc/zmq_sendmsg.txt        |    2 --
 doc/zmq_socket_monitor.txt |    6 +++---
 7 files changed, 5 insertions(+), 12 deletions(-)

commit 8ba097f3da8d1a752755a52b1d3ec967c23f0643
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 23 17:25:46 2012 +0900

    Test cases were failing on bind

 tests/test_connect_delay.cpp |    2 +-
 tests/test_raw_sock.cpp      |    8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit c1f76e433f2180544e834587ae884adc60f02d97
Merge: 98a91e8 d32e392
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 8 00:05:07 2013 -0800

    Merge pull request #494 from jgm-radez/master

    allow XSUB/XPUB to send/recv messages unrelated to sub/unsub

commit d32e3922785f170ce24159ab5e4b44badc473ec1
Author: John Muehlhausen <jgm@jgm.org>
Date:   Mon Jan 7 22:24:24 2013 -0600

    allow XSUB/XPUB to send/recv messages unrelated to sub/unsub (LIBZMQ-490)

    zmq::xpub_t::xread_activated() â€“ change to process messages without 0
    or 1 prefix, but without affecting subscriptions

    zmq::xsub_t::xsend() â€“ change to send rather than discard messages
    without 0 or 1 prefix, but without affecting subscriptions

    Update documentation

 doc/zmq_socket.txt |    6 ++++--
 src/xpub.cpp       |    3 +++
 src/xsub.cpp       |   11 ++++-------
 3 files changed, 11 insertions(+), 9 deletions(-)

commit 98a91e852e87ae70dd320bd73d217c42c7eb950a
Merge: 949d157 45f504d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jan 2 12:51:43 2013 -0800

    Merge pull request #493 from arsenm/master

    Fix minor problem with cmake bulid

commit 45f504d3e24930eea540c4a0a76a64094c56fbda
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Wed Jan 2 15:50:04 2013 -0500

    Fix looking for rc sources in toplevel binary directory

 CMakeLists.txt |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 949d1578977ef11a46dfa1a991a2cc2affc0d9cc
Merge: c7009d2 6ce4644
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jan 2 00:32:15 2013 -0800

    Merge pull request #492 from arsenm/master

    Make CMake build usable for other systems

commit 6ce464414bb453a40abadaa9d79389e5e3282fda
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 04:26:04 2013 -0500

    Fix typos

 src/socket_base.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f770954d309c0778f1fe65a38b8e54c1063c8474
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Tue Jan 1 05:42:46 2013 -0500

    Fix a couple more warnings

 src/object.cpp   |    1 +
 src/options.cpp  |    7 +++++--
 src/signaler.cpp |    4 ++--
 3 files changed, 8 insertions(+), 4 deletions(-)

commit 6ecb796e77dd5d48b65d7e78c40be6ee95696f96
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 17:16:50 2013 -0500

    Fix warnings with MinGW

 src/ip.cpp       |    3 +++
 src/signaler.cpp |    6 ++++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 1ffc5d11dce5bbea970b9d9354e70d4e40346d38
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 04:24:51 2013 -0500

    Fix some of the -Wshadows

 src/options.cpp     |    6 +++---
 src/socket_base.cpp |   26 +++++++++++++-------------
 2 files changed, 16 insertions(+), 16 deletions(-)

commit 14d3245e02f27857a80dba6ad6b7babed564a3d9
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 04:01:24 2013 -0500

    Fix -Wmismatched-tags

 src/i_decoder.hpp    |    3 ++-
 src/i_msg_sink.hpp   |    3 ++-
 src/i_msg_source.hpp |    3 ++-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit edb5a05add41de964170a1b72ae8038d30a00e17
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 03:56:34 2013 -0500

    Fix -Wmissing-field-initializers

 src/tcp_listener.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3ebab09ce4da3cd7e40355e5bd91a5e5a66d826b
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 03:26:31 2013 -0500

    Fix unused argument warnings

 CMakeLists.txt  |   12 +++++++++---
 src/decoder.hpp |    2 +-
 src/zmq.cpp     |    4 ++--
 3 files changed, 12 insertions(+), 6 deletions(-)

commit e88dc494007e43a548c22e23b952e56832e60906
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 06:53:56 2013 -0500

    Fix random 3 space tabs

 CMakeLists.txt |  116 +++++++++++++++++++++++++++-----------------------------
 1 file changed, 55 insertions(+), 61 deletions(-)

commit 59cafecd9696817e0faa2ba00404aef75b3c1187
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 21:04:19 2013 -0500

    Fix MinGW32 build

    Fix link errors when using -m32 with MinGW

 CMakeLists.txt               |   93 +++++++++++++++++++++++++-----------------
 builds/cmake/platform.hpp.in |    4 ++
 2 files changed, 59 insertions(+), 38 deletions(-)

commit 3c7d4840a1ff54b4a0de8be08481dbdf9b3c257a
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Tue Jan 1 02:25:15 2013 -0500

    Fix NSIS installer errors, MinGW build.

    The CPack NSIS installer was in a state where it would always give a
    useless error. I think it was using stuff intended for running cpack
    separately from cmake.

 CMakeLists.txt                   |   89 ++++++++++++++++----------------------
 cmake/Modules/FindAsciiDoc.cmake |    7 ++-
 2 files changed, 44 insertions(+), 52 deletions(-)

commit a1d6a222ede4faec7cb27c5f0b67c1f7a0321e5d
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Mon Dec 31 18:23:25 2012 -0500

    Generated header is not in ../src/

 perf/inproc_lat.cpp |    2 +-
 perf/inproc_thr.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4704159f7317b73dc779819f132516f8d273f0db
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Tue Jan 1 05:22:05 2013 -0500

    Fix cmake build with sun studio

 CMakeLists.txt |    4 ++++
 1 file changed, 4 insertions(+)

commit 74763e2c8ee5eccf2bea0ca64e7f784be4307404
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Tue Jan 1 05:34:44 2013 -0500

    Don't use the toplevel cmake paths so the build works as a subproject

 CMakeLists.txt                     |  101 ++++++++++++++++++++++++------------
 cmake/Modules/TestZMQVersion.cmake |   47 ++++++-----------
 2 files changed, 82 insertions(+), 66 deletions(-)

commit f3901b35d46c91ebd6a8f8b7b2110c15b54b90da
Author: Matt Arsenault <arsenm2@rpi.edu>
Date:   Tue Jan 1 05:06:09 2013 -0500

    Comments about ICC build failure with 12.x were crazy

    Fix warnings with ICC.

 CMakeLists.txt                     |    9 --
 builds/cmake/platform.hpp.in       |    3 -
 cmake/Modules/AutoconfHelper.cmake |  298 ------------------------------------
 src/stream_engine.hpp              |    2 +-
 4 files changed, 1 insertion(+), 311 deletions(-)

commit 0362c310a58f3304653592bf8c38f0d068e51c16
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Mon Dec 31 17:52:32 2012 -0500

    First pass at getting cmake build to work with non-Windows systems.

    Make doc building option dependent on asciidoc being installed
    Fix MSVC build requiring cygwin.
    Don't use try_run to get the version

 CMakeLists.txt                         |  939 +++++++++++++++++++++-----------
 builds/cmake/platform.hpp.in           |   90 +++
 cmake/Modules/AutoconfHelper.cmake     |  298 ++++++++++
 cmake/Modules/FindAsciiDoc.cmake       |   19 +
 cmake/Modules/TestZMQVersion.cmake     |    2 +-
 cmake/Modules/ZMQSourceRunChecks.cmake |  129 +++++
 cmake/Modules/zmq_version.cpp          |   31 --
 src/libzmq.pc.cmake.in                 |   10 +
 8 files changed, 1164 insertions(+), 354 deletions(-)

commit 73c370dd1772e09be476ec8dcbe097fb5de939e9
Author: Matt Arsenault <whatmannerofburgeristhis@gmail.com>
Date:   Sun Dec 30 17:58:27 2012 -0500

    Fix inconsistently using #if or #ifdef instead of #if defined

 src/ip.cpp  |    4 ++--
 src/zmq.cpp |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c7009d274ecfe49eee8ae064a9d148dda98c3196
Merge: 1eee9ce 151a806
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jan 1 08:32:12 2013 -0800

    Merge pull request #491 from pijyoi/issue84

    fix for LIBZMQ-84: Address already in use (signaler.cpp)

commit 1eee9ce035585096e9ce33fc1a149b6cf147d5b5
Merge: 8dda553 322808b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Dec 29 02:26:06 2012 -0800

    Merge pull request #490 from pijyoi/master

    eliminate dead code moved into zmq_utils.cpp

commit 151a80619bf3f9c4696788f79cd2c934ed26246d
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sat Dec 29 18:05:15 2012 +0800

    set SO_LINGER on first signaler socket to close in order to avoid
    TIME_WAIT state.

 src/signaler.cpp |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 322808be9c9077bcd0acc921df6ceacc57a3c029
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Sat Dec 29 13:21:50 2012 +0800

    eliminate code moved into zmq_utils.cpp

 src/zmq.cpp |   29 -----------------------------
 1 file changed, 29 deletions(-)

commit 8dda553ac4cad4504e7f9007dc0e8e471aec89a1
Merge: ce24557 942c654
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Dec 27 05:46:20 2012 -0800

    Merge pull request #489 from pijyoi/master

    win32: fix Event handle leak

commit 942c654d1cb556a91b4cca00bd4f0e50d5010a04
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Thu Dec 27 21:31:12 2012 +0800

    win32: close zmq-signaler-port-sync event object to avoid handle leak

 src/signaler.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit ce24557b11cc26b10cb217f1c7556101f64b7095
Merge: 4febe88 2e9d4d4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Dec 11 22:34:52 2012 -0800

    Merge pull request #488 from steve-o/openpgm-next

    Pull upstream OpenPGM 5.2.122 for multi-platform minor fixes.

commit 2e9d4d413206f5ae307e5017c3744d267254feef
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Dec 11 21:41:10 2012 -0500

    Pull upstream OpenPGM 5.2.122 for multi-platform minor fixes.

 CMakeLists.txt                             |    5 +++--
 configure.in                               |    2 +-
 foreign/openpgm/libpgm-5.1.118~dfsg.tar.gz |  Bin 1046589 -> 0 bytes
 foreign/openpgm/libpgm-5.2.122~dfsg.tar.gz |  Bin 0 -> 951536 bytes
 4 files changed, 4 insertions(+), 3 deletions(-)

commit 4febe88b2be300f8712a2e9ec57c351ccc39a102
Merge: 2a7b219 a0cecc7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Dec 11 08:09:08 2012 -0800

    Merge pull request #487 from miniway/master

    returns -1 with EAGAIN when mandatory is set and pipe is full

commit a0cecc718d3d95279dcc7b0d9b6c1d09fb4cfd97
Author: Min(Dongmin Yu) <miniway@gmail.com>
Date:   Tue Dec 11 19:41:36 2012 +0900

    returns -1 with EAGAIN when mandatory is set and pipe is full

 src/router.cpp                  |   12 ++++++------
 tests/test_router_mandatory.cpp |    9 ++++-----
 2 files changed, 10 insertions(+), 11 deletions(-)

commit 2a7b219f073d3bccb062379d3fc4ef933c8bab56
Merge: 8da6b7a 394d755
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Dec 9 01:25:51 2012 -0800

    Merge pull request #486 from miniway/master

    return EHOSTUNREACH at full only when mandatory is set

commit 394d755cf303ad6c263e877ebcda97108ad8666e
Author: Min(Dongmin Yu) <miniway@gmail.com>
Date:   Sun Dec 9 16:52:45 2012 +0900

    return EHOSTUNREACH at full only when mandatory is set

 src/router.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8da6b7a6fdb176aa184584001325920a04674be7
Merge: 95d36f4 9382941
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Dec 7 23:19:20 2012 -0800

    Merge pull request #485 from miniway/master

    returns EHOSTUNREACH when a peer is full if ZMQ_ROUTER_MANDATORY is set

commit 9382941adc664f98535fd962d1262ff50fce3b71
Author: Min(Dongmin Yu) <miniway@gmail.com>
Date:   Sat Dec 8 10:20:42 2012 +0900

    returns EHOSTUNREACH when a peer is full if ZMQ_ROUTER_MANDATORY is set

 src/router.cpp                  |    9 ++++++--
 tests/test_router_mandatory.cpp |   46 ++++++++++++++++++++++++++++++++++++++-
 2 files changed, 52 insertions(+), 3 deletions(-)

commit 95d36f42eea67b1752e819c9c49b19c74d6b938e
Merge: ebd1bf9 6706efb
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Dec 7 01:54:56 2012 -0800

    Merge pull request #484 from pijyoi/master

    fix wrong boolean operator in router_raw test code

commit 6706efba2857b5b352a19a7f5ac575d7e3369ed7
Author: KIU Shueng Chuan <nixchuan@gmail.com>
Date:   Fri Dec 7 17:45:05 2012 +0800

    fix wrong boolean operator

 tests/test_raw_sock.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ebd1bf9bcf41fb812e452101b97eef55503b2b67
Merge: b2f6741 21345ff
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Dec 4 14:05:48 2012 -0800

    Merge pull request #482 from sradomski/master

    Close pipes for inproc sockets on zmq_disconnect

commit 21345ffa5076aa587611e7099678f9cacdc9f160
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Tue Dec 4 17:40:43 2012 +0100

    Break early when pipe to be removed was found

 src/socket_base.cpp |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit f9770e93efb75827410b13a20b83bcf08b13819d
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Tue Dec 4 17:31:46 2012 +0100

    Fixed iterator when erasing from inprocs multimap

 src/socket_base.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 624dd1e5b5258d581149c173f3e95aff1e03a73f
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Tue Dec 4 17:10:32 2012 +0100

    Removal of terminated pipes from inproc and ignoring peer ends

 src/socket_base.cpp |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 66c22456b97e1278ec0b24dcd1ff66e619d8fca2
Author: Stefan Radomski <radomski@tk.informatik.tu-darmstadt.de>
Date:   Tue Dec 4 15:14:21 2012 +0100

    Close pipes for inproc sockets on zmq_disconnect

    - fixes LIBZMQ-476 and LIBZMQ-475

 AUTHORS                          |    1 +
 doc/zmq_disconnect.txt           |    2 +
 src/socket_base.cpp              |   33 ++++++++++-
 src/socket_base.hpp              |    4 ++
 tests/Makefile.am                |    5 +-
 tests/test_disconnect_inproc.cpp |  119 ++++++++++++++++++++++++++++++++++++++
 6 files changed, 162 insertions(+), 2 deletions(-)

commit b2f6741bcb73892fca4f7d374f18aecbf89435cb
Merge: 013a99d 75161b5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Dec 1 00:53:02 2012 -0800

    Merge pull request #481 from ianbarber/master

    Simplify test_connect_delay

commit 75161b5c62f5f37e00573b3894cf8dc2b960e654
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Nov 30 23:07:12 2012 +0000

    Serialise test_connect_delay

    Simplify the test connect delay test script, removing the threads and
    moving to a serialised version. AFAICS this should provide the same
    test, but without the race conditions that happened with the previous
    test.

 tests/test_connect_delay.cpp |  215 +++++++++++++++++++++---------------------
 1 file changed, 106 insertions(+), 109 deletions(-)

commit 013a99daabeb6e31234341da8130a9ce7f7fb882
Merge: a4a7316 3fc8c70
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 30 13:41:54 2012 -0800

    Merge pull request #480 from vperron/master

    Tiny fix

commit 3fc8c7073d68235f0f6506d3c705778b40b86d15
Author: Victor Perron <victor@iso3103.net>
Date:   Fri Nov 30 22:16:20 2012 +0100

    Same fix, in-line style

 src/decoder.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33f42efb48af75194a31c5be8cd01868a12062f8
Author: Victor Perron <victor@iso3103.net>
Date:   Fri Nov 30 21:39:22 2012 +0100

    Change NULL to 0 to keep compatibility with some cross-compiling GCC
    versions

 src/decoder.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a4a731652a2e7db91a8fa692c073da8c1dce0834
Merge: cae5d3b 1d11f19
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 26 08:23:43 2012 -0800

    Merge pull request #479 from ianbarber/master

    Update RPM spec file

commit 1d11f196b1c556516177fa645c351bfadfa8a31c
Author: Ian Barber <ianbarber@google.com>
Date:   Mon Nov 26 16:12:25 2012 +0000

    Update SPEC file

    Update the RPM spec file with Justin Cook's changes to fix the build for 3.2.2. (https://zeromq.jira.com/browse/LIBZMQ-473)

 builds/redhat/zeromq.spec.in |   28 +++++++++++++++++++---------
 1 file changed, 19 insertions(+), 9 deletions(-)

commit cae5d3b817fc6bbfc67b41e89585989900d6bbd3
Merge: d1cbf96 359a505
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 22 01:16:55 2012 -0800

    Merge pull request #478 from methodmissing/event-messages-3.2

    Event message memory corruption fixes

commit d1cbf96cdee1677ebee6a1384dbdff4ef0f23a37
Merge: a28322c e6da46f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Nov 22 00:03:02 2012 -0800

    Merge pull request #477 from hintjens/master

    Added autogen.sh hint to INSTALL

commit e6da46ff8c8243419a16069bca364eb0adbbfca0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 22 12:09:02 2012 +0900

    Added autogen.sh hint

 INSTALL |    7 +++++++
 1 file changed, 7 insertions(+)

commit 359a50594930b3522d354d790fdbca73a92ef52b
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Thu Nov 22 00:12:17 2012 +0000

    Prefer malloc to new for event address allocation as per Martin's recommendation

 src/socket_base.cpp |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit a28322cd0cf7a62e4f41d70fa3896a438c23db9d
Merge: 8db8c45 a8721c3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 21 14:15:59 2012 -0800

    Merge pull request #476 from hurtonm/master

    Check decoder's state function for NULL before calling it

commit a8721c3c04f41f0b90a4b1ebaf4bcd767c45a6ab
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Nov 21 22:50:55 2012 +0100

    Check decoder's state function for NULL before calling it

    Fixes bug reported by Peter Friend
    (http://lists.zeromq.org/pipermail/zeromq-dev/2012-November/019425.html)

 src/decoder.hpp |    4 ++++
 1 file changed, 4 insertions(+)

commit b1f4850153dbddb66c8e32fe3ce70361e954a38a
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Wed Nov 21 18:27:53 2012 +0000

    Let socket event messages initialize with zmq_msg_init_data and let the framework handle cleanup

 src/socket_base.cpp |    6 ++++--
 src/socket_base.hpp |    5 +++++
 src/zmq.cpp         |   41 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 50 insertions(+), 2 deletions(-)

commit f78ca629b5b923c4a0485238d16e78c9eb131618
Merge: 6d245eb 8db8c45
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Wed Nov 21 18:04:05 2012 +0000

    Merge branch 'master' of github.com:zeromq/libzmq

commit 8db8c45b185557a2e8abd7818ba8d0c260725d7d
Merge: 7e6c304 be4cc2f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 20 13:27:43 2012 -0800

    Merge pull request #475 from ianbarber/master

    Add ZMTP link to zmq_tcp doc.

commit be4cc2f80aaeb202f7fc63ff0e729b428fbcdcd0
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Nov 20 19:10:47 2012 +0000

    Update zmq_tcp to include a reference to RFC

    Include a note with a link to ZMQ RFC 15 for the ZMTP protocol
    description.

 doc/zmq_tcp.txt |    2 ++
 1 file changed, 2 insertions(+)

commit 7e6c304a9871891f96a7d3c9254c863ad98a4e17
Merge: 1a18c7b 1489857
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Nov 19 02:40:36 2012 -0800

    Merge pull request #474 from hintjens/master

    Fixed doc for SNDHWM

commit 14898579734ffe14d37a9b5ea74c880582eddabf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 19 16:32:58 2012 +0900

    Fixed ZMQ_SNDHWM description

 doc/zmq_setsockopt.txt |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 7533ebb33d1cc6f23061e0228bf7eb22713aaa17
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Nov 19 10:20:56 2012 +0900

    Clarified that SNDHWM is per part, not message

 doc/zmq_setsockopt.txt |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 6d245eb6bc614c050d7650c564fd1a986475cc67
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Sat Nov 17 11:29:47 2012 +0000

    Copy monitor specific event endpoints to event messages as the engine etc. can be released at anytime

 src/ipc_connecter.cpp |    8 +++----
 src/ipc_listener.cpp  |   10 ++++----
 src/socket_base.cpp   |   61 +++++++++++++++++++++++++++++++------------------
 src/socket_base.hpp   |   27 ++++++++++++----------
 src/stream_engine.cpp |    2 +-
 src/tcp_connecter.cpp |    8 +++----
 src/tcp_listener.cpp  |    8 +++----
 7 files changed, 72 insertions(+), 52 deletions(-)

commit ce4d32168440d5767805b7ee7cbfaac2f4c3f272
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Sat Nov 17 10:06:09 2012 +0000

    Revert "Merge pull request #473 from methodmissing/fix-engine-endpoint"

    This reverts commit 1a18c7b0a816e10f8a8a770b2141d47f661f0302, reversing
    changes made to bef9a41bdb991b867981317e0e20ee174ecd6fea.

 src/stream_engine.cpp |    6 ++----
 src/stream_engine.hpp |    2 +-
 2 files changed, 3 insertions(+), 5 deletions(-)

commit 1a18c7b0a816e10f8a8a770b2141d47f661f0302
Merge: bef9a41 fdf162a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Nov 16 13:06:24 2012 -0800

    Merge pull request #473 from methodmissing/fix-engine-endpoint

    [LIBZMQ-450] Copy the stream engine endpoint - string reference caused memory corruption

commit fdf162a117782720ed8b7a1cbb71194f0c5136a9
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Fri Nov 16 17:21:07 2012 +0000

    [LIBZMQ-450] Copy the stream engine endpoint - string reference caused memory corruption

 src/stream_engine.cpp |    6 ++++--
 src/stream_engine.hpp |    2 +-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit bef9a41bdb991b867981317e0e20ee174ecd6fea
Merge: 01b9bc3 b8d5d3f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 15 17:58:44 2012 -0800

    Merge pull request #472 from jgm-radez/master

    Issue 468

commit b8d5d3fa695c5026c2af36daa8e357978ab135ac
Author: John Muehlhausen <jgm@jgm.org>
Date:   Thu Nov 15 15:30:30 2012 -0600

    Issue 468

    XPUB "verbose" mode excludes unsubscriptions

 src/xpub.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 01b9bc36631f168ec2096e88a4d280cc45912557
Merge: 37f8ce6 5205415
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 14 02:12:29 2012 -0800

    Merge pull request #471 from methodmissing/fix-disconnect-event-addr

    Fix addresses on triggered events

commit 5205415beb7631200a0dc150d1e6acf8089b65ff
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Wed Nov 14 09:51:24 2012 +0000

    Fix addresses on triggered events

 src/socket_base.cpp |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 37f8ce69c17c7200605d3c3e688bf1a9e191e121
Merge: 30eaadd 6559da3
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Nov 13 12:13:58 2012 -0800

    Merge pull request #470 from cdolan/master

    Fixed test compilation issue by using memset/memmove rather than bzero/bcopy

commit 6559da3033f20bd978a9647d21343f5978b311ec
Author: Christopher Dolan <chris@codingstream.org>
Date:   Tue Nov 13 19:33:18 2012 +0000

    Use memset/memmove rather than bzero/bcopy

 tests/test_raw_sock.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 30eaadddc3d95e194966e96e8b4a011ee7e5638b
Merge: c179ad1 9013ee0
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Nov 13 04:29:44 2012 -0800

    Merge pull request #469 from hurtonm/code_cleanup

    Minor code cleanup

commit 9013ee0d52bb88a5ea08b78c1d31ea5b1b0cd95d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Nov 13 13:06:29 2012 +0100

    Minor code cleanup

 src/epoll.cpp  |    5 +++--
 src/kqueue.cpp |    5 +++--
 src/poll.cpp   |    6 +++---
 src/select.cpp |    5 +++--
 4 files changed, 12 insertions(+), 9 deletions(-)

commit c179ad11730cfe742ccd74577372aef43fed2fa1
Merge: 99f7144 c543b2c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 13 03:56:01 2012 -0800

    Merge pull request #468 from hurtonm/issue_465

    Resolve LIBZMQ-465

commit c543b2ce8cb0dd8790e7bdc89b08ef49812616d4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Nov 10 23:05:10 2012 +0100

    Resolve LIBZMQ-465

 src/decoder.cpp       |    5 -----
 src/decoder.hpp       |   24 ++++++++++++++++++------
 src/i_decoder.hpp     |    2 +-
 src/raw_decoder.cpp   |    2 +-
 src/raw_decoder.hpp   |    2 +-
 src/stream_engine.cpp |   17 +++++++++++------
 src/stream_engine.hpp |    4 +++-
 src/v1_decoder.cpp    |    5 -----
 src/v1_decoder.hpp    |    2 --
 9 files changed, 35 insertions(+), 28 deletions(-)

commit 99f714445f67d552eb2add6ed5f818d546dce901
Merge: 793895c 66dc4d8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 9 08:45:22 2012 -0800

    Merge pull request #467 from hurtonm/code_cleanup

    Code cleanup

commit 66dc4d8b542ca8571b66cc7fcf97daa87734e36f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 9 17:17:43 2012 +0100

    Don't pass flags to xrecv method

 src/dealer.cpp      |    5 +----
 src/dealer.hpp      |    2 +-
 src/pair.cpp        |    5 +----
 src/pair.hpp        |    2 +-
 src/pub.cpp         |    2 +-
 src/pub.hpp         |    2 +-
 src/pull.cpp        |    5 +----
 src/pull.hpp        |    2 +-
 src/rep.cpp         |    6 +++---
 src/rep.hpp         |    2 +-
 src/req.cpp         |    8 ++++----
 src/req.hpp         |    2 +-
 src/router.cpp      |    5 +----
 src/router.hpp      |    2 +-
 src/socket_base.cpp |    8 ++++----
 src/socket_base.hpp |    2 +-
 src/xpub.cpp        |    5 +----
 src/xpub.hpp        |    2 +-
 src/xsub.cpp        |    5 +----
 src/xsub.hpp        |    2 +-
 20 files changed, 28 insertions(+), 46 deletions(-)

commit 7865f96e97e6e225d19e9f75317196e62f378cd9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 9 17:08:03 2012 +0100

    Don't pass flags to xsend method

 src/dealer.cpp      |    4 ++--
 src/dealer.hpp      |    2 +-
 src/dist.cpp        |   13 +++++--------
 src/dist.hpp        |    6 +++---
 src/lb.cpp          |    5 +----
 src/lb.hpp          |    2 +-
 src/pair.cpp        |    4 ++--
 src/pair.hpp        |    2 +-
 src/push.cpp        |    4 ++--
 src/push.hpp        |    2 +-
 src/rep.cpp         |    6 +++---
 src/rep.hpp         |    2 +-
 src/req.cpp         |    6 +++---
 src/req.hpp         |    2 +-
 src/router.cpp      |    5 +----
 src/router.hpp      |    2 +-
 src/socket_base.cpp |    6 +++---
 src/socket_base.hpp |    2 +-
 src/sub.cpp         |    4 ++--
 src/sub.hpp         |    2 +-
 src/xpub.cpp        |    4 ++--
 src/xpub.hpp        |    2 +-
 src/xsub.cpp        |    6 +++---
 src/xsub.hpp        |    2 +-
 24 files changed, 43 insertions(+), 52 deletions(-)

commit 793895c477cab1da4edd1565d9f70bc8f7d485a8
Merge: d1e0889 b78800e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 9 06:51:04 2012 -0800

    Merge pull request #466 from hurtonm/code_cleanup

    Simplify implementation of DEALER socket

commit b78800e467cb56820f07484e25e2360254ce8c5b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 9 15:45:25 2012 +0100

    Simplify implementation of DEALER socket

 src/dealer.cpp |   26 ++------------------------
 src/dealer.hpp |    6 ------
 2 files changed, 2 insertions(+), 30 deletions(-)

commit d1e0889ab02b093233bb4fae26723c9b8daecb3b
Merge: 3eaf4a9 6290054
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 9 06:19:23 2012 -0800

    Merge pull request #463 from hintjens/master

    Addded ROUTER-ROUTER (back) as valid combination

commit 3eaf4a967c6e9ea2dee9ec5f7bbb6753f4c17900
Merge: de33978 19a8ea4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 9 06:13:18 2012 -0800

    Merge pull request #465 from steve-o/cmake-minor

    Cmake minor version labeling and sync with 3.x

commit 19a8ea4584f63d9fbdb695347f1d9b359f70698f
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Fri Nov 9 08:54:14 2012 -0500

    Update source list with raw codec.

 CMakeLists.txt |    2 ++
 1 file changed, 2 insertions(+)

commit 3ba401d7da3b01f97fd8a0409aace71d7f81a6a3
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Fri Nov 9 08:48:59 2012 -0500

    Bring along CMake patchset from zeromq3-x for adding minor version to Windows labeling.

 CMakeLists.txt           |   96 +++++++++++++++++++++++++++++-----------------
 cmake/NSIS.template64.in |   20 +++++-----
 2 files changed, 70 insertions(+), 46 deletions(-)

commit de339785f261ad85146dfdf23d6b6c89ea3011fa
Merge: ec08241 ea19b7b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 9 05:19:05 2012 -0800

    Merge pull request #464 from hurtonm/code_cleanup

    Code cleanup

commit ea19b7b65801669308b776c644acb056fa29a4e9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 9 14:12:11 2012 +0100

    Small cleanups

 src/options.cpp      |    2 +-
 src/req.cpp          |    1 -
 src/session_base.cpp |    2 --
 src/socket_base.cpp  |   14 +++++---------
 4 files changed, 6 insertions(+), 13 deletions(-)

commit 925a53066344f24279763205d01dde4dfcf3ff7c
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 9 14:02:19 2012 +0100

    Use const_cast operator to remove const modifier

 src/socket_base.cpp |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 82999f2d203295265f323ec44799296012959db4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 9 13:49:27 2012 +0100

    Don't forward identities to DEALER sockets

 src/dealer.cpp |   12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

commit 6290054f00596a1b4b29b3a2e2c2d7c1a00549e3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Nov 9 21:10:34 2012 +0900

    Added ROUTER-ROUTER as legal combination

 doc/zmq_socket.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ec0824142ec6bc4932919b53f5d511b6f983693e
Merge: 4e028ec c1e960b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 8 17:02:50 2012 -0800

    Merge pull request #462 from hurtonm/raw_fixes

    Fix raw mode on reconnect

commit c1e960b31d0a2ffdcb3016e7301b9da5ca612493
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Nov 8 18:17:11 2012 +0100

    Never exchange identities for sockets in raw mode

    Zeromq shall never send/receive socket identifiers for sockets in raw
    mode. The existing implementation breaks this requirement after
    reconnection.

 src/session_base.cpp |   15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit aec47b364225c347a7edca778185f407308c2e83
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Nov 8 14:31:26 2012 +0100

    Extend ZMQ_ROUTER_RAW test

    Add test when the zeromq socket connects to a TCP socket.
    The test now fails due to bug in the zeromq library.

 tests/test_raw_sock.cpp |  103 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 103 insertions(+)

commit 872ef76f3c45bcd1cc30eb45b8eb3545b70808f1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Nov 7 17:23:37 2012 +0100

    Added DEALER-DEALER as legal combination

 doc/zmq_socket.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4e028ecb30a9fcd8d8c26c9e92de8077c306ef93
Merge: 5da9712 e51a1f0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 6 21:20:54 2012 -0800

    Merge pull request #461 from hurtonm/code_cleanup

    session_base: code cleanup

commit e51a1f04c9812bd77c4d0062d53f6874ec5efa62
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Nov 6 23:47:43 2012 +0100

    session_base: code cleanup

    - add unlikely hints
    - drop unnecessary assertion
    - style fixes

    There is no need to require the 'more' flag in the provided message
    structure be 0 when pulling message from the session.

 src/session_base.cpp |   30 +++++++++++++-----------------
 1 file changed, 13 insertions(+), 17 deletions(-)

commit 5da971275dcccb7d41dadf2b8e030983d57c18aa
Merge: 80aef8d 777c38a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Nov 6 07:05:52 2012 -0800

    Merge pull request #460 from hintjens/master

    Renamed ZMQ_ROUTER_RAW_SOCK to ZMQ_ROUTER_RAW

commit 777c38ae32a5d1799b3275d38ff8d587c885dd55
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 6 13:18:58 2012 +0100

    Renamed raw option to ZMQ_ROUTER_RAW

 doc/zmq_setsockopt.txt  |   17 +++++++++++++++++
 include/zmq.h           |    2 +-
 src/router.cpp          |    4 ++--
 tests/test_raw_sock.cpp |    2 +-
 4 files changed, 21 insertions(+), 4 deletions(-)

commit 80aef8dfda2bea1efcf20da983ca45cdd287385f
Merge: 1348924 41dc2e6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Nov 6 00:47:59 2012 -0800

    Merge pull request #459 from hurtonm/issue_459

    Resolve LIBZMQ-459

commit 41dc2e60493ff1f10a8d2c4c8ae41f55ee4c327e
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Nov 2 11:11:14 2012 +0100

    Resolve LIBZMQ-459

    Ref: https://zeromq.jira.com/browse/LIBZMQ-459

 src/stream_engine.cpp |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 13489242513a6b1b67c23a5baa39ed9ab4ca7cea
Merge: 2deb2e0 f67a199
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Nov 5 09:41:56 2012 -0800

    Merge pull request #458 from vortechs2000/remove_cpp_comments_from_zmq_h

    Older versions of C compilers don't like C++ comments

commit f67a19933202c01a1ead80aa2943356c8e7915bf
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Mon Nov 5 11:27:13 2012 -0600

    Older versions of C compilers don't like C++ comments

    There's no need to exclude older compilers by putting C++ style
    comments in the C API header.

 include/zmq.h |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2deb2e095eead548f52e837d679e17a9d96574d2
Merge: cdd7cd1 1e60d17
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Nov 1 21:47:23 2012 -0700

    Merge pull request #457 from mjasperse/patch-1

    Update builds/msvc/libzmq/libzmq.vcproj

commit 1e60d17a23ce943ac7575185acfe5049e70c7e2a
Author: mjasperse <m.jasperse@gmail.com>
Date:   Fri Nov 2 11:29:46 2012 +1100

    Update builds/msvc/libzmq/libzmq.vcproj

    Without the LinkDLL statement, command-line compile using vcbuild attempts to compile EXE and complains about entrypoint
    The LinkDLL statement forces the linker to produce desired output

 builds/msvc/libzmq/libzmq.vcproj |    3 +++
 1 file changed, 3 insertions(+)

commit cdd7cd10c95897c299febb1a6856ca9cdc5579f2
Merge: 04e716a 7c66e8f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Nov 1 07:04:17 2012 -0700

    Merge pull request #456 from hurtonm/issue_464

    Resolve LIBZMQ-464

commit 7c66e8f807881e0e98d6b8b5f28908777375b4c5
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Nov 1 14:37:42 2012 +0100

    Resolve LIBZMQ-464

 src/msg.cpp |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 04e716ac9967c6d3318c2db3bdb9d83f54a1db60
Merge: 0404b3b 79da450
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Oct 31 01:16:05 2012 -0700

    Merge pull request #455 from hintjens/master

    zmq_getsockopt man page was malformatted

commit 79da450b8b3e4d100b3fa2eaca467850f481adb4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 31 04:28:53 2012 +0100

    Fixed formatting in man page

 .gitignore             |    1 +
 doc/zmq_getsockopt.txt |   16 ++++++++--------
 2 files changed, 9 insertions(+), 8 deletions(-)

commit 0404b3b60a8e1b95c928f26c304b1ee7ff7ffa7c
Merge: abbe34c 9d8eb1f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 30 04:24:21 2012 -0700

    Merge pull request #454 from hurtonm/code_cleanup

    Style fixes

commit 9d8eb1f9b94da7330b7c7ef2735c6a329a640a71
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Oct 30 12:18:13 2012 +0100

    Style fixes

 src/decoder.hpp         |    5 +-
 src/i_decoder.hpp       |    2 +-
 src/options.hpp         |    2 +-
 src/raw_decoder.cpp     |    2 +-
 src/raw_decoder.hpp     |    2 +-
 src/raw_encoder.cpp     |    1 -
 src/raw_encoder.hpp     |    1 -
 src/router.cpp          |   36 ++++++-------
 src/session_base.cpp    |   14 ++---
 src/stream_engine.cpp   |   17 ++++---
 tests/test_raw_sock.cpp |  129 +++++++++++++++++++++--------------------------
 11 files changed, 99 insertions(+), 112 deletions(-)

commit abbe34cdc2c5889e3de021bdc237a297ffa654a6
Merge: 4bc405a d16e0a5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 30 03:12:46 2012 -0700

    Merge pull request #453 from hurtonm/issue_458

    Resolve LIBZMQ-458

commit d16e0a534263eb80331b4b79c583b16e726a58dd
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Oct 30 11:03:41 2012 +0100

    Resolve LIBZMQ-458

    Ref: https://zeromq.jira.com/browse/LIBZMQ-458

 tests/test_router_mandatory.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4bc405a366db75567dbc3175b8bb3578cce7685b
Merge: 7523b9e 83387b4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 29 21:00:15 2012 -0700

    Merge pull request #452 from hshardeesi/master

    New socket option (ZMQ_ROUTER_RAW_SOCK) for ZMQ_ROUTER sockets

commit 7523b9ed29869b7bbe8d5b9c567675f756b565ff
Merge: dcf0693 3aa3032
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 29 03:21:33 2012 -0700

    Merge pull request #451 from hurtonm/use_correct_types_in_stream_engine

    Use correct types when returning value in read/write methods

commit dcf0693d6eb20e143d38a58fb389c2d9068a4080
Merge: 19f77a1 03deb2c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 29 03:21:09 2012 -0700

    Merge pull request #450 from hurtonm/issue_447

    Resolve LIBZMQ-447

commit 3aa30329d18109cfdfefbacfb53cbc927ce7a964
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Sep 29 13:28:25 2012 +0200

    Use correct types when returning value in read/write methods

 src/stream_engine.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 03deb2c97aa6447005d49128f24e253a941b98d7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Oct 29 10:09:00 2012 +0100

    Resolve LIBZMQ-447

 src/socket_base.cpp |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 83387b4073233955c5033d377e6d21e74fafc793
Author: Hardeep <hshardeesi@gmail.com>
Date:   Mon Oct 29 00:03:36 2012 -0700

        Added support for non-zmq tcp client connections to router socket.
        - Created a new option ZMQ_ROUTER_RAW_SOCK
        - Added new raw_encoder and raw_decoder to receive and send messages in raw form to remote client
        - Added test case file tests/test_raw_sock.cpp

        o To create a raw router sock set the ZMQ_ROUTER_RAW_SOCK option
        o ZMQ_MSGMORE flag is ignored for non-id messages
        o To terminate a remote connection send id message followed by zero length data message

 AUTHORS                 |    1 +
 include/zmq.h           |    1 +
 src/Makefile.am         |    6 +-
 src/decoder.hpp         |    5 ++
 src/i_decoder.hpp       |    3 +-
 src/options.cpp         |    1 +
 src/options.hpp         |    3 +
 src/raw_decoder.cpp     |   99 ++++++++++++++++++++++++++++
 src/raw_decoder.hpp     |   69 ++++++++++++++++++++
 src/raw_encoder.cpp     |   87 ++++++++++++++++++++++++
 src/raw_encoder.hpp     |   69 ++++++++++++++++++++
 src/router.cpp          |   74 +++++++++++++++------
 src/router.hpp          |    1 +
 src/session_base.cpp    |   14 ++++
 src/stream_engine.cpp   |   42 +++++++++---
 tests/Makefile.am       |    4 +-
 tests/test_raw_sock.cpp |  167 +++++++++++++++++++++++++++++++++++++++++++++++
 17 files changed, 615 insertions(+), 31 deletions(-)

commit 19f77a1ccfaf431afec221c5a66888541a48152f
Merge: 6b45262 0bf8a4d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Oct 27 18:25:42 2012 -0700

    Merge pull request #449 from hintjens/master

    Fixed code formatting

commit 0bf8a4d2d2474a738f883db718a4d65beb7138e9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Oct 28 07:36:18 2012 +0900

    Code formatting

 src/xsub.cpp |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 6b45262086133cc9f9e130de0c656543d063078a
Merge: bb59dc1 500f6cf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Oct 27 14:01:48 2012 -0700

    Merge pull request #448 from jgm-radez/master

    resolve issue 456

commit 500f6cffe36504a70980a1ac4904fe4e9c3b727c
Author: John Muehlhausen <jgm@jgm.org>
Date:   Sat Oct 27 15:51:03 2012 -0500

    patch for issue 456

    Do not filter out duplicate subscriptions on the XSUB side of
    XSUB/XPUB, so that ZMQ_XPUB_VERBOSE doesn't get blocked by forwarding
    devices (as long as the devices all use ZMQ_XPUB_VERBOSE)

 src/xsub.cpp |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit bb59dc1b2a426a4f9be9a84ace774e8372dbc43a
Merge: 0b13872 171897f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Oct 26 19:50:32 2012 -0700

    Merge pull request #447 from hintjens/master

    Cleanups to man pages

commit 171897f4e8550e9f339e5e3607335c5e8d6b9d1f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Oct 27 09:43:19 2012 +0900

    Cleanups to man pages

 doc/zmq_bind.txt    |   49 +++++++++++++----------
 doc/zmq_connect.txt |   57 +++++++++++++-------------
 doc/zmq_inproc.txt  |   28 ++++++-------
 doc/zmq_ipc.txt     |   39 ++++++++++--------
 doc/zmq_pgm.txt     |   32 +++++++--------
 doc/zmq_socket.txt  |   52 ++++++++++++------------
 doc/zmq_tcp.txt     |  111 ++++++++++++---------------------------------------
 7 files changed, 158 insertions(+), 210 deletions(-)

commit 0b13872ff4483c72e586abbd93e500f35d0f7440
Merge: 01be614 ef79492
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 25 02:21:31 2012 -0700

    Merge pull request #446 from hurtonm/issue_452

    Resolve LIBZMQ-452

commit 01be614593e4cc44403c6274cd9e307b0ba3ce49
Merge: d2ee38a 4824237
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 25 02:15:46 2012 -0700

    Merge pull request #445 from hurtonm/issue_417

    Resolve LIBZMQ-417

commit ef794925b437c643a3a0d5681eb22e008975ebe2
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Oct 24 23:46:58 2012 +0200

    Resolve LIBZMQ-452

    Ref: https://zeromq.jira.com/browse/LIBZMQ-452

 tests/test_connect_delay.cpp |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 4824237761c79a8e21b350fd32b1ef177996e331
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Oct 24 22:05:45 2012 +0200

    Resolve LIBZMQ-417

    Ref: https://zeromq.jira.com/browse/LIBZMQ-417

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d2ee38acfe732ac1216699da51609fdb4d24fc97
Merge: 2675a9d 422c418
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 24 06:50:02 2012 -0700

    Merge pull request #444 from vortechs2000/fix_aix

    Fix Build Regression #449: Move socket_base.hpp and err.hpp after poll.h include

commit 422c418a15b69001f679e6b51f1cfffbd2ded625
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Tue Oct 23 16:18:36 2012 -0500

    Move socket_base.hpp and err.hpp after poll.h include

    These two headers also include zmq.h somewhere in their dependency
    chain, so must be included after poll.h is included for builds to work
    on AIX.

 src/proxy.cpp |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 2675a9d31b9fb74c671c25ba7769831c11a2fa70
Merge: 7abb6cc 4ba34c9
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Oct 23 18:02:48 2012 -0700

    Merge pull request #443 from hintjens/master

    Fixed whitespace and style

commit 4ba34c9d70986f17429a06c0171005ad05b66ef3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Oct 24 09:18:52 2012 +0900

    Whitespace and style fixes

 src/address.cpp       |   12 +--
 src/ipc_connecter.cpp |    3 +-
 src/mtrie.cpp         |   23 +++--
 src/pgm_sender.cpp    |   14 +--
 src/pgm_socket.cpp    |    9 +-
 src/pipe.cpp          |   41 +++++----
 src/poller_base.cpp   |    3 +-
 src/router.cpp        |    3 +-
 src/session_base.cpp  |    3 +-
 src/signaler.cpp      |    3 +-
 src/socket_base.cpp   |  148 ++++++++++++++++--------------
 src/sub.cpp           |    3 +-
 src/tcp_connecter.cpp |    3 +-
 src/trie.cpp          |  239 +++++++++++++++++++++++++------------------------
 src/zmq.cpp           |   22 ++---
 15 files changed, 282 insertions(+), 247 deletions(-)

commit 7abb6ccb6aa1d95d6e47d079d792fbd5faef5e29
Merge: 7f63fc6 0666063
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Oct 19 15:05:23 2012 -0700

    Merge pull request #442 from hintjens/master

    Fixed build regression #449

commit 066606322c131f73f5fa9a6e673fd0df6771e540
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 19 16:23:21 2012 +0900

    Added unbind/disconnect man pages, notes to deprecated methods

 doc/Makefile.am     |   17 ++++++++++-------
 doc/zmq_recvmsg.txt |    2 ++
 doc/zmq_sendmsg.txt |    1 +
 3 files changed, 13 insertions(+), 7 deletions(-)

commit ee21fac8b8a276b084547ac5dc8e0df4b13ae88b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 19 15:16:36 2012 +0900

    Added ZMQ_FAIL_UNROUTABLE alias back as deprecated

 include/zmq.h |    1 +
 1 file changed, 1 insertion(+)

commit a3889d00c346bccb47b67ebf4bf3839b00b0821f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 19 15:09:52 2012 +0900

    Fixed issue #451

 doc/zmq_setsockopt.txt |    7 ++-----
 src/router.cpp         |    2 +-
 2 files changed, 3 insertions(+), 6 deletions(-)

commit 45c063725bbf577b7f577f7f3b4a01077bacc15a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 18 11:32:13 2012 +0900

    Fixed issue #449

 src/proxy.cpp |   28 +++++++++++++++++++++++++++-
 1 file changed, 27 insertions(+), 1 deletion(-)

commit 7f63fc6579dc335553d4e8f8ece9d7a30909e67c
Merge: 9bab346 9681157
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Oct 17 19:21:26 2012 -0700

    Merge pull request #441 from hintjens/master

    Fixed build regression

commit 96811575c303e92d4926d841240192aaf6f2e41c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Oct 18 11:04:51 2012 +0900

    Fixed issue #448

 src/socket_base.cpp |    3 ++-
 src/socket_base.hpp |    1 +
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 9bab3466904884f41be56cb5474859be16a0dad3
Merge: 6e676af 3a43bd7
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Oct 15 23:32:16 2012 -0700

    Merge pull request #440 from hintjens/master

    Packages did not build - fixed

commit 3a43bd735426543334902dbd0569a45dbb493e50
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Oct 16 10:01:26 2012 +0900

    Several include files were missing

 src/Makefile.am |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 6e676af45edfb0c17607625531befed0098b850f
Merge: cdcaca2 351eff5
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Oct 15 04:33:24 2012 -0700

    Merge pull request #439 from hintjens/master

    Updated master version to 3.2.2

commit 351eff5448eba050dc7c9d53d07b2b057399ab7d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 15 13:23:00 2012 +0900

    Bumped version to 3.3.0

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8e7892b72fc4dfcf8fdb462d1f21afa55153656a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 15 13:06:19 2012 +0900

    Upated version for next release

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a7b2e9d017ae8aa020a88cc91d1d5345eb12e82b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 15 12:52:54 2012 +0900

    Upated NEWS for 3.2.1

 NEWS |   39 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit cdcaca2dc4db0ac4ef1b2ff427e43ceb4740e72c
Merge: 73537e6 c62fb89
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Oct 12 19:58:55 2012 -0700

    Merge pull request #438 from steve-o/master

    Duplicate CMake patch set from zeromq3-x

commit c62fb89ed8be640ad61ea4ed18303cc7c1629daa
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Fri Oct 12 22:48:02 2012 -0400

    Update to libzmq source set.

 CMakeLists.txt |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 7a1a5f9f7f3d0e3e382b7105ba7f35dd1e6b4475
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 19:20:37 2012 +0000

    Update AsciiDoc version details with CMake detected ZeroMQ version.

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ddb9fc7ea3dc8fb5ee77f1c2e683e7e7e6e94b4
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 18:18:04 2012 +0000

    Enable parallel make and LTO by default.

 CMakeLists.txt |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit dfe7d15a889a097aa653913ca538b9b6023db2f0
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 17:32:42 2012 +0000

    MSVC11 not getting defined in CMake 2.8.9, punt to version string.

 cmake/Modules/TestZMQVersion.cmake |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ebe4eab477acba7b65b1465f38e9d8fd4646b602
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 16:49:15 2012 +0000

    Detect compiler version to tag libraries.

 CMakeLists.txt                     |   10 +++++-----
 cmake/Modules/TestZMQVersion.cmake |   10 +++++++++-
 2 files changed, 14 insertions(+), 6 deletions(-)

commit 046c8ec7ebc4dc3bebc50880d8a29967b81dc6cb
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 16:37:43 2012 +0000

    Add metadata to CMake options; mark executables advanced to hide from default view; fix WoW64 redirections.

 CMakeLists.txt           |   18 +++++++++---------
 cmake/NSIS.template64.in |   12 ++++++++++--
 2 files changed, 19 insertions(+), 11 deletions(-)

commit 56bb3df1f6d1d44b1516cfe9884a41d929a1f1fb
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 15:36:34 2012 +0000

    Detect ZeroMQ version at build time; hide NSIS dependencies in new cmake folder.

 CMakeLists.txt                     |    9 +-
 NSIS.template32.in                 |  952 ------------------------------------
 NSIS.template64.in                 |  952 ------------------------------------
 cmake/Modules/TestZMQVersion.cmake |   27 +
 cmake/Modules/zmq_version.cpp      |   31 ++
 cmake/NSIS.template32.in           |  952 ++++++++++++++++++++++++++++++++++++
 cmake/NSIS.template64.in           |  952 ++++++++++++++++++++++++++++++++++++
 7 files changed, 1965 insertions(+), 1910 deletions(-)

commit b42e45adb85e6f4dc148f187875ccb8aa63c2574
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 15:13:45 2012 +0000

    Make OpenPGM a CMake option, default disabled.

 CMakeLists.txt |   47 +++++++++++++++++++++++++----------------------
 1 file changed, 25 insertions(+), 22 deletions(-)

commit c53cf0d2392c8e957008c0c405bff053002f663e
Author: Steve-o <fnjordy@gmail.com>
Date:   Fri Oct 12 15:05:18 2012 +0000

    Minor refactor of CMake build script.

 CMakeLists.txt |   28 ++++++++++++++++++++++------
 1 file changed, 22 insertions(+), 6 deletions(-)

commit 000d1a5fba4d51aacedb4710367c1c75bc71f788
Author: John Murphy <murphybytes@gmail.com>
Date:   Thu Oct 11 20:28:02 2012 -0500

    Update CMakeLists.txt

    Removed check for COPYING.txt

 CMakeLists.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58f7c2179f2db84a87b734d6262ed3bbae342346
Author: John Murphy <muprhybytes@gmail.com>
Date:   Thu Oct 11 19:31:30 2012 +0900

    added artificacts for windows and openpgm build

 CMakeLists.txt     |  339 +++++++++++++++++++
 NSIS.template32.in |  952 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 NSIS.template64.in |  952 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 2243 insertions(+)

commit 73537e67e39f39b0fe10e02490c0bfb1ff99ce3d
Merge: 1ef63bc 93a7a37
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Oct 11 13:39:04 2012 -0700

    Merge pull request #437 from rohanbedarkar/master

    Explicit comments

commit 93a7a378933deb9d0a260750e41017c1545c6864
Author: Rohan <rbe@ws5-34-chi.rtsgroup.net>
Date:   Thu Oct 11 09:32:54 2012 -0500

    fixed trailing whitespace

 src/pgm_socket.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a438e63498e0a357da8e20a2d68f90938d58ac11
Author: Rohan <rbe@ws5-34-chi.rtsgroup.net>
Date:   Wed Oct 10 16:22:52 2012 -0500

    explicit comments on multicast loopback

 src/pgm_socket.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 11c22912d71528958c1111b29d0a9116535409e3
Author: rohanbedarkar <rohanb@cs.uchicago.edu>
Date:   Wed Oct 10 10:03:48 2012 -0500

    commented out TOS related opt for PGM

 src/pgm_socket.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1ef63bc2adc3d50c2e5e5fb7b5c9f9c50cb469f8
Merge: db690e3 983ee76
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Oct 9 02:19:41 2012 -0700

    Merge pull request #436 from hintjens/master

    Renamed ZMQ_ROUTER_BEHAVIOR to ZMQ_ROUTER_MANDATORY

commit 983ee761b1cdc8f70fc682d4169568fe6f228fa2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 8 16:36:35 2012 +0900

    Renamed ZMQ_ROUTER_BEHAVIOR to ZMQ_ROUTER_MANDATORY for clarity

 .gitignore                      |    2 +-
 doc/zmq_setsockopt.txt          |   33 ++++++++++-----------
 include/zmq.h                   |    5 +++-
 src/router.cpp                  |   10 ++++---
 src/router.hpp                  |    2 +-
 tests/Makefile.am               |    4 +--
 tests/test_router_behavior.cpp  |   62 ---------------------------------------
 tests/test_router_mandatory.cpp |   62 +++++++++++++++++++++++++++++++++++++++
 8 files changed, 92 insertions(+), 88 deletions(-)

commit db690e3d99d25731f72ee130fe60b7050176b45d
Merge: e41e071 f87bf38
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Oct 7 12:48:18 2012 -0700

    Merge pull request #435 from hintjens/master

    Added ZMQ_XPUB_VERBOSE option

commit f87bf38293a4259ab0d9ad58506981736eb96ae4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Oct 8 00:57:43 2012 +0900

    Fixed issue #443

 doc/zmq_setsockopt.txt |   14 ++++++++++++++
 include/zmq.h          |    1 +
 src/xpub.cpp           |   18 +++++++++++++++++-
 src/xpub.hpp           |    5 +++++
 4 files changed, 37 insertions(+), 1 deletion(-)

commit e41e071b052bf7c6cfad8870ed7bbc1c2c5300da
Merge: 2440863 ce53fe0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Oct 6 04:26:20 2012 -0700

    Merge pull request #434 from vaughan0/master

    Small documentation error I noticed

commit ce53fe033776dc1d4326af58d0d4fbc107469129
Author: Vaughan Newton <newton.vaughan0@gmail.com>
Date:   Sat Oct 6 13:15:17 2012 +0200

    Minor documentation fix: zmq_msg_recv instead of zmq_msg_send

 doc/zmq_msg_recv.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d6e0ae24f32707810162edbde42dbc77d1720da8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Sep 8 15:57:48 2012 +0900

    Prepared for release 3.2.1

 NEWS          |   98 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h |    4 +--
 2 files changed, 100 insertions(+), 2 deletions(-)

commit 2440863292c7af3e6d5621a00aa320e157eaa505
Merge: 81482ec b84d011
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Sep 30 12:21:15 2012 -0700

    Merge pull request #433 from michelp/reject-no-fds-avail

    Ported from libxs revision 123c0f5387ecef287dd11f4dc790fb76ee1c0f67

commit b84d0119b5c12d37c6fd64d11042c3e44df25f54
Author: Michel Pelletier <pelletier.michel@gmail.com>
Date:   Sun Sep 30 11:52:43 2012 -0700

    Ported from libxs revision 123c0f5387ecef287dd11f4dc790fb76ee1c0f67

        Handle insufficient resources on accept() decently

        If accept() call fails due to insuffient OS resources
        the new connection is rejected.

 src/ipc_listener.cpp |    4 +++-
 src/tcp_listener.cpp |    9 +++++++--
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 81482ec84a812f996e95572f70c50be205b92df3
Merge: 343ec62 82d7238
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Sep 29 03:28:18 2012 -0700

    Merge pull request #432 from hurtonm/master

    Make socket IO more robust

commit 82d7238f08413f2070a17624c9033f3a9a4ae0ab
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Sep 29 11:14:44 2012 +0200

    Make socket IO more robust

    See also https://zeromq.jira.com/browse/LIBZMQ-433

 src/stream_engine.cpp |   26 +++++++++++++++++++-------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit 343ec62282e614cbc01aefb374bd3c0f15a6473a
Merge: 5b83fe7 725f141
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Sep 26 23:29:18 2012 -0700

    Merge pull request #431 from ipechorin/master

    Forward-port fix for LIBZMQ-211

commit 5b83fe778c95426b8951ae829f9af0db4c5391a1
Merge: a49e392 9b58372
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Sep 26 12:27:43 2012 -0700

    Merge pull request #430 from ipechorin/master

    Update MSVC2008 project after recent changes; fix compilation errors

commit 725f141fd7e8c74f0c664c6d4a18ff6df77771bc
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 26 16:49:38 2012 +0400

    Fix LIBZMQ-211: REP socket asserting when getting malformed request

    REP socket demands at least an empty address stack. The server asserted on (msg_->flags () & msg_t::more) in rep.cpp:75 when receiving a malformed request without empty part.

    This patch makes a REP socket to discard and silently ignore such malformed requests.

 src/rep.cpp |   24 ++++++++++++++++++------
 1 file changed, 18 insertions(+), 6 deletions(-)

commit a49e392e34d18643257b974553858ced6fc38188
Merge: 2eb849c dcf683a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 26 05:24:41 2012 -0700

    Merge pull request #429 from ipechorin/dcf683aacb533634c273bb2f51fa3ceaadf89202

    Update MSVC2010 project after recent renames and additions

commit 9b58372a38e77ed61240c0e6588c3cfd38a784d1
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 26 16:09:55 2012 +0400

    Fix compilation using MSVC 2008: its <algorithm> defines wrong min/max without NOMINMAX

    Visual Studio 2008 compiler defines min/max as macros in its <algorithm> even if <windows.h> is not included at all. This patch defines NOMINMAX to remove these macros and fix compilation on Visual Studio 2008.

 src/encoder.hpp |    6 ++++++
 1 file changed, 6 insertions(+)

commit 396b4e3046ad32ec9ee40586894c7df3307cdc67
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 26 16:06:20 2012 +0400

    Fix compilation using MSVC 2008: stdint.h is not present in this compiler

    This patch fixes the two headers added recently to include our own "stdint.hpp" instead of system <stdint.h> because the latter is not available in Visual Studio versions prior to 2010.

 src/i_decoder.hpp |    2 +-
 src/i_encoder.hpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4de27b6c10066006a0b7737138e3d9a381c80b84
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 26 16:04:00 2012 +0400

    Update MSVC2008 project after recent renames and additions

    This patch updates MSVC2008 project after device was renamed to proxy and new files were added (tcp.cpp, v1_encoder.cpp and v1_decoder.cpp).

 builds/msvc/libzmq/libzmq.vcproj |   40 ++++++++++++++++++++++++++++++++++----
 1 file changed, 36 insertions(+), 4 deletions(-)

commit 2eb849ccda48ceb2f2a765c8c80d1e90ecbfd780
Merge: ff264cb 9056c13
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Sep 26 04:48:02 2012 -0700

    Merge pull request #428 from ipechorin/9056c13e1ebbfd7798ddd7b5cfdb9950933c710e

    Use <stdint.h> shipped with Visual Studio 2010 and later

commit dcf683aacb533634c273bb2f51fa3ceaadf89202
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 26 15:25:16 2012 +0400

    Update MSVC2010 project after recent renames and additions

    This patch updates MSVC2010 project after device was renamed to proxy and new files were added (v1_encoder.cpp and v1_decoder.cpp).

 builds/msvc/libzmq/libzmq.vcxproj         |    8 +++++++-
 builds/msvc/libzmq/libzmq.vcxproj.filters |   24 +++++++++++++++++++++---
 2 files changed, 28 insertions(+), 4 deletions(-)

commit 9056c13e1ebbfd7798ddd7b5cfdb9950933c710e
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Wed Sep 26 15:13:13 2012 +0400

    Use <stdint.h> shipped with Visual Studio 2010 and later

    Visual Studio didnâ€™t have <stdint.h> until 2010, therefore we had a bunch of typedefs for int8_t, int16_t and the likes in "stdint.hpp". This patch limits these typedefs to Visual Studio versions older than 2010 and uses compiler-shipped <stdint.h> on 2010 and newer.

 src/stdint.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff264cb0442955f7b5da389fc571b6656374c5fc
Merge: 2a20914 afa4933
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 25 23:44:40 2012 -0700

    Merge pull request #427 from ianbarber/master

    Init msg in pgm_receiver drop subs

commit afa4933c1e84bd988100ac3ec45d9c7bb33596b0
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Sep 25 22:58:25 2012 +0100

    Init message in drop subscription

    Fixes reported issue with PGM receiver on 32bit Suse where asserts
    were hit due to the msg flags not being zeroed.

 src/pgm_receiver.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 2a209140f7cac86f8d9312b30222262197aa2bf4
Merge: a6c6054 b1776e2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 25 13:49:27 2012 -0700

    Merge pull request #426 from methodmissing/fix-monitor

    Fix monitor

commit b1776e234b722b50ea7c3d09abd9028351adc815
Merge: 8a57e4a a6c6054
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Tue Sep 25 01:26:32 2012 +0100

    Merge branch 'master' into fix-monitor

commit a6c6054ef262a11e807fd003a6aa7ffa5bc80875
Merge: d981c91 7bf516d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Sep 21 09:09:00 2012 -0700

    Merge pull request #425 from Astellar/zmq_msg_t

    zmq_msg_t will now typedef a named struct.

commit 7bf516ded73031c78b61a2ca2367d3f384474eab
Author: Astellar <astellar@ro.ru>
Date:   Fri Sep 21 19:57:50 2012 +0400

    zmq_msg_t will now typedef a named struct.

    This change allows forward declaration of struct zmq_msg_t.

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8a57e4a5d777c7da6471de958838eb0cd943802e
Merge: 759d453 d981c91
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Fri Sep 21 12:55:01 2012 +0100

    Merge branch 'master' into fix-monitor

commit 759d453368479257638e6b09e1febe19fbef2a3d
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Fri Sep 21 12:53:31 2012 +0100

    Significantly reworked the monitoring infrastructure with a more granular per socket API and to play well with monitoring endpoints in application threads

 doc/Makefile.am             |    4 +-
 doc/zmq_ctx_set_monitor.txt |  223 ---------------------------------
 doc/zmq_socket_monitor.txt  |  288 ++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h               |   19 +--
 src/ctx.cpp                 |   70 +----------
 src/ctx.hpp                 |    8 --
 src/ipc_connecter.cpp       |    9 +-
 src/ipc_connecter.hpp       |    3 +
 src/ipc_listener.cpp        |   10 +-
 src/session_base.cpp        |   13 +-
 src/session_base.hpp        |    4 +-
 src/socket_base.cpp         |  181 +++++++++++++++++++++++++--
 src/socket_base.hpp         |   26 +++-
 src/stream_engine.cpp       |    6 +-
 src/stream_engine.hpp       |    4 +
 src/tcp_connecter.cpp       |    9 +-
 src/tcp_connecter.hpp       |    3 +
 src/tcp_listener.cpp        |    8 +-
 src/zmq.cpp                 |   20 +--
 tests/test_monitor.cpp      |  290 +++++++++++++++++++++++++++++++++----------
 20 files changed, 767 insertions(+), 431 deletions(-)

commit d981c91f809a91a7db66375703e8d888796b9f55
Merge: 86eb7bc f6a840b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 20 11:41:27 2012 -0700

    Merge pull request #424 from vaughan0/patch-1

    Update doc/zmq_msg_get.txt

commit f6a840b65bffc11c74d6d538e989fe707a3c166e
Author: Vaughan Newton <newton.vaughan0@gmail.com>
Date:   Thu Sep 20 21:39:45 2012 +0300

    Update doc/zmq_msg_get.txt

 doc/zmq_msg_get.txt |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 86eb7bcae09fd9182d89d6e8b92ed0e2e8665fc4
Merge: 7a40df6 67d88bc
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Sep 18 13:52:52 2012 -0700

    Merge pull request #423 from jmgao/patch-1

    Add pthread.h include to test_connect_delay.cpp

commit 67d88bcb41efcba24cb94b1c370ecb40a75398d0
Author: Joshua Gao <jmg116@gmail.com>
Date:   Tue Sep 18 13:46:48 2012 -0700

    Add pthread.h include to test_connect_delay.cpp

    This test case uses pthreads, but doesn't include the header.

 tests/test_connect_delay.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 7a40df6d3aeba02d02a5a670a2ebf3b20fed3940
Merge: f074f6b 5db2875
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Sep 7 03:25:31 2012 -0700

    Merge pull request #422 from hintjens/master

    Replaced device concept with proxy concept

commit 5db28752f3d6956d2e10bf8fcd66a1b4044339e0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 6 19:20:21 2012 +0900

    Removed 'device' concept and introduced proxies
    * zmq_device is now a wrapper that calls zmq_proxy
    * zmq_proxy adds capture socket

 doc/Makefile.am    |    2 +-
 doc/zmq.txt        |   12 +++--
 doc/zmq_device.txt |  125 ----------------------------------------------------
 doc/zmq_proxy.txt  |   97 ++++++++++++++++++++++++++++++++++++++++
 include/zmq.h      |   11 ++---
 src/Makefile.am    |    4 +-
 src/device.cpp     |   96 ----------------------------------------
 src/device.hpp     |   32 --------------
 src/proxy.cpp      |  121 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/proxy.hpp      |   32 ++++++++++++++
 src/zmq.cpp        |   26 ++++++-----
 11 files changed, 280 insertions(+), 278 deletions(-)

commit f074f6b6b98fe5e3612a46007e49c52f74b1fac9
Merge: 84728cd cf20932
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 6 19:56:46 2012 -0700

    Merge pull request #412 from Quuxplusone/test-release-builds-too

    Add "#undef NDEBUG" to all tests.

commit cf20932df02ddac2c6e49dc7f725787bbce3e435
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Thu Aug 23 13:40:30 2012 -0700

    Add "#undef NDEBUG" to all tests.

    This change makes sure that even if the tests are built in a
    "release" configuration (with optimizations and NDEBUG turned on),
    the assertions won't get compiled out of the tests themselves.

    The C standard guarantees that the most recent inclusion of
    <assert.h> is the one that counts, so it's important that the
    "#undef NDEBUG/#include <assert.h>" come as the last thing in
    the block of header files.

    "testutil.hpp" includes <assert.h>, so I've left <assert.h> out
    of any test that #includes "testutil.hpp", just for the sake of
    brevity.

 tests/test_connect_delay.cpp   |   12 ++++++------
 tests/test_connect_resolve.cpp |    6 +++---
 tests/test_hwm.cpp             |    2 --
 tests/test_invalid_rep.cpp     |    4 +++-
 tests/test_last_endpoint.cpp   |    5 +++--
 tests/test_monitor.cpp         |    6 ++----
 tests/test_msg_flags.cpp       |    5 +++--
 tests/test_pair_inproc.cpp     |    1 -
 tests/test_pair_ipc.cpp        |    1 -
 tests/test_pair_tcp.cpp        |    1 -
 tests/test_reqrep_device.cpp   |    7 ++++---
 tests/test_reqrep_inproc.cpp   |    1 -
 tests/test_reqrep_ipc.cpp      |    1 -
 tests/test_reqrep_tcp.cpp      |    1 -
 tests/test_router_behavior.cpp |    1 -
 tests/test_shutdown_stress.cpp |    4 +++-
 tests/test_sub_forward.cpp     |    7 ++++---
 tests/test_term_endpoint.cpp   |   27 ++++++++++++++++++++++++---
 tests/test_timeo.cpp           |    9 +++++----
 tests/testutil.hpp             |    5 +++--
 20 files changed, 63 insertions(+), 43 deletions(-)

commit aaac4b84cb899f94570cec83970d09b19f1f9c38
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Sep 6 18:20:33 2012 +0900

    Code cleanups

 doc/zmq.txt    |    4 ++--
 include/zmq.h  |    2 ++
 src/device.cpp |   32 +++-----------------------------
 3 files changed, 7 insertions(+), 31 deletions(-)

commit 84728cd961c4238379bf0e022292f5d314102ce1
Merge: a224c97 2a41c8d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Sep 5 12:59:28 2012 -0700

    Merge pull request #421 from hurtonm/master

    New message encoder/decoder + code simplification

commit 2a41c8d7b40a36062a69536d1ad878a80d4f16a3
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Sep 5 16:37:20 2012 +0200

    Simplify initial handshaking

 src/stream_engine.cpp |  100 +++++++++++++------------------------------------
 src/stream_engine.hpp |   19 +++-------
 2 files changed, 32 insertions(+), 87 deletions(-)

commit 3f6148abdf4c548eeb6f13aee38a4190468fdadc
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Sep 5 02:01:19 2012 +0200

    Implement new message encoder/decoder

    This is supposed to become part of the ZMTP/1.1.

    The main differences from the ZMTP/1.0 framing protocol are:
    - flags field comes first, followed by the length field
    - long messages are signaled using a flag rather then 0xff escape
    - length field does not include the flags field, 0 is a valid value

 src/Makefile.am       |    2 +
 src/stream_engine.cpp |   40 +++++++++---
 src/v1_decoder.cpp    |  167 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/v1_decoder.hpp    |   70 +++++++++++++++++++++
 src/v1_encoder.cpp    |  103 ++++++++++++++++++++++++++++++
 src/v1_encoder.hpp    |   60 ++++++++++++++++++
 src/v1_protocol.hpp   |   43 +++++++++++++
 7 files changed, 478 insertions(+), 7 deletions(-)

commit 8672f5829e3917296e0695c86fbb324d91efdc53
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Sep 4 19:44:20 2012 +0200

    Introduce abstract interface for message encoder/decoder

 src/decoder.hpp       |    3 ++-
 src/encoder.hpp       |    3 ++-
 src/i_decoder.hpp     |   49 ++++++++++++++++++++++++++++++++++++++++++++
 src/i_encoder.hpp     |   54 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/stream_engine.cpp |   46 +++++++++++++++++++++++++++--------------
 src/stream_engine.hpp |    8 ++++----
 6 files changed, 142 insertions(+), 21 deletions(-)

commit a224c97329d0315498970054da2055bcf0560913
Merge: d068787 d7331b7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Sep 4 16:03:58 2012 -0700

    Merge pull request #420 from ianbarber/master

    Fix some PGM refactor breakages

commit d7331b7b1fc6edae0315c28c9fe7a40dbefca0ef
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Sep 4 23:24:48 2012 +0100

    Fixing PGM issues

    Hopefully fixed LIBZMQ-427 - there was a slight typo in the init_address
    refactor. The encoder refactoring had also broken pgm_sender and
    receiver, but just required updating to use the new functions.

 src/pgm_receiver.cpp         |    2 +-
 src/pgm_sender.cpp           |    2 +-
 src/pgm_socket.cpp           |    6 +++---
 tests/test_connect_delay.cpp |    2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit d0687876c03ce46a4a3d5962ffe22eef988b7d4a
Merge: 9143ac5 9d17ead
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Sep 3 13:58:06 2012 -0700

    Merge pull request #419 from hurtonm/code_cleanup

    Code cleanup

commit 9d17ead33d4a6ea8a10883df49bb483f57db8578
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Sep 3 19:21:41 2012 +0200

    Remove superfluous statement

 src/xpub.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 7e6db47e65584d5351959f8d0582a3d8e3638e1d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Sep 3 19:07:57 2012 +0200

    Remove unused member variable

 src/stream_engine.hpp |    3 ---
 1 file changed, 3 deletions(-)

commit 9143ac5156f058a00c5fd90ef4f65f9b2f90254e
Merge: 6347f8b d9307c9
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Sep 2 15:24:09 2012 -0700

    Merge pull request #418 from hurtonm/versioned_ztp

    Introduce versioning into ZTP

commit d9307c9ff04b0d1d60aac1b201dfbe2684d3403f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Sep 2 18:19:15 2012 +0200

    Make ZMQ interoperate with ZMQ 2.x SUB sockets

    Since ZMQ 2.x does not support subscription forwarding, it's not
    possible to use ZMQ 2.x SUB socket to receive messages from a PUB
    socket.

    This patch adds some compatibility layer so that ZMQ 2.x SUB socket
    receives messages from PUB socket.

 src/stream_engine.cpp |   32 ++++++++++++++++++++++++++++++++
 src/stream_engine.hpp |    6 +++++-
 2 files changed, 37 insertions(+), 1 deletion(-)

commit dfc0222ee6c67e2bd596468296f3ac271f8c33b3
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Sep 2 18:03:38 2012 +0200

    Decouple encoder_t and decoder_t from session_base_t

    This patch introduces i_msg_sink and i_msg_source interfaces. This
    allows us to make message encoder and decoder more general.

 src/decoder.cpp       |   12 ++++++------
 src/decoder.hpp       |    7 ++++---
 src/encoder.cpp       |   12 ++++++------
 src/encoder.hpp       |    6 +++---
 src/i_msg_sink.hpp    |   43 +++++++++++++++++++++++++++++++++++++++++++
 src/i_msg_source.hpp  |   44 ++++++++++++++++++++++++++++++++++++++++++++
 src/pgm_receiver.cpp  |    2 +-
 src/pgm_sender.cpp    |    2 +-
 src/req.cpp           |   10 +++++-----
 src/req.hpp           |    2 +-
 src/session_base.cpp  |    6 +++---
 src/session_base.hpp  |   14 +++++++++++---
 src/stream_engine.cpp |    8 ++++----
 13 files changed, 132 insertions(+), 36 deletions(-)

commit 1bca4f6f033ed6bb56fcfd7762bbfea04ecf684b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Sep 1 13:59:22 2012 +0200

    Extend ZTP/1.0 protocol

    The new protocol adds support for protocol version and  exchanges the
    socket type, so that the library can reject a connection when the
    sockets do not match.

    The protocol was designed so that it's possible to detect and fully
    support ZTP/1.0 peers.

    When a new connection is set up, peers exchange greeting messages. The
    greeting message encodes both the protocol verion and the socket type.
    The format of the greeting message is as follows:

        greeting    = tag1, adaptation, tag2, version, length, socket_type
        tag1        = BYTE / 0xff
        adaptation  = 8 BYTES
        tag2        = BYTE / 0x7f
        version     = BYTE / 1
        length      = BYTE / 1
        socket_type = BYTE

    The protocol does not define the value of adaptation field.

    When interoperability with ZTP/1.0 peers is required, the adaptaion
    encodes, in network byte order, the length of identity message increased
    by 1. When adaptaion consists of eight zeros, the current
    implementatatio of 0MQ 2.x closes the connection.

    This patch supports both ZTP/1.0 and new protocol.

 src/stream_engine.cpp |  151 ++++++++++++++++++++++++++++++++++++++++++++++++-
 src/stream_engine.hpp |   36 ++++++++++++
 2 files changed, 185 insertions(+), 2 deletions(-)

commit 6347f8b0c9f800b8de1bfe8b9f869ebec9e6511c
Merge: c959f52 ab82488
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Tue Aug 28 04:40:38 2012 -0700

    Merge pull request #416 from hintjens/master

    Fixed COPYING.LESSER

commit ab8248847ca7c413145a9cb20e1deebb08ca993f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 28 20:39:38 2012 +0900

    Fixed license to remove references to X11 code

 COPYING.LESSER |   27 ---------------------------
 1 file changed, 27 deletions(-)

commit c959f526f1a3e885bd3f61ec0362122ec3321ee3
Merge: f6fe600 08f6a9e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Aug 27 16:34:31 2012 -0700

    Merge pull request #415 from Quuxplusone/unused-parameters

    Silence all "unused parameter" warnings from Clang.

commit 08f6a9e7e86c78c86b9d2ba927d2b35bbca356f7
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Mon Aug 27 16:10:47 2012 -0700

    Remove unused argc/argv parameters in tests.

 tests/test_connect_delay.cpp   |    6 +++---
 tests/test_connect_resolve.cpp |    2 +-
 tests/test_hwm.cpp             |    2 +-
 tests/test_invalid_rep.cpp     |    2 +-
 tests/test_last_endpoint.cpp   |    2 +-
 tests/test_msg_flags.cpp       |    2 +-
 tests/test_pair_inproc.cpp     |    2 +-
 tests/test_pair_ipc.cpp        |    2 +-
 tests/test_pair_tcp.cpp        |    2 +-
 tests/test_reqrep_device.cpp   |    2 +-
 tests/test_reqrep_inproc.cpp   |    2 +-
 tests/test_reqrep_ipc.cpp      |    2 +-
 tests/test_reqrep_tcp.cpp      |    2 +-
 tests/test_router_behavior.cpp |    2 +-
 tests/test_shutdown_stress.cpp |    2 +-
 tests/test_sub_forward.cpp     |    2 +-
 tests/test_term_endpoint.cpp   |    2 +-
 tests/test_timeo.cpp           |    2 +-
 18 files changed, 20 insertions(+), 20 deletions(-)

commit c29aef4dd83375806b008c40728485fa95457050
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Mon Aug 27 16:06:51 2012 -0700

    Verify the value of the "void *s" passed to the monitor function.

    This formerly unused parameter actually represents the socket
    on which the event was received. As such, we should check that
    its value makes sense: it must be either "rep" or "req", and in
    the case of some kinds of events, it must be specifically one
    or the other.

    After this change, "s" is no longer unused.

 tests/test_monitor.cpp |   17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 3b984d40e984b9cd5bca4663765771c7e9b9d61d
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Mon Aug 27 16:05:51 2012 -0700

    Silence all "unused parameter" warnings from Clang.

    Compiling without warnings is a good goal, because it makes
    new warnings (which probably indicate bugs) stand out rather
    than getting lost in the spam.

    My fixes fall into two categories:

        - Adding (void) casts of unused parameters, where their
          unusedness seems like a TODO (or in some cases a bug?).

        - Removing parameter names altogether, where the function
          is clearly a stub that will never use its parameters.

    Should be no change in behavior.

 src/dealer.cpp       |    6 ++++++
 src/dist.cpp         |    3 +++
 src/err.cpp          |    1 +
 src/io_object.cpp    |    2 +-
 src/io_thread.cpp    |    2 +-
 src/lb.cpp           |    3 +++
 src/object.cpp       |   16 ++++++++--------
 src/pair.cpp         |   10 ++++++++--
 src/pub.cpp          |    2 +-
 src/pull.cpp         |    6 ++++++
 src/push.cpp         |    3 +++
 src/reaper.cpp       |    2 +-
 src/router.cpp       |    9 +++++++++
 src/session_base.cpp |    2 +-
 src/socket_base.cpp  |   15 +++++++--------
 src/sub.cpp          |    2 +-
 src/tcp.cpp          |    9 +++++++++
 src/tcp_address.cpp  |    4 ++--
 src/tcp_address.hpp  |    4 ++--
 src/tcp_listener.cpp |    2 +-
 src/xpub.cpp         |    3 +++
 src/xsub.cpp         |    6 ++++++
 src/zmq.cpp          |    2 +-
 23 files changed, 84 insertions(+), 30 deletions(-)

commit 7fa4d423b80715c07c526e60aed276a9e8e60a03
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Mon Aug 27 16:00:40 2012 -0700

    Fix char_traits<unsigned char> to what looks like correct behavior.

    char_traits<unsigned char>::to_char_type(x) used to return 0 no matter
    what x was, and likewise to_int_type(x) used to return 0 no matter what.
    (0 is what you get when you default-construct an integral type, which
    is what the old code was doing.) This seemed like buggy behavior to me,
    so I've changed it.

 src/blob.hpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f6fe600eef59afa7de6033bf71aea685779a390a
Merge: 4a43a0d fd67cd8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Aug 26 17:04:36 2012 -0700

    Merge pull request #414 from ianbarber/master

    Fix build breaking typos in monitor VA code

commit fd67cd810af7aac5ee897cd23f524a12206abd64
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 26 17:48:52 2012 +0100

    Update ROUTER_BEHAVIOR documentation

    Include a note about potential interactions with reactors, and update
    reference to old FAIL_UNROUTABLE name.

 doc/zmq_setsockopt.txt |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 95c018c0d3e7610e58a901ee970fcac8be8db176
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 26 16:29:40 2012 +0100

    Use full endpoint string in monitor response

    The endpoint was excluding the tcp://, causing tests to fail

 src/tcp_listener.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94835581a4df2bde11b6ec0dcd32bac70dc42d7f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 26 15:07:16 2012 +0100

    Remove early return on terminated state

    Code as stands breaks shutdown process. It was a bugfix by Arthur to a
    bad line which was testing for an impossible state - but afaics we do
    actually want to flush in those states. It is possible I am wrong on
    that though - if there are any shutdown issues introduced aroudn this
    commit I would suggest further investigation around this flushing
    behavior.

 src/pipe.cpp |    4 ----
 1 file changed, 4 deletions(-)

commit 206e5f6f44bac2f9dfcb79da296ef530a17c7f93
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 26 14:29:09 2012 +0100

    Incorrect function name in socket_base

    VA specific monitor event in socket base was named monitor_event rather
    than va_monitor_event

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f028379c1ce008c2eba4c315a4a3adcd3594e1e1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 26 14:27:12 2012 +0100

    Incorrect var name in monitor_event

    The call to the va version of the function was using 'event' instead of
    'event_'

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8bf541b2520a4ed861bb7670d5a7edd264637bec
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 26 14:24:50 2012 +0100

    Fixing incorrect argument order on va_start

    Compile was failing on the monitor_event function function due to the
    va_start params being switched.

 src/ctx.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4a43a0d0744f3cd78dab564d2b40e3f1790e7c24
Merge: d588dbf 7fadd70
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 25 01:19:09 2012 -0700

    Merge pull request #413 from Quuxplusone/static-analysis

    Various bugfixes found by compiling with extra warnings

commit 7fadd708a04e31e1edf23fdd3935961a141f4d32
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Fri Aug 24 16:42:31 2012 -0700

    Fix monitor_event() to work at all.

    There are three versions of monitor_event(), all taking
    variadic arguments. The original code just has the first one
    creating a va_list and passing that va_list variadically to
    the second one... which creates a new va_list and passes it
    variadically to the third one... and of course everything
    blows up when we try to pull a non-va_list argument off the
    stack.

    The correct approach matches the C standard library's use
    of printf/vprintf, scanf/vscanf, and so on. Once you make
    a va_list, you must pass it only to functions which expect
    a va_list parameter.

 src/ctx.cpp          |   10 +++++++++-
 src/ctx.hpp          |    3 ++-
 src/session_base.cpp |    7 ++++++-
 src/session_base.hpp |    2 ++
 src/socket_base.cpp  |    7 ++++++-
 src/socket_base.hpp  |    2 ++
 6 files changed, 27 insertions(+), 4 deletions(-)

commit 537a80278835d0f4290edce1bfc47d0624177cc5
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Fri Aug 24 16:38:46 2012 -0700

    Add a missing null-check, turning a segfault into an assertion.

    Static analysis says:
    src\tcp_address.cpp(297): error V595: The 'res' pointer was utilized before it was verified against nullptr. Check lines: 297, 301.
    src\tcp_address.cpp(603): error V106: Implicit type conversion third argument 'full_bytes' of function 'memcmp' to memsize type.
    src\tcp_address.cpp(603): error V526: The 'memcmp' function returns 0 if corresponding buffers are equal. Consider examining the condition for mistakes.

    In fact the use of "memcmp" is correct, but the enclosing "if" isn't
    necessary, and the compiler is happier if "full_bytes" is a size_t.

 src/tcp_address.cpp |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 6347d392fdaa41131c7c7cb3b57c4aa6c1e7a399
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Fri Aug 24 16:35:14 2012 -0700

    Fix a bug in pipe_t::flush().

    Static analysis says:
    src\pipe.cpp(193): error V547: Expression is always false. Probably the '||' operator should be used here.

    If flush() is called on a pipe whose state was
    "terminated" or "double_terminated", the programmer's
    intent was to return immediately. But in fact the
    two conditions can never be true simultaneously, so
    the early return never happens, and we may try to flush
    a terminated pipe anyway.

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0886b7a26bbca34fdeef3e06d0d75d023ef4b7eb
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Fri Aug 24 16:33:48 2012 -0700

    Silence a compiler warning.

    Static analysis says:
    src\fd.hpp(38): error V103: Implicit type conversion from memsize to 32-bit type.

    Adding the explicit cast should shut it up.

 src/fd.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a48751b34b7047cf77537f88861a5ae48127122a
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Fri Aug 24 16:30:42 2012 -0700

    The "count_" out-parameter is doubled instead of unchanged.

    Static analysis says:
    src\zmq.cpp(489): error V220: Suspicious sequence of types castings: memsize -> 32-bit integer -> memsize. The value being casted: '* count_'.
    src\zmq.cpp(510): error V127: An overflow of the 32-bit 'nread' variable is possible inside a long cycle which utilizes a memsize-type loop counter.

    I've silenced the warning on line 489 and ignored the other.
    But also, it looks to me like there's a serious bug here: The
    out-parameter "count_" is never set to zero before we start
    incrementing it. So its final value will always be between
    1 and 2 times its initial value. The fix seems obvious.

 src/zmq.cpp |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d588dbf27c363b98a0d88e5d4c1c2c7c2227055f
Merge: 033e311 28c9255
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Aug 23 13:02:30 2012 -0700

    Merge pull request #410 from Quuxplusone/LIBZMQ-414

    [LIBZMQ-414] Fix an error in the inline assembly for Thumb2.

commit 033e311d66440d2e12ba7a344d9b405a9a79e423
Merge: 1283380 f718d2b
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Aug 23 13:01:44 2012 -0700

    Merge pull request #411 from Quuxplusone/fix-test_monitor-bug

    Fix a bug reported on the mailing list.

commit f718d2beadf0fa58d3dc054e7b4cefba3f3bbbf9
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Thu Aug 23 12:56:00 2012 -0700

    Fix a bug reported on the mailing list.

    Both memcmp and strcmp return zero on equal, nonzero on nonequal;
    so all of these tests were backwards.

    The original committer fixed the failure by comparing 22 bytes instead
    of the correct 21, so that the assertions would trigger only if the
    22nd byte happened to match exactly --- which was rare.

    The correct fix is to compare the right number of bytes with the
    right sense.  (I think all of the ".addr" fields are null-terminated,
    in which case it's more appropriate to use strcmp throughout.)

 tests/test_monitor.cpp |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 28c9255d46edd96861c45ac89566d79c098ec0d1
Author: Arthur O'Dwyer <arthur@push.am>
Date:   Thu Aug 23 12:49:21 2012 -0700

    Fix an error in the inline assembly for Thumb2.

    Notice that ZeroMQ has never been compiled for Thumb2 before,
    and I personally don't make any guarantees that it will actually
    behave correctly once compiled. But after this patch, it is at
    least *possible* to compile it for Thumb2.

    (Thumb2 is the target for most iOS devices.)

 src/atomic_ptr.hpp |    1 +
 1 file changed, 1 insertion(+)

commit 12833804c910842121310b0ce52c19d2804ffd40
Merge: b32542e 1ab85f4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Aug 12 02:33:17 2012 -0700

    Merge pull request #409 from hurtonm/master

    Exchange greeting messages for all socket types

commit 1ab85f471a50fb5f15440900a4e3991c9fe5aac0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Aug 11 18:47:56 2012 +0200

    Exchange greeting messages for all socket types

    Fixes #415.

 src/dealer.cpp       |    1 -
 src/options.cpp      |    1 -
 src/options.hpp      |    5 +----
 src/router.cpp       |    1 -
 src/session_base.cpp |   27 +++++++++++++++++----------
 src/session_base.hpp |    6 +++---
 src/socket_base.cpp  |    4 ++--
 7 files changed, 23 insertions(+), 22 deletions(-)

commit b32542e39627e22b5dfd17666235e123bac0fbe3
Merge: 040d4d3 556074d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 5 08:10:53 2012 -0700

    Merge pull request #403 from methodmissing/efault-zmq-poll

    Revert zmq_poll NULL poll items check to 2.2 behavior - let the poll items count filter out empty poll sets and not return a sometimes unexpected EFAULT error status

commit 040d4d322da6658a4bc7b9194ce08c42c41dee8d
Merge: 5637ed0 a622328
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Aug 5 08:08:59 2012 -0700

    Merge pull request #408 from teotwaki/master

    Fix reordering compile errors

commit a622328a9c089e635e8af6b67f6a87251d3e34bf
Author: Sebastian Lauwers <sebastian.lauwers@gmail.com>
Date:   Sat Aug 4 12:39:46 2012 +0200

    Fix reordering compile errors

 src/stream_engine.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5637ed08a59bff6bacbf9a0c85d803d7e3bb4d09
Merge: 1f22954 9dc248f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 4 04:21:49 2012 -0700

    Merge pull request #407 from methodmissing/LIBZMQ-399

    Fix invalid address metadata for ZMQ_EVENT_DISCONNECTED

commit 9dc248f6abeb7461b9e85bb5d0106ad86bab089f
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Sat Aug 4 11:41:33 2012 +0100

    Fix invalid address metadata for ZMQ_EVENT_DISCONNECTED

 src/ipc_connecter.cpp  |    3 +--
 src/ipc_listener.cpp   |    4 ++--
 src/session_base.cpp   |    7 -------
 src/session_base.hpp   |    1 -
 src/stream_engine.cpp  |   10 +++-------
 src/stream_engine.hpp  |    2 +-
 src/tcp_connecter.cpp  |    2 +-
 src/tcp_listener.cpp   |    2 +-
 tests/test_monitor.cpp |    4 ++++
 9 files changed, 13 insertions(+), 22 deletions(-)

commit 1f2295476297537f549e96e95763226e4111b538
Merge: 84560c1 9fab993
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jul 31 11:17:45 2012 -0700

    Merge pull request #406 from hurtonm/master

    Fix issue #406

commit 9fab9937e516e78e6dbdf890e34f56cf80c9ff14
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Jul 31 16:31:41 2012 +0200

    Fix issue #406

    When a peer reconnects, the router socket receives an identity
    message containing this peer id. When this happens, the current
    implementation crashes.

    This patch makes a router socket to silently ignore all identity
    messages coming from reconnected peers.

 src/msg.cpp    |    5 +++++
 src/msg.hpp    |    1 +
 src/router.cpp |   25 ++++++++++++++++++-------
 3 files changed, 24 insertions(+), 7 deletions(-)

commit 84560c1607249cea48f2f0009cc5d136377072ee
Merge: 631e12d 92bee5a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Jul 29 00:45:20 2012 -0700

    Merge pull request #405 from jimenezrick/master

    Fix LIBZMQ-404: zmq_term not truly re-entrant

commit 92bee5a6dbb150115058c494e83702097aa58747
Author: Ricardo Catalinas JimÃ©nez <jimenezrick@gmail.com>
Date:   Sat Jul 28 11:04:03 2012 +0200

    Fix LIBZMQ-404: zmq_term not truly re-entrant

    zmq_term can not safely be re-entered with pgm transport.
    Fix proposed by Steven McCoy.

 src/zmq.cpp |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 631e12d4e5f47615182b7ec6e28c6ee439309111
Merge: 9be0c7e a0eb0bb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jul 26 14:12:05 2012 -0700

    Merge pull request #404 from mimetnet/master

    Correction for LIBZMQ-335

commit a0eb0bb7e611496d90b37d6e51a79890227f7ea1
Author: Matthew Metnetsky <mmetnetsky@kmbs.konicaminolta.us>
Date:   Thu Jul 26 13:55:27 2012 -0400

    signaler.cpp's Windows Lock should be in the "Global" namespace

    That way it can be used more appropriately between processes.

 src/signaler.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 83537916f8e2c61161f06dc84dd21972bb65b5eb
Author: Matthew Metnetsky <mmetnetsky@kmbs.konicaminolta.us>
Date:   Thu Jul 26 13:52:38 2012 -0400

    Fix issue 335

    By assigning a SECURITY_DESCRIPTOR to the event we gain the ability to
    share it between service and console programs. We also added
    EVENT_MODIFY_STATE as a requirement to OpenEvent so we can SetEvent later
    in the method.

 src/signaler.cpp |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 556074d438870dd29bd6f6838d00715c01204a4c
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Tue Jul 24 02:22:27 2012 +0100

    Revert zmq_poll NULL poll items check to 2.2 behavior - let the poll items count filter out empty poll sets and not return a sometimes unexpected EFAULT error status

 src/zmq.cpp |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 9be0c7e4b5c6aa335aeb59a9e5f09cf108edb20c
Merge: bea0b48 92827e4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jul 17 23:59:59 2012 -0700

    Merge pull request #402 from hurtonm/master

    Small code cleanup

commit 92827e45ee82bdb3719ddddc60889120a805a6a1
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 18 01:53:10 2012 +0200

    Small code cleanup

 src/socket_base.cpp |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit bea0b4817b6470ad7a521618585e33e273fbaadb
Merge: 43ee439 62b5b91
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jul 13 07:14:27 2012 -0700

    Merge pull request #401 from hurtonm/master

    Fix issue #397

commit 62b5b914f5119378e8cd03c858b2904b9ced58ab
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jul 12 01:47:36 2012 +0200

    Always mark socket as retired when closing ipc_listener

    When closing an ipc listener, the library may try to unlink
    the associated file. When this fails, the underlying
    socket is not marked as retired and this triggers
    assertion failure.

    Fixes issue #397

 src/ipc_listener.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 43ee4396cf63ddcf8750eacf14d92efd111f8140
Merge: 0533fb1 c84ca01
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jul 11 10:17:44 2012 -0700

    Merge pull request #400 from hurtonm/master

    Be more conservative about when to generate ZMQ_EVENT_CLOSE_FAILED

commit c84ca01e95349e8013f5014cedbb39a8d3570f24
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 11 17:59:22 2012 +0200

    Be more conservative about when to generate ZMQ_EVENT_CLOSE_FAILED

    This also fixes a bug in tcp_connecter and tcp_listener, which
    generated the event not when they failed to close the socket but
    when the succeed to close it.

 src/ipc_connecter.cpp |    5 +----
 src/ipc_listener.cpp  |    5 +----
 src/tcp_connecter.cpp |    4 ----
 src/tcp_listener.cpp  |    4 ----
 4 files changed, 2 insertions(+), 16 deletions(-)

commit 0533fb1ce16ad19e683b5325a11f2cbd8e2892ba
Merge: f8752bf 6ac5cf8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jul 11 08:02:01 2012 -0700

    Merge pull request #399 from hurtonm/master

    Small cleanup

commit 6ac5cf8697b50b5e6afb6582b067840adac02981
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 11 15:11:48 2012 +0200

    Simplify code for writer activation in Router socket

 src/router.cpp |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit f8752bf9fca34b7c3c492c57c434f8c8799f44d1
Merge: 823d14c e37814e
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jul 6 10:50:00 2012 -0700

    Merge pull request #398 from hurtonm/master

    Rewrite event processing in io_thread

commit e37814eca427574578fc53421abea844317222e9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jul 6 13:24:59 2012 +0200

    Rewrite event processing in io_thread

 src/io_thread.cpp |   22 +++++++++-------------
 1 file changed, 9 insertions(+), 13 deletions(-)

commit 823d14c7fcb00aed6e6d66aeca84a4fc555ba1a3
Merge: 37d1e84 86eaa9c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jul 6 04:02:17 2012 -0700

    Merge pull request #397 from hurtonm/master

    Code cleanup

commit 37d1e84467cc16f0dda36998a340d20435515816
Merge: 73f960e 8d64fc6
Author: Martin HurtoÅˆ <hurtonm@gmail.com>
Date:   Fri Jul 6 03:54:55 2012 -0700

    Merge pull request #396 from hintjens/master

    Reverting fix for #393

commit 86eaa9c8e753dfde77b675d25204f94080c65d92
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jul 6 12:17:13 2012 +0200

    Rewrite process_command's loop

 src/socket_base.cpp |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 8d64fc6af83ed49624b11a6c30d5da3e79144d2c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jul 6 17:33:41 2012 +0900

    Reverted fix for #393, was already fixed

 src/tcp_address.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 73f960e739583e88e13706c7dddb3456bf4a9d66
Merge: 77dd0a6 9aa8452
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jul 5 23:02:20 2012 -0700

    Merge pull request #395 from hintjens/master

    Fixed issue #393 - Android build error

commit 9aa8452b804d33f0db92b47aadb8c4e4f16fcc2c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jul 6 12:23:51 2012 +0900

    Fixed issue #393, compilation warnings

 src/tcp_address.cpp |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 77dd0a6fba14c636d84a5f43f6b79f7aadfbc8f2
Merge: e7f5929 8d96a43
Author: Martin HurtoÅˆ <hurtonm@gmail.com>
Date:   Wed Jul 4 05:20:51 2012 -0700

    Merge pull request #394 from hintjens/master

    Fixed HWM doc on ZMQ_PULL

commit 8d96a4397545069ec7401d145852644cdd0bef3e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jul 4 17:46:08 2012 +0900

    Fixed documentation of HWM on ZMQ_PULL

 .gitignore         |    1 +
 doc/zmq_socket.txt |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit e7f59297d047fd498c4825c927178ab9382f79e5
Merge: 1ff5af0 0191977
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jul 3 18:30:09 2012 -0700

    Merge pull request #393 from cyrilh/master

    Making Android&pyzmq friendly version with -avoid-version

commit 01919774dc3935d86ea80acf5c47479bf5de7b68
Author: Cyril Holweck <cyril.holweck@free.fr>
Date:   Tue Jul 3 12:20:37 2012 +0200

    Making Android&pyzmq friendly version with avoid-version

 configure.in    |    5 ++++-
 src/Makefile.am |    4 ++++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 1ff5af098a1daec6acd9b6ae60368921d2adf8de
Merge: e471e5b 1b0e6ef
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 2 06:54:26 2012 -0700

    Merge pull request #392 from hurtonm/master

    mtrie clenaup

commit 1b0e6ef8b4db31b99fe0382eb1dddba1c503bdd9
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jul 2 07:55:13 2012 +0200

    mtrie: Code simplification

 src/mtrie.cpp |   63 ++++++++++++++++++++++-----------------------------------
 1 file changed, 24 insertions(+), 39 deletions(-)

commit 692648de96515132b59b71d6c404a4cd8253ce1d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jul 2 06:11:29 2012 +0200

    mtrie: Do not throw exception on allocation failure

 src/mtrie.cpp |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit e471e5b401387f0c4d03d2af67e41d4dbc8843f4
Merge: 6a1bd3e 9ccbeb8
Author: Chuck Remes <git@chuckremes.com>
Date:   Tue Jun 26 11:39:35 2012 -0700

    Merge pull request #391 from methodmissing/monitor-manual-format

    Let docs for zmq_ctx_set_monitor() respect a 80 char wide column width

commit 9ccbeb84fade63e537f670f150ff1ff29ff3018d
Author: Lourens NaudeÌ <lourens@methodmissing.com>
Date:   Tue Jun 26 19:35:59 2012 +0100

    Let docs for zmq_ctx_set_monitor() respect a 80 char wide column width

 doc/zmq_ctx_set_monitor.txt |   36 +++++++++++++++++++-----------------
 1 file changed, 19 insertions(+), 17 deletions(-)

commit 6a1bd3e1e79706b997a76bbc7d3e2f32340fb800
Merge: 6f1229b 26e14d3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 25 18:03:07 2012 -0700

    Merge pull request #390 from hurtonm/master

    Small code simplification

commit 26e14d3064fc3c042c2fc0f7a69378c0e7927cdd
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Jun 26 01:56:54 2012 +0200

    Small code simplification

 src/xpub.cpp |   15 +++++----------
 1 file changed, 5 insertions(+), 10 deletions(-)

commit 6f1229be6ff61e1c579433ebc1bf203a62b4ec22
Merge: c251d94 f8293df
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 25 05:09:00 2012 -0700

    Merge pull request #389 from hurtonm/master

    Fix a bug in trie implementation

commit f8293df4c563e1335365a42ca636249cdc3cdb5d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jun 25 13:37:32 2012 +0200

    Fix a bug in trie implementation

    When removing keys for a specified value, make sure we drop
    empty node table. Failing to do this can lead to asserion failure.

    Refs: http://lists.zeromq.org/pipermail/zeromq-dev/2012-June/017589.html

 src/mtrie.cpp |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit c251d940b3424e045d59123f4bfc529c23bda3e9
Merge: b57b7de a178817
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 23 18:40:58 2012 -0700

    Merge pull request #388 from minrk/forward-iovec

    declare struct iovec

commit a178817141e605f919f71ef3318e702be52c32b7
Author: MinRK <benjaminrk@gmail.com>
Date:   Sat Jun 23 12:51:36 2012 -0700

    forward-declare struct iovec

    avoids warnings of the form:

    warning: 'struct iovec' declared inside parameter list
    warning: its scope is only this definition or declaration, which is probably not what you want

    when building downstream projects

 include/zmq.h |    2 ++
 1 file changed, 2 insertions(+)

commit b57b7debaae571ddb6206c28179bcb8d84fb1bcc
Merge: c60b0f5 fc335c5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 20 02:34:40 2012 -0700

    Merge pull request #386 from steve-o/err-handler

    Fix missing ENETRESET for Jira #LIBZMQ-329.

commit fc335c59ea40642fc708e3a7903d84de1947da6d
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Jun 19 14:15:48 2012 -0400

    Fix missing ENETRESET for Jira #LIBZMQ-329.

 include/zmq.h |    3 +++
 1 file changed, 3 insertions(+)

commit c60b0f579dc739069e1c26eebff72a5b81fcadd5
Merge: eb16f6b 85c19f1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 19 08:46:49 2012 -0700

    Merge pull request #385 from jdc8/master

    Missing semi-colon makes Windows compilation fail, Missing files in WIndows solution file

commit 85c19f12690fbb65f6669224680c959f6ecddddb
Author: Jos Decoster <jos.decoster@gmail.com>
Date:   Tue Jun 19 17:05:15 2012 +0200

    added missing files to MSVC10 solution file: tcp.cpp, tcp.hpp

 builds/msvc/libzmq/libzmq.vcxproj         |    2 +
 builds/msvc/libzmq/libzmq.vcxproj.filters |  400 +++++++++++++++++++++++++++++
 2 files changed, 402 insertions(+)

commit 98ee759dadf20fa958cda4290160f67c36444aeb
Author: jdc8 <jos.decoster@gmail.com>
Date:   Tue Jun 19 09:37:06 2012 -0400

    Added missing semi-colon.

 src/ip.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb16f6b88e20bd16fb8409cdecc7025443d0522c
Merge: 7bbccde 5b3d0c6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jun 18 22:34:40 2012 -0700

    Merge pull request #384 from steve-o/err-handler

    Add errno fallback values for MSVC2008.

commit 5b3d0c633d2886bd14aaf35363787ca28081db12
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Jun 18 17:13:17 2012 -0400

    Add errno fallback values for MSVC2008.

 include/zmq.h |   22 ++++++++++++++++++++--
 1 file changed, 20 insertions(+), 2 deletions(-)

commit 7bbccdeac9bef86988e136779367a6aabad00ac6
Merge: 21eb8c8 08749c8
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 17 00:36:58 2012 -0700

    Merge pull request #383 from Kobolog/master

    Reworked ZMQ_FAIL_UNROUTABLE to actually work as it was intended.

commit 08749c8e7bf932672e1cf5e1e7830981aeb3b018
Author: Kobolog <me@kobology.ru>
Date:   Sun Jun 17 02:38:15 2012 +0400

    Removed an unneeded include in tests

 tests/test_router_behavior.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 6da48aed3a9b80d87f30ca634dd586a734c0df51
Author: Kobolog <me@kobology.ru>
Date:   Sun Jun 17 02:36:08 2012 +0400

    Fixed tests

 tests/test_router_behavior.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 829d0003beb251643e9c7ece33c702a3a18fc017
Author: Kobolog <me@kobology.ru>
Date:   Sun Jun 17 02:33:43 2012 +0400

    Verbose ROUTER socket behavior patch

 doc/zmq_setsockopt.txt         |   16 +++++-----
 doc/zmq_socket.txt             |   10 +++----
 include/zmq.h                  |    2 +-
 src/router.cpp                 |   19 ++++++------
 src/router.hpp                 |    5 ++--
 tests/Makefile.am              |    4 ++-
 tests/test_router_behavior.cpp |   64 ++++++++++++++++++++++++++++++++++++++++
 7 files changed, 93 insertions(+), 27 deletions(-)

commit 21eb8c8fa50e1b00dbc27c41e4a7c6f69d8e79de
Merge: 7753379 7d99129
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 16 12:53:11 2012 -0700

    Merge pull request #382 from hurtonm/master

    Fix open_socket to return -1 (INVALID_SOCKET on Windows) on error

commit 7d991294118edbe080da3a713a28c639c5ea1e96
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 16 21:46:05 2012 +0200

    Fix open_socket to return -1 (INVALID_SOCKET on Windows) on error

 src/ip.cpp |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 7753379eab33109a8f15765d843df213a955978c
Merge: c8d0d68 919bd96
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 14 23:09:59 2012 -0700

    Merge pull request #381 from hurtonm/connecter_cleanups

    Connecter cleanups

commit 919bd9628dfcfa497056a2e8427fafc46e206a2a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Jun 15 02:12:26 2012 +0200

    {tcp|ipc}_connecter: check whether socket is valid before closing it

    Calling close () when the underlying socket is invalid
    triggers an assertion failure.

 src/ipc_connecter.cpp |    3 ++-
 src/tcp_connecter.cpp |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit ec9f8994a742dc36b2da64e7de7480619cd30285
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jun 13 03:34:48 2012 +0200

    Simplify {tcp|ipc}_connecter

    Make start_connecting () to have singe exit point.

 src/ipc_connecter.cpp |    8 ++++----
 src/tcp_connecter.cpp |    8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit e0fed9d29a007f0d0e33a97b6cf617138081b578
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jun 13 02:33:02 2012 +0200

    Simplify {tcp|ipc}_connecter

    The patch is meant to make the code easier to understand.
    The 'wait' attribute is replaced by 'delayed_start'
    and 'timer_started' attributes. The former is constant and
    is initialized in the constructor. The latter is a flag
    reflecting whether a timer has been started and changes during
    the lifetime of the object.

 src/ipc_connecter.cpp |   20 ++++++++++----------
 src/ipc_connecter.hpp |   11 +++++++----
 src/tcp_connecter.cpp |   20 ++++++++++----------
 src/tcp_connecter.hpp |   11 +++++++----
 4 files changed, 34 insertions(+), 28 deletions(-)

commit c8d0d684712c6fce6556ce992ff584a35ae877e0
Merge: 67ab339 eb6c668
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Jun 14 12:17:51 2012 -0700

    Merge pull request #380 from jlopex/master

    current libzmq not compiling with android NDK

commit eb6c668c2ae961a4a53d11d81dd6d2df5bffa666
Author: Javier Lopez <jlopex@cozybit.com>
Date:   Fri Jun 8 11:46:45 2012 -0700

    libzmq3.x not compiling on Android crosscompiler

    - Android crosscompiler shows a warning about two signed/unsigned checks
      on compilation, this patch adds casts to avoid this, so zmq3.x can
      compile on it.

 src/tcp_address.cpp |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 67ab3390ecde685d4280c424ce3955363cdcd486
Merge: 426ea71 a96dcfb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Jun 14 02:55:32 2012 -0700

    Merge pull request #379 from hitenp/doc-changes

    Correct typo: add missing single quote.

commit a96dcfb29ac983f9a55011145e12c7fa3ae84fe4
Author: Hiten P <hp010170@gmail.com>
Date:   Thu Jun 14 10:52:44 2012 +0100

    Correct typo: add missing single quote.

 doc/zmq_socket.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 426ea7169743f9105e2f1d5090e5d6285e4be0ea
Merge: f35bed0 acbb993
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 13 16:45:48 2012 -0700

    Merge pull request #378 from steve-o/err-handler

    Fix #LIBZMQ-329 assertion on WSAEACCES

commit acbb99383f3079f258dd4e7708672330c21b6edb
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Wed Jun 13 19:42:11 2012 -0400

    Add additional Windows Sockets Error Codes.

 src/err.cpp |   61 +++++++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 51 insertions(+), 10 deletions(-)

commit f35bed0edce3579ba24a415092f3975ac22b9735
Merge: a9507cc 75d6728
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 13 06:09:42 2012 -0700

    Merge pull request #377 from hurtonm/master

    {tcp|ipc}_listener: close socket when set_address () fails

commit 75d67286cc7863f1a7cbb00f4e1bc872dffa964a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jun 13 14:48:27 2012 +0200

    {tcp|ipc}_listener: close socket when set_address () fails

 src/ipc_listener.cpp |   10 ++++++++--
 src/tcp_listener.cpp |   14 ++++++++++----
 2 files changed, 18 insertions(+), 6 deletions(-)

commit a9507cc267aac358f40900eac6f482bf34147761
Merge: dc9749f c7c834a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 13 04:20:04 2012 -0700

    Merge pull request #376 from ianbarber/master

    Add unistd header to test

commit c7c834a9453932c091bea3a7434444413b58713b
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jun 13 12:18:22 2012 +0100

    Add unistd header to test_connect_delay header

    For sleep and usleep

 tests/test_connect_delay.cpp |    1 +
 1 file changed, 1 insertion(+)

commit dc9749fc67208f2c01f045da049d597ff9ff76df
Merge: 9e1e68e 35c55a2
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 13 00:04:13 2012 -0700

    Merge pull request #375 from ianbarber/master

    Add newline to end of new test file

commit 35c55a2cde07434bc185d81ed2f567a56959a0a4
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jun 13 07:47:18 2012 +0100

    Add newline to end of test_connect_delay file

 tests/test_connect_delay.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9e1e68ef16a44e1b66cecbaee9fc6712461b3162
Merge: 076e081 b2e56c5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 12 23:15:11 2012 -0700

    Merge pull request #374 from steve-o/branding

    Add ZeroMQ branding.

commit b2e56c5e4f604ce82a735a5c4570b71307f51ccf
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Jun 12 21:30:24 2012 -0400

    Add ZeroMQ branding.

 branding.bmp      |  Bin 0 -> 25818 bytes
 installer.ico     |  Bin 0 -> 2842 bytes
 src/version.rc.in |   93 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 93 insertions(+)

commit 076e081de2f27c054ba04c5721b0901a7baaa8c0
Merge: e1cc2d4 bc9ae71
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 12 14:18:51 2012 -0700

    Merge pull request #373 from ianbarber/master

    Add ZMQ_DELAY_ATTACH_ON_CONNECT sockopt

commit e1cc2d4a41275190391ff71398689a50956118fb
Merge: 95cbad3 704b952
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 12 12:26:20 2012 -0700

    Merge pull request #372 from ianbarber/manfix

    Update bind and connect documentation for clarity

commit bc9ae715c33fff8dbe3f4c8ecce46c691ad82f41
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 17:56:39 2012 +0100

    Add asserts and rename pipe set

    Rename the pipeset to terminating_pipes, as suggested by Martin H. Adds
    asserts to test the pipe is contained in the terminating set where
    appropriate.

 src/session_base.cpp |   16 ++++++++++------
 src/session_base.hpp |    2 +-
 2 files changed, 11 insertions(+), 7 deletions(-)

commit 704b952274b7bfe2952f564d6d81dff1f279a453
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 15:49:18 2012 +0100

    Add reference to the inproc documentation

    The previous note in connect introduced but did not elaborate on the
    requirement to bind before connect in inproc. As that discussion is in
    detail in the inproc docs link to there.

 doc/zmq_connect.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7b78ed9d604a5d78af65eefaa456e98854874b3d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 15:46:26 2012 +0100

    Update bind and connect documentation for clarity

    Based on discussion with Steve O on the list, make the difference
    between bind and connect usage more clear, and add a note reflecting the
    fact that inproc must have bind before connect to reinforce the
    information in zmq_inproc.

 doc/zmq_bind.txt    |   12 +++++++-----
 doc/zmq_connect.txt |   17 +++++++++++------
 2 files changed, 18 insertions(+), 11 deletions(-)

commit e5904e63cebc96048bac7c30ae91c16edfff5922
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 15:34:48 2012 +0100

    Allow blocking while connect() is completing

    This patch, salvaged from a trainwreck accidental merge earlier, adds a
    new sockopt, ZMQ_DELAY_ATTACH_ON_CONNECT which prevents a end point
    being available to push messages to until it has fully connected, making
    connect work more like bind. This also applies to reconnecting sockets,
    which may cause message loss of in-queue messages, so it is sensible to
    use this in conjunction with a low HWM and potentially an alternative
    acknowledgement path.

    Notes on most of the individual commits can be found the repository log.

 .gitignore             |    1 +
 doc/zmq_getsockopt.txt |   15 +++++++++++++++
 doc/zmq_setsockopt.txt |   14 ++++++++++++++
 include/zmq.h          |    1 +
 src/lb.cpp             |    3 +--
 src/options.cpp        |   27 +++++++++++++++++++++++++++
 src/options.hpp        |    4 ++++
 src/session_base.cpp   |   40 ++++++++++++++++++++++++++++++----------
 src/session_base.hpp   |    3 +++
 src/socket_base.cpp    |   34 ++++++++++++++++++++--------------
 tests/Makefile.am      |    2 ++
 11 files changed, 118 insertions(+), 26 deletions(-)

commit 409d5e8fff0dc0ebdefe3da2a866021ce2aca18d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 15:31:23 2012 +0100

    Allow blocking while connect() is completing

    This patch, salvaged from a trainwreck accidental merge earlier, adds a
    new sockopt, ZMQ_DELAY_ATTACH_ON_CONNECT which prevents a end point
    being available to push messages to until it has fully connected, making
    connect work more like bind. This also applies to reconnecting sockets,
    which may cause message loss of in-queue messages, so it is sensible to
    use this in conjunction with a low HWM and potentially an alternative
    acknowledgement path.

    Notes on most of the individual commits can be found the repository log.

 tests/test_connect_delay.cpp |  260 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 260 insertions(+)

commit 95cbad3841fdd319cd19722ef88b9e49909aff2f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:53:57 2012 +0100

    Revert "After speaking with Ben Gray and the discussion on the mailing list, this is an attempt to create a sockopt to allow connecting pipes to not immediately be available for traffic. The problem is in a PUSH to many PULL situation, where there is a connect to a PULL which is not there. This connect will immediately create a pipe (unlike bind), and traffic will be load balanced to that pipe. This means if there is a persistently unavailable end point then the traffic will queue until HWM is hit, and older messages will be lost."

    This reverts commit fe3fb419fe249d7015a6c864d18464d434a55468.

 .gitignore                   |    1 -
 doc/zmq_getsockopt.txt       |   15 -----
 doc/zmq_setsockopt.txt       |   13 -----
 include/zmq.h                |    1 -
 src/lb.cpp                   |    3 +-
 src/options.cpp              |   25 --------
 src/options.hpp              |    4 --
 src/session_base.cpp         |   29 ----------
 src/session_base.hpp         |    6 --
 src/socket_base.cpp          |    5 +-
 tests/Makefile.am            |    2 -
 tests/test_connect_delay.cpp |  131 ------------------------------------------
 12 files changed, 3 insertions(+), 232 deletions(-)

commit a563d494bbbaf0d003bad0901a7d49ac24041857
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:53:38 2012 +0100

    Revert "Remove extra brackets as suggested by Martin H, and fix up a comment which was missing a word"

    This reverts commit b79aaaf473c4ef61bbd45e711d48fceb06dc9ad1.

 src/session_base.cpp |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit cc230cfe6097e0ad68375d0251c879bac551016e
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:52:38 2012 +0100

    Revert "And another typo on the same comment"

    This reverts commit 297af954514d9b2097c5e2df980bbe16dd72e761.

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b167aa8964fbe65546bf3717ec7b53fb0a0e82d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:52:18 2012 +0100

    Revert "Remove the extra outpipe handling as the session is quite capable of delaying the creation of the pipe until the connection has happened. Simply don't build the pipe, and let it do that automatically."

    This reverts commit 06485d9200ac697896dc4bd162fa4f8b4c2ddaf6.

 src/session_base.cpp |   32 ++++++++++++++++++++++++++++++--
 src/session_base.hpp |    5 ++++-
 src/socket_base.cpp  |   31 ++++++++++++++++---------------
 3 files changed, 50 insertions(+), 18 deletions(-)

commit 81b8362a5909975125ca627abd00e1461f56fffa
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:51:50 2012 +0100

    Revert "Fix a number of whitespace issues in various parts of the code, add validation to most calls on the test and take a first stab at implementing the reconnection pipe blocking."

    This reverts commit 6f6466f0884a169fd25a48195dd9a4e2135818e6.

 src/command.hpp              |    6 -----
 src/object.cpp               |   19 --------------
 src/object.hpp               |    2 --
 src/session_base.cpp         |   13 +---------
 src/session_base.hpp         |    8 +++---
 src/socket_base.cpp          |   17 +++----------
 src/socket_base.hpp          |    3 ---
 tests/test_connect_delay.cpp |   58 +++++++++++++++---------------------------
 8 files changed, 29 insertions(+), 97 deletions(-)

commit 48d3977632fd6eed6977d2eab0ac421efd454b8e
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:51:33 2012 +0100

    Revert "Fix condition so that PGM and EPGM sockets always create pipes immediately, even if delay_attach_on_connect is set. This allows passing through the icanhasall flag, and is realistic given the fact those protocols should be able to connect immediately"

    This reverts commit b5ace39e2a48b906237d869f4f819f1a28a8cee7.

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6c382c5c61b9b31050cf92cd6119184cb38e7ab1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:51:19 2012 +0100

    Revert "Fix whitespace in test"

    This reverts commit 0b3478d6ecf0772c4c6e6ff4e4bdfdeef61cf003.

 tests/test_connect_delay.cpp |   38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit 72bae207a3dd2891f27f3f052e82631dfbf04712
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:51:05 2012 +0100

    Revert "Rebinding on reconnection to allow for the pipe blocking will set the event sink again, which will cause an assert to be triggered. I have modified that to allow for setting the same sink to be OK. I believe this should be ok - on termination, if a pipe hasn't reconnected, it would just attempt to be erased from the pipes list again, which is reasonable"

    This reverts commit 1566091bc6cbf2a69b19243be3906c6d92ac339a.

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f0920caf0226f724e46f0b843b72841be3dcbc1f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:50:50 2012 +0100

    Revert "On the advice of Martin Hurton, removed the new command type and just terminated the pipe in a reconnect situation, and notified the socket of the same. This handles the blocking properly, but at the cost of potentially losing in flight messages. However, this is a reasonable trade off given how much simpler it makes the patch."

    This reverts commit c13f1d52ff9ed51a651ad8bcc9379e82d9318e86.

 src/command.hpp      |    6 ++++++
 src/object.cpp       |   19 +++++++++++++++++++
 src/object.hpp       |    2 ++
 src/session_base.cpp |   13 +++++--------
 src/socket_base.cpp  |   11 +++++++++++
 src/socket_base.hpp  |    3 +++
 6 files changed, 46 insertions(+), 8 deletions(-)

commit b020bd4ba8b8860aa868663999f6fb9395cc98d7
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:49:44 2012 +0100

    Revert "Remove unnecessary extra test in pipe assertion - now we are terminating pipes we don't need to allow the case in which a pipe is rebound to the same sink"

    This reverts commit 29f8d9ca15f679132302ca5a9016692c2be1d6b2.

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 956cfd9f75963b25632c1e7b53a82661c753525e
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:49:21 2012 +0100

    Revert "Fix incorrect whitespace in if statement"

    This reverts commit 55cbdfcf261b41f6a9b71bb26ce7336da7f73eec.

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74175decb43386f1b7f95670560be40ae5915774
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:48:24 2012 +0100

    Revert "Removing unnecessary outpipe values that had been used for reconnecting existing pipes - no longer needed when using a pipe term for the delay_attach situation."

    This reverts commit ace7c99b917dd66f1fcaed3cbb50c988b7e33b09.

 src/session_base.cpp |    6 ++++++
 src/session_base.hpp |    3 +++
 2 files changed, 9 insertions(+)

commit 440af0022df056d00e29c7a095e9b1cf7eb48118
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:48:00 2012 +0100

    Revert "Restoring comment for clarity"

    This reverts commit 09956dee939a06c0734004aa3f39c491ec49c6f8.

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8968b294e0da4ea8811441ffd62a5bc84b73839c
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:47:27 2012 +0100

    Revert "When detaching a pipe, as well as checking the delay on connect sockopt is set, also ensure that the protocol is not pgm or epgm as we are not implementing the functionality for multicase types"

    This reverts commit 5008f385bab2dd89c68d7ff93e0c5b303c6043e8.

 src/session_base.cpp |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 836fa4b7cac4dfbb70c7babaef2abcef92249c89
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:47:10 2012 +0100

    Revert "The previous code to block the socket from receiving on that pipe during a disconnect was vulnerable to a race condition. This code calls with the terminate functions of both ends of the pipe - I believe this should be safer. This required storing a pointer to the socket end of the pipe"

    This reverts commit 336f72720a99195942ced5c6aad2bb8e0baa3f32.

 src/session_base.cpp |    6 ++----
 src/session_base.hpp |    3 ---
 2 files changed, 2 insertions(+), 7 deletions(-)

commit 2c6f26153e913e159f1fb739ec80ea73fbb53d6a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:46:38 2012 +0100

    Revert "Reverted to a simpler shutdown. This seems to disconnect and reconnect the pipe properly, but there is a problem in overall shutdown when the pipe has blocked and reconnected - the session seems to get terminated() called on it only in shutdown for the original pipe, by which point it has been replaced. I am not sure at the moment why this only happens then, but this does mean this patch is broken at the moment"

    This reverts commit b84b007981d9247bcc7bd000e4aeb56baed56de2.

 src/session_base.cpp |   21 ++++++++++++---------
 src/session_base.hpp |    3 +++
 2 files changed, 15 insertions(+), 9 deletions(-)

commit 3ae68d67a451162cf70dadc72f39da892be6f0a0
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:46:23 2012 +0100

    Revert "Use the hiccup mechanism to notify the socket end of the pair of the change in state, and have it shutdown that end, and shutdown the local end normally. This seems to resolve the shutdown and race condition issues."

    This reverts commit 67497a26439239fdb95652b46d7e4e41fe672b31.

 src/session_base.cpp |    6 +++---
 src/socket_base.cpp  |    7 +------
 2 files changed, 4 insertions(+), 9 deletions(-)

commit f5a072fee1067d07e33005534e37c452645b2e03
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:46:01 2012 +0100

    Revert "Code formatting, and clean up so that xhiccuped is only handled in case the pipe isn't terminating"

    This reverts commit 5da289cd5bf0f3c367d3eb091ac66e5f4ce2b97c.

 src/socket_base.cpp |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 6eeaf151797411914d5af48a89c70be3959e6e0d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:45:36 2012 +0100

    Revert "Remove unnecessary condition in assert"

    This reverts commit 3053f7e368149044e5d5887e78fc96c1b9f33141.

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9926f6f24fd931e97950033cff4a172ab4f7426
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:45:14 2012 +0100

    Revert "As Martin pointed out, there is a race condition in the old code where a pipe could start shutting down after disconnection, but the new one could connect first. This connection would not get a pipe created for it, so the messages could never flow. The simplest way round this would be a flag, but it is possibly for a very bouncy but fast connection to go up and down twice I imagine, so instead I have added a counter. This starts at zero, and will null out the pipe if terminate is called while it is zero. On a disconnect situation the counter is incremented, and the pipe is the not nulled if the value is non zero. In the terminated function it is decremented for each pipe that is shut down, and the assertion that the terminated pipe == the current pipe is skipped while it is non-zero. This should deal with the race condition and not allow any extra terminated() calls without hitting the assertion."

    This reverts commit a5f7300da6aa2224638fc932fe5ca3624189b1c1.

 src/session_base.cpp |   15 ++++-----------
 src/session_base.hpp |    3 ---
 2 files changed, 4 insertions(+), 14 deletions(-)

commit 19da88be67a23ffffe3530526e6af6e238c12fd3
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:44:41 2012 +0100

    Revert "Filter read and write activated calls from the pipe to the session, and delay shutdown in terminated until the final pipe is shutdown."

    This reverts commit a90c1db7d2c0d32f9a0177d46502505efac654a5.

 src/session_base.cpp |   18 ++----------------
 1 file changed, 2 insertions(+), 16 deletions(-)

commit 4aaf3e6389f8c72d5492905f80bb2a6c6db6ca44
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:44:12 2012 +0100

    Revert "Add disconnect test"

    This reverts commit d8f3487ee1c15e9cd9df8a795529765f7bb00ef1.

 tests/test_connect_delay.cpp |  121 ++----------------------------------------
 1 file changed, 3 insertions(+), 118 deletions(-)

commit eb14890d2363c15fe0486acbdaf698b6068f4d97
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:43:18 2012 +0100

    Revert "Revert "Merge branch 'master' of github.com:ianbarber/libzmq""

    This reverts commit 029d3dfae2c2bf9e10c7f05d78593f481569bbd7.

 src/Makefile.am                |    2 +
 src/decoder.cpp                |    2 +-
 src/fq.cpp                     |   10 ++--
 src/ip.cpp                     |   83 ---------------------------
 src/ip.hpp                     |    6 --
 src/session_base.cpp           |   48 +++++++++++-----
 src/session_base.hpp           |    4 +-
 src/signaler.cpp               |    4 +-
 src/socket_base.cpp            |    6 +-
 src/tcp.cpp                    |  122 ++++++++++++++++++++++++++++++++++++++++
 src/tcp.hpp                    |   38 +++++++++++++
 src/tcp_connecter.cpp          |    1 +
 src/tcp_listener.cpp           |    1 +
 tests/test_connect_delay.cpp   |  121 ++++++++++++++++++++++++++++++++++++++-
 tests/test_connect_resolve.cpp |    2 +-
 15 files changed, 331 insertions(+), 119 deletions(-)

commit bdd4e1351d0446579caaad19e8ef4a4cf3d5e710
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:28:32 2012 +0100

    Revert "Revert "Merge branch 'master' of github.com:zeromq/libzmq""

    This reverts commit dde69fb9fb928db1850eb209db7aed79e26777fb.

 src/ipc_connecter.cpp |   28 +++++++++++++++++++++-------
 src/ipc_connecter.hpp |    1 +
 src/ipc_listener.cpp  |    3 +--
 src/tcp_connecter.cpp |   28 +++++++++++++++++++++-------
 src/tcp_connecter.hpp |    1 +
 src/tcp_listener.cpp  |    3 +--
 6 files changed, 46 insertions(+), 18 deletions(-)

commit 029d3dfae2c2bf9e10c7f05d78593f481569bbd7
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:13:17 2012 +0100

    Revert "Merge branch 'master' of github.com:ianbarber/libzmq"

    This reverts commit 33459029793474d14cdb48f85ad2c58dc7ed156f, reversing
    changes made to 889b0e6f29f0cce566339b13b8a44f3b97836b6e.

 src/Makefile.am                |    2 -
 src/decoder.cpp                |    2 +-
 src/fq.cpp                     |   10 ++--
 src/ip.cpp                     |   83 +++++++++++++++++++++++++++
 src/ip.hpp                     |    6 ++
 src/session_base.cpp           |   48 +++++-----------
 src/session_base.hpp           |    4 +-
 src/signaler.cpp               |    4 +-
 src/socket_base.cpp            |    6 +-
 src/tcp.cpp                    |  122 ----------------------------------------
 src/tcp.hpp                    |   38 -------------
 src/tcp_connecter.cpp          |    1 -
 src/tcp_listener.cpp           |    1 -
 tests/test_connect_delay.cpp   |  121 +--------------------------------------
 tests/test_connect_resolve.cpp |    2 +-
 15 files changed, 119 insertions(+), 331 deletions(-)

commit dde69fb9fb928db1850eb209db7aed79e26777fb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:12:03 2012 +0100

    Revert "Merge branch 'master' of github.com:zeromq/libzmq"

    This reverts commit 7b10586558268479e62ed901f3d8d76916bc6c8a, reversing
    changes made to 33459029793474d14cdb48f85ad2c58dc7ed156f.

 src/ipc_connecter.cpp |   28 +++++++---------------------
 src/ipc_connecter.hpp |    1 -
 src/ipc_listener.cpp  |    3 ++-
 src/tcp_connecter.cpp |   28 +++++++---------------------
 src/tcp_connecter.hpp |    1 -
 src/tcp_listener.cpp  |    3 ++-
 6 files changed, 18 insertions(+), 46 deletions(-)

commit 6117a2b09945f8bda67eb61f7baec4ed9ae7fc8a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 14:07:54 2012 +0100

    Revert "Replace incomplete count with a std::set"

    This reverts commit 4aa5ba3d119b98c8f1e4e682a6ee7c57d460cc55.
    Unintentional merge

 src/session_base.cpp         |   33 +++++++++++++++++++--------------
 src/session_base.hpp         |    4 ++--
 tests/test_connect_delay.cpp |    2 ++
 3 files changed, 23 insertions(+), 16 deletions(-)

commit 4aa5ba3d119b98c8f1e4e682a6ee7c57d460cc55
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 12:13:21 2012 +0100

    Replace incomplete count with a std::set

    This commit removes the countdown flag and adds a set to store the pipes
    that are currently being disconnected.

 src/session_base.cpp         |   33 ++++++++++++++-------------------
 src/session_base.hpp         |    4 ++--
 tests/test_connect_delay.cpp |    2 --
 3 files changed, 16 insertions(+), 23 deletions(-)

commit 7b10586558268479e62ed901f3d8d76916bc6c8a
Merge: 3345902 b448de9
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 11:34:24 2012 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit 33459029793474d14cdb48f85ad2c58dc7ed156f
Merge: 889b0e6 d8f3487
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 12 11:34:17 2012 +0100

    Merge branch 'master' of github.com:ianbarber/libzmq

commit b448de926befa42c4e9054464ec5635c95cc4d96
Merge: ace8f75 3ec8e57
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 11 23:57:21 2012 -0700

    Merge pull request #371 from hurtonm/fix_race_condition_in_connecters

    Fix race conditions in {tcp,ipc}_connecter

commit 3ec8e576d99a332514a5338671a18413ce03ba98
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Jun 12 01:39:16 2012 +0200

    Fix race conditions in {tcp,ipc}_connecter

    Once the object has been terminated, it is unsafe for this object
    to refer to its parent.

    The bug was responsible for occasional
    test_shutdown_stress failures.

 src/ipc_connecter.cpp |   28 +++++++++++++++++++++-------
 src/ipc_connecter.hpp |    1 +
 src/ipc_listener.cpp  |    3 +--
 src/tcp_connecter.cpp |   28 +++++++++++++++++++++-------
 src/tcp_connecter.hpp |    1 +
 src/tcp_listener.cpp  |    3 +--
 6 files changed, 46 insertions(+), 18 deletions(-)

commit d8f3487ee1c15e9cd9df8a795529765f7bb00ef1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 11 20:04:09 2012 +0100

    Add disconnect test

    Add a new section to the connect delay test that disconnects and
    reconnects a socket to ensure that some messages are appropriately
    blocked.

 tests/test_connect_delay.cpp |  121 ++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 118 insertions(+), 3 deletions(-)

commit a90c1db7d2c0d32f9a0177d46502505efac654a5
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 11 07:58:59 2012 +0100

    Filter read and write activated calls from the pipe to the session, and delay shutdown in terminated until the final pipe is shutdown.

 src/session_base.cpp |   18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit a5f7300da6aa2224638fc932fe5ca3624189b1c1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 10 19:57:02 2012 +0100

    As Martin pointed out, there is a race condition in the old code where a pipe could start shutting down after disconnection, but the new one could connect first. This connection would not get a pipe created for it, so the messages could never flow. The simplest way round this would be a flag, but it is possibly for a very bouncy but fast connection to go up and down twice I imagine, so instead I have added a counter. This starts at zero, and will null out the pipe if terminate is called while it is zero. On a disconnect situation the counter is incremented, and the pipe is the not nulled if the value is non zero. In the terminated function it is decremented for each pipe that is shut down, and the assertion that the terminated pipe == the current pipe is skipped while it is non-zero. This should deal with the race condition and not allow any extra terminated() calls without hitting the assertion.

 src/session_base.cpp |   15 +++++++++++----
 src/session_base.hpp |    3 +++
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 841cf69eb7560c425ea5fa4566048b7ab01daa42
Merge: 3053f7e ace8f75
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 10 19:18:18 2012 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit ace8f753e10e3ff35791a0cbc3399958c0b039a5
Merge: e9bfd76 1f53697
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 10 04:07:12 2012 -0700

    Merge pull request #370 from hurtonm/code_cleanup

    Use struct keyword consistently with sockaddr and sockaddr_in

commit 1f536972115dc4daf3a279fd557f069e00686a24
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Jun 10 02:14:43 2012 +0200

    Use struct keyword consistently with sockaddr and sockaddr_in

 src/signaler.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e9bfd76f8761a6724801bf2676897f69ea87aea6
Merge: 66b7edf 602c501
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 9 07:13:30 2012 -0700

    Merge pull request #368 from hurtonm/code_cleanup

    Small code simplification

commit 66b7edfbd16c36e7c684bb21b4779e2b80b56266
Merge: b0792ec 796212a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Jun 9 07:12:48 2012 -0700

    Merge pull request #367 from hurtonm/issue_309

    Fix the message decoder to ignore reserved flags.

commit 602c50117c4325c87c93f9ce038f4c1c9067a307
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 9 14:21:01 2012 +0200

    Small code simplification

 src/fq.cpp |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 796212a985964162a284cc667ab09834ce681466
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 9 12:52:26 2012 +0200

    Fix the message decoder to ignore reserved flags.

    Failing to clear the reserved flags, the decoder may produce
    messages with 'identity' and 'shared' flags set.
    This unintended modification of message flags can lead to memory
    errors or asserion failures.

    Fixes issue #309

 src/decoder.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3053f7e368149044e5d5887e78fc96c1b9f33141
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 9 00:08:14 2012 +0100

    Remove unnecessary condition in assert

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5da289cd5bf0f3c367d3eb091ac66e5f4ce2b97c
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Jun 9 00:07:30 2012 +0100

    Code formatting, and clean up so that xhiccuped is only handled in case the pipe isn't terminating

 src/socket_base.cpp |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 0bf1d0262e6b985622461888b1e2e5f732bd95b4
Merge: 67497a2 b0792ec
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 8 23:55:58 2012 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 67497a26439239fdb95652b46d7e4e41fe672b31
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 8 23:55:42 2012 +0100

    Use the hiccup mechanism to notify the socket end of the pair of the change in state, and have it shutdown that end, and shutdown the local end normally. This seems to resolve the shutdown and race condition issues.

 src/session_base.cpp |    6 +++---
 src/socket_base.cpp  |    7 ++++++-
 2 files changed, 9 insertions(+), 4 deletions(-)

commit b0792ec78a1ec7fe207f3c44c363be58a6805afe
Merge: 1c65921 db13fbf
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 8 15:04:09 2012 -0700

    Merge pull request #366 from hitenp/tcp-consolidate

    Consolidate TCP-specific common code into their own files.

commit db13fbf4a996726bd634f050c98be7a0762b2822
Author: Hiten P <hp010170@gmail.com>
Date:   Fri Jun 8 18:04:40 2012 +0100

    Consolidate TCP-specific common code into their own files.

    The TCP keepalive tuning code has been moved into the newly added
    files; this also allows future TCP-specific code to be added into
    these files, without bloating the IP level code and establishes a
    known file structure for other IP-based transports.

    Remember: this is a no-op change, hence no API or functionality
    was changed as part of this commit.

 src/Makefile.am       |    2 +
 src/ip.cpp            |   83 ---------------------------------
 src/ip.hpp            |    6 ---
 src/tcp.cpp           |  122 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/tcp.hpp           |   38 +++++++++++++++
 src/tcp_connecter.cpp |    1 +
 src/tcp_listener.cpp  |    1 +
 7 files changed, 164 insertions(+), 89 deletions(-)

commit 1c6592157b2444f96a6f1be19a673d7dec621c0d
Merge: 1dcedf7 31cb1f2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 8 05:24:26 2012 -0700

    Merge pull request #365 from hitenp/master

    Change connection failure test to use an invalid hostname

commit 31cb1f297d5a25eec25feb263e67e23a1812339d
Author: Hiten P <hp010170@gmail.com>
Date:   Fri Jun 8 13:15:45 2012 +0100

    Change connection failure test to use an invalid hostname

    - invalid hostname set to 0mq.is.the.best (naturally!)
    - issue happens as other valid-like non-existent hostnames were
      redirected by buggy Cable/ISP DNS servers

 tests/test_connect_resolve.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b84b007981d9247bcc7bd000e4aeb56baed56de2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jun 6 23:12:56 2012 +0100

    Reverted to a simpler shutdown. This seems to disconnect and reconnect the pipe properly, but there is a problem in overall shutdown when the pipe has blocked and reconnected - the session seems to get terminated() called on it only in shutdown for the original pipe, by which point it has been replaced. I am not sure at the moment why this only happens then, but this does mean this patch is broken at the moment

 src/session_base.cpp |   21 +++++++++------------
 src/session_base.hpp |    3 ---
 2 files changed, 9 insertions(+), 15 deletions(-)

commit 889b0e6f29f0cce566339b13b8a44f3b97836b6e
Merge: 8643d71 1dcedf7
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jun 6 15:23:51 2012 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit 1dcedf7ab16765d9008c4852361af7ad65f54bd5
Merge: 3db9bf3 271ced9
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jun 6 07:16:29 2012 -0700

    Merge pull request #364 from AlexBio/fix_unused_variable

    Remove unused variable which causes build to fail with -Werror

commit 8643d71ee80a17466c87bb3ce6be79ee09c1a410
Merge: 336f727 3db9bf3
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jun 6 15:04:56 2012 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit 3db9bf31b3a50f49ee9247ae8096a5d7f312c5fe
Merge: f611c57 4bd78bb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Jun 6 06:29:41 2012 -0700

    Merge pull request #363 from AlexBio/fix_nosigpipe_check

    Check if SO_NOSIGPIPE is defined

commit 4bd78bb4cf7be4036cf7bf077738f50849e06c19
Author: Alessandro Ghedini <al3xbio@gmail.com>
Date:   Wed Jun 6 15:08:00 2012 +0200

    Check if SO_NOSIGPIPE is defined

 src/stream_engine.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 271ced98cf55447260d8c13086126b74ef1df215
Author: Alessandro Ghedini <al3xbio@gmail.com>
Date:   Wed Jun 6 11:30:41 2012 +0200

    Remove unused variable which causes build to fail with -Werror

 src/pgm_socket.cpp |    1 -
 1 file changed, 1 deletion(-)

commit f611c57c48cf6b0d89766ff45906072271c69649
Merge: 4d4674e e5bb5a6
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 5 23:47:36 2012 -0700

    Merge pull request #362 from hintjens/master

    Bumped version for next release (3.3.0)

commit e5bb5a60f41e7d22b360f4436d0ccce79d9c625e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Jun 6 06:57:43 2012 +0200

    Bumped version to 3.3.0

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 336f72720a99195942ced5c6aad2bb8e0baa3f32
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 5 21:44:23 2012 +0100

    The previous code to block the socket from receiving on that pipe during a disconnect was vulnerable to a race condition. This code calls with the terminate functions of both ends of the pipe - I believe this should be safer. This required storing a pointer to the socket end of the pipe

 src/session_base.cpp |    6 ++++--
 src/session_base.hpp |    3 +++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 5008f385bab2dd89c68d7ff93e0c5b303c6043e8
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 5 18:41:38 2012 +0100

    When detaching a pipe, as well as checking the delay on connect sockopt is set, also ensure that the protocol is not pgm or epgm as we are not implementing the functionality for multicase types

 src/session_base.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4d4674e088c74d955b6e86182ea0c89815e95881
Merge: f8b79f8 97c48cc
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 5 10:33:34 2012 -0700

    Merge pull request #360 from vortechs2000/fix_hpux

    Fix build on HPUX 11iv3

commit 09d18e4b3cca0bd95adfde49096be6e380097f5d
Merge: 09956de f8b79f8
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Jun 5 18:32:15 2012 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit f8b79f888fa3a3743d28bb2611af0670144f7749
Merge: 897b6b5 616bcf9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 5 09:38:38 2012 -0700

    Merge pull request #361 from vortechs2000/fix_aix7

    Fix up build on AIX7

commit 897b6b58ea5830024e447e48c634d0fceb89abf9
Merge: 98ef560 3687789
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 5 09:11:25 2012 -0700

    Merge pull request #359 from vortechs2000/fix_older_linux_gcc

    Fix build on RHEL5 and SLES10

commit 97c48ccda6d772ed65b8b2f1ce4c94cf760a0270
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Tue Jun 5 09:44:02 2012 -0500

    Fix build on HPUX 11iv3

    The socket length variable for getsockname and accept must be an
    (int *) instead of a (socklen_t *) on HPUX.

    Signed-off-by: AJ Lewis <aj.lewis@quantum.com>

 src/ipc_listener.cpp |    4 ++++
 src/tcp_listener.cpp |    8 ++++++++
 2 files changed, 12 insertions(+)

commit 3687789f9d4cea0e23f462022248463d5050cc98
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Tue Jun 5 09:22:22 2012 -0500

    Fix build on RHEL5 and SLES10

    GCC 4.1.2 on RHEL5 and SLES10 don't like not having a newline at the
    end of a source file, and error out if it's missing.

    Signed-off-by: AJ Lewis <aj.lewis@quantum.com>

 tests/test_monitor.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 616bcf9fc2b0b6876014d5e5e4d52eef67a9137c
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Tue Jun 5 09:15:37 2012 -0500

    Fix up build on AIX7

    Copy logic from zmq.cpp into device.cpp for getting poll.h included.

    Ensure that zmq.h is included *after* poll.h in both zmq.cpp and
    device.cpp.

    Signed-off-by: AJ Lewis <aj.lewis@quantum.com>

 src/device.cpp |   25 +++++++++++++++++++++++++
 src/zmq.cpp    |    4 +++-
 2 files changed, 28 insertions(+), 1 deletion(-)

commit 09956dee939a06c0734004aa3f39c491ec49c6f8
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 4 11:41:20 2012 +0100

    Restoring comment for clarity

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ace7c99b917dd66f1fcaed3cbb50c988b7e33b09
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 4 11:40:14 2012 +0100

    Removing unnecessary outpipe values that had been used for reconnecting existing pipes - no longer needed when using a pipe term for the delay_attach situation.

 src/session_base.cpp |    6 ------
 src/session_base.hpp |    3 ---
 2 files changed, 9 deletions(-)

commit 55cbdfcf261b41f6a9b71bb26ce7336da7f73eec
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 4 10:31:30 2012 +0100

    Fix incorrect whitespace in if statement

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29f8d9ca15f679132302ca5a9016692c2be1d6b2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 4 10:29:44 2012 +0100

    Remove unnecessary extra test in pipe assertion - now we are terminating pipes we don't need to allow the case in which a pipe is rebound to the same sink

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c13f1d52ff9ed51a651ad8bcc9379e82d9318e86
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Jun 4 10:27:16 2012 +0100

    On the advice of Martin Hurton, removed the new command type and just terminated the pipe in a reconnect situation, and notified the socket of the same. This handles the blocking properly, but at the cost of potentially losing in flight messages. However, this is a reasonable trade off given how much simpler it makes the patch.

 src/command.hpp      |    6 ------
 src/object.cpp       |   19 -------------------
 src/object.hpp       |    2 --
 src/session_base.cpp |   13 ++++++++-----
 src/socket_base.cpp  |   11 -----------
 src/socket_base.hpp  |    3 ---
 6 files changed, 8 insertions(+), 46 deletions(-)

commit 1566091bc6cbf2a69b19243be3906c6d92ac339a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 3 23:27:02 2012 +0100

    Rebinding on reconnection to allow for the pipe blocking will set the event sink again, which will cause an assert to be triggered. I have modified that to allow for setting the same sink to be OK. I believe this should be ok - on termination, if a pipe hasn't reconnected, it would just attempt to be erased from the pipes list again, which is reasonable

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b3478d6ecf0772c4c6e6ff4e4bdfdeef61cf003
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 3 23:11:08 2012 +0100

    Fix whitespace in test

 tests/test_connect_delay.cpp |   38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit b5ace39e2a48b906237d869f4f819f1a28a8cee7
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 3 23:01:24 2012 +0100

    Fix condition so that PGM and EPGM sockets always create pipes immediately, even if delay_attach_on_connect is set. This allows passing through the icanhasall flag, and is realistic given the fact those protocols should be able to connect immediately

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6f6466f0884a169fd25a48195dd9a4e2135818e6
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 3 22:57:47 2012 +0100

    Fix a number of whitespace issues in various parts of the code, add validation to most calls on the test and take a first stab at implementing the reconnection pipe blocking.

    It didn't seem straightforward to use any of the existing process calls, so I have added a new command to command_t and friends called detach. This instructs the socket_base to remove the pipe from it's pipe list. The session base stores a copy of the outpipe, and will resend the bind command on reconnection. This should allow balancing again.

 src/command.hpp              |    6 +++++
 src/object.cpp               |   19 ++++++++++++++
 src/object.hpp               |    2 ++
 src/session_base.cpp         |   13 +++++++++-
 src/session_base.hpp         |    8 +++---
 src/socket_base.cpp          |   17 ++++++++++---
 src/socket_base.hpp          |    3 +++
 tests/test_connect_delay.cpp |   58 +++++++++++++++++++++++++++---------------
 8 files changed, 97 insertions(+), 29 deletions(-)

commit 06485d9200ac697896dc4bd162fa4f8b4c2ddaf6
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 3 22:05:36 2012 +0100

    Remove the extra outpipe handling as the session is quite capable of delaying the creation of the pipe until the connection has happened. Simply don't build the pipe, and let it do that automatically.

 src/session_base.cpp |   32 ++------------------------------
 src/session_base.hpp |    5 +----
 src/socket_base.cpp  |   31 +++++++++++++++----------------
 3 files changed, 18 insertions(+), 50 deletions(-)

commit 297af954514d9b2097c5e2df980bbe16dd72e761
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 3 21:38:41 2012 +0100

    And another typo on the same comment

 src/session_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b79aaaf473c4ef61bbd45e711d48fceb06dc9ad1
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Jun 3 21:34:41 2012 +0100

    Remove extra brackets as suggested by Martin H, and fix up a comment which was missing a word

 src/session_base.cpp |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit f687a2989b7b4766e8ef7c459c8426e2e7ccbce7
Merge: fe3fb41 98ef560
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 1 21:49:07 2012 +0100

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 98ef56039ee1c43f31fd6c411447165a5046e347
Merge: c28af41 0f58a98
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 1 10:10:44 2012 -0700

    Merge pull request #358 from steve-o/issue-320-author

    Issue 320 author

commit 0f58a98b3e6b406e4eafe456351d1948e4351f47
Merge: 320684e 13976a3
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Fri Jun 1 13:03:19 2012 -0400

    Merge branch 'issue-320' of https://github.com/steve-o/libzmq into issue-320-author

commit 320684ef3998c5d8120e5e0e7b3e76cb38e5c3ad
Author: Douglas Young <rcxdude@gmail.com>
Date:   Wed May 30 20:52:19 2012 -0400

    Return error on invalid PGM url instead of raising assertion (Douglas Young).
    Fix Win32 build.

 src/decoder.cpp     |    5 +++++
 src/pgm_socket.cpp  |   52 ++++++++++++++++++++++++++++++++++-----------------
 src/pgm_socket.hpp  |    3 +++
 src/socket_base.cpp |   14 ++++++++++++++
 4 files changed, 57 insertions(+), 17 deletions(-)

commit fe3fb419fe249d7015a6c864d18464d434a55468
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Jun 1 17:58:19 2012 +0100

    After speaking with Ben Gray and the discussion on the mailing list, this is an attempt to create a sockopt to allow connecting pipes to not immediately be available for traffic. The problem is in a PUSH to many PULL situation, where there is a connect to a PULL which is not there. This connect will immediately create a pipe (unlike bind), and traffic will be load balanced to that pipe. This means if there is a persistently unavailable end point then the traffic will queue until HWM is hit, and older messages will be lost.

    This patch adds a sockopt ZMQ_DELAY_ATTACH_ON_CONNECT, which if set to 1 will attempt to preempt this behavior. It does this by extending the use of the session_base to include in the outbound as well as the inbound pipe, and only associates the pipe with the socket once it receives the connected callback via a process_attach message. This works, and a test has been added to show so, but may introduce unexpected complications. The shutdown logic in this class has become marginally more awkward because of this, requiring the session to serve as the sink for both pipes if shutdown occurs with a still-connecting pipe in place. It is also possible there could be issues around flushing the messages, but as I could not directly think how to create such an issue I have not written any code with regards to that.

    The documentation has been updated to reflect the change, but please do check over the code and test and review.

 .gitignore                   |    1 +
 doc/zmq_getsockopt.txt       |   15 +++++
 doc/zmq_setsockopt.txt       |   13 +++++
 include/zmq.h                |    1 +
 src/lb.cpp                   |    3 +-
 src/options.cpp              |   25 ++++++++
 src/options.hpp              |    4 ++
 src/session_base.cpp         |   29 ++++++++++
 src/session_base.hpp         |    6 ++
 src/socket_base.cpp          |    5 +-
 tests/Makefile.am            |    2 +
 tests/test_connect_delay.cpp |  131 ++++++++++++++++++++++++++++++++++++++++++
 12 files changed, 232 insertions(+), 3 deletions(-)

commit c28af41ca4a02484577afc6376ed278292ee43da
Merge: bc150de 89ff277
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 31 07:29:55 2012 -0700

    Merge pull request #356 from hurtonm/code_cleanup

    lb: code cleanup

commit bc150de81e5416e798b9ca4b70780198b30911f9
Merge: 4e7be10 2973eaf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 31 07:29:22 2012 -0700

    Merge pull request #355 from hurtonm/fq_lb_fix

    Prevent connection starvation

commit 89ff277becdba92def3ea6ba4b7afe3c7af6adbe
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu May 31 15:59:59 2012 +0200

    lb: code cleanup

 src/lb.cpp |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 2973eaf44629dba0b27735549fa5bb627d5a7301
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu May 31 15:34:30 2012 +0200

    Prevent connection starvation

    When removing a pipe from the lb or fq component,
    make sure we do not remove another pipe from the active set.

 src/fq.cpp |    5 ++++-
 src/lb.cpp |    1 +
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 4e7be102f4d09c27b76f52e9d3f84f23cebf6cff
Merge: 32befeb 13976a3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 31 01:19:22 2012 -0700

    Merge pull request #354 from steve-o/issue-320

    Return error on invalid PGM url instead of raising assertion.

commit 13976a3d656989997077dc9b1c5fe1ec42f991e9
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Wed May 30 20:52:19 2012 -0400

    Return error on invalid PGM url instead of raising assertion.
    Fix Win32 build.

 src/decoder.cpp     |    5 +++++
 src/pgm_socket.cpp  |   52 ++++++++++++++++++++++++++++++++++-----------------
 src/pgm_socket.hpp  |    3 +++
 src/socket_base.cpp |   14 ++++++++++++++
 4 files changed, 57 insertions(+), 17 deletions(-)

commit 32befeb0a6215aede34b58eb38bd853133473113
Merge: 1adb7b1 75df019
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 30 09:59:55 2012 -0700

    Merge pull request #353 from steve-o/master

    Fix title on zmq_disconnect manpage.

commit 75df0194bf50e14eec756dabbc59f1a0cfbdf027
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Wed May 30 12:53:53 2012 -0400

    Fix title on zmq_disconnect manpage.

 doc/zmq_disconnect.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1adb7b10175ddefcdc8cd60eb46cd2bd441b69b9
Merge: f7bd543 7fe45af
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 29 13:29:58 2012 -0700

    Merge pull request #352 from hurtonm/issue_370

    Fix issue #370

commit 7fe45af30f5978e490575b0c088cf7b444c98e9f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 29 21:59:22 2012 +0200

    Fix issue #370

    The patch extends the internal session's API with the reset method.
    This method is used to reset a session's state so that it can
    handle a new connection.

 src/req.cpp          |    5 +++++
 src/req.hpp          |    1 +
 src/session_base.cpp |   11 ++++++++---
 src/session_base.hpp |    1 +
 4 files changed, 15 insertions(+), 3 deletions(-)

commit f7bd543c36ee0850e9843eb24e21f8a9c5cbfbbd
Merge: 8152502 24b79c7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 28 14:34:57 2012 -0700

    Merge pull request #351 from hurtonm/code_cleanup

    Code cleanup

commit 24b79c7e0bcd9325c34f183666d08738f6ebdbb8
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon May 28 23:13:09 2012 +0200

    Prefer errno_assert/alloc_assert to zmq_assert

 src/ctx.cpp          |    2 +-
 src/dealer.cpp       |    2 +-
 src/dist.cpp         |    2 +-
 src/lb.cpp           |    2 +-
 src/mtrie.cpp        |   16 ++++++++--------
 src/pgm_sender.cpp   |    2 +-
 src/session_base.cpp |    7 ++++---
 src/signaler.cpp     |    4 ++--
 src/socket_base.cpp  |   10 +++++-----
 src/tcp_address.cpp  |   12 ++++++------
 src/trie.cpp         |   10 +++++-----
 src/xsub.cpp         |    8 ++++----
 12 files changed, 39 insertions(+), 38 deletions(-)

commit 013967681dda83af378ed47343dc68561ec687e3
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon May 28 22:01:37 2012 +0200

    fq: code cleanup

 src/fq.cpp |   27 +++++++++++----------------
 1 file changed, 11 insertions(+), 16 deletions(-)

commit 8152502f6924f271c63df6dae100c14c5445e468
Merge: e30e48c 130dfc5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 28 08:39:20 2012 -0700

    Merge pull request #350 from hurtonm/issue_369

    Fix issue #369

commit 130dfc5b5f0ecf23e80be16fcd307dad7e649fd7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon May 28 17:02:08 2012 +0200

    Fix issue #369

    The bug was that after reconnect, the session did not
    handle identity messages properly.

 src/session_base.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit e30e48c23effe286135e727e0795b91b268986d0
Merge: 3a76d24 2ab12ef
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon May 28 02:16:29 2012 -0700

    Merge pull request #349 from hintjens/master

    Fixed zmq_poll.txt manpage for issue #361

commit 2ab12efe11411d0f05b08fa8eb54ff9c5b16a9a0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 28 11:01:18 2012 +0200

    Fixing issue #361

 doc/zmq_poll.txt |    3 +++
 1 file changed, 3 insertions(+)

commit 3a76d246a8808bf8357a91319f9b17e731e41407
Merge: 5db30fe d0b9005
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 28 00:47:26 2012 -0700

    Merge pull request #348 from hurtonm/code_cleanup

    Code cleanup

commit d0b9005ef002fce2de2fbbfa5d29fe2bef871cb5
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 27 23:26:14 2012 +0200

    Don't assume SOCKET_ERROR is -1 on Windows

 src/stream_engine.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ac53f1a7284b85849e0a31fdec80e0f51293f3d0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 27 22:51:56 2012 +0200

    Remove unnecessary casts

 src/pgm_socket.cpp    |    2 +-
 src/stream_engine.cpp |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit e0534643fa65890145aabfe6423695b63b1d9bb4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 27 23:35:32 2012 +0200

    Simplify error handling in tcp_connecter

 src/tcp_connecter.cpp |   15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 13ef1e4f268452a076205d9c974a33e111401ef2
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 27 16:10:19 2012 +0200

    Make wsa_error_to_errno pure function

 src/err.cpp           |   38 ++++++++++++++------------------------
 src/err.hpp           |    2 +-
 src/tcp_connecter.cpp |    4 ++--
 src/tcp_listener.cpp  |    8 ++++----
 src/zmq.cpp           |   12 +++++-------
 5 files changed, 26 insertions(+), 38 deletions(-)

commit a8f9a0d8918c6ede1617beda9c65ff70b5a1977a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 27 15:31:59 2012 +0200

    Use zmq_assert rather then assert

 src/devpoll.cpp |    4 ++--
 src/poll.cpp    |    4 ++--
 src/router.cpp  |    6 +++---
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 52ed4cdccf16567674e9c949da74b484b596f8a8
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 27 14:51:12 2012 +0200

    Remove dead code

 src/session_base.cpp  |    8 +-------
 src/stream_engine.cpp |   28 ++++------------------------
 2 files changed, 5 insertions(+), 31 deletions(-)

commit 7cfd03ba72dd91d2e8f1b246bf68dbf43ec135f4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun May 27 15:15:09 2012 +0200

    Remove unplug from i_engine interface

 src/i_engine.hpp      |    3 ---
 src/pgm_receiver.hpp  |    4 +++-
 src/pgm_sender.hpp    |    4 +++-
 src/stream_engine.hpp |    4 +++-
 4 files changed, 9 insertions(+), 6 deletions(-)

commit 5db30fe991137e80926a549f99e45e2854d63e91
Merge: 74af2f9 b85ff17
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 24 06:45:27 2012 -0700

    Merge pull request #347 from methodmissing/monitor-doc-fails

    Fix too long underline in zmq_ctx_set_monitor() docs

commit b85ff17822b3a2b4737c964f38d82b5dde568a11
Author: Lourens NaudeÌ <lourens@methodmissing.com>
Date:   Thu May 24 09:39:48 2012 +0100

    Fix too long underline in monitor docs

 doc/zmq_ctx_set_monitor.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74af2f9402f68b2c1d96dfaeefa69f490ae79db0
Merge: 22b4388 400f6f3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed May 23 07:21:41 2012 -0700

    Merge pull request #346 from methodmissing/monitor-regressions

    Rename monitor documentation source file to match zmq_ctx_set_monitor() API

commit 400f6f3863c32ebfa783acade8e36d45c9d936e7
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Wed May 23 01:35:22 2012 +0100

    Rename monitor documentation source file to match zmq_ctx_set_monitor() API

 doc/zmq_ctx_set_monitor.txt |  221 +++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_monitor.txt         |  221 -------------------------------------------
 2 files changed, 221 insertions(+), 221 deletions(-)

commit 22b4388e29fcb6cf576ef4d1e92e939560d30f99
Merge: 20152a6 1e92ee0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue May 22 16:18:54 2012 -0700

    Merge pull request #345 from methodmissing/monitor-regressions

    Moves the monitoring infrastructure to a global zmq_ctx_set_monitor () API to avoid strict aliasing issues with function pointers and socket options.

commit 1e92ee0a0e9f4996259c662d4a6e8f71f6f45843
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Tue May 22 23:45:15 2012 +0100

    Oust last remaning ZMQ_MONITOR reference from NEWS as well

 NEWS |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit adf7a7ade12598d14d9e7948922b68f4bab60657
Merge: 991b7fc 20152a6
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Tue May 22 23:35:30 2012 +0100

    Merge branch 'master' into monitor-regressions

commit 991b7fcc04de7d694dc54430c43f6bb01494086a
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Tue May 22 20:15:18 2012 +0100

    Rename zmq_monitor to zmq_ctx_set_monitor for compat with existing context specific APIs

 doc/Makefile.am        |    2 +-
 doc/zmq.txt            |    2 +-
 doc/zmq_monitor.txt    |   18 +++++++++---------
 include/zmq.h          |    2 +-
 src/zmq.cpp            |    2 +-
 tests/test_monitor.cpp |    2 +-
 6 files changed, 14 insertions(+), 14 deletions(-)

commit 04f0e7f26e18a2802d8683fc12ef8a67197fda6c
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Tue May 22 20:08:02 2012 +0100

    Documentation for zmq_monitor

 doc/Makefile.am        |    2 +-
 doc/zmq.txt            |    3 +
 doc/zmq_getsockopt.txt |   11 ---
 doc/zmq_monitor.txt    |  221 ++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_setsockopt.txt |   40 ---------
 5 files changed, 225 insertions(+), 52 deletions(-)

commit 20152a6e3e1e46e3c930afdb2da122939f6f97e9
Merge: 7cb19fb 604456a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue May 22 07:31:28 2012 -0700

    Merge pull request #344 from hintjens/master

    Fixed bogus reference to zmq_ctx_put

commit 604456a8b0a1661859779d467c6cca40192c6f28
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 21 15:59:55 2012 -0500

    Man page for zmq_ctx_new had error, fixed

 doc/zmq_ctx_new.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f27c02d01e323c2d5d2d3d889f5e8d5a7cbff73d
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Mon May 21 21:22:16 2012 +0100

    Change context monitor_event prototype to accept a va_list instead

 src/ctx.cpp |   45 +++++++++++++++++++++------------------------
 src/ctx.hpp |    2 +-
 2 files changed, 22 insertions(+), 25 deletions(-)

commit 4767159f39001b7f5a2cc6b9d63a548a57c286d5
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Mon May 21 20:47:11 2012 +0100

    Initial stab at a context level monitor callback and registration API

 include/zmq.h          |   24 +++++++--------
 src/ctx.cpp            |   65 ++++++++++++++++++++++++++++++++++++++++-
 src/ctx.hpp            |    8 +++++
 src/options.cpp        |   24 ---------------
 src/options.hpp        |    3 --
 src/socket_base.cpp    |   56 +++--------------------------------
 src/zmq.cpp            |    8 +++++
 tests/test_monitor.cpp |   76 +++++++++++++++---------------------------------
 8 files changed, 118 insertions(+), 146 deletions(-)

commit 7cb19fbf1c736f72ac2ed35bab9645f3700be634
Merge: 65b6351 0e053e3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 21 06:00:02 2012 -0700

    Merge pull request #343 from jimenezrick/master

    Doc improvement: document interface omission in zmq_pgm.txt

commit 65b6351e4a11f4424fbd80ae0dc25f80a8c9c7bc
Merge: 5ef6331 d25dce9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 21 05:59:32 2012 -0700

    Merge pull request #342 from ipechorin/master

    Solaris/SunCC build fix: could not find a match for std::multimap<...>::insert(std::pair<...,...>)

commit 0e053e34789521b45c1fd5b982654612e8bfc2c6
Author: Ricardo Catalinas JimÃ©nez <jimenezrick@gmail.com>
Date:   Mon May 21 14:06:34 2012 +0200

    Doc improvement: document interface omission in zmq_pgm.txt

    The PGM transport supports the omission of the network interface to
    select the default one like:

      announce.connect("epgm://eth0;239.255.128.46:64646"); // Use eth0
      announce.connect("epgm://239.255.128.46:64646"); // Use the default

    Also, mention C++ in the additional community bindings of 0MQ in
    zmq.txt.

 doc/zmq.txt     |    6 +++---
 doc/zmq_pgm.txt |    3 ++-
 2 files changed, 5 insertions(+), 4 deletions(-)

commit e13b3723b8246b0526298698f9070d077b3322e3
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Sun May 20 18:27:59 2012 +0100

    Rename type zmq_monitor_fn -> zmq_monitor for a more natural callback definition API (zmq_monitor type, monitor.function callback)

 doc/zmq_getsockopt.txt |    2 +-
 doc/zmq_setsockopt.txt |    4 ++--
 include/zmq.h          |    2 +-
 src/options.cpp        |    6 +++---
 src/options.hpp        |    4 ++--
 tests/test_monitor.cpp |    2 +-
 6 files changed, 10 insertions(+), 10 deletions(-)

commit 06cce1547996c0aa42038d0eccfbf63efe18f0bb
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Sun May 20 18:16:23 2012 +0100

    Change zmq_monitor_fn type to cast between pointer-to-object and pointer-to-function in a more standards compliant way

 doc/zmq_setsockopt.txt |    2 +-
 include/zmq.h          |    5 ++++-
 src/socket_base.cpp    |    2 +-
 tests/test_monitor.cpp |   16 ++++++++--------
 4 files changed, 14 insertions(+), 11 deletions(-)

commit d25dce9df916b6fa646776015162415cc9efb835
Author: Ivan Pechorin <ivan.pechorin@gmail.com>
Date:   Sun May 20 13:34:08 2012 +0200

    Solaris/SunCC build fix: could not find a match for std::multimap<...>::insert(std::pair<...,...>)

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ef63318f876fe982f24b4b209e7f961ecd9b2bf
Merge: 89d5054 c995de6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 13 06:39:16 2012 -0700

    Merge pull request #341 from kennytm/master

    Allow the ZMQ_MONITOR code compilable on gcc 4.7 on Linux.

commit c995de65847d8a97dc75294fb1b9b6a057fd3c1d
Author: KennyTM~ <kennytm@gmail.com>
Date:   Sun May 13 20:49:05 2012 +0800

    Allow the ZMQ_MONITOR code compilable on gcc 4.7 on Linux.

    The current ZMQ_MONITOR code does not compile in gcc 4.7, as -pedantic
    and -Werror are enabled, and ISO C++ doesn't allow casting between
    normal pointers (void*) and function pointers, as pedantically their
    size could be different. This caused the library not compilable. This
    commit workaround the problem by introducing one more indirection, i.e.
    instead of calling

        (void *)listener

    which is an error, we have to use

        *(void **)&listener

    which is an undefined behavior :) but works on most platforms

    Also, `optval_ = monitor` will not set the parameter in getsockopt(),
    and the extra casting caused the LHS to be an rvalue which again makes
    the code not compilable. The proper way is to pass a pointer of function
    pointer and assign with indirection, i.e. `*optval_ = monitor`.

    Also, fixed an asciidoc error in zmq_getsockopt.txt because the `~~~~`
    is too long.

 doc/zmq_getsockopt.txt |    2 +-
 src/options.cpp        |    6 +++---
 src/session_base.cpp   |    2 ++
 tests/test_monitor.cpp |   15 +++++++++------
 4 files changed, 15 insertions(+), 10 deletions(-)

commit 89d5054e596e61fa2cd9ae4d62be423b7d2aecf0
Merge: 70b067e d046175
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 11 15:18:50 2012 -0700

    Merge pull request #340 from methodmissing/events

    Expose a ZMQ_MONITOR socket option to register a callback for notification of state changes in socket state ( stream engine, tcp and ipc transport only )

commit d0461752ff211f4277722505c9cda6703e845943
Merge: c38aecd 70b067e
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Fri May 11 22:08:17 2012 +0100

    Merge branch 'master' into events

commit 70b067ecc6b33611aca4f68f6f19557a8e339f04
Merge: c7af07c e65d228
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri May 11 06:23:58 2012 -0700

    Merge pull request #339 from ianbarber/master

    Add disconnect and unbind documentation

commit e65d228f4f829d23134a97c57121a066d92a1538
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri May 11 14:17:45 2012 +0100

    gitignore endpoint test and add docs for unbind and disconnect

 .gitignore             |    1 +
 doc/zmq_disconnect.txt |   65 ++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_unbind.txt     |   65 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 131 insertions(+)

commit c7af07cc773c922fc8fdae0dab740d7330edbca3
Merge: d087548 5fe6ddf
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue May 8 06:42:12 2012 -0700

    Merge pull request #336 from mauri-melato/master

    Fix #366 - On Windows, preventing sockets to be inherited by child processes.

commit d087548286439f02ee70b1b3793dd71c01529539
Merge: 80e8baa 6419439
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue May 8 06:41:22 2012 -0700

    Merge pull request #338 from hurtonm/code_cleanup

    Simplify encoder's loop

commit 641943944d1c6c148815f42f1e9a196d6cf5d925
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 8 13:30:13 2012 +0200

    Simplify encoder's loop

 src/encoder.hpp |   19 +++++++------------
 1 file changed, 7 insertions(+), 12 deletions(-)

commit 80e8baaff473892e5b5b4d4c59edcd146712a7d2
Merge: 5dc44a6 3d93c1a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue May 8 02:25:16 2012 -0700

    Merge pull request #337 from hurtonm/issue_268

    Fix issue #268

commit 3d93c1af5baded5fd1597261345438c393f3bcbd
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue May 8 09:28:17 2012 +0200

    Fix issue #268

    This patch fixes a bug in the message encoder which was
    responsible for computing incorrect message offset.
    The bug affected PGM receiver making it unable to
    decode inital messages.

 src/encoder.cpp |    8 +++-----
 src/encoder.hpp |   14 ++++++--------
 2 files changed, 9 insertions(+), 13 deletions(-)

commit 5fe6ddfda3ab207c579c7dc6a9b2be48bf3cdb92
Author: unknown <mauri@okinawa.(none)>
Date:   Mon May 7 15:46:55 2012 +0200

    On Windows, preventing sockets to be inherited by child processes.

 src/ip.cpp           |    6 ++++++
 src/signaler.cpp     |   10 +++++++++-
 src/tcp_listener.cpp |    6 ++++++
 3 files changed, 21 insertions(+), 1 deletion(-)

commit 5dc44a63d656be113dba904a384038c7f7b99700
Merge: 47dbd4a 37e4a38
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 6 03:07:35 2012 -0700

    Merge pull request #335 from jdc8/master

    Fix for issue 355 and fix for compile error with Visual C++ 2008

commit 37e4a38eb547942da7b0d4e901d02632918a0cf0
Author: Jos Decoster <jos.decoster@retarget.com>
Date:   Sat May 5 23:56:49 2012 +0200

    Fix compile error with Visual C++ 2008

    File decoder.cpp does not compile with Visual C++ 2008:

    1>c:\tmp\libzmq\src\decoder.cpp(117) : warning C4003: not enough actual parameters for macro 'max'
    1>c:\tmp\libzmq\src\decoder.cpp(117) : error C2589: '(' : illegal token on right side of '::'
    1>c:\tmp\libzmq\src\decoder.cpp(117) : error C2059: syntax error : '::'
    1>c:\tmp\libzmq\src\decoder.cpp(117) : error C2143: syntax error : missing ';' before '{'

    This error is caused by the precense of a macro 'max' when including
    'windows.h'. To solve this problem, the preprocessor macro /DNOMINMAX must
    be specified.

 builds/msvc/libzmq/libzmq.vcproj |    1 +
 1 file changed, 1 insertion(+)

commit 68c1be8bf6539a317c48810fb7af7b2e59cd7dfa
Author: Jos Decoster <jos.decoster@retarget.com>
Date:   Sat May 5 23:25:46 2012 +0200

    Fix for issue 355. Added missing source files dealer.cpp, device,cpp and router.cpp. Removed source files no longer present: xrep.cpp and xreq.cpp

 builds/msvc/libzmq/libzmq.vcproj  |   20 ++++++++++++--------
 builds/msvc/libzmq/libzmq.vcxproj |    5 +++--
 2 files changed, 15 insertions(+), 10 deletions(-)

commit c38aecdc50249df84ee585ea4cec1ee1c0f0b2df
Merge: 5c6f72c 47dbd4a
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Fri May 4 02:35:22 2012 +0100

    Merge branch 'master' into events

commit 5c6f72c17c1139f6c9699f998c9ca6eedfc535af
Author: Lourens NaudÃ© <lourens@methodmissing.com>
Date:   Fri May 4 02:32:46 2012 +0100

    ZMQ_MONITOR socket option registers a callback / event sink for changes in socket state

 .gitignore             |    2 +
 AUTHORS                |    1 +
 NEWS                   |    2 +
 doc/zmq_getsockopt.txt |   10 ++++
 doc/zmq_setsockopt.txt |   41 ++++++++++++-
 include/zmq.h          |   68 +++++++++++++++++++++-
 src/address.cpp        |    2 +-
 src/address.hpp        |    2 +-
 src/ipc_connecter.cpp  |   14 ++++-
 src/ipc_connecter.hpp  |    3 +
 src/ipc_listener.cpp   |   20 +++++--
 src/ipc_listener.hpp   |    3 +
 src/options.cpp        |   23 ++++++++
 src/options.hpp        |    4 ++
 src/session_base.cpp   |   15 +++++
 src/session_base.hpp   |    3 +
 src/socket_base.cpp    |   58 ++++++++++++++++++
 src/socket_base.hpp    |    3 +
 src/stream_engine.cpp  |    4 ++
 src/stream_engine.hpp  |    4 ++
 src/tcp_connecter.cpp  |   14 ++++-
 src/tcp_connecter.hpp  |    4 ++
 src/tcp_listener.cpp   |   14 ++++-
 src/tcp_listener.hpp   |    4 ++
 tests/Makefile.am      |    4 +-
 tests/test_monitor.cpp |  152 ++++++++++++++++++++++++++++++++++++++++++++++++
 26 files changed, 461 insertions(+), 13 deletions(-)

commit 47dbd4aa968f756f6e8afaa17aca6553e3f46d15
Merge: f497aae 1075005
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu May 3 06:08:02 2012 -0700

    Merge pull request #334 from ianbarber/master

    Async connect error handling

commit 1075005b500b86aa5ca828198bfedcd0067946fd
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu May 3 13:24:12 2012 +0100

    Patch from Mato that fixes a subtle connect bug: EAGAIN was being used as a translation value for EINPROGRESS, thus
    shadowing a real EAGAIN return value from the OS.  This caused later
    assertions of "Invalid argument" in stream_engine.cpp when it attempted to
    use a socket which was not connected.

    I also add EINTR to mean EINPROGRESS, as per the POSIX and FreeBSD
    documentation which specifies that a connect() call interrupted due to a
    signal will complete asynchronously.

    Signed-off-by: Martin Lucina <martin@lucina.net>

 src/ipc_connecter.cpp |    7 +++++++
 src/tcp_connecter.cpp |   11 ++++++-----
 2 files changed, 13 insertions(+), 5 deletions(-)

commit f497aae8df340c1543dc822b6ee284dc7e4bea7d
Merge: 36bfaaa 5227f67
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 29 22:33:31 2012 -0700

    Merge pull request #333 from hurtonm/fix_decoder_to_properly_handle_large_messages

    Fix decoder to properly handle large messages

commit 36bfaaabe68af2db492280f62fdbbe056418be9f
Merge: 9098f4d 776563f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 29 22:33:16 2012 -0700

    Merge pull request #332 from hurtonm/fix_issue_264

    Fix issue #264

commit 9098f4d655f2a9f6a1bced2888090c1dd66acdb6
Merge: dd3eb08 394a248
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 29 22:32:57 2012 -0700

    Merge pull request #331 from hurtonm/code_cleanup

    socket_base: process_unplug () is not used, remove it

commit dd3eb08d3325af0b91e09317c3dbd280536431ea
Merge: 16ec286 d847094
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Apr 29 22:32:39 2012 -0700

    Merge pull request #330 from hurtonm/pair_socket_rejects_additional_connections

    Do not crash when multiple peers connect to PAIR socket

commit d84709497edc9eba051374874e9318b2e1bacb95
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Apr 30 00:48:07 2012 +0200

    Do not crash when multiple peers connect to PAIR socket

    When more then one peer connected to a ZMQ_PAIR socket,
    an application aborted due to assertion failure.
    This patch changes the ZMQ_PAIR socket behaviour so that
    it rejects any further connection requests.

 src/pair.cpp |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 5227f676f4259050f067386c58e6bcf7f148c333
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Apr 29 15:27:41 2012 +0200

    Fix decoder to properly handle large messages

    The decoder did not properly decode large messages
    on systems where sizeof (size_t) < sizeof (uint64_t).

 src/decoder.cpp |   39 ++++++++++++++++++++++++---------------
 1 file changed, 24 insertions(+), 15 deletions(-)

commit 776563fcffe975774c713ade357ea2b83d22da7c
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Apr 29 17:13:18 2012 +0200

    Fix issue #264

    Before this patch, the stream engine terminated itself
    whenever it had detected an IO error. If this happened
    when sending a message, the engine lost all
    in-flight messages, messages waiting to be decoded,
    and the last decoded message that had not been accepted,
    if there was one.

    The new behaviour is to terminate the engine only after
    the input error has been detected and the last decoded

 src/decoder.cpp       |    5 +++++
 src/decoder.hpp       |   16 ++++++++++------
 src/stream_engine.cpp |   34 +++++++++++++++++++++++++++++-----
 src/stream_engine.hpp |    1 +
 4 files changed, 45 insertions(+), 11 deletions(-)

commit 394a24857905c2489b555803170a0d640f38b4a8
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Apr 28 16:28:12 2012 +0200

    socket_base: process_unplug () is not used, remove it

 src/socket_base.cpp |    4 ----
 src/socket_base.hpp |    1 -
 2 files changed, 5 deletions(-)

commit 16ec2868c5f786b2267a003e2d3f1e4279c08d91
Merge: 7c5d79d b7c9fc0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 27 11:06:14 2012 -0700

    Merge pull request #329 from ianbarber/master

    Tweak FD sockopt text

commit b7c9fc07505119fad234a21cdb925449eca16fc9
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Apr 27 11:22:17 2012 +0100

    Slight tweak to text for readability

 doc/zmq_getsockopt.txt |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 7c5d79ddd38b5110982e02aa2c2d3dc61f111419
Merge: 29000d3 138def0
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Apr 27 03:04:42 2012 -0700

    Merge pull request #328 from tailhook/patch-1

    Added refinement for ZMQ_FD option

commit 138def0b992e250833020ebaca0ebb4d9a73dd71
Author: Paul Colomiets <paul@colomiets.name>
Date:   Fri Apr 27 12:55:17 2012 +0300

    Added refinement for ZMQ_FD option

 doc/zmq_getsockopt.txt |    6 ++++++
 1 file changed, 6 insertions(+)

commit 29000d3b021147384bff0e2a9d1f64b7b71cfa5d
Merge: 41c82bd 1788fd3
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Apr 26 04:59:11 2012 -0700

    Merge pull request #326 from hurtonm/pipe_code_cleanup

    pipe: code cleanup

commit 41c82bdda140e047533cf5b57522b5bc131b55f7
Merge: 648e319 2cbf799
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Apr 26 04:57:45 2012 -0700

    Merge pull request #327 from hurtonm/fq_drop_unused_parameter

    fq: remove unused parameter

commit 2cbf7993dcc52d65c9394b38e40ae5e6e4897b28
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Apr 26 13:16:51 2012 +0200

    fq: remove unused parameter

    The recv function accepted flags parameter but this was unused.

 src/dealer.cpp |    2 +-
 src/fq.cpp     |    6 +++---
 src/fq.hpp     |    4 ++--
 src/pull.cpp   |    2 +-
 src/router.cpp |    4 ++--
 src/xsub.cpp   |    8 ++++----
 6 files changed, 13 insertions(+), 13 deletions(-)

commit 1788fd396b609daf404a3b92bcafe98892603c71
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Apr 25 11:07:19 2012 +0200

    pipe: code cleanup

 src/pipe.cpp |   28 ++++++++++++----------------
 1 file changed, 12 insertions(+), 16 deletions(-)

commit 648e31994d4239136d2325c16500afee01aa7c33
Merge: e8b701c a2c3772
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Apr 25 01:52:06 2012 -0700

    Merge pull request #325 from hurtonm/update_comment_in_device_plus_whitespace_fixes

    Mention limitation of the device implementation

commit a2c3772531960df70b672f1124b090224c9784ea
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Apr 25 10:43:00 2012 +0200

    Mention limitation of the device implementation

    + fix whitespace errors
    + drop some unnecessary parens

 src/device.cpp |   19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit e8b701cb9285d32c21b22c3c3c9b0b6681ad965e
Merge: 9d02b3d 873abdd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 25 00:27:51 2012 -0700

    Merge pull request #324 from hurtonm/rename_xrep_xreq_in_tests

    Rename XREP/XREQ to ROUTER/DEALER in tests

commit 9d02b3dafbb11bbfc1d14b4c663a5bce9770f0d9
Merge: 016df8e df5344b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 25 00:27:19 2012 -0700

    Merge pull request #323 from hurtonm/xsub_fix_message_initialisation

    xsub: fix memory leak

commit 873abdd24c9d6ce42be3028555f8102a47a8b04e
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Apr 25 01:03:38 2012 +0200

    Rename XREP/XREQ to ROUTER/DEALER in tests

 tests/test_invalid_rep.cpp   |   26 +++++++++++++-------------
 tests/test_last_endpoint.cpp |    2 +-
 tests/test_msg_flags.cpp     |    4 ++--
 tests/test_reqrep_device.cpp |   28 ++++++++++++++--------------
 4 files changed, 30 insertions(+), 30 deletions(-)

commit df5344bba0a8fc21b7dd213a815964b4580fd117
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Apr 24 14:01:26 2012 +0200

    xsub: fix memory leak

    The implementation of the send call for XSUB socket failed
    to release and initialise empty message when duplicate
    subscription was detected.

 src/xsub.cpp |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 016df8e89c04338898790357a115aa55d250623d
Merge: c120f02 135fdab
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Apr 24 11:18:50 2012 -0700

    Merge pull request #322 from tranthamp/master

    Atomic operations for armv7a

commit 135fdab0eced035e6f2aaaa306dae438165b4303
Author: Patrick Trantham <patrick.trantham@fuel7.com>
Date:   Fri Apr 13 10:48:15 2012 -0500

    Implement atomic operations for armv7a

    This commit implements atomic operations for the armv7a architecture
    using gcc inline assembly.  This offers higher performance compared to
    pthread mutexes.

    Tested on an am3517 evm, clocked at 600MHz:

    ./inproc_thr 200 1000000
    ------------------------
    53-60K messages / sec, pthread mutexes
    73-90K messages / sec, assembly atomic ops

    ./inproc_lat 200 1000000
    ------------------------
    average latency: 42.234 [us], pthread mutexes
    average latency: 35.496 [us], assembly atomic ops

 src/atomic_counter.hpp |   32 ++++++++++++++++++++++++++++++++
 src/atomic_ptr.hpp     |   35 +++++++++++++++++++++++++++++++++++
 2 files changed, 67 insertions(+)

commit c120f02dc93dd7d3b1ba4ea6910d8694c3934d91
Merge: b9fb919 f858321
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 21 16:06:06 2012 -0700

    Merge pull request #321 from shripchenko/master

    add process_commands() to the beginning of zmq_connect() and zmq_bind()

commit f858321c1c7d5a58367d52f39ff1bfc74242dab2
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Sun Apr 22 01:39:48 2012 +0400

    add process_commands() to the beginning of zmq_connect() and zmq_bind()

    I believe there was a conception that zmq_connect() and zmq_bind() will be called
    only at the socket creation time and therefore don't need it.
    Now it is not true anymore.

 src/socket_base.cpp |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit b9fb9198779a6db23aadb1cd803c76edd8dcde5a
Merge: 952127d 057fab0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 21 09:52:46 2012 -0700

    Merge pull request #320 from shripchenko/master

    ZMQ BUG FOUND + fixes for zmq_unbind() / zmq_disconnect() usage corner cases

commit 057fab09a80728db0445313e0ed0123be128e046
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Sat Apr 21 18:56:10 2012 +0400

    fixes for zmq_unbind() / zmq_disconnect() usage corner cases

    1. when we call zmq_bind()/zmq_connect() to create endpoint
    we send ourselfs(through launch_child()) command to process_own(endpoint)
    (and add it to own_t::owned)
    in the application thread we could call zmq_unbind() / zmq_disconnect() _BEFORE_
    we run process_own() in ZMQ thread and in this situation we will be unable to find it in
    own_t::owned. in other words own_t::owned.find(endpoint) will not be deleted but it will be deleted from
    socket_base_t::endpoints.

    2. when you zmq_unbind() the lisnening TCP/IPC socket was terminated only in destructor...
    so the whole ZMQ_LINGER time listening TCP/IPC socket was able to accept() new connections
    but unable to handle them.

    this all geting even worse since unfortunately zmq has a bug and '*_listener_t' object not terminated
    untill the socket's zmq_close().
    AT LEAST FOR PUSH SOCKETS.
    Everything is ok for SUB sockets.

    Easy to reproduce without my fix:

    zmq_socket(PUSH)
    zmq_bind(tcp);
    // connect to  it from PULL socket
    zmq_unbind(tcp);

    sleep(forever)

    // netstat -anp | grep 'tcp listening socket'

    With my fix you could see that after zmq_unbind(tcp) all previously connected tcp sessions
    will not be finished untill the zmq_close(socket) regardless of ZMQ_LINGER value.

    (*_listener_t terminates all owned session_base_t(connect=false) and they call pipe_t::terminate()
    which in turn should call session_base_t::terminated() but this never happens)

 src/ipc_listener.cpp |    2 +-
 src/socket_base.cpp  |    6 ++++++
 src/tcp_listener.cpp |    1 +
 3 files changed, 8 insertions(+), 1 deletion(-)

commit 4f668ad60a7fa6c6000a5f7d94731a42ea295513
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Sat Apr 21 18:39:19 2012 +0400

    added zmq_unbind() / zmq_disconnect() test script.
    it works but rises very serious questions.

    Please add license header by your choice.
    This file for 99% resemble crossroads-io/tests/shutdown.cpp

 tests/Makefile.am            |    4 +-
 tests/test_term_endpoint.cpp |   97 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 100 insertions(+), 1 deletion(-)

commit 74ae19ac1f31d1264e425f8fd9caa4d277d65c49
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Sat Apr 21 18:36:20 2012 +0400

    spaces deleted

 src/pipe.cpp         |    2 +-
 src/session_base.cpp |    7 ++++---
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 952127dfd6f2948b102d240d69c23dab13d8bb84
Merge: 653e585 06b2eae
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 21 06:03:00 2012 -0700

    Merge pull request #319 from shripchenko/master

    fix for: [zeromq-dev] head builds again but two failing tests

commit 06b2eae87da83e7127c78533a3713f8a3951ebfa
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Sat Apr 21 08:12:59 2012 +0400

    small wording change

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2faa4c487fbff3b92b3d22b4eb219e966be990ab
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Sat Apr 21 07:55:54 2012 +0400

    stupid bug. I feel ashamed ^)

 src/address.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 653e5854edffefd26ff1fadf9389d8bc74e7d9c2
Merge: d56b752 2eb6b32
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Apr 20 09:11:56 2012 -0700

    Merge pull request #318 from shripchenko/master

    2nd try wuth sock->unbind() and sock->disconnect(). now with const char*'s argument

commit 2eb6b32ef75ab44fdb8e734b07d1986a5baebad1
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Fri Apr 20 19:16:26 2012 +0400

    fixes for

    make[2]: Entering directory `/home/laotse/src/abs/zeromq-git/src/libzmq-build/src'
      CXX    libzmq_la-address.lo
    address.cpp: In destructor 'zmq::address_t::~address_t()':
    address.cpp:41:29: error: deleting object of polymorphic class type 'zmq::tcp_address_t' which has non-virtual destructor might cause undefined behaviour [-Werror=delete-non-virtual-dtor]
    cc1plus: all warnings being treated as errors

 src/tcp_address.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 489481857a51b995cf837c0adf0f22425cff03a5
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Fri Apr 20 18:59:08 2012 +0400

    2nd try wuth sock->unbind() and sock->disconnect(). now with blackjack and const char*'s

 include/zmq.h       |    5 ++--
 src/options.cpp     |    9 -------
 src/options.hpp     |    4 +---
 src/socket_base.cpp |   65 +++++++++++++++++++++++++++++++--------------------
 src/socket_base.hpp |    9 ++++++-
 src/zmq.cpp         |    8 +++----
 6 files changed, 55 insertions(+), 45 deletions(-)

commit d56b75219fa60284299ca12f0b1d6e4605ca912a
Merge: 8837852 318d55f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Apr 19 01:35:08 2012 -0700

    Merge pull request #316 from pieterh/master

    Fixed issue #358

commit 8837852546bdd739871dd961f0b577f8db1dc2ba
Merge: 36e9c4a 7b8e728
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 18 13:58:45 2012 -0700

    Merge pull request #317 from shripchenko/master

    implement zmq_unbind(),zmq_disconnect(), zmq->sock->getsockopt(ZMQ_LAST_ENDPOINT_ID)

commit 7b8e728e43e75c2b64c082077f5ed440a61caff4
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Wed Apr 18 23:42:11 2012 +0400

    implement zmq_unbind(),zmq_disconnect(), zmq->sock->getsockopt(ZMQ_LAST_ENDPOINT_ID)

 include/zmq.h        |    3 ++
 src/address.cpp      |   28 +++++++++++++++++-
 src/address.hpp      |    2 ++
 src/ipc_address.cpp  |   26 ++++++++++++++++-
 src/ipc_address.hpp  |    6 ++++
 src/ipc_listener.cpp |   15 +++-------
 src/ipc_listener.hpp |    2 +-
 src/options.cpp      |   10 +++++++
 src/options.hpp      |    2 ++
 src/own.cpp          |    5 ++++
 src/own.hpp          |    3 ++
 src/socket_base.cpp  |   37 +++++++++++++++++++++---
 src/socket_base.hpp  |    1 +
 src/tcp_address.cpp  |   77 ++++++++++++++++++++++++++++++++++++++++++++++++--
 src/tcp_address.hpp  |    7 +++++
 src/tcp_listener.cpp |   34 +++++-----------------
 src/zmq.cpp          |   20 +++++++++++++
 17 files changed, 230 insertions(+), 48 deletions(-)

commit 318d55fd10c351454169aa00db352b785e53d294
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 18 13:14:07 2012 -0500

    Fixed issue LIBZMQ-358

 src/device.cpp |   74 ++++++++++++++++++--------------------------------------
 1 file changed, 24 insertions(+), 50 deletions(-)

commit 36e9c4ac84c414db0977ab9e6361a44732fab642
Merge: 334f99f b89a53e
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Apr 18 04:10:29 2012 -0700

    Merge pull request #315 from shripchenko/master

    fix bug in zmq::tcp_address_t::resolve_interface() where resolved interface ip overwrited by 0.0.0.0

commit b89a53ee7a3902781d123ed65bd5010b52ec5bfe
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Wed Apr 18 14:06:39 2012 +0400

    fix bug in zmq::tcp_address_t::resolve_interface() where all resolved interface ip's overwrited by 0.0.0.0

 src/tcp_address.cpp |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 334f99fb01c84e51682e2c3f139d84f589d65cf0
Merge: f663ad9 5b30089
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 17 03:49:43 2012 -0700

    Merge pull request #314 from ianbarber/master

    Small patch to instantiate clock_t once

commit 5b3008957dcd5a68c70aef369ce89ae994eedbb6
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Apr 17 10:10:22 2012 +0100

    port of patch by Martin Sustrik to libxs: This patch instantiate a clock_t instance for each XS
    socket. Thus, it is shared between subsequent calls
    to xs_recv (and xs_send). That in turn significantly
    limits the number of invocations of  getimeofday (or similar)
    when timeouts are used and recv/send is called in a
    tight loop.

 src/socket_base.cpp |    3 ---
 src/socket_base.hpp |    4 ++++
 2 files changed, 4 insertions(+), 3 deletions(-)

commit f663ad935beeedc05be44043afda0bee29afe30f
Merge: 084c182 206d80b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 16 09:09:00 2012 -0700

    Merge pull request #313 from ianbarber/master

    Update socket docs

commit 206d80b5ffcb36993be02547289769978b05fb41
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Apr 16 14:08:15 2012 +0100

    Make docs reflect socket mappings better

 doc/zmq_socket.txt |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 084c1824c44471136a8badaf5fb80d929828f4bb
Merge: 525be51 c77dc98
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Apr 13 03:44:07 2012 -0700

    Merge pull request #312 from shripchenko/master

    some spaces cleanups + delete unused anymore zmq::max_sockets + some minor code chages

commit c77dc98b5c83dcaa5ab4ecfff8f786a1cf7b2e5c
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Fri Apr 13 13:26:57 2012 +0400

    some spaces cleanups + delete unused anymore zmq::max_sockets + some minor code chages

 src/config.hpp       |    5 +----
 src/ip.cpp           |   11 +++++------
 src/options.cpp      |    4 ++--
 src/options.hpp      |    2 +-
 src/tcp_address.cpp  |   28 +++++++++++++---------------
 src/tcp_address.hpp  |    2 +-
 src/tcp_listener.cpp |    2 --
 src/tcp_listener.hpp |    2 +-
 8 files changed, 24 insertions(+), 32 deletions(-)

commit 525be5181278e4882423e785b4e004836c709140
Merge: e276df2 acba6bd
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 12 09:34:53 2012 -0700

    Merge pull request #311 from shripchenko/master

    Implement ZMQ_TCP_ACCEPT_FILTER setsockopt() for listening TCP sockets.

commit acba6bdd6cd203f70702745a821945f4a83c7fab
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Thu Apr 12 18:37:14 2012 +0400

    Implement ZMQ_TCP_ACCEPT_FILTER setsockopt() for listening TCP sockets.

    Assign arbitrary number of filters that will be applied for each new TCP transport
    connection on a listening socket.
    If no filters applied, then TCP transport allows connections from any ip.
    If at least one filter is applied then new connection source ip should be matched.
    To clear all filters call zmq_setsockopt(socket, ZMQ_TCP_ACCEPT_FILTER, NULL, 0).
    Filter is a null-terminated string with ipv6 or ipv4 CIDR.

    For example:
    localhost
    127.0.0.1
    mail.ru/24
    ::1
    ::1/128
    3ffe:1::
    3ffe:1::/56

    Returns -1 if the filter couldn't be assigned(format error or ipv6 filter with ZMQ_IPV4ONLY set)

    P.S.
    The only thing that worries me is that I had to re-enable 'default assign by reference constructor/operator'
    for 'tcp_address_t' (and for my inherited class tcp_address_mask_t) to store it in std::vector in 'options_t'...

 doc/zmq_setsockopt.txt |   16 ++++++++
 include/zmq.h          |    1 +
 src/options.cpp        |   26 ++++++++++++
 src/options.hpp        |    6 +++
 src/tcp_address.cpp    |  102 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/tcp_address.hpp    |   26 +++++++++---
 src/tcp_listener.cpp   |   28 ++++++++++++-
 src/tcp_listener.hpp   |    3 +-
 8 files changed, 201 insertions(+), 7 deletions(-)

commit e276df2bdff2b9d59e894e59ae9a23381e5dbe8b
Merge: 899778d cfa6f4b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 11 04:38:12 2012 -0700

    Merge pull request #309 from hurtonm/fix_issue_335

    Fix issue #335

commit cfa6f4bf514792fd85d188fc6ff0933dbedefc5c
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Apr 11 10:54:05 2012 +0200

    Fix issue #335

    The CreateEvent function requests EVENT_ALL_ACCESS access rights
    when the event object already exists. This causes problems
    when the event object is created from a service.
    The solution is to call OpenEvent function when the CreateEvent
    failed due to access control.
    The proper solution would be to use CreateEventEx function, but
    this one is not available on Windows XP.

 src/signaler.cpp |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 899778dcb306f0207b24e63f6e049dcb9c60ce4d
Merge: f6330f3 177264d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 10 06:07:08 2012 -0700

    Merge pull request #308 from jdc8/master

    C++ style comments result in compile errors with non-c99 C compiler

commit 177264d941316dcc93ac5414aa58d5d3911b15af
Author: jdc8 <jos.decoster@gmail.com>
Date:   Tue Apr 10 06:33:15 2012 -0400

    c++ style comments result in compile errors with non-c99 C compiler

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f6330f3d8d69c65a30729bf39d5fddf9c911077b
Merge: 3cd0b1b 70cf2d4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 9 18:20:02 2012 -0700

    Merge pull request #307 from mkoppanen/master

    Handle ETIMEDOUT

commit 70cf2d41ba005aa33e732717867320f718c0b456
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Tue Apr 10 09:55:10 2012 +0900

    ETIMEDOUT is a valid error code here. Fixes intermittent assertion failure on laggy networks

 src/stream_engine.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3cd0b1b647c4b3c08f2749c4e8d499d603a3fdb0
Merge: 4ab3c5a 4315467
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 9 10:14:35 2012 -0700

    Merge pull request #306 from shripchenko/master

    Implement ZMQ_TCP_KEEPALIVE* family of options to adjust TCP keepalives

commit 4315467d7cfa93d60d605d36adde12e36380ce12
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Mon Apr 9 13:39:52 2012 +0400

    documentation trimmed down to be just placeholders for who knows english better than me

 doc/zmq_getsockopt.txt |   58 +++++++++++++++++-------------------------------
 doc/zmq_setsockopt.txt |   58 +++++++++++++++++-------------------------------
 2 files changed, 40 insertions(+), 76 deletions(-)

commit 4b303402a76a5d2fe85ff8cdaf7a98d6dcfa94ee
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Fri Apr 6 20:04:35 2012 +0400

    more flexible keepalive options detection + awful options documentation

 acinclude.m4           |  112 +++++++++++++++++++++++++++++++++++++++++-------
 configure.in           |   27 +++++++++---
 doc/zmq_getsockopt.txt |   63 +++++++++++++++++++++++++++
 doc/zmq_setsockopt.txt |   66 ++++++++++++++++++++++++++++
 src/ip.cpp             |   37 ++++++++++++++--
 src/options.cpp        |    9 ++--
 6 files changed, 286 insertions(+), 28 deletions(-)

commit 0c3d9179262ab431b8949b8646eed9a1a1e4a233
Author: Sergey KHripchenko <shripchenko@intermedia.net>
Date:   Thu Apr 5 19:39:53 2012 +0400

    initial implementation of tuning TCP keep-alives for TCP socket
    currently not fully cross-platform
    work on linux
    possibly work in *bsd
    and could be enhanced to work on windows

 acinclude.m4          |   55 ++++++++++++++++++++++++
 configure.in          |   10 +++++
 include/zmq.h         |    5 +++
 src/ip.cpp            |   31 ++++++++++++++
 src/ip.hpp            |    3 ++
 src/options.cpp       |  111 ++++++++++++++++++++++++++++++++++++++++++++++++-
 src/options.hpp       |    9 +++-
 src/tcp_connecter.cpp |    1 +
 src/tcp_listener.cpp  |    1 +
 9 files changed, 223 insertions(+), 3 deletions(-)

commit 4ab3c5a285b858159c957139eb991ce6f727c05a
Merge: 88db804 12c0c6a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Apr 5 07:17:29 2012 -0700

    Merge pull request #305 from hurtonm/fix_identity_exchange_for_inproc_transport

    Fix identity exchange for inproc transport

commit 12c0c6aa74c064a1590bb08dc97f16a8a70c27d6
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Apr 5 15:32:45 2012 +0200

    Fix identity exchange for inproc transport

    The socket connecting using the inproc transport never
    received the identity of the remote peer.

 src/socket_base.cpp |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 88db804bb98cf0443864695c104bee3c5a1a284b
Merge: 5bc9fd6 b41036a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 4 16:35:41 2012 -0700

    Merge pull request #304 from hurtonm/flush_identity_message_for_inproc_transport

    Flush identity message for inproc transport

commit b41036aa2ab881afe57bfecaf658919b02d504f7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Apr 5 01:01:50 2012 +0200

    Flush identity message for inproc transport

    The scoket implementation for inproc transfer failed to flush
    identity message. The result was that the identity message
    was not delivered until after the user sent the first message.

    The identity message was never delivered if the user
    used the socket only to receive messages.

 src/socket_base.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 5bc9fd62c536a97c25d171b893af243403148fa5
Merge: a969028 d8c5808
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Apr 4 06:45:26 2012 -0700

    Merge pull request #303 from pieterh/master

    Fixed issue #351

commit d8c58080a7600bb838b0ee8c73aaa9a291815c97
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Apr 4 14:39:11 2012 +0100

    Fixed issue #351

 include/zmq.h |    3 +++
 1 file changed, 3 insertions(+)

commit a96902897722826d1b718b9b5468b48843e093f9
Merge: 2faedd9 9a60b3a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Apr 3 00:34:21 2012 -0700

    Merge pull request #302 from hurtonm/router_bugfix

    Fix error in router socket introduced in the previous commit

commit 9a60b3a2a197f1f1f48cf0bf6fa3e5e61e7efb6a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Apr 3 09:28:38 2012 +0200

    Fix error in router socket introduced in the previous commit

 src/router.cpp |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 2faedd9e085613d5facfad93fd572a877fc8dd35
Merge: 5c6e278 600488f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Apr 2 13:23:52 2012 -0700

    Merge pull request #300 from hurtonm/router_send_fixes

    router: always respect message boundaries

commit 5c6e278887fd9f383431968a39bf50a51b88f402
Merge: 476c9b9 f037290
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Apr 2 13:23:19 2012 -0700

    Merge pull request #301 from hurtonm/router_rework_peer_identification

    router: reimplement peer identification

commit 600488fa9c84523314e6084c7a8c3657467e0599
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Apr 2 20:10:04 2012 +0200

    router: always respect message boundaries

    The current implementaion of router socket does not
    handle the full pipe and unroutable messages properly.
    Namely, in those cases, the socket could route some
    message parts into a wrong connection.

 src/router.cpp |    2 --
 1 file changed, 2 deletions(-)

commit f037290dc39eafd0676f7b79216531d05a205619
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Apr 2 19:51:37 2012 +0200

    router: reimplement peer identification

    The new implementation allows one to send messages through
    a router socket to a peer even before receiving
    messages from this peer.

    Fixes issue #304

 src/router.cpp |  235 ++++++++++++++++++++++++++++----------------------------
 src/router.hpp |   17 +++-
 2 files changed, 132 insertions(+), 120 deletions(-)

commit 476c9b97c967dfe8f8b973290e75bcca9304326a
Merge: 3eaae8b 9728706
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 29 05:50:52 2012 -0700

    Merge pull request #299 from pieterh/master

    Added checking to zmq_ctx_set()

commit 9728706b1036246952b538bac19ebe30afa9ac80
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 29 07:46:46 2012 -0500

    Added optval checking in zmq_ctx_set

 src/ctx.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3eaae8b21e7ee8d0e183732201942172d8791b4a
Merge: cecc790 eb8217b
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Mar 28 23:35:04 2012 -0700

    Merge pull request #298 from pieterh/master

    Fixed issue (unknown) on zmq_init(-1)

commit eb8217bb288811c2f874d58845379bd9f8f4c0a5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 29 00:47:11 2012 -0500

    Fixed zmq_init(-1) issue

 src/zmq.cpp |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit cecc790ca3f2b289a816e02a4e99bab518eecaa3
Merge: 8da7271 77d93d7
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Mar 28 03:51:13 2012 -0700

    Merge pull request #297 from hurtonm/code_cleanup

    Code cleanup

commit 8da7271042bdd0fcac8560843a7f02949e975f4d
Merge: ed65271 1e2564a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Mar 28 03:50:02 2012 -0700

    Merge pull request #296 from hurtonm/fix_router_send

    Fix return value of send for router socket

commit 1e2564a55feb45f9260812a96f8b18c2cc17dbae
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 28 07:39:18 2012 +0200

    Fix return value of send for router socket

 src/router.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 77d93d70f07a9f41f82bc16e430a078f4f230a27
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 28 06:56:53 2012 +0200

    Simplify use of posix_assert in mutex.hpp

    It is the job of the posix_assert macro to check
    the value. No need to do it twice.

    The patch also fixes some whitespace problems.

 src/mutex.hpp |   28 ++++++++++++----------------
 1 file changed, 12 insertions(+), 16 deletions(-)

commit e7674025e583044c7d6a52cd54033973df934bef
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 28 06:49:25 2012 +0200

    Remove the launch_sibling method

    The method is not used anymore.

 src/own.cpp |   18 ------------------
 src/own.hpp |    4 ----
 2 files changed, 22 deletions(-)

commit 6f47f1281bcd56a085097cecfeaa1064f90fb19e
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 28 06:38:25 2012 +0200

    Do not pass a message to the check_write method

    The check_write method does not use the passed message.
    The parameter was needed to implement the swap.
    As the swap is not supported anymore, it is safe to remove this parameter.

 src/lb.cpp     |   12 ++----------
 src/pair.cpp   |    8 +-------
 src/pipe.cpp   |    4 ++--
 src/pipe.hpp   |    2 +-
 src/router.cpp |    8 +-------
 5 files changed, 7 insertions(+), 27 deletions(-)

commit ed65271c52ef586607bcde066ccac65adfac0446
Merge: 19f364e 9c46e87
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Mar 27 01:55:20 2012 -0700

    Merge pull request #295 from hurtonm/tcp_address_fixes_anc_cleanups

    Tcp address fixes anc cleanups

commit 9c46e8758888546dbf15102b218b92cefb4693bf
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 27 06:26:39 2012 +0200

    tcp_address: minor cleanups

 src/tcp_address.cpp |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 700e08c3c278b5ac67985404ab3e97a608bbf2fd
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 27 06:45:03 2012 +0200

    tcp_address: make port number conversion more robust

    This still rejects 00 as port number.

 src/tcp_address.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c428f6aece6447b9a32bd6430f80a4b22e51663a
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 27 06:16:33 2012 +0200

    tcp_address: check address length before manipulating it

 src/tcp_address.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19f364e20268befc0d98d0703ceaaba15537a7ad
Merge: 4c93fc2 2bcc300
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Mar 26 14:41:12 2012 -0700

    Merge pull request #294 from pieterh/master

    Fixed issue LIBZMQ-348 - Valgrind support

commit 2bcc300a0ff22d426e012085e8464fa73d6417dc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 26 16:31:10 2012 -0500

    Fixed issue #348

 builds/valgrind/valgrind.supp |   14 ++++++++++++
 builds/valgrind/vg            |    1 +
 src/object.cpp                |   48 -----------------------------------------
 3 files changed, 15 insertions(+), 48 deletions(-)

commit 4c93fc25879213824c4fb4c9545f895ed7f43b95
Merge: 64732ae 084e1c2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Mar 26 08:12:53 2012 -0700

    Merge pull request #291 from rcxdude/bugfix

    Fix for issue #307

commit 64732aeca31176e27f3b8d69220f5f66fb82503e
Merge: dc4d61f c2e9997
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Mar 26 08:12:12 2012 -0700

    Merge pull request #293 from hurtonm/fix_getaddrinfo_for_ipv6_on_freebsd

    Don't set the AI_V4MAPPED flag on FreeBSD

commit c2e9997a3c16d19a80fe5ca51760fd5eb9d7ff46
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Mar 25 23:51:51 2012 +0200

    Don't set the AI_V4MAPPED flag on FreeBSD

    The problem is that even though the AI_V4MAPPED flag is defined
    on FreeBSD, the getaddrinfo function does not support it and
    returns EAI_BADFLAGS.

    The patch also sets the flag on Windows if it is defined there.
    This is true for Windows Vista and later.

    Fixes issue #331.

 src/tcp_address.cpp |   23 +++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit dc4d61f38ba967ebcf456892bea3c7dcfb33d485
Merge: 6d776d0 00b4571
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Mar 25 12:18:31 2012 -0700

    Merge pull request #292 from hurtonm/fix_issue_334

    Fixed issue #334

commit 00b4571bf1990e7c918ce6736c77757733848f5b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sun Mar 25 20:06:06 2012 +0200

    Fixed issue #334

 src/session_base.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 084e1c2193d73fe8db29603679e61f89907272ff
Author: Douglas Young <rcxdude@gmail.com>
Date:   Sun Mar 25 17:50:55 2012 +0100

    Fix for issue #307

    dist was skipping over pipes when one failed because the non-working pipe got
    swapped with a working pipe but the write was never retried on that pipe

 src/dist.cpp |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 6d776d08658d41fda2986f49103f6b1689663872
Merge: c861fb4 ba798ee
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Mar 23 15:52:42 2012 -0700

    Merge pull request #290 from pieterh/master

    Fixed issue #325

commit ba798ee8f34f8d118a4e8296ac8335d10511653a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 23 17:32:26 2012 -0500

    Fixed issue #325

 doc/zmq_setsockopt.txt |    3 +++
 1 file changed, 3 insertions(+)

commit 82c06e4417795ebc3e7760af6b02a3d9fd895da6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 23 17:29:04 2012 -0500

    Fixed issue #325

 src/router.cpp |   41 +++++++++++++++++++++++------------------
 1 file changed, 23 insertions(+), 18 deletions(-)

commit c861fb4c831d2a7927e11a0256a688149ab80c0d
Merge: 712e36d 3585ec8
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 22 15:20:53 2012 -0700

    Merge pull request #289 from pieterh/master

    Makefile.am wasn't fixed, so libzmq was not building

commit 3585ec8aea9369580e4a5718b0e8ef7f37551ee8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 22 16:47:17 2012 -0500

    Fixed Makefile for ROUTER/DEALER rename

 src/Makefile.am |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 712e36d29cce7a09c9b703ff5063b1642e40d75b
Merge: 6f720f0 27c28bd
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 22 14:44:43 2012 -0700

    Merge pull request #288 from pieterh/master

    Mark sockets as invalid when closed, not reaped

commit 27c28bdc2e2c1aa3d3dfeca055cc03165f6f98ca
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 22 15:55:05 2012 -0500

    Mark sockets as invalid when closed, not when destroyed

    Previously, sockets were still "valid" after being closed and only marked
    as invalid when destroyed. This meant programs could access closed sockets.
    Now the socket is marked "invalid" when closed.

 src/socket_base.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6f720f0026f9966e402a4f3d18df79614e19cfae
Merge: 0480ce1 c12fedc
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 22 13:30:48 2012 -0700

    Merge pull request #287 from pieterh/master

    Completed internal renaming of XREP/XREQ to ROUTER/DEALER

commit c12fedc70a09e1701dbafaac4555245c9561603d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 22 11:36:19 2012 -0500

    Completed internal renaming of XREP/XREQ to ROUTER/DEALER

 src/dealer.cpp       |  128 +++++++++++++++++++
 src/dealer.hpp       |   92 ++++++++++++++
 src/rep.cpp          |   16 +--
 src/rep.hpp          |    6 +-
 src/req.cpp          |   26 ++--
 src/req.hpp          |    6 +-
 src/router.cpp       |  342 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/router.hpp       |  128 +++++++++++++++++++
 src/session_base.cpp |   12 +-
 src/socket_base.cpp  |   12 +-
 src/xrep.cpp         |  342 --------------------------------------------------
 src/xrep.hpp         |  128 -------------------
 src/xreq.cpp         |  128 -------------------
 src/xreq.hpp         |   92 --------------
 14 files changed, 729 insertions(+), 729 deletions(-)

commit 0480ce18207120a2b44ed4ef264b2ecb73e691a2
Merge: 3b483a8 75809b2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 22 09:09:15 2012 -0700

    Merge pull request #286 from pieterh/master

    Fixed issue LIBZMQ-345 - race condition in ctx.socket/term allows segfault

commit 75809b27da53767df03c9cf5e065a19fba62533b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 22 11:03:32 2012 -0500

    Fixed issue LIBZMQ-345 - race condition in ctx.socket/term allows segfault

 src/ctx.cpp |    9 +++------
 src/ctx.hpp |    2 +-
 2 files changed, 4 insertions(+), 7 deletions(-)

commit 3b483a8dd7ed8b2009e0872f1b382ec56aef933f
Merge: 84707d3 151d071
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 22 03:32:43 2012 -0700

    Merge pull request #285 from hurtonm/ctx_patches

    Ctx patches

commit 84707d3feb5a71e4a279b3e6e58fcb19240b89aa
Merge: 8a64d80 860e1d2
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Mar 22 03:31:02 2012 -0700

    Merge pull request #284 from pieterh/master

    Fixed issue LIBZMQ-344 - Implementation of ZMQ_FAIL_UNROUTABLE is broken

commit 151d0717bb214f318bfb6377e037f3702ca52f6e
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Mar 22 07:06:17 2012 +0100

    Minor cleanups

    * corrects whitespace errors
    * fixes spelling errors in comments
    * prefers #ifdef to #if defined

 src/ctx.cpp |    8 ++++----
 src/ctx.hpp |   20 ++++++++++----------
 2 files changed, 14 insertions(+), 14 deletions(-)

commit ae2b9383303c9d3dd2e402fb026a3f43c97d0fc7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Mar 22 06:51:41 2012 +0100

    register_endpoint: simplify locking

 src/ctx.cpp |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e56f698023250831520b2566398b3fdc36181e15
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Mar 22 06:55:12 2012 +0100

    choose_io_thread: do not assert when no I/O thread was chosen

 src/ctx.cpp |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit f944336ee0110268e8b550c052e70d6244be852d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Mar 22 06:46:04 2012 +0100

    Fix race condition in find_endpoint

 src/ctx.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 860e1d24c08c82c0dea2b8cee5af44ec3837deac
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Mar 21 17:43:52 2012 -0500

    Fixed issue #344

 src/xrep.cpp |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 8a64d80fba9ff510000a17edbee5d291f66e895b
Merge: 0afd8a8 f26e4ab
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Mar 21 13:21:21 2012 -0700

    Merge pull request #283 from pieterh/master

    Fixed issue LIBZMQ-343 - zmq_msg_get/set are too complex

commit f26e4ab7840720e69c5015030f22a715779a2189
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Mar 21 14:19:40 2012 -0500

    Simplified zmq_msg_get/set functions

    * Return integer property
    * Fixed up man pages, which were inaccurate
    * Fixed test case

 .gitignore               |    1 +
 doc/zmq_msg_get.txt      |   42 ++++-----
 doc/zmq_msg_more.txt     |    4 +-
 doc/zmq_msg_set.txt      |   18 ++--
 include/zmq.h            |    7 +-
 src/zmq.cpp              |   21 +----
 tests/test_last_endpoint |  225 ----------------------------------------------
 tests/test_msg_flags.cpp |   13 +--
 8 files changed, 36 insertions(+), 295 deletions(-)

commit 0afd8a87d55e39342411a1998b6866f378c2b676
Merge: cd57c43 6dd102c
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Mar 20 13:14:59 2012 -0700

    Merge pull request #281 from pieterh/master

    Applied patch for issue #293 - zmq 2.1 doesn't follow the ZMTP/1.0 spec

commit cd57c4388019c649d488c19531dca71a167ec902
Merge: 58378c6 35233f9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 20 12:50:57 2012 -0700

    Merge pull request #282 from hurtonm/remove_unused_variable

    remove unused variable

commit 58378c6a2c8c7d4a22d1aab9c1991d4ff64db65b
Merge: 60e45f3 0a6fc02
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 20 12:50:43 2012 -0700

    Merge pull request #280 from hurtonm/fix_ipc_connecter

    fix connection establishment for AF_UNIX sockets

commit 35233f9e2f93859f45a8c03d16f81d0faf20162c
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 20 19:34:10 2012 +0100

    remove unused variable

 src/tcp_listener.cpp |    1 -
 src/tcp_listener.hpp |    3 ---
 2 files changed, 4 deletions(-)

commit 0a6fc0270292889921c14b6e07964d9b1b63d6c6
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 20 18:54:17 2012 +0100

    fix connection establishment for AF_UNIX sockets

 src/ipc_connecter.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 60e45f34b673039ee168d9192b648c26750e7d6e
Merge: 7d6d2f9 1e4c5b2
Author: Chuck Remes <cremes@mac.com>
Date:   Tue Mar 20 09:42:18 2012 -0700

    Merge pull request #279 from pieterh/master

    Wrote new ctx API, added ZMQ_MAX_SOCKETS and ZMQ_IO_THREADS

commit 6dd102cdedc404d6461e36c06291aab8abd2fada
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 20 10:53:51 2012 -0500

    Fixed issue #293

 src/encoder.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1e4c5b293af996928a2048b973978860c7de04c9
Merge: 7d6d2f9 6e71a54
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 20 10:18:15 2012 -0500

    Merge branch 'issue-337'

commit 7d6d2f940815b066a80bd59e25f4e76c88ea2386
Merge: 5973da4 1075812
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Mar 20 07:06:33 2012 -0700

    Merge pull request #278 from taurel/master

    Disable reconnection option

commit 107581213cd04e14d5b44efa1730a0134f958a92
Author: Emmanuel Taurel <taurel@esrf.fr>
Date:   Tue Mar 20 09:22:27 2012 +0100

    Disable reconnection option

    Add value -1 to the ZMQ_RECONNECT_IVL to disable the reconnection algorithm

 doc/zmq_getsockopt.txt |    2 +-
 doc/zmq_setsockopt.txt |    2 +-
 src/options.cpp        |    2 +-
 src/session_base.cpp   |    3 ++-
 4 files changed, 5 insertions(+), 4 deletions(-)

commit 5973da486696aca389dab0f558c5ef514470bcd2
Merge: 87fa8e7 9426bd5
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Mar 20 00:28:19 2012 -0700

    Merge pull request #277 from pieterh/master

    Removed sys:// logging infrastructure

commit 9426bd5baf5010b547368ad88f11263f2d6bfb66
Merge: 87fa8e7 bdefa18
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 19 23:15:15 2012 -0500

    Merge branch 'issue-336'

commit 87fa8e78bf9e0143f8a7c56a7efa943adee52556
Merge: 8665f9a 06dd31c
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Mon Mar 19 18:51:05 2012 -0700

    Merge pull request #276 from pieterh/master

    Removed last vestiges of thread-safe sockets

commit 6e71a54b1efe1ddb1805c6cc49e3f91492622a81
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 19 19:41:20 2012 -0500

    Fixed issues #337, #341, and #340

    * Implemented new ctx API (_new, _destroy, _get, _set)
    * Removed 'typesafe' macros from zmq.h
    * Added support for MAX_SOCKETS (was tied into change for #337)
    * Created new man pages

 doc/Makefile.am          |    6 +-
 doc/zmq.txt              |   18 +++-
 doc/zmq_ctx_destroy.txt  |   66 ++++++++++++++
 doc/zmq_ctx_get.txt      |   67 ++++++++++++++
 doc/zmq_ctx_new.txt      |   49 ++++++++++
 doc/zmq_ctx_set.txt      |   75 ++++++++++++++++
 doc/zmq_init.txt         |    1 +
 doc/zmq_term.txt         |    1 +
 include/zmq.h            |   89 ++++++++----------
 src/ctx.cpp              |  191 ++++++++++++++++++++++++++-------------
 src/ctx.hpp              |   29 ++++--
 src/options.cpp          |    5 +-
 src/options.hpp          |    3 +
 src/pair.cpp             |    4 +-
 src/pair.hpp             |    2 +-
 src/pub.cpp              |    6 +-
 src/pub.hpp              |    4 +-
 src/pull.cpp             |    4 +-
 src/pull.hpp             |    2 +-
 src/push.cpp             |    4 +-
 src/push.hpp             |    2 +-
 src/rep.cpp              |    6 +-
 src/rep.hpp              |    2 +-
 src/req.cpp              |    4 +-
 src/req.hpp              |    4 +-
 src/socket_base.cpp      |   27 +++---
 src/socket_base.hpp      |    6 +-
 src/sub.cpp              |    6 +-
 src/sub.hpp              |    4 +-
 src/xpub.cpp             |    4 +-
 src/xpub.hpp             |    2 +-
 src/xrep.cpp             |    4 +-
 src/xrep.hpp             |    2 +-
 src/xreq.cpp             |    4 +-
 src/xreq.hpp             |    2 +-
 src/xsub.cpp             |    4 +-
 src/xsub.hpp             |    2 +-
 src/zmq.cpp              |   58 ++++++++----
 tests/test_last_endpoint |  225 ++++++++++++++++++++++++++++++++++++++++++++++
 39 files changed, 798 insertions(+), 196 deletions(-)

commit bdefa181eddddf49306d4d618f169da5ee3dfc49
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 19 16:15:09 2012 -0500

    Fixed issue 336

 src/ctx.cpp         |   37 -------------------------------------
 src/ctx.hpp         |    8 --------
 src/object.cpp      |    8 --------
 src/socket_base.cpp |    6 +++---
 4 files changed, 3 insertions(+), 56 deletions(-)

commit 06dd31c56aaa98da2063c710f78aed8718d0996c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 19 15:50:53 2012 -0500

    Removed last vestiges of thread-safe sockets

 src/ctx.cpp         |   10 ----------
 src/ctx.hpp         |    6 ------
 src/socket_base.cpp |   19 +------------------
 src/socket_base.hpp |    3 ---
 4 files changed, 1 insertion(+), 37 deletions(-)

commit 8665f9a0b61cd6de2b02282192c19b01660e887b
Merge: 32c85e0 9ccfbf8
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sat Mar 17 10:17:39 2012 -0700

    Merge pull request #275 from pieterh/master

    Fixed issue LIBZMQ-333 (zmq_devices is missing)

commit 9ccfbf8d3048cc3d006a0ce97c8d5d99527b2eb1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Mar 17 11:12:11 2012 -0500

    Removed zmq.hpp, may add this back in separate commit

 include/zmq.hpp |  296 -------------------------------------------------------
 1 file changed, 296 deletions(-)

commit 9ac40c47d7fc3f47859a914147a0a840505e868c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Mar 16 16:39:11 2012 -0500

    Fixed issue LIBZMQ-333

     - reverted commit 941be8d2175332cb720f390f93d07a0870db8824.
     - fixed zmq_device implementation for latest socket_base class
     - added back zmq_device.3 man page

 builds/redhat/zeromq.spec.in |    7 +
 doc/Makefile.am              |    2 +-
 doc/zmq.txt                  |   10 ++
 doc/zmq_device.txt           |  125 ++++++++++++++++++
 doc/zmq_socket.txt           |    3 -
 include/zmq.h                |   10 ++
 include/zmq.hpp              |  296 ++++++++++++++++++++++++++++++++++++++++++
 src/Makefile.am              |    2 +
 src/device.cpp               |  120 +++++++++++++++++
 src/device.hpp               |   32 +++++
 src/zmq.cpp                  |   47 +++++++
 11 files changed, 650 insertions(+), 4 deletions(-)

commit 32c85e0ea39e46ee9b40f814d18b939a17ac40f0
Merge: 62d27b7 cb70c5e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 15 09:01:15 2012 -0700

    Merge pull request #274 from Kobolog/master

    An options to choose the behavior for unroutable messages in ZMQ_ROUTER sockets

commit cb70c5e75d3cdc23f0264830b5eabf72c4b5543b
Author: Kobolog <me@kobology.ru>
Date:   Thu Mar 15 15:15:44 2012 +0300

    fixed some typos

 include/zmq.h |    2 +-
 src/xrep.cpp  |    8 ++++----
 src/xrep.hpp  |    2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 8095a129e8114341667d2d82d21cfcfc92456fbb
Author: Kobolog <me@kobology.ru>
Date:   Thu Mar 15 15:06:44 2012 +0300

    man entry for the new option

 doc/zmq_setsockopt.txt |   20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit df584a3be04cac3fffb8b8b319d7351c8d9b6345
Author: Kobolog <me@kobology.ru>
Date:   Thu Mar 15 14:57:38 2012 +0300

    an option to fail on unroutable messages in ROUTER sockets

 include/zmq.h |    1 +
 src/xrep.cpp  |   31 ++++++++++++++++++++++++++++---
 src/xrep.hpp  |    4 ++++
 3 files changed, 33 insertions(+), 3 deletions(-)

commit 62d27b7af3560b3cd5bc95ea216243dc268116eb
Merge: f967430 318ba88
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Mar 14 08:27:04 2012 -0700

    Merge pull request #273 from BoresExpress/wm5

    Add WinCE support.

commit 318ba8836f1e86f23a876788f37406de7c52774c
Author: boris@boressoft.ru <Ñ÷¸òíàÿ êîìèññèÿ@DANCE-SERVER-2.(none)>
Date:   Wed Mar 14 19:12:28 2012 +0400

    Add WinCE support.

    * Added two new files: errno.hpp and errno.cpp. They are required to use errno functionality on WM.
    * zmq.cpp, msg.h: removed inclusion of errno.h because it is included in zmq.h that is also included by .cpp.
    * windows.hpp: process.h is included only for desktop builds.
    * thread.cpp: on CE CreateThread is used instead of __beginthreadex
    * socket_base.cpp, clock.cpp: on CE include cmnintrin.h instead on intrin.h
    * signaler.cpp: on Windows should use special macro around event name (for unicode builds)
    * err.hpp: make it include errno.hpp (my file) instead on errno.h when building for CE
    * err.cpp: use FormatMessage when building for CE (because CE does not have ANSI API functions)
    * zmq.h: do not include errno.h whe building for CE
    * libzmq.vcproj: add tro new files

 builds/msvc/errno.cpp            |   32 ++++++++++++++++++++++
 builds/msvc/errno.hpp            |   56 ++++++++++++++++++++++++++++++++++++++
 builds/msvc/libzmq/libzmq.vcproj |    8 ++++++
 include/zmq.h                    |    2 ++
 src/clock.cpp                    |    4 +++
 src/err.cpp                      |    6 ++++
 src/err.hpp                      |    4 +++
 src/msg.cpp                      |    1 -
 src/signaler.cpp                 |    2 +-
 src/socket_base.cpp              |    4 +++
 src/thread.cpp                   |    9 ++++++
 src/windows.hpp                  |    2 ++
 src/zmq.cpp                      |    1 -
 13 files changed, 128 insertions(+), 3 deletions(-)

commit f9674308e8f4ab3271adf07fa93b404ae0fc9ea4
Merge: 19d3096 020f777
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Mar 12 15:22:00 2012 -0700

    Merge pull request #272 from staticfloat/patch-1

    Eliminate unnecessary line break

commit 020f777e097d7e3a1eba534126cb479bf786519b
Author: staticfloat <staticfloat@gmail.com>
Date:   Mon Mar 12 15:18:32 2012 -0700

    Eliminate unnecessary line break

 doc/zmq_term.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19d30969cff3ad07153ca4448f9603728263ec59
Merge: 4c59b1f ce24bf0
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Mar 6 07:22:34 2012 -0800

    Merge pull request #271 from BoresExpress/bug1

    Changed wrong file name in VC++ project.

commit ce24bf04dde0fb6ee39a836dfebaf4f9bd87014d
Author: boris@boressoft.ru <Ñ÷¸òíàÿ êîìèññèÿ@DANCE-SERVER-2.(none)>
Date:   Tue Mar 6 18:21:55 2012 +0400

    Changed wrong file name in VC++ project.

    Name of the file in the project does not match actual file name:
    adress.cpp VS. address.cpp

 builds/msvc/libzmq/libzmq.vcproj |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c59b1fb2f68ac481556e22427ce243fff81edca
Merge: 0fed3a3 3aabbba
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Mar 1 14:25:11 2012 -0800

    Merge pull request #270 from rgagnon24/master

    Fix IPC transport domain socket stream file not being removed when connection is closed

commit 3aabbbaefa11217426f134f3d65efa1206ff8c96
Author: Rob Gagnon <rgagnon24@gmail.com>
Date:   Thu Mar 1 21:49:46 2012 +0000

    Fix IPC transport domain socket stream file not being removed when connection is closed

 src/ipc_listener.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 0fed3a3fca2ea7a5e6cfe8566aa1b5a28d56ee0b
Merge: 3f8322b 5820438
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 27 08:10:21 2012 -0800

    Merge pull request #269 from datasift/master

    patch for LIBZMQ-328

commit 5820438b64b0f22bbf50a28fa6d905fd6e085182
Author: Ben Gray <ben@benjamg.com>
Date:   Mon Feb 27 16:06:56 2012 +0000

    update lower bound flag when removing topics

 src/trie.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 3f8322beff81fb5ed951bf43dc90d1623e52a565
Merge: 7689d20 3485b3e
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Feb 27 03:00:49 2012 -0800

    Merge pull request #268 from gimaker/compact-trie-table

    Fixed a bug in the mtrie table compaction logic.

commit 3485b3ef40c435a4ac03fcc5f7341fad7aa2d5b5
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Mon Feb 27 11:51:30 2012 +0100

    Fixed a bug in the mtrie table compaction logic.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/mtrie.cpp |   17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 7689d205e9928e2370261833637ec6ae142d6aa4
Merge: 58f8d4a b05fb46
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Feb 21 00:01:09 2012 -0800

    Merge pull request #267 from mkoppanen/windows-project-files

    Add missing files to Windows project files

commit b05fb4696657e6353584cdf9078392941218154d
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Mon Feb 20 21:51:37 2012 -0600

    Add missing files to Windows project files

 builds/msvc/libzmq/libzmq.vcproj  |    8 ++++++++
 builds/msvc/libzmq/libzmq.vcxproj |    2 ++
 2 files changed, 10 insertions(+)

commit 58f8d4a417531a18be18a6e9577525c59efc3bf1
Merge: 879ab39 5d7450d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Mon Feb 20 08:40:43 2012 -0800

    Merge pull request #266 from mkoppanen/improve-tests

    Improve the test for last_endpoint, use the same ports as other tests

commit 879ab39e9275da7b10c88e6b4e558c08b44fef8d
Merge: 78d24d3 1824574
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 20 08:39:59 2012 -0800

    Merge pull request #265 from mkoppanen/freebsd-solaris-fixes

    tcp_listener::get_address improvements

commit 5d7450d65e2fa8e7d0de91d9890363d21741b3c3
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Sun Feb 19 23:19:17 2012 -0600

    Improve the test for last_endpoint, use the same ports as other tests

 tests/test_last_endpoint.cpp |   34 ++++++++++++++--------------------
 1 file changed, 14 insertions(+), 20 deletions(-)

commit 1824574f9b5a8ce786853320e3ea09fe1f822bc4
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Mon Feb 20 04:26:25 2012 +0000

    Minor fixes to get_address code to fix build on solaris and freebsd. Also service doesnt need to be discovered here

 src/tcp_listener.cpp |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 78d24d3d01a6cf14e1df6015cd65c0043b4065a7
Merge: 2533909 5e1efc9
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Sun Feb 19 12:30:37 2012 -0800

    Merge pull request #264 from ianbarber/master

    Update docs for last endpoint and add test for IPC last endpoint retrieval

commit 5e1efc9ec37f08038e9a6561c5329871a20c267e
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sun Feb 19 18:46:46 2012 +0000

    Update documentation for last endpoint to mention inaddr_any and add a test for IPC last endpoint checking

 doc/zmq_getsockopt.txt       |    3 ++-
 tests/test_last_endpoint.cpp |    7 +++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 2533909f60ce6e8400c8862b5719b5c263951eea
Merge: b19c5fc 33a18f0
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Feb 18 15:11:58 2012 -0800

    Merge pull request #263 from mkoppanen/tcp-get-address

    More fixes based on CentOS 6.2 results

commit 33a18f0f9047ab2ffa7acb844e98c7dba3dfdb04
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Sat Feb 18 23:07:27 2012 +0000

    More fixes based on CentOS 6.2 results

 src/tcp_listener.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b19c5fced5387b0c539c6e11b9797205ef24af9c
Merge: 06140da d00d484
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Feb 18 14:44:29 2012 -0800

    Merge pull request #262 from mkoppanen/tcp-get-address

    Tcp get address

commit d00d4843beac26dfbf8954e93aa3886d5e39f297
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Sat Feb 18 20:44:41 2012 +0000

    More fixes for ZMQ_LAST_ENDPOINT. Added a test

 src/ipc_listener.cpp         |   22 ++++++++++--------
 src/ipc_listener.hpp         |    2 +-
 src/socket_base.cpp          |   10 ++++----
 src/tcp_listener.cpp         |   14 ++++++++----
 src/tcp_listener.hpp         |    2 +-
 tests/Makefile.am            |    4 +++-
 tests/test_last_endpoint.cpp |   52 ++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 84 insertions(+), 22 deletions(-)

commit b0573486c7abf89b79d30aa4d29b0dac3d789619
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Sat Feb 18 19:48:09 2012 +0000

    Fixes for tcp_listener::get_address

 src/tcp_listener.cpp |   40 +++++++++++++++++-----------------------
 1 file changed, 17 insertions(+), 23 deletions(-)

commit 06140daf2948695926d9b76d73064f4996e6a63b
Merge: e248549 1bf4067
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Feb 17 14:38:02 2012 -0800

    Merge pull request #261 from mkoppanen/windows-build

    Windows build

commit 1bf4067cd8aecc65ab246d247f05ff1332831927
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Fri Feb 17 22:07:52 2012 +0000

    More fixes for win build

 src/socket_base.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e24854925296b15343a41efbfe83d0885dee562c
Merge: dd35385 9a4fd8a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Feb 17 14:07:04 2012 -0800

    Merge pull request #260 from mkoppanen/solaris-build

    Needs explicit cast on solaris

commit 51b59b40ddbcbde58dd45a32a449996041cb4aef
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Fri Feb 17 22:06:10 2012 +0000

    Fix build on windows

 src/address.cpp |    2 ++
 src/address.hpp |    6 ++++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 9a4fd8a3053cef8ac283da837d740273ba1554ef
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Fri Feb 17 21:55:06 2012 +0000

    Needs explicit cast on solaris

 src/zmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd35385da323be4a275b78dbdaf7a7b33ef164c7
Merge: cfe2a82 56aa49f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 17 13:50:27 2012 -0800

    Merge pull request #259 from mkoppanen/solaris-build

    Fix build on solaris

commit 56aa49ff3d67fd7d643adfc88cc9625b3ca06b07
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Fri Feb 17 21:45:17 2012 +0000

    Fix build on solaris

 src/ipc_listener.cpp |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit cfe2a821f3a01affc3044fcd91caf2292abe6508
Merge: 9e622d5 916f1a5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 17 09:12:26 2012 -0800

    Merge pull request #258 from skaller/master

    Remove thread safe socket code from C API and tests.

commit 916f1a524ddf1820b7857a42c8f35d477f73ebba
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 18 02:41:17 2012 +1100

    Remove build script references to test_ts_context.

 tests/Makefile.am |    2 --
 1 file changed, 2 deletions(-)

commit e7da123b280f42d058686001d89899058b7ee75e
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 18 02:34:59 2012 +1100

    Remove thread safe test.

 tests/test_ts_context.cpp |  129 ---------------------------------------------
 1 file changed, 129 deletions(-)

commit 38e74c9e84b3fbe3fc65024a91f5b2b783d33a84
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 18 02:34:18 2012 +1100

    Remove thread safe socket stuff from C binding.

 src/zmq.cpp |   48 ------------------------------------------------
 1 file changed, 48 deletions(-)

commit 0fa6b8e79345daa7803ec301d5d78a510c501c9b
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 18 02:32:15 2012 +1100

    Remove thread safe context init.

 include/zmq.h |    1 -
 1 file changed, 1 deletion(-)

commit 9e622d542ad0c01c3389fe8a26e7325dee301c05
Merge: 9910439 82bd543
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 17 07:03:39 2012 -0800

    Merge pull request #256 from ianbarber/master

    Removing old ECANTROUTE documentation

commit 991043927794a8500668b0f8eac6a2d2fe6fadfc
Merge: c9898d2 da1920d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Feb 17 02:29:29 2012 -0800

    Merge pull request #257 from mkoppanen/master

    Revert null checks in the API

commit da1920d94457ca614b50b060a64fe849ec3f0ec8
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Fri Feb 17 09:48:04 2012 +0000

    Revert NULL checks in the API

 doc/zmq_msg_size.txt |   12 ++---------
 include/zmq.h        |    2 +-
 perf/inproc_lat.cpp  |    2 +-
 perf/inproc_thr.cpp  |    2 +-
 perf/local_lat.cpp   |    2 +-
 perf/local_thr.cpp   |    2 +-
 perf/remote_lat.cpp  |    2 +-
 src/msg.cpp          |    2 +-
 src/msg.hpp          |    4 ++--
 src/zmq.cpp          |   54 ++++----------------------------------------------
 10 files changed, 15 insertions(+), 69 deletions(-)

commit 82bd5431ce2be7aac0e9d8a88103d5a29353f0cf
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Feb 17 08:01:36 2012 +0000

    Updating documentation to remove ECANTROUTE error code

 doc/zmq_msg_send.txt |    3 ---
 doc/zmq_send.txt     |    3 ---
 doc/zmq_sendmsg.txt  |    3 ---
 3 files changed, 9 deletions(-)

commit c9898d2419c52ebf51970fa11ce3a70c06fe2780
Merge: 244f3a3 132112a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 20:27:49 2012 -0800

    Merge pull request #255 from jtzl/master

    Adding more specific installation instructions

commit 132112afeb4e6f2d49e854711353a6ec81bb3387
Author: Jtzl Forshizl <jtg@intarcorp.com>
Date:   Thu Feb 16 19:50:28 2012 -0500

    added more specific installation documentation

 INSTALL |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 244f3a3c113f7bd028e3058de0363159ad56318f
Merge: a457be3 ccdb7a6
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Feb 16 13:59:53 2012 -0800

    Merge pull request #254 from pieterh/minor-cleanups

    Minor cleanups

commit ccdb7a63052c1faa947b0b27ad280303b048d9cf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 15:55:18 2012 -0600

    Minor cleanups

    * Fixed use of ssize_t in zmq_msg_t class
    * Corrected error after merge, old reference to inner_fctname (broke build)

 .gitignore  |    1 +
 src/msg.cpp |    4 ++--
 src/msg.hpp |    5 +++--
 src/zmq.cpp |   16 ++++++++++------
 4 files changed, 16 insertions(+), 10 deletions(-)

commit a457be315bec89ab013715586a28be83de5dd736
Merge: 9321dfb 8a497e2
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Thu Feb 16 13:20:33 2012 -0800

    Merge pull request #246 from pieterh/arguments

    Return EFAULT if required arguments are null

commit 9321dfb84588e2a2dbc15e2657f710e0899a0b90
Merge: 5d9432b 4697634
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Thu Feb 16 13:19:11 2012 -0800

    Merge pull request #248 from pieterh/scattered

    Renamed scatter/gather methods, cleaned up source

commit 5d9432b28217246b5de23fd850ac13481e99c4e7
Merge: 4b62344 2da76a3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 13:13:11 2012 -0800

    Merge pull request #253 from ianbarber/master

    Remove inet_ntop

commit 2da76a3003cf1855e7e989ef347e6d178e518ac3
Author: Ian Barber <ian.barber@gmail.com>
Date:   Thu Feb 16 21:05:02 2012 +0000

    Updating to use getnameinfo rather than inet_ntop

 src/tcp_listener.cpp |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 4b62344023eb0f9be2b3b6a09239869198c667a9
Merge: c9d124b 2cd04c5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 10:49:23 2012 -0800

    Merge pull request #252 from gimaker/compact-trie-table

    Compact the trie/mtrie node tables where possible, to reduce memory usag...

commit c9d124b27eb5dacadb626c57638f3593707c2306
Merge: bfbe556 e18f9da
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 10:45:13 2012 -0800

    Merge pull request #251 from gimaker/sub-sndhwn-assert

    Drop subscription messages when reaching the SNDHWM rather than assertin...

commit bfbe556e006169e3a81d2946f98b0d8d6154de02
Merge: 2f44faa b9fb48f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 10:35:48 2012 -0800

    Merge pull request #250 from gimaker/connect-assert

    Resolve addresses in the calling thread on connect.

commit 4697634c0b6e18673f8c5a16007f26e515128b03
Merge: 3ee99ae b3d7b29
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 12:31:57 2012 -0600

    Resolved conflicts after merge

commit 3ee99ae81f86da979a6ca4f065d09f4be4c43296
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 16:47:24 2012 -0600

    Renamed scatter/gather methods, cleaned up source

 include/zmq.h |    4 +--
 src/zmq.cpp   |  101 ++++++++++++++++++++++++++++++++-------------------------
 2 files changed, 59 insertions(+), 46 deletions(-)

commit 8a497e2ffc16cbd6c2642ac2238dd186d917f684
Merge: 0efb49f 07b49ff
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 12:27:39 2012 -0600

    Resolved conflicts after merge

commit 0efb49f12fdec061b267a7526cbaa8d149d8c254
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 12:04:25 2012 -0600

    Fixed up all references to zmq_msg_size

 doc/zmq_msg_size.txt |   16 ++++++++++++----
 include/zmq.h        |    1 +
 perf/inproc_lat.cpp  |    4 ++--
 perf/inproc_thr.cpp  |    4 ++--
 perf/local_lat.cpp   |    4 ++--
 perf/local_thr.cpp   |    4 ++--
 perf/remote_lat.cpp  |    4 ++--
 7 files changed, 23 insertions(+), 14 deletions(-)

commit 02b81d42ce2c3b6fabcfe1bcdc6fa8bceed9762a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 15:17:01 2012 -0600

    Changed return type of zmq_msg_size to ssize_t to allow error return

 include/zmq.h |    4 ++--
 src/zmq.cpp   |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit dc09da456936e84e68e220a8c950e1abc2ebbd0b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 13:03:40 2012 -0600

    Return EFAULT if required arguments are null

 src/zmq.cpp |   42 ++++++++++++++++++++++++++++++++++++------
 1 file changed, 36 insertions(+), 6 deletions(-)

commit 07b49ffb9c30af3c8a4e486dc4225784f4a1dda8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Feb 16 12:04:25 2012 -0600

    Fixed up all references to zmq_msg_size

 doc/zmq_msg_size.txt |   16 ++++++++++++----
 include/zmq.h        |    1 +
 perf/inproc_lat.cpp  |    4 ++--
 perf/inproc_thr.cpp  |    4 ++--
 perf/local_lat.cpp   |    4 ++--
 perf/local_thr.cpp   |    4 ++--
 perf/remote_lat.cpp  |    4 ++--
 7 files changed, 23 insertions(+), 14 deletions(-)

commit 2f44faa7ce13645fe3b49475ced40675d0638709
Merge: 2b646cb fb4748f
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Thu Feb 16 08:58:03 2012 -0800

    Merge pull request #247 from pieterh/sendrecv

    Added zmq_msg_send/recv functions

commit 2b646cbf6309ee648bf72e4609ef040d1cfe3ca3
Merge: b2e2fa6 d092f26
Author: Mikko Koppanen <mikko@kuut.io>
Date:   Thu Feb 16 08:56:29 2012 -0800

    Merge pull request #249 from pieterh/msgpeekpoke

    Renamed zmq_getmsgopt to zmq_msg_get

commit 2cd04c54dfabd48f528636d15ccc4e1959b14432
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Thu Feb 16 15:56:19 2012 +0100

    Compact the trie/mtrie node tables where possible, to reduce memory usage.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/mtrie.cpp |  128 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/trie.cpp  |   87 ++++++++++++++++++++++++++++++++++++++-
 2 files changed, 211 insertions(+), 4 deletions(-)

commit e18f9da012b2ee164539e089254dbbe33af204a9
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Thu Feb 16 14:49:47 2012 +0100

    Drop subscription messages when reaching the SNDHWM rather than asserting.

    This matches the behaviour of zmq_setsockopt(ZMQ_SUBSCRIBE, ...), which also
    silently drops subscription messages if the SNDHWM is reached.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/xsub.cpp |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit b9fb48f47b8b6f211625e0897c5f52ba5cfe6593
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Thu Feb 2 14:56:51 2012 +0100

    Resolve addresses in the calling thread on connect.

    This allows us to actually report an error to the caller on resolve
    failure, rather than asserting later on in the io thread.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/Makefile.am                |    2 ++
 src/address.cpp                |   50 +++++++++++++++++++++++++++++++++++++
 src/address.hpp                |   48 +++++++++++++++++++++++++++++++++++
 src/ipc_address.cpp            |    4 +--
 src/ipc_address.hpp            |    4 +--
 src/ipc_connecter.cpp          |   20 +++++++--------
 src/ipc_connecter.hpp          |   11 +++-----
 src/ipc_listener.cpp           |    2 +-
 src/pair.cpp                   |    5 ++--
 src/pair.hpp                   |    2 +-
 src/pub.cpp                    |    5 ++--
 src/pub.hpp                    |    2 +-
 src/pull.cpp                   |    5 ++--
 src/pull.hpp                   |    2 +-
 src/push.cpp                   |    5 ++--
 src/push.hpp                   |    2 +-
 src/rep.cpp                    |    5 ++--
 src/rep.hpp                    |    2 +-
 src/req.cpp                    |    5 ++--
 src/req.hpp                    |    2 +-
 src/session_base.cpp           |   53 ++++++++++++++++++++-------------------
 src/session_base.hpp           |   11 ++++----
 src/socket_base.cpp            |   29 ++++++++++++++++++++-
 src/sub.cpp                    |    5 ++--
 src/sub.hpp                    |    2 +-
 src/tcp_address.cpp            |    8 +++---
 src/tcp_address.hpp            |    8 +++---
 src/tcp_connecter.cpp          |   24 ++++++++----------
 src/tcp_connecter.hpp          |   11 +++-----
 src/tcp_listener.cpp           |    2 +-
 src/xpub.cpp                   |    5 ++--
 src/xpub.hpp                   |    2 +-
 src/xrep.cpp                   |    5 ++--
 src/xrep.hpp                   |    2 +-
 src/xreq.cpp                   |    5 ++--
 src/xreq.hpp                   |    2 +-
 src/xsub.cpp                   |    5 ++--
 src/xsub.hpp                   |    2 +-
 tests/Makefile.am              |    4 ++-
 tests/test_connect_resolve.cpp |   54 ++++++++++++++++++++++++++++++++++++++++
 40 files changed, 292 insertions(+), 130 deletions(-)

commit d092f2615c2133338097cb4f37d9809d2422a991
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 19:28:29 2012 -0600

    Renamed peek/poke to get/set

 doc/Makefile.am          |    2 +-
 doc/zmq.txt              |    4 +--
 doc/zmq_msg_get.txt      |   83 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_msg_peek.txt     |   83 ----------------------------------------------
 doc/zmq_msg_poke.txt     |   47 --------------------------
 doc/zmq_msg_set.txt      |   47 ++++++++++++++++++++++++++
 include/zmq.h            |    8 ++---
 src/zmq.cpp              |    6 ++--
 tests/test_msg_flags.cpp |    6 ++--
 9 files changed, 143 insertions(+), 143 deletions(-)

commit dcc1725a90f324e3877e67f1455ef9f53f1c241d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 18:41:09 2012 -0600

    Renamed zmq_getmsgopt to zmq_msg_peek

    * Added zmq_msg_poke for orthogonality
    * Added zmq_msg_more for simplicity
    * Fixed up man pages and test program

 doc/Makefile.am          |    2 +-
 doc/zmq.txt              |   12 ++++---
 doc/zmq_getmsgopt.txt    |   85 ----------------------------------------------
 doc/zmq_msg_more.txt     |   63 ++++++++++++++++++++++++++++++++++
 doc/zmq_msg_peek.txt     |   83 ++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_msg_poke.txt     |   47 +++++++++++++++++++++++++
 include/zmq.h            |   10 ++++--
 src/zmq.cpp              |   47 +++++++++++++++++++------
 tests/test_msg_flags.cpp |    8 +++--
 9 files changed, 249 insertions(+), 108 deletions(-)

commit b3d7b29280fd062e681b24b946c00bbd6667889c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 16:47:24 2012 -0600

    Renamed scatter/gather methods, cleaned up source

 include/zmq.h |    4 +-
 src/zmq.cpp   |  119 ++++++++++++++++++++++++++++++++-------------------------
 2 files changed, 70 insertions(+), 53 deletions(-)

commit fb4748f257b19d19d9702a6632919d3915da0413
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 15:37:35 2012 -0600

    Added zmq_msg_send/recv functions

 doc/Makefile.am      |    1 +
 doc/zmq.txt          |    4 ++
 doc/zmq_msg_recv.txt |  125 ++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_msg_send.txt |  125 ++++++++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h        |    4 ++
 src/zmq.cpp          |   48 +++++++++++--------
 6 files changed, 289 insertions(+), 18 deletions(-)

commit 6b2ec366b1b96da14260000939946b12a7b085c6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 15:17:01 2012 -0600

    Changed return type of zmq_msg_size to ssize_t to allow error return

 include/zmq.h |    2 +-
 src/zmq.cpp   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d38951db8738d1cd7bf511decbee590e29a78fa8
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 13:03:40 2012 -0600

    Return EFAULT if required arguments are null

 src/zmq.cpp |   65 ++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 47 insertions(+), 18 deletions(-)

commit b2e2fa622dc4b647442a6c41073783fa3340a780
Merge: 9bc0e10 0c4a19c
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Wed Feb 15 08:54:27 2012 -0800

    Merge pull request #244 from pieterh/master

    Cleanups to man pages

commit 0c4a19c408964484a4bfcf389c07701ad040996a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 10:48:31 2012 -0600

    Deprecated XREQ/XREP

 include/zmq.h |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 5f6b95f4a22737c8dee415ec51ca0cca2d72170a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 10:06:53 2012 -0600

    Fixed footers to refer to man page, not all docs

 doc/zmq_bind.txt          |    4 ++--
 doc/zmq_close.txt         |    4 ++--
 doc/zmq_connect.txt       |    4 ++--
 doc/zmq_errno.txt         |    4 ++--
 doc/zmq_getmsgopt.txt     |    2 +-
 doc/zmq_getsockopt.txt    |    4 ++--
 doc/zmq_init.txt          |    4 ++--
 doc/zmq_inproc.txt        |    4 ++--
 doc/zmq_ipc.txt           |    4 ++--
 doc/zmq_msg_close.txt     |    4 ++--
 doc/zmq_msg_copy.txt      |    4 ++--
 doc/zmq_msg_data.txt      |    4 ++--
 doc/zmq_msg_init.txt      |    4 ++--
 doc/zmq_msg_init_data.txt |    4 ++--
 doc/zmq_msg_init_size.txt |    4 ++--
 doc/zmq_msg_move.txt      |    4 ++--
 doc/zmq_msg_size.txt      |    4 ++--
 doc/zmq_pgm.txt           |    4 ++--
 doc/zmq_poll.txt          |    4 ++--
 doc/zmq_setsockopt.txt    |    4 ++--
 doc/zmq_strerror.txt      |    4 ++--
 doc/zmq_tcp.txt           |    4 ++--
 doc/zmq_term.txt          |    4 ++--
 doc/zmq_version.txt       |    4 ++--
 24 files changed, 47 insertions(+), 47 deletions(-)

commit c85ecfc0662c2781cea1d763195b5194a29b244c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 10:06:04 2012 -0600

    Cleaned up description of multi-part messages

 doc/zmq_recv.txt    |   11 +++++------
 doc/zmq_recvmsg.txt |    4 ++--
 doc/zmq_send.txt    |   16 +++++++---------
 doc/zmq_sendmsg.txt |   10 +++++-----
 4 files changed, 19 insertions(+), 22 deletions(-)

commit 636de46fe129ba3e883026f402c545c5c62679e9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 10:05:22 2012 -0600

    Removed section on devices, added new methods

 doc/zmq.txt |   23 +++++------------------
 1 file changed, 5 insertions(+), 18 deletions(-)

commit 086c0594300589a19a55586259ef307bb97ebdbf
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 09:49:40 2012 -0600

    Ported numerous fixes from 2.1 man page

 doc/zmq_socket.txt |  109 ++++++++++++++++++++++++++++++++--------------------
 1 file changed, 67 insertions(+), 42 deletions(-)

commit 9bc0e1081831e58e9a40f41e1e04fbe94dd94ea7
Merge: a50a8aa bd4f703
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Wed Feb 15 07:33:03 2012 -0800

    Merge pull request #243 from pieterh/master

    Fixed error in documentation build

commit bd4f703264ed71f9ad2b0043c4e4c055adbeced1
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 09:27:42 2012 -0600

    Ignored generated files

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 2000d44109e1adfb3c6a2f9f947b061ba3267431
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Feb 15 09:26:39 2012 -0600

    Fixed syntax error in zmq_getsockopt man page

 doc/zmq_getsockopt.txt |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a50a8aa364d9b99a1dc4950aea8ef1fe41d868ce
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 14 17:14:46 2012 -0600

    Revert "more checks for parameters of API functions"

    This reverts commit e646ce43c155f9710aa4486abd2daf6d4a30ca5b.

 src/zmq.cpp |   96 +++++------------------------------------------------------
 1 file changed, 8 insertions(+), 88 deletions(-)

commit afe8cd503fa069b25c731cdeb507abf246ec7896
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 14 17:09:47 2012 -0600

    Revert "fix warn unused"

    - anonymous contributor

    This reverts commit 7b7d404269cc9bb28e1954ed38dbeb8f63079fd1.

 src/blob.hpp         |    5 ++---
 src/ctx.cpp          |    1 -
 src/dist.cpp         |    1 -
 src/err.cpp          |    1 -
 src/fq.cpp           |    1 -
 src/io_object.cpp    |    2 --
 src/io_thread.cpp    |    1 -
 src/lb.cpp           |    1 -
 src/object.cpp       |    8 --------
 src/pair.cpp         |    4 ----
 src/pipe.cpp         |    1 -
 src/pub.cpp          |    2 --
 src/pull.cpp         |    1 -
 src/push.cpp         |    1 -
 src/reaper.cpp       |    1 -
 src/session_base.cpp |    1 -
 src/socket_base.cpp  |   11 -----------
 src/sub.cpp          |    2 --
 src/xpub.cpp         |    1 -
 src/xrep.cpp         |    2 --
 src/xreq.cpp         |    1 -
 src/xsub.cpp         |    1 -
 22 files changed, 2 insertions(+), 48 deletions(-)

commit b2e93473723ce74f247d1a63eb61312a5c07f6d8
Merge: a908ccb cc10c00
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Feb 14 16:39:32 2012 -0800

    Merge pull request #238 from ianbarber/master

    Wildcard support in TCP and IPC addresses

commit cc10c00193525cd1d253a50ac3055f1af1684e82
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Feb 14 23:14:33 2012 +0000

    Updating docs with new sockopt

 doc/zmq_getsockopt.txt |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit b6c97230ed560a3b4140b0542be9f3482eab7066
Merge: b5d3373 a908ccb
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Feb 14 23:10:15 2012 +0000

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit b5d3373905587aecc53e032e5619c1550952030f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Tue Feb 14 23:10:06 2012 +0000

    Moving to std::string in options

 include/zmq.h        |    3 ---
 src/ipc_listener.cpp |    5 +++--
 src/ipc_listener.hpp |    2 +-
 src/options.cpp      |    8 ++++----
 src/options.hpp      |    5 +++--
 src/socket_base.cpp  |    5 +++--
 src/tcp_listener.cpp |   10 +++++++---
 src/tcp_listener.hpp |    2 +-
 8 files changed, 22 insertions(+), 18 deletions(-)

commit a908ccbf357ae5afe61aef24db2724d93b7747ce
Merge: 48423c9 4807935
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 13 08:55:58 2012 -0800

    Merge pull request #241 from skaller/master

    provide type safe sockets and contexts

commit 48423c9e40e5f777ab4335cbeccf012371ce3f95
Merge: 256fa5d e646ce4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Feb 13 08:35:59 2012 -0800

    Merge pull request #242 from niXman/master

    more checks for parameters of API functions

commit e646ce43c155f9710aa4486abd2daf6d4a30ca5b
Author: niXman <i.nixman@gmail.com>
Date:   Sun Feb 12 20:10:52 2012 +0400

    more checks for parameters of API functions

 src/zmq.cpp |   96 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 88 insertions(+), 8 deletions(-)

commit 4807935605ab1f1e1c440d29423c84d4f13f73d7
Author: skaller <Max.Skaller@gmail.com>
Date:   Sun Feb 12 10:15:51 2012 +1100

    Implement type safe sockets and contexts.

 include/zmq.h |   59 +++++++++++++++++++++++++++++++++++++++++----------------
 src/zmq.cpp   |    2 ++
 2 files changed, 45 insertions(+), 16 deletions(-)

commit 770f84331f7a1ce03e87786f976a526af07c965f
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Feb 11 15:09:03 2012 +0000

    Allowing value 0, and moving code to get_address functions based on feedback

 AUTHORS              |    1 +
 src/ipc_listener.cpp |   21 ++++++++++++---------
 src/ipc_listener.hpp |    4 ----
 src/tcp_address.cpp  |    3 ++-
 src/tcp_listener.cpp |   50 +++++++++++++++++++++++++-------------------------
 src/tcp_listener.hpp |    6 +-----
 6 files changed, 41 insertions(+), 44 deletions(-)

commit 91bf4944daa7446e21aea2cf9bc261ce29d35212
Merge: 7fa14f3 256fa5d
Author: Ian Barber <ian.barber@gmail.com>
Date:   Sat Feb 11 15:08:23 2012 +0000

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 256fa5d2b8a2d9ff46d67d02d9a2f7dffbbb2221
Merge: 40052c1 7b7d404
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Sat Feb 11 06:10:50 2012 -0800

    Merge pull request #240 from niXman/master

    fix warn unused variables

commit 7b7d404269cc9bb28e1954ed38dbeb8f63079fd1
Author: niXman <i.nixman@gmail.com>
Date:   Fri Feb 10 13:39:34 2012 +0400

    fix warn unused

 src/blob.hpp         |    5 +++--
 src/ctx.cpp          |    1 +
 src/dist.cpp         |    1 +
 src/err.cpp          |    1 +
 src/fq.cpp           |    1 +
 src/io_object.cpp    |    2 ++
 src/io_thread.cpp    |    1 +
 src/lb.cpp           |    1 +
 src/object.cpp       |    8 ++++++++
 src/pair.cpp         |    4 ++++
 src/pipe.cpp         |    1 +
 src/pub.cpp          |    2 ++
 src/pull.cpp         |    1 +
 src/push.cpp         |    1 +
 src/reaper.cpp       |    1 +
 src/session_base.cpp |    1 +
 src/socket_base.cpp  |   11 +++++++++++
 src/sub.cpp          |    2 ++
 src/xpub.cpp         |    1 +
 src/xrep.cpp         |    2 ++
 src/xreq.cpp         |    1 +
 src/xsub.cpp         |    1 +
 22 files changed, 48 insertions(+), 2 deletions(-)

commit 40052c1251053e28a7b2b4f517db4d74a393d3ba
Merge: 21571cf c3f7543
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 10 00:20:56 2012 -0800

    Merge pull request #239 from skaller/master

    Provide scatter/gather array I/O

commit 7fa14f3823e572c335565a168127326f12d3250a
Merge: 7b32c9c 21571cf
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Feb 8 22:06:50 2012 +0000

    Merge branch 'master' of https://github.com/zeromq/libzmq

commit 7b32c9cb51dc97e3c467801843fa9ed1736ba8bd
Author: Ian Barber <ian.barber@gmail.com>
Date:   Wed Feb 8 22:06:46 2012 +0000

    Adding ZMQ_LAST_ENDPOINT for wildcard support on TCP and IPC sockets

 include/zmq.h        |    4 ++++
 src/ipc_listener.cpp |   20 ++++++++++++++++++++
 src/ipc_listener.hpp |    7 +++++++
 src/options.cpp      |   12 ++++++++++--
 src/options.hpp      |    4 ++++
 src/socket_base.cpp  |    4 ++++
 src/tcp_address.cpp  |   16 +++++++++++-----
 src/tcp_listener.cpp |   32 ++++++++++++++++++++++++++++++++
 src/tcp_listener.hpp |    7 +++++++
 9 files changed, 99 insertions(+), 7 deletions(-)

commit c3f7543ebe08cfdadf218fa558f03a5d382d322c
Author: skaller <Max.Skaller@gmail.com>
Date:   Wed Feb 8 13:15:47 2012 +1100

    Fix uio support.

    We have to use an incomplete type in the interface.
    The definition of iovec is only in the implementation.
    This appears to following existing practice in 0MQ.
    It seems a bit flakey that zmq.h is not included in zmq.cpp,
    which is normal practice to ensure the implementation matches
    the specified interface. YMMV. I follow 0MQ style.

 include/zmq.h |   11 -----------
 src/zmq.cpp   |   12 ++++++++++++
 2 files changed, 12 insertions(+), 11 deletions(-)

commit 970a00539930f1c047ed8cc684fe64885fbf7020
Author: skaller <Max.Skaller@gmail.com>
Date:   Wed Feb 8 12:58:35 2012 +1100

    Provide interface.

    Also move iovec definition from implementation to interface.
    Not clear to me at present if an incomplete type should
    be used to avoid gratuitously including <sys/uio.h> in
    the interface. The interface can't be used with this include.

 include/zmq.h |   14 ++++++++++++++
 src/zmq.cpp   |   10 ----------
 2 files changed, 14 insertions(+), 10 deletions(-)

commit 383a49dadf4e9c2c7fea84d521eeb42c0f5bf6de
Author: skaller <Max.Skaller@gmail.com>
Date:   Wed Feb 8 11:45:36 2012 +1100

    Implement zmq_recvmmsg.

 src/zmq.cpp |   66 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 65 insertions(+), 1 deletion(-)

commit 531835bba887722110d87e1dc912592cf9e49a50
Author: skaller <Max.Skaller@gmail.com>
Date:   Wed Feb 8 03:20:25 2012 +1100

    Implement zmq_sendv.

    Posix style send multiple messages using scatter/gather array.

 src/zmq.cpp |   56 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 56 insertions(+)

commit f59fff7bf26da65c2e1c5f259326f7daf8e4d3a0
Author: skaller <Max.Skaller@gmail.com>
Date:   Wed Feb 8 02:47:51 2012 +1100

    Add check for sys/uio.h to configure script.

    sys/uio.h contains the XSI vector I/O data structure.

 configure.in |    3 +++
 1 file changed, 3 insertions(+)

commit 21571cf0855d5ef8c52aee5a854b79d7fc66a603
Merge: 9dab56c 81662d7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Feb 4 02:47:10 2012 -0800

    Merge pull request #237 from skaller/master

    Fix comments to conform to style guide.

commit 81662d70be2014b947f1c63308d819c3f85f6a2a
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 4 15:13:36 2012 +1100

    Add a test for thread safe sockets.

 tests/Makefile.am         |    2 +
 tests/test_ts_context.cpp |  129 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 131 insertions(+)

commit 759b2e01fd03b171f63d37b908a4a530ab44420b
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 4 12:34:06 2012 +1100

    Fix comments to conform to style guide.

 src/zmq.cpp |   29 +++++++++++++++++++++--------
 1 file changed, 21 insertions(+), 8 deletions(-)

commit 9dab56c1df5e41acb1a59f21261dd61594fb7a07
Merge: cbf6126 520ad3c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 3 12:40:05 2012 -0800

    Merge pull request #235 from skaller/master

    Thread Safe Sockets.

commit cbf6126b086123d122355068a5d5d5dded770af9
Merge: 935f174 43b71ae
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 3 12:39:47 2012 -0800

    Merge pull request #234 from ianbarber/master

    Semicolon missing

commit 935f17488a460e9fa497384f18bc34ecc9e6635a
Merge: dc50bf5 67fd4c9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 3 12:39:11 2012 -0800

    Merge pull request #236 from danielnorberg/master

    add missing semicolon

commit 67fd4c9a2c9494e14c12ebb53c1b70042931bc9c
Author: Daniel Norberg <dano@spotify.com>
Date:   Fri Feb 3 17:28:45 2012 +0100

    add missing semicolon

 src/xpub.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 520ad3c2d7966ad868354c0ad66b76a3e408f568
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 4 02:17:35 2012 +1100

    Set and arrange propagation of thread safe sockets flag.

    We use a distinct context initialisation function to specify
    all sockets derived therefrom will be thread safe.

    However the inheritance is done exclusively in the C interface.
    This is not really correct, but it is chosen to minimise
    interference with the existing C++ code, including any
    construct or other calls within the C++ code base.
    Semantically the C++ code should be unchanged,
    physically some data structures and extra methods are
    provided by they're only used from the C binding.

 include/zmq.h       |    1 +
 src/ctx.cpp         |   10 ++++++++++
 src/ctx.hpp         |    6 ++++++
 src/socket_base.cpp |    5 +++++
 src/socket_base.hpp |    1 +
 src/zmq.cpp         |   21 ++++++++++++++++++---
 6 files changed, 41 insertions(+), 3 deletions(-)

commit 988efbc73a2f4f0d8f8b380da61b73b5affaeccd
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 4 01:41:09 2012 +1100

    Thread Safe Sockets.

    1. Reorganise C API socket functions to eliminate bad practice
    of public functions calling other public functions. This should
    be done for msg's too but hasn't been in this patch.

    2. Reorganise code in C API socket functions so that the
    socket is cast on one line, the C++ function called on
    the next with the result retained, then the result is returned.

    This makes the code much simpler to read and also allows
    pre- and post- call hooks to be inserted easily.

    3. Insert pre- and post- call hooks which set and release
    a mutex iff the thread_safe flag is on.

    4. Add the thread_safe_flag to base_socket_t initialised to
    false to preserve existing semantics. Add an accessor for
    the flag, add a mutex, and add lock and unlock functions.

    Note: as yet no code to actually set the flag.

 src/socket_base.cpp |   13 +++++-
 src/socket_base.hpp |    6 ++-
 src/zmq.cpp         |  112 ++++++++++++++++++++++++++++++++++++---------------
 3 files changed, 96 insertions(+), 35 deletions(-)

commit 4dd6ce0639da832927ab68cfb7226c21808f0034
Author: skaller <Max.Skaller@gmail.com>
Date:   Sat Feb 4 00:10:01 2012 +1100

    Add mission ; character

 src/xpub.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 43b71ae4bf5b4b1a046c6549483f59ef03883d5a
Author: Ian Barber <ian.barber@gmail.com>
Date:   Fri Feb 3 12:44:19 2012 +0000

    Fixing missing semicolon in xpub.cpp as reported on the list by Emmanuel TAUREL

 src/xpub.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc50bf5dca6b4c1c9b0c5e4d62f6f3854ffbdaef
Merge: 4f4d72a 79f753b
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Feb 3 02:12:09 2012 -0800

    Merge pull request #233 from danielnorberg/master

    LIBZMQ-300: free received subscription messages

commit 79f753bf56222e65ca497f5253434f11489c51da
Author: Daniel Norberg <dano@spotify.com>
Date:   Mon Dec 19 15:45:44 2011 +0100

    xpub: free received subscription messages

 src/xpub.cpp |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 4f4d72afc62d35638eed0ce1a4deebe9ac587e3b
Merge: adee827 93db782
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Thu Feb 2 12:22:46 2012 -0800

    Merge pull request #232 from chuckremes/master

    mato: merge patch to close libzmq-268

commit 93db782a1d22451a53b94b514946eea391a69d63
Merge: 762bcff 0319cb2
Author: Chuck Remes <cremes@mac.com>
Date:   Thu Feb 2 14:17:30 2012 -0600

    Merge branch 'libzmq-268' of git://git.lucina.net/libzmq

commit adee8270ddd5af7eb2ba3fe5f251873b30eb00b4
Merge: e89a5f1 762bcff
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Thu Feb 2 12:16:32 2012 -0800

    Merge pull request #231 from chuckremes/master

    mato: merge patch to close libzmq-303

commit 762bcff73f29269b92eee18ffd5455a8e77ce3bb
Merge: c54ad48 029e288
Author: Chuck Remes <cremes@mac.com>
Date:   Thu Feb 2 14:14:56 2012 -0600

    Merge branch 'libzmq-303' of git://git.lucina.net/libzmq

commit e89a5f1e1aae0b820d8cd74d3de3cdc509a1a198
Merge: edf7db7 c54ad48
Author: Chuck Remes <cremes.devlist@mac.com>
Date:   Thu Feb 2 12:14:27 2012 -0800

    Merge pull request #230 from chuckremes/master

    mato: merge patch to close libzmq-205

commit c54ad48c9b70fd8a28fa2300b79aadbcd39b65db
Merge: edf7db7 c34a144
Author: Chuck Remes <cremes@mac.com>
Date:   Thu Feb 2 14:09:37 2012 -0600

    Merge branch 'libzmq-205' of git://git.lucina.net/libzmq

commit 0319cb2cd16aa40911855a1765312886bf081db2
Author: Martin Lucina <martin@lucina.net>
Date:   Thu Feb 2 13:07:48 2012 +0100

    Fix data loss for PUB/SUB and unidirectional transports (LIBZMQ-268)

    With the introduction of subscription forwarding, the first message sent
    on a PUB socket using a unidirectional transport (e.g. PGM) is always
    lost due to the "subscribe to all" being done asynchronously.

    This patch fixes the problem and also refactors the code to have a single
    point where the "subscribe to all" is performed.

    Signed-off-by: Martin Lucina <martin@lucina.net>

 src/pair.cpp        |    2 +-
 src/pair.hpp        |    2 +-
 src/pgm_sender.cpp  |   10 ----------
 src/pull.cpp        |    2 +-
 src/pull.hpp        |    2 +-
 src/push.cpp        |    2 +-
 src/push.hpp        |    2 +-
 src/socket_base.cpp |   12 +++++++++---
 src/socket_base.hpp |    5 +++--
 src/xpub.cpp        |    7 ++++++-
 src/xpub.hpp        |    2 +-
 src/xrep.cpp        |    2 +-
 src/xrep.hpp        |    2 +-
 src/xreq.cpp        |    2 +-
 src/xreq.hpp        |    2 +-
 src/xsub.cpp        |    2 +-
 src/xsub.hpp        |    2 +-
 17 files changed, 31 insertions(+), 29 deletions(-)

commit edf7db74d933f753d14dd4c8e5de0e8081624118
Merge: 7e8a839 e6c97c5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jan 30 01:28:47 2012 -0800

    Merge pull request #227 from gimaker/smaller-mtrie

    Reduce memory usage of mtrie.

commit e6c97c5ecc3f2b9e84258cb405eb92f6b6f6ca7d
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Tue Jan 3 16:34:45 2012 +0100

    Reduce memory usage of mtrie.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/mtrie.cpp |   39 +++++++++++++++++++++++++++++----------
 src/mtrie.hpp |    2 +-
 2 files changed, 30 insertions(+), 11 deletions(-)

commit 1925c92fe9c50c40b083749f8ff9521abcce72b5
Merge: c34a144 029e288
Author: Martin Lucina <martin@lucina.net>
Date:   Mon Jan 30 01:57:18 2012 +0100

    Merge branches 'libzmq-205' and 'libzmq-303'

commit 7e8a839a22f5d94b89a47ff187fa933a6bbc4395
Merge: 281dcd2 1e5a48f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 27 16:01:20 2012 -0800

    Merge pull request #226 from gitfoxi/master

    Support Epoll on cross-compile without runtime test.

commit 1e5a48f5217edf874d5771b29ceb7680a930d4b3
Author: m <415fox@gmail.com>
Date:   Fri Jan 27 15:24:47 2012 -0800

    Epoll is default for cross-compile. For regular-compile, test kernel (run) support.

 acinclude.m4 |   21 ++++++++++++++++++---
 1 file changed, 18 insertions(+), 3 deletions(-)

commit 281dcd25448dc524bb1f001ad7c57d70a4fa79ab
Merge: 676d4f4 1d8b132
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 27 14:48:43 2012 -0800

    Merge pull request #221 from fidlej/master

    Updated connector open() doc strings.

commit 676d4f4e18da8cd1299d9161d78b7a15c6cd50fd
Merge: 0c94cd0 bc4d1b6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 27 14:48:17 2012 -0800

    Merge pull request #222 from gimaker/trie-pruning

    Fix for LIBZMQ-305

commit 0c94cd036a843acce4252bf2583e1ddb472bb778
Merge: 95f6a07 3621565
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 27 14:47:36 2012 -0800

    Merge pull request #223 from gimaker/libzmq-310

    Throw away unexpected data received by XPUB sockets, rather than asserting

commit 95f6a074036bab70872798c25e033564aaf6836d
Merge: 57f64c5 2e0c433
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 27 14:47:14 2012 -0800

    Merge pull request #224 from vortechs2000/master

    Patch from Mikko Koppanen for #LIBZMQ-301

commit 57f64c50795a43d1c22a6b7bb41dd280c0e3f436
Merge: 6f32361 c71375e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jan 27 14:44:42 2012 -0800

    Merge pull request #225 from gitfoxi/master

    Fix build on old-ass Linux

commit c71375ea72da9ba480bda49a7e3ba07d196f745d
Author: m <415fox@gmail.com>
Date:   Fri Jan 27 13:27:21 2012 -0800

    Fix: Case where system library has epoll but kernel does not support it.

 acinclude.m4 |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit c4f22408518347ba47b878090de3f94a4b554267
Author: m <415fox@gmail.com>
Date:   Fri Jan 27 12:40:56 2012 -0800

    Fix: runtime patch for when system has clock_gettime but does not support CLOCK_MONOTONIC.

 src/clock.cpp |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit b5dbff8ed4ff6bdc6bdc68987f71983e3b6c32d3
Author: m <415fox@gmail.com>
Date:   Fri Jan 27 12:24:14 2012 -0800

    Fix basic_string<unsigned char> not implemented in stdc++ 3

 src/blob.hpp |   94 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 94 insertions(+)

commit 99df984be1660eb52e985b55beb0bca87ccec83d
Author: m <415fox@gmail.com>
Date:   Fri Jan 27 12:23:32 2012 -0800

    Fix bad combination of gcc3, -Werror and private destructor.

 src/ctx.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc4d1b6002775375ccc11f63ec703a29437105ac
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Thu Jan 26 13:26:09 2012 +0100

    Fixed segfault bug sometimes happening when pruning the trie/mtrie.

    The cause behind the segfault was next.node being deleted but count still
    being non-zero.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/mtrie.cpp |   23 +++++++++++++++--------
 src/trie.cpp  |   11 ++++++++---
 2 files changed, 23 insertions(+), 11 deletions(-)

commit 2e0c4330fa3d1044ca3d89a0f1798a88b7cc3215
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Thu Jan 19 12:27:19 2012 -0600

    Patch from Mikko Koppanen for #LIBZMQ-301

    Add the '-Ae' flag and check for gethrtime() on HPUX

    Check if CLOCK_MONOTONIC defined before using it - if not, use
    gethrtime() if it's available, otherwise fall back to the old
    behavior.

    Signed-off-by: AJ Lewis <aj.lewis@quantum.com>

 configure.in  |    2 ++
 src/clock.cpp |    8 ++++++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 36215656eb586a505d051dd60500e92d0f710f07
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Mon Jan 9 12:19:59 2012 +0100

    Throw away unexpected data received by XPUB sockets, rather than asserting.

    Fixes LIBZMQ-310.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/xpub.cpp |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit c34a1443651ce5a6d8f7a88d0677ec85c81e1570
Author: Martin Lucina <martin@lucina.net>
Date:   Wed Jan 4 11:48:41 2012 +0100

    Fix pgm_receiver.cpp: zmq_assert (pending_bytes == 0) (LIBZMQ-205)

    This patch fixes the problem described in LIBZMQ-205. The assertion itself
    is probably caused by previously queued POLLIN events arriving after POLLIN
    has been disabled on the socket.

    The following additional bugs have been fixed as part of debugging this
    problem:

    - pgm_receiver_t does not flush messages written to the session in all
      cases which can lead to a stalled reader. Add calls to session->flush ()
      in the appropriate places.

    - ensure to restart polling when a pending message is flushed in
      activate_in ().

    Signed-off-by: Martin Lucina <martin@lucina.net>

 src/pgm_receiver.cpp |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 19129edc60b09576699120a6c0637ae8c73c9bd4
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Tue Jan 3 16:24:44 2012 +0100

    Prune redundant nodes in the trie.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/trie.cpp |   25 ++++++++++++++++++++++---
 src/trie.hpp |    3 +++
 2 files changed, 25 insertions(+), 3 deletions(-)

commit 6fa9ffebe5d4cf0bba051f464b8c8054cffc2b72
Author: Staffan GimÃ¥ker <staffan@spotify.com>
Date:   Tue Jan 3 16:24:16 2012 +0100

    Prune redundant nodes in the mtrie.

    Signed-off-by: Staffan GimÃ¥ker <staffan@spotify.com>

 src/mtrie.cpp |   35 ++++++++++++++++++++++++++++++++---
 src/mtrie.hpp |    3 +++
 2 files changed, 35 insertions(+), 3 deletions(-)

commit 029e28865dd47895e6919ce1c3e12c95ea56ad32
Author: Martin Lucina <martin@lucina.net>
Date:   Sun Dec 25 02:57:04 2011 +0100

    Fix assertion in pgm_sender_t::plug() (LIBZMQ-303)

    Opening any PGM socket gives this assertion. The problem is in
    pgm_sender_t::plug() which is incorrectly testing the return value from
    session::write().

    Signed-off-by: Martin Lucina <martin@lucina.net>

 src/pgm_sender.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1d8b132d368119cd0cb8219e8cd90d8d35f0d647
Author: Ivo Danihelka <ivo@danihelka.net>
Date:   Wed Dec 21 16:21:55 2011 +0100

    Updated connector open() doc strings.

    Signed-off-by: Ivo Danihelka <ivo@danihelka.net>

 src/ipc_connecter.cpp |    2 +-
 src/ipc_connecter.hpp |    6 +++---
 src/tcp_connecter.cpp |    2 +-
 src/tcp_connecter.hpp |    4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit 6f32361fea61619fec94348de693a9e3ff8981e0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Dec 19 15:43:38 2011 +0100

    Version bumped to 3.1.1

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b3fbe0113d8b39cd2d23837882fba1ea40d22811
Merge: adc0712 dcb1d55
Author: Martin Lucina <martin@lucina.net>
Date:   Sun Dec 18 12:46:03 2011 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit dcb1d558a50c58dc9f3149ffa6bba65199c0200f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Dec 18 12:30:31 2011 +0100

    Fix MSVC10 build distfiles

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/Makefile.am                        |   33 ++++-
 builds/msvc/zmq_forwarder/zmq_forwarder.vcproj |  176 ------------------------
 builds/msvc/zmq_queue/zmq_queue.vcproj         |  176 ------------------------
 builds/msvc/zmq_streamer/zmq_streamer.vcproj   |  176 ------------------------
 4 files changed, 26 insertions(+), 535 deletions(-)

commit 3bf7860fb783c38503c013dbad05ad2ff54f5a16
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Dec 18 11:41:45 2011 +0100

    NEWS updated for 3.1.0 release

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 NEWS |  637 ++++++++++--------------------------------------------------------
 1 file changed, 90 insertions(+), 547 deletions(-)

commit 22ef966d4aab3448d4debf524afbdaa19f37dff0
Author: Martin Lucina <martin@lucina.net>
Date:   Sun Dec 18 11:19:55 2011 +0100

    Update email address in man pages

    Signed-off-by: Martin Lucina <martin@lucina.net>

 doc/zmq.txt               |    2 +-
 doc/zmq_bind.txt          |    2 +-
 doc/zmq_close.txt         |    2 +-
 doc/zmq_connect.txt       |    2 +-
 doc/zmq_errno.txt         |    2 +-
 doc/zmq_getsockopt.txt    |    2 +-
 doc/zmq_init.txt          |    2 +-
 doc/zmq_inproc.txt        |    2 +-
 doc/zmq_ipc.txt           |    2 +-
 doc/zmq_msg_close.txt     |    2 +-
 doc/zmq_msg_copy.txt      |    2 +-
 doc/zmq_msg_data.txt      |    2 +-
 doc/zmq_msg_init.txt      |    2 +-
 doc/zmq_msg_init_data.txt |    2 +-
 doc/zmq_msg_init_size.txt |    2 +-
 doc/zmq_msg_move.txt      |    2 +-
 doc/zmq_msg_size.txt      |    2 +-
 doc/zmq_pgm.txt           |    2 +-
 doc/zmq_poll.txt          |    2 +-
 doc/zmq_recv.txt          |    2 +-
 doc/zmq_recvmsg.txt       |    2 +-
 doc/zmq_send.txt          |    2 +-
 doc/zmq_sendmsg.txt       |    2 +-
 doc/zmq_setsockopt.txt    |    2 +-
 doc/zmq_socket.txt        |    2 +-
 doc/zmq_strerror.txt      |    2 +-
 doc/zmq_tcp.txt           |    2 +-
 doc/zmq_term.txt          |    2 +-
 doc/zmq_version.txt       |    2 +-
 29 files changed, 29 insertions(+), 29 deletions(-)

commit 183e126364762eb7b6fcc96c87d060c8e09044b5
Author: Martin Lucina <martin@lucina.net>
Date:   Sun Dec 18 11:12:44 2011 +0100

    Fix typo in zmq_sendmsg(3) manual page

    Signed-off-by: Martin Lucina <martin@lucina.net>

 doc/zmq_sendmsg.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit adc07128e6d493dc29a76f88db3870aaea0fc795
Merge: bfbd16d 3fbe8ac
Author: Martin Lucina <martin@lucina.net>
Date:   Sun Dec 18 11:06:19 2011 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit 3fbe8ac3c3aaec777c305de8fbdc0d748c3b14aa
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Dec 17 23:42:45 2011 +0100

    Dont wait for pending subscription commands on shutdown

    When (X)SUB socket is being shut down there may be pending
    outbound subscription commands in the pipes. In such case
    we want to close the socket immediately instead of waiting
    for the commands to be sent.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xsub.cpp |    5 +++++
 1 file changed, 5 insertions(+)

commit bfbd16d099cc045d4a4745e9a6f28221a0e3bd95
Merge: 82d9353 91fdedf
Author: Martin Lucina <martin@lucina.net>
Date:   Sat Dec 17 11:59:29 2011 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit 91fdedf25c4d76b0ec0aeb5d1d9f1c9a1a769447
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Dec 17 10:14:32 2011 +0100

    Fix polling on XREP socket

    When polling on XREP socket in incoming message part was prefetched,
    but not the identity of sender. The problem is fixed by this patch.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |   45 ++++++++++++++++++++++++++++++++++++---------
 src/xrep.hpp |    8 ++++++--
 2 files changed, 42 insertions(+), 11 deletions(-)

commit f9eb763293014f812dac5558be5c5f03bb896efb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Dec 16 07:04:38 2011 +0100

    zmq_sendmsg and zmq_recvmsg checks for NULL message object

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/socket_base.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3fb5c11b03119a157db8dc024809943f88f87320
Author: Stuart Webster <sw_webster@hotmail.com>
Date:   Thu Dec 15 14:03:43 2011 +0100

    Added MSVC10 solution and project files for Windows

    These include configurations for both Win32 and x64 platforms. All project
    settings have been normalised in property sheets (the ".props" files under
    builds/msvc/properties) to simplify maintenance. Build artefacts are all
    generated in platform-specific subfolders of bin, lib and obj directories.

    Also enables the use of precompiled headers with MSVC10.

    This significantly reduces the time required to compile libzmq with Visual
    Studio on Windows. It should have no impact on other platforms.

    Signed-off-by: Stuart Webster <sw_webster@hotmail.com>

 .gitignore                                    |    1 +
 builds/msvc/c_local_lat/c_local_lat.vcxproj   |   87 +++++++++
 builds/msvc/c_local_thr/c_local_thr.vcxproj   |   87 +++++++++
 builds/msvc/c_remote_lat/c_remote_lat.vcxproj |   87 +++++++++
 builds/msvc/c_remote_thr/c_remote_thr.vcxproj |   87 +++++++++
 builds/msvc/inproc_lat/inproc_lat.vcxproj     |   86 +++++++++
 builds/msvc/inproc_thr/inproc_thr.vcxproj     |   86 +++++++++
 builds/msvc/libzmq/libzmq.vcxproj             |  241 +++++++++++++++++++++++++
 builds/msvc/libzmq/libzmq.vcxproj.filters     |   13 ++
 builds/msvc/msvc10.sln                        |  116 ++++++++++++
 builds/msvc/properties/Common.props           |   21 +++
 builds/msvc/properties/Debug.props            |   19 ++
 builds/msvc/properties/Dynamic.props          |   20 ++
 builds/msvc/properties/Executable.props       |   19 ++
 builds/msvc/properties/Precompiled.props      |   14 ++
 builds/msvc/properties/Release.props          |   22 +++
 builds/msvc/properties/Win32.props            |   12 ++
 builds/msvc/properties/Win32_Release.props    |   17 ++
 builds/msvc/properties/WithOpenPGM.props      |   12 ++
 builds/msvc/properties/ZeroMQ.props           |   23 +++
 builds/msvc/properties/x64.props              |   12 ++
 src/precompiled.cpp                           |   21 +++
 src/precompiled.hpp                           |   47 +++++
 src/windows.hpp                               |    3 +
 24 files changed, 1153 insertions(+)

commit a9e03336b020d2e6a83338b111092e65aa812f95
Author: Martin Lucina <martin@lucina.net>
Date:   Thu Dec 15 13:23:40 2011 +0100

    A synchronous connect() failure in ipc_connecter can result in Assertion
    failed: s == retired_fd (ipc_connecter.cpp:174), as reported in LIBZMQ-294.

    This patch fixes the bug, and also an identical problem in tcp_connecter
    which has not hit people since TCP connect() usually completes via the
    asynchronous code path (poll, out_event).

    Signed-off-by: Martin Lucina <martin@lucina.net>

 src/ipc_connecter.cpp |    1 +
 src/tcp_connecter.cpp |    1 +
 2 files changed, 2 insertions(+)

commit 82d935309eede60777b59af9df7a50576916d01f
Author: Martin Lucina <martin@lucina.net>
Date:   Wed Dec 14 00:00:32 2011 +0100

    Fix synchronous connect failure for ipc://, tcp:// (LIBZMQ-294)

    A synchronous connect() failure in ipc_connecter can result in Assertion
    failed: s == retired_fd (ipc_connecter.cpp:174), as reported in LIBZMQ-294.

    This patch fixes the bug, and also an identical problem in tcp_connecter
    which has not hit people since TCP connect() usually completes via the
    asynchronous code path (poll, out_event).

    Signed-off-by: Martin Lucina <martin@lucina.net>

 src/ipc_connecter.cpp |    1 +
 src/tcp_connecter.cpp |    1 +
 2 files changed, 2 insertions(+)

commit c90f54e6a66ead6c6dc949eaab58d1bfb23b0da1
Merge: b4f5ee5 e7d748e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sun Dec 11 23:09:48 2011 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit e7d748e812a7259bd4030517fde79be202d2a16d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Dec 3 13:27:20 2011 +0100

    Mika Fischer added to AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 0df86c41b5f2e428b6237bcc1e28304ea0149097
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Dec 3 13:25:44 2011 +0100

    rt library required on all platforms

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aaac96d94a81fb5debe24200e20c353217baec9c
Author: Mika Fischer <mika.fischer@zoopnet.de>
Date:   Sat Dec 3 13:07:30 2011 +0100

    This makes clock_t insensitive to the system clock being reset by NTP or
    the sysadmin, which could previously cause long hangs for instance in
    zmq_poll.

    Signed-off-by: Mika Fischer <mika.fischer@zoopnet.de>

 configure.in  |    5 +++--
 src/clock.cpp |   12 ++++++++++++
 2 files changed, 15 insertions(+), 2 deletions(-)

commit b4f5ee58a9e0ad4ad9f872b8fcc6797e1b6f4e04
Merge: 90d0435 fc17bd4
Author: Martin Lucina <martin@lucina.net>
Date:   Wed Nov 30 19:34:11 2011 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit fc17bd4117c19b027790951ac1df1a141bce9d82
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 22 14:48:35 2011 +0100

    ENOTCONN on recv() on TCP socket is treated decently (issue 254)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/stream_engine.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit daac9ac5b2f864f61615a4e93caf49e6ea187cda
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Nov 21 08:11:33 2011 +0100

    Phillip Kovacs added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit bf9062902c776c0c6029ef42c6ba0c7179bf0425
Author: Philip Kovacs <phil@philkovacs.com>
Date:   Mon Nov 21 08:10:03 2011 +0100

    Fix broken VPATH/parallel builds

    Signed-off-by: Philip Kovacs <phil@philkovacs.com>

 doc/Makefile.am   |    8 ++++----
 perf/Makefile.am  |    3 ++-
 tests/Makefile.am |    4 +++-
 3 files changed, 9 insertions(+), 6 deletions(-)

commit 5c1a91e33e552b136a0a72027ef27f41de95dcb8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 19 10:06:06 2011 +0100

    Stuart Webster added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit a610b3d1b4d975bbffc74604aa43f793dfd3f301
Author: Stuart Webster <sw_webster@hotmail.com>
Date:   Sat Nov 19 10:02:23 2011 +0100

    Line-ending conversion rules for hg-git users and enabled use of .gitignore by hg-git users

    Mercurial does not have built-in support for converting line-endings. This is a
    settings file for hg eol (http://mercurial.selenic.com/wiki/EolExtension), an
    extension that replicates the behaviour of git with core.autocrlf=true.

    Mercurial uses Python regex syntax by default in its .hgignore files. Adding
    this line to .gitignore overrides that setting, so hg-git users can just create
    a hardlink to it (e.g "mklink /H .hgignore .gitignore" on Windows) to use it.

    Signed-off-by: Stuart Webster <sw_webster@hotmail.com>

 .gitignore |    1 +
 .hgeol     |    2 ++
 2 files changed, 3 insertions(+)

commit f8bd3967bfe305c22b6e08f3e6555b2162609328
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Nov 16 19:49:31 2011 +0100

    Documentation for IPv4ONLY option clarified

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    2 +-
 doc/zmq_setsockopt.txt |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5a6503e5c275c544e1447401e17a4746985614ea
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 15 13:56:59 2011 +0100

    Bug in XREP and XREQ fixed (issue 280)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |    2 +-
 src/xreq.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 83975c1b21722bb689c7b84cde5a6958145fcbd4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 15 08:40:46 2011 +0100

    Missing "defined" tokens added

    The missing tokens broke the build if you used -Werror -Wundef

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_address.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 21bca4dbe48cffdaa1e1108600973559a3b880d2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Nov 14 11:15:20 2011 +0100

    Bug concerining identity in XREQ socket fixed (issue 280)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xreq.cpp |   26 ++++++++++++++++++++++++--
 src/xreq.hpp |    6 ++++++
 2 files changed, 30 insertions(+), 2 deletions(-)

commit 1c239708ab174c1de9f99e256d23158f74a24dbc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Nov 13 10:33:49 2011 +0100

    Couple of bugs in XREP handling of identities fixed.
    wq:
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |   37 ++++++++++++++++++++++---------------
 1 file changed, 22 insertions(+), 15 deletions(-)

commit f8b005502699aa069406923701af685cc156d3c2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Nov 10 23:38:08 2011 +0100

    Hangup in signaler creation on Windows fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/signaler.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 90d0435b564e3c44b63980778ed1815a4451174e
Merge: 991f7e2 a7b0b0d
Author: Martin Lucina <martin@lucina.net>
Date:   Wed Nov 9 17:46:00 2011 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit a7b0b0d3dc1003fdd6f9538afda8fb4a5bbc5d41
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Nov 9 15:41:51 2011 +0100

    AUTHORS file changed

    - AJ Lewis added
    - Martin Lucina's email address changed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 27524908c17b7db965f8aaa2bde513643378e372
Author: Martin Lucina <martin@lucina.net>
Date:   Wed Nov 9 15:39:33 2011 +0100

    Set libzmq ABI version to 3

    libzmq master (3.1) is not ABI compatible with libzmq 2.1.x or 3.0 (removed
    functionality), hence the ABI version needs to be set to 3.

    Signed-off-by: Martin Lucina <martin@lucina.net>

 configure.in |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit c79abee6bcaa996f50be71bd1d3075e3affb469d
Author: AJ Lewis <aj.lewis@quantum.com>
Date:   Wed Nov 9 15:22:20 2011 +0100

    Get AIX 6.1 compiling again by making msg_t class explicit

    Older versions of gcc have problems with in-line forward declarations
    when there's a naming conflict with a global symbol.

    Signed-off-by: AJ Lewis <aj.lewis@quantum.com>

    Expand the original patch to all such forward declarations.
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/command.hpp       |   16 ++++++++----
 src/ctx.hpp           |   22 ++++++++++------
 src/decoder.hpp       |    6 +++--
 src/devpoll.hpp       |    6 +++--
 src/dist.hpp          |   21 ++++++++-------
 src/encoder.hpp       |    6 +++--
 src/epoll.hpp         |    6 +++--
 src/i_engine.hpp      |    4 ++-
 src/io_object.hpp     |    6 +++--
 src/io_thread.hpp     |    4 ++-
 src/ipc_connecter.hpp |    9 ++++---
 src/ipc_listener.hpp  |    9 ++++---
 src/kqueue.hpp        |    6 +++--
 src/lb.hpp            |    2 +-
 src/mtrie.hpp         |   18 +++++++------
 src/object.hpp        |   69 ++++++++++++++++++++++++++++---------------------
 src/own.hpp           |    7 +++--
 src/pair.hpp          |   25 +++++++++++-------
 src/pgm_receiver.hpp  |   11 +++++---
 src/pgm_sender.hpp    |    9 ++++---
 src/pipe.hpp          |   17 +++++++-----
 src/poll.hpp          |    6 +++--
 src/poller_base.hpp   |    8 +++---
 src/pub.hpp           |   13 +++++++---
 src/pull.hpp          |   19 +++++++++-----
 src/push.hpp          |   19 +++++++++-----
 src/reaper.hpp        |    7 +++--
 src/rep.hpp           |   15 +++++++----
 src/req.hpp           |   15 +++++++----
 src/select.hpp        |    6 +++--
 src/session_base.hpp  |   34 +++++++++++++-----------
 src/socket_base.hpp   |   22 +++++++++-------
 src/stream_engine.hpp |   11 +++++---
 src/sub.hpp           |   13 +++++++---
 src/tcp_connecter.hpp |    9 ++++---
 src/tcp_listener.hpp  |    9 ++++---
 src/xpub.hpp          |   25 +++++++++++-------
 src/xrep.hpp          |   25 ++++++++++--------
 src/xreq.hpp          |   24 ++++++++++-------
 src/xsub.hpp          |   23 ++++++++++-------
 40 files changed, 361 insertions(+), 221 deletions(-)

commit 991f7e2c85919daef43c62175da046e0a085f8e3
Author: Martin Lucina <martin@lucina.net>
Date:   Wed Nov 9 13:12:46 2011 +0100

    Set libzmq ABI version to 3

    libzmq master (3.1) is not ABI compatible with libzmq 2.1.x or 3.0 (removed
    functionality), hence the ABI version needs to be set to 3.

    Signed-off-by: Martin Lucina <martin@lucina.net>

 configure.in |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 89962a825697dd9eca057c032ec61de71b075539
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 8 14:49:15 2011 +0100

    Uninitialised FSM state in REQ session fixed (issue 278)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/req.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 11e31988e14b46ccfafeb9f58706ba1fe18a274f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Nov 6 14:09:20 2011 +0100

    Chuck Remeas added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 93529d8c5db599a45171942c4510f1b84ed09e6a
Author: Chuck Remes <cremes@mac.com>
Date:   Sun Nov 6 14:03:51 2011 +0100

    Add zmq_getmsgopt to the API

    The new function allows to retrieve options (flags)
    from zmq_msg_t.

    Signed-off-by: Chuck Remes <cremes@mac.com>
    Renamed from zmq_msg_flags to zmq_getmsgopt
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore               |    1 +
 doc/Makefile.am          |    2 +-
 doc/zmq_getmsgopt.txt    |   85 ++++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h            |    5 +++
 src/socket_base.cpp      |   10 +++---
 src/zmq.cpp              |   19 +++++++++++
 tests/Makefile.am        |    4 ++-
 tests/test_msg_flags.cpp |   82 ++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 200 insertions(+), 8 deletions(-)

commit bb66f3cc3bc2a76d10f16e1206f35480eb250a07
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 5 16:05:18 2011 +0100

    Bug in trie fixed (issue 277)

    When there were both '0' and '255' subnodes in (mtrie)
    the removal of the node resulted in an infinite loop.
    Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mtrie.cpp |    2 +-
 src/trie.cpp  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6503716203552966e2fa6a6b4839bc0e001f9478
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 5 11:38:50 2011 +0100

    Minor typo corrected

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/test_timeo.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fe81827bd093aa6df5e5bf1bfbca479cad4ab53a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 5 10:18:38 2011 +0100

    Version changed to 3.1.0

    This version downgrade is done because of the previous refatoring.
    It removed all the new features and reintroduced some of the old
    ones (identities). Thus, it made trunk much closer to existing 3.0
    branch than it used to be.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 21a0b49834734919a48301fbbb354f8c75c6d1ad
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 5 10:10:44 2011 +0100

    Obsolete ECANTROUTE errror code removed

    This error code was used only by new-style ROUTER socket
    which is not a part of the codebase.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    1 -
 1 file changed, 1 deletion(-)

commit a756956781973d207413d675b998ae47de47b7c7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 5 09:57:17 2011 +0100

    Use identities in inproc transport

    Previous patches have missed the case when the identity should
    be sent from an inproc endpoint. Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/socket_base.cpp |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit de1d32daaedce51f655fe73e60988733b2db6557
Author: Brett Cameron <Brett.Cameron@hp.com>
Date:   Fri Nov 4 14:15:06 2011 +0100

    Fix getaddrinfo calls to work on OpenVMS

    Signed-off by: Brett Cameron <Brett.Cameron@hp.com>

 src/tcp_address.cpp |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 50a9ee6e7335b645487a83487285bce6886ba082
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 4 10:02:49 2011 +0100

    MSVC build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   30 +++---------------------------
 src/windows.hpp                  |    3 ---
 2 files changed, 3 insertions(+), 30 deletions(-)

commit 05ce301f3571e3e690792a189cb927328163f0bc
Merge: a8362ab 6cdd720
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 4 09:48:25 2011 +0100

    Merge branch 'master' of github.com:zeromq/libzmq

commit 6cdd720400ea456ccbfdf09cdc5054ab07dbdc6f
Merge: 541b83b e9c3a22
Author: sustrik <sustrik@250bpm.com>
Date:   Fri Nov 4 02:15:37 2011 -0700

    Merge pull request #220 from 250bpm/HEAD

    Refactoring

commit e9c3a227a7175b4eda5193b1c8ce6985f5ed89f3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 4 08:05:39 2011 +0100

    Linking exception corrected

    Correctly states 'copyright holders' instead of 'iMatix'.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 COPYING.LESSER |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit a4843b65d24f9caa188bb2454b28080f0cee8484
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 4 08:00:47 2011 +0100

    Identities re-introduced

    However, the "durable socket" behaviour wasn't re-added.
    Identities are used solely for routing in REQ/REP pattern.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/msg.hpp                |    1 +
 src/options.cpp            |    4 +-
 src/options.hpp            |    6 +++
 src/pipe.cpp               |   11 +++--
 src/pipe.hpp               |   10 +++--
 src/req.cpp                |   15 +++++--
 src/req.hpp                |    1 +
 src/session_base.cpp       |   20 ++++++++-
 src/session_base.hpp       |    5 +++
 src/socket_base.cpp        |    9 ++++
 src/xrep.cpp               |  102 +++++++++++++++++++++++++++-----------------
 src/xrep.hpp               |    4 +-
 src/xreq.cpp               |   14 +++++-
 tests/test_invalid_rep.cpp |   17 ++++----
 14 files changed, 155 insertions(+), 64 deletions(-)

commit d20ea25b8c63e148fe48cc2b85bac9c896f1073b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Nov 2 14:33:58 2011 +0100

    ZMQ_IDENTITY option re-introduced

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   16 ++++++++++++++++
 doc/zmq_setsockopt.txt |   17 +++++++++++++++++
 include/zmq.h          |    1 +
 src/Makefile.am        |    1 +
 src/blob.hpp           |   35 +++++++++++++++++++++++++++++++++++
 src/options.cpp        |   25 +++++++++++++++++++++++++
 src/options.hpp        |    5 +++++
 7 files changed, 100 insertions(+)

commit 8e21d64c974344b5b2b83cac85d12c51392fe74b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 1 18:06:11 2011 +0100

    Copyright dates adjusted to reflect reality

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 autogen.sh                     |    2 +-
 include/zmq.h                  |    2 +-
 include/zmq_utils.h            |    1 -
 perf/inproc_lat.cpp            |    2 +-
 perf/inproc_thr.cpp            |    2 +-
 perf/local_lat.cpp             |    2 +-
 perf/local_thr.cpp             |    2 +-
 perf/remote_lat.cpp            |    2 +-
 perf/remote_thr.cpp            |    2 +-
 src/array.hpp                  |    2 +-
 src/atomic_counter.hpp         |    2 +-
 src/atomic_ptr.hpp             |    2 +-
 src/clock.cpp                  |    5 ++---
 src/clock.hpp                  |    5 ++---
 src/command.hpp                |    2 +-
 src/config.hpp                 |    2 +-
 src/ctx.hpp                    |    2 +-
 src/decoder.cpp                |    2 +-
 src/decoder.hpp                |    2 +-
 src/devpoll.cpp                |    2 +-
 src/devpoll.hpp                |    2 +-
 src/dist.cpp                   |    5 ++---
 src/dist.hpp                   |    5 ++---
 src/encoder.cpp                |    2 +-
 src/encoder.hpp                |    2 +-
 src/epoll.cpp                  |    2 +-
 src/epoll.hpp                  |    2 +-
 src/err.cpp                    |    2 +-
 src/err.hpp                    |    2 +-
 src/fd.hpp                     |    3 +--
 src/fq.cpp                     |    2 +-
 src/fq.hpp                     |    2 +-
 src/i_engine.hpp               |    2 +-
 src/i_poll_events.hpp          |    4 ++--
 src/io_object.cpp              |    2 +-
 src/io_object.hpp              |    2 +-
 src/io_thread.cpp              |    2 +-
 src/io_thread.hpp              |    2 +-
 src/ip.cpp                     |    4 ++--
 src/ip.hpp                     |    4 ++--
 src/ipc_address.cpp            |    5 ++---
 src/ipc_address.hpp            |    5 ++---
 src/ipc_connecter.cpp          |    5 ++---
 src/ipc_connecter.hpp          |    5 ++---
 src/ipc_listener.cpp           |    5 ++---
 src/ipc_listener.hpp           |    5 ++---
 src/kqueue.cpp                 |    2 +-
 src/kqueue.hpp                 |    2 +-
 src/lb.cpp                     |    4 ++--
 src/lb.hpp                     |    4 ++--
 src/likely.hpp                 |    3 +--
 src/mailbox.cpp                |    2 +-
 src/mailbox.hpp                |    2 +-
 src/msg.cpp                    |    2 +-
 src/msg.hpp                    |    2 +-
 src/mtrie.cpp                  |    5 ++---
 src/mtrie.hpp                  |    5 ++---
 src/mutex.hpp                  |    4 ++--
 src/object.cpp                 |    2 +-
 src/object.hpp                 |    2 +-
 src/options.cpp                |    2 +-
 src/options.hpp                |    2 +-
 src/own.cpp                    |    5 ++---
 src/own.hpp                    |    5 ++---
 src/pair.cpp                   |    2 +-
 src/pair.hpp                   |    2 +-
 src/pgm_receiver.cpp           |    4 ++--
 src/pgm_receiver.hpp           |    4 ++--
 src/pgm_sender.cpp             |    4 ++--
 src/pgm_sender.hpp             |    4 ++--
 src/pgm_socket.cpp             |    4 ++--
 src/pgm_socket.hpp             |    4 ++--
 src/pipe.cpp                   |    2 +-
 src/pipe.hpp                   |    2 +-
 src/poll.cpp                   |    2 +-
 src/poll.hpp                   |    2 +-
 src/poller.hpp                 |    4 ++--
 src/poller_base.cpp            |    5 ++---
 src/poller_base.hpp            |    5 ++---
 src/pub.cpp                    |    2 +-
 src/pub.hpp                    |    2 +-
 src/pull.cpp                   |    2 +-
 src/pull.hpp                   |    2 +-
 src/push.cpp                   |    2 +-
 src/push.hpp                   |    2 +-
 src/random.cpp                 |    5 ++---
 src/random.hpp                 |    5 ++---
 src/reaper.cpp                 |    5 ++---
 src/reaper.hpp                 |    5 ++---
 src/req.cpp                    |    2 +-
 src/req.hpp                    |    2 +-
 src/select.cpp                 |    2 +-
 src/select.hpp                 |    2 +-
 src/session_base.cpp           |    2 +-
 src/session_base.hpp           |    2 +-
 src/signaler.cpp               |    5 ++---
 src/signaler.hpp               |    5 ++---
 src/socket_base.cpp            |    2 +-
 src/socket_base.hpp            |    2 +-
 src/stdint.hpp                 |    3 +--
 src/stream_engine.cpp          |    2 +-
 src/stream_engine.hpp          |    2 +-
 src/sub.cpp                    |    2 +-
 src/sub.hpp                    |    2 +-
 src/tcp_address.cpp            |    2 +-
 src/tcp_address.hpp            |    2 +-
 src/tcp_connecter.cpp          |    2 +-
 src/tcp_connecter.hpp          |    2 +-
 src/tcp_listener.cpp           |    2 +-
 src/tcp_listener.hpp           |    2 +-
 src/thread.cpp                 |    2 +-
 src/thread.hpp                 |    2 +-
 src/trie.cpp                   |    2 +-
 src/trie.hpp                   |    2 +-
 src/windows.hpp                |    4 ++--
 src/wire.hpp                   |    3 +--
 src/xpub.cpp                   |    5 ++---
 src/xpub.hpp                   |    5 ++---
 src/xrep.cpp                   |    2 +-
 src/xrep.hpp                   |    2 +-
 src/xreq.cpp                   |    1 -
 src/xreq.hpp                   |    2 --
 src/xsub.cpp                   |    5 ++---
 src/xsub.hpp                   |    5 ++---
 src/ypipe.hpp                  |    2 +-
 src/yqueue.hpp                 |    2 +-
 src/zmq_utils.cpp              |    2 +-
 tests/test_hwm.cpp             |    5 ++---
 tests/test_invalid_rep.cpp     |    5 ++---
 tests/test_pair_inproc.cpp     |    5 ++---
 tests/test_pair_ipc.cpp        |    5 ++---
 tests/test_pair_tcp.cpp        |    6 +++---
 tests/test_reqrep_device.cpp   |    5 ++---
 tests/test_reqrep_inproc.cpp   |    5 ++---
 tests/test_reqrep_ipc.cpp      |    5 ++---
 tests/test_reqrep_tcp.cpp      |    6 +++---
 tests/test_shutdown_stress.cpp |    6 +++---
 tests/test_sub_forward.cpp     |    6 +++---
 tests/test_timeo.cpp           |    5 ++---
 139 files changed, 192 insertions(+), 234 deletions(-)

commit 8a0f5f7650e556bde6c95d7f20c975aa530d3e10
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 1 14:46:18 2011 +0100

    Miru copyrights added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_receiver.cpp |    1 +
 src/pgm_receiver.hpp |    1 +
 src/pgm_sender.cpp   |    1 +
 src/pgm_sender.hpp   |    1 +
 src/pgm_socket.cpp   |    1 +
 src/pgm_socket.hpp   |    1 +
 6 files changed, 6 insertions(+)

commit 1c071f54a6c4444aaa73ace26d7b3a654c26ea5c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 1 14:09:54 2011 +0100

    LABELs removed from the documentation

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   13 -------------
 doc/zmq_recv.txt       |    7 ++-----
 doc/zmq_recvmsg.txt    |    7 ++-----
 doc/zmq_send.txt       |   11 ++---------
 doc/zmq_sendmsg.txt    |   11 ++---------
 doc/zmq_socket.txt     |   33 ---------------------------------
 6 files changed, 8 insertions(+), 74 deletions(-)

commit 7563518929573fc9e729c1dc8bb4aea512fada5a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 1 13:54:28 2011 +0100

    Tests print their name before running

    This makes finding out which test have hung-up easier.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/test_hwm.cpp             |    3 +++
 tests/test_invalid_rep.cpp     |    3 +++
 tests/test_pair_inproc.cpp     |    3 +++
 tests/test_pair_ipc.cpp        |    3 +++
 tests/test_pair_tcp.cpp        |    3 +++
 tests/test_reqrep_device.cpp   |    3 +++
 tests/test_reqrep_inproc.cpp   |    3 +++
 tests/test_reqrep_ipc.cpp      |    3 +++
 tests/test_reqrep_tcp.cpp      |    3 +++
 tests/test_shutdown_stress.cpp |    3 +++
 tests/test_sub_forward.cpp     |    3 +++
 tests/test_timeo.cpp           |    3 +++
 12 files changed, 36 insertions(+)

commit 7842c7107358324e8c5b9af7272e6dcab8c97931
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 1 13:39:54 2011 +0100

    LABELS and COMMANDs removed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h                |    5 +-
 src/dist.cpp                 |    6 +-
 src/encoder.cpp              |    5 +-
 src/fq.cpp                   |    3 +-
 src/lb.cpp                   |    6 +-
 src/msg.hpp                  |    7 +-
 src/pipe.cpp                 |    7 +-
 src/rep.cpp                  |   19 +++---
 src/req.cpp                  |   46 +++++---------
 src/req.hpp                  |    7 +-
 src/session_base.cpp         |    4 +-
 src/socket_base.cpp          |   33 +---------
 src/socket_base.hpp          |    7 +-
 src/xpub.cpp                 |    4 +-
 src/xrep.cpp                 |   11 ++--
 src/xsub.cpp                 |   10 +--
 tests/Makefile.am            |    2 -
 tests/test_invalid_rep.cpp   |   13 ++--
 tests/test_reqrep_device.cpp |   31 ++-------
 tests/test_reqrep_drop.cpp   |  144 ------------------------------------------
 20 files changed, 75 insertions(+), 295 deletions(-)

commit 626099aa2a292178872843c55cc5226e6850f2ed
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 31 16:37:20 2011 +0100

    VTCP transport removed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in           |   13 ---
 src/Makefile.am        |    4 -
 src/session_base.cpp   |   13 ---
 src/socket_base.cpp    |   27 +-----
 src/vtcp_connecter.cpp |  252 ------------------------------------------------
 src/vtcp_connecter.hpp |  121 -----------------------
 src/vtcp_listener.cpp  |  125 ------------------------
 src/vtcp_listener.hpp  |   72 --------------
 8 files changed, 1 insertion(+), 626 deletions(-)

commit ac7717b7b35f441fc3aeeb1528e63f147c00913a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 31 16:20:30 2011 +0100

    250bpm copyrights added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h                  |    1 +
 include/zmq_utils.h            |    1 +
 perf/inproc_lat.cpp            |    1 +
 perf/inproc_thr.cpp            |    1 +
 perf/local_lat.cpp             |    1 +
 perf/local_thr.cpp             |    1 +
 perf/remote_lat.cpp            |    1 +
 perf/remote_thr.cpp            |    1 +
 src/array.hpp                  |    1 +
 src/atomic_counter.hpp         |    1 +
 src/atomic_ptr.hpp             |    1 +
 src/clock.cpp                  |    1 +
 src/clock.hpp                  |    1 +
 src/command.hpp                |    1 +
 src/config.hpp                 |    1 +
 src/ctx.cpp                    |    1 +
 src/ctx.hpp                    |    1 +
 src/decoder.cpp                |    1 +
 src/decoder.hpp                |    1 +
 src/devpoll.cpp                |    1 +
 src/devpoll.hpp                |    1 +
 src/dist.cpp                   |    1 +
 src/dist.hpp                   |    1 +
 src/encoder.cpp                |    1 +
 src/encoder.hpp                |    1 +
 src/epoll.cpp                  |    1 +
 src/epoll.hpp                  |    1 +
 src/err.cpp                    |    1 +
 src/err.hpp                    |    1 +
 src/fd.hpp                     |    1 +
 src/fq.cpp                     |    1 +
 src/fq.hpp                     |    1 +
 src/i_engine.hpp               |    1 +
 src/i_poll_events.hpp          |    1 +
 src/io_object.cpp              |    1 +
 src/io_object.hpp              |    1 +
 src/io_thread.cpp              |    1 +
 src/io_thread.hpp              |    1 +
 src/ip.cpp                     |    1 +
 src/ip.hpp                     |    1 +
 src/ipc_address.cpp            |    1 +
 src/ipc_address.hpp            |    1 +
 src/ipc_connecter.cpp          |    1 +
 src/ipc_connecter.hpp          |    1 +
 src/ipc_listener.cpp           |    1 +
 src/ipc_listener.hpp           |    1 +
 src/kqueue.cpp                 |    1 +
 src/kqueue.hpp                 |    1 +
 src/lb.cpp                     |    1 +
 src/lb.hpp                     |    1 +
 src/likely.hpp                 |    1 +
 src/mailbox.cpp                |    1 +
 src/mailbox.hpp                |    1 +
 src/msg.cpp                    |    1 +
 src/msg.hpp                    |    1 +
 src/mtrie.cpp                  |    1 +
 src/mtrie.hpp                  |    1 +
 src/mutex.hpp                  |    1 +
 src/object.cpp                 |    1 +
 src/object.hpp                 |    1 +
 src/options.cpp                |    1 +
 src/options.hpp                |    1 +
 src/own.cpp                    |    1 +
 src/own.hpp                    |    1 +
 src/pair.cpp                   |    1 +
 src/pair.hpp                   |    1 +
 src/pgm_receiver.cpp           |    1 +
 src/pgm_receiver.hpp           |    1 +
 src/pgm_sender.cpp             |    1 +
 src/pgm_sender.hpp             |    1 +
 src/pgm_socket.cpp             |    1 +
 src/pgm_socket.hpp             |    1 +
 src/pipe.cpp                   |    1 +
 src/pipe.hpp                   |    1 +
 src/poll.cpp                   |    1 +
 src/poll.hpp                   |    1 +
 src/poller.hpp                 |    1 +
 src/poller_base.cpp            |    1 +
 src/poller_base.hpp            |    1 +
 src/pub.cpp                    |    1 +
 src/pub.hpp                    |    1 +
 src/pull.cpp                   |    1 +
 src/pull.hpp                   |    1 +
 src/push.cpp                   |    1 +
 src/push.hpp                   |    1 +
 src/random.cpp                 |    1 +
 src/random.hpp                 |    1 +
 src/reaper.cpp                 |    1 +
 src/reaper.hpp                 |    1 +
 src/rep.cpp                    |    1 +
 src/rep.hpp                    |    1 +
 src/req.cpp                    |    1 +
 src/req.hpp                    |    1 +
 src/select.cpp                 |    1 +
 src/select.hpp                 |    1 +
 src/session_base.cpp           |    1 +
 src/session_base.hpp           |    1 +
 src/signaler.cpp               |    1 +
 src/signaler.hpp               |    1 +
 src/socket_base.cpp            |    1 +
 src/socket_base.hpp            |    1 +
 src/stdint.hpp                 |    1 +
 src/stream_engine.cpp          |    1 +
 src/stream_engine.hpp          |    1 +
 src/sub.cpp                    |    1 +
 src/sub.hpp                    |    1 +
 src/tcp_address.cpp            |    1 +
 src/tcp_address.hpp            |    1 +
 src/tcp_connecter.cpp          |    1 +
 src/tcp_connecter.hpp          |    1 +
 src/tcp_listener.cpp           |    1 +
 src/tcp_listener.hpp           |    1 +
 src/thread.cpp                 |    1 +
 src/thread.hpp                 |    1 +
 src/trie.cpp                   |    1 +
 src/trie.hpp                   |    1 +
 src/vtcp_connecter.cpp         |    1 +
 src/vtcp_connecter.hpp         |    1 +
 src/vtcp_listener.cpp          |    1 +
 src/vtcp_listener.hpp          |    1 +
 src/windows.hpp                |    1 +
 src/wire.hpp                   |    1 +
 src/xpub.cpp                   |    1 +
 src/xpub.hpp                   |    1 +
 src/xrep.cpp                   |    1 +
 src/xrep.hpp                   |    1 +
 src/xreq.cpp                   |    1 +
 src/xreq.hpp                   |    1 +
 src/xsub.cpp                   |    1 +
 src/xsub.hpp                   |    1 +
 src/ypipe.hpp                  |    1 +
 src/yqueue.hpp                 |    1 +
 src/zmq.cpp                    |    1 +
 src/zmq_utils.cpp              |    1 +
 tests/test_hwm.cpp             |    1 +
 tests/test_invalid_rep.cpp     |    1 +
 tests/test_pair_inproc.cpp     |    1 +
 tests/test_pair_ipc.cpp        |    1 +
 tests/test_pair_tcp.cpp        |    1 +
 tests/test_reqrep_device.cpp   |    1 +
 tests/test_reqrep_drop.cpp     |    1 +
 tests/test_reqrep_inproc.cpp   |    1 +
 tests/test_reqrep_ipc.cpp      |    1 +
 tests/test_reqrep_tcp.cpp      |    1 +
 tests/test_shutdown_stress.cpp |    1 +
 tests/test_sub_forward.cpp     |    1 +
 tests/test_timeo.cpp           |    1 +
 tests/testutil.hpp             |    1 +
 148 files changed, 148 insertions(+)

commit 4b832ea37410035bba7b85e5e9988af8eda648c2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 31 15:56:39 2011 +0100

    Revert the early dropping of request and replies for disconnected clients

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |    4 +++-
 src/xreq.cpp |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 9227c389331c26d24e515bdd46867013f0cbd641
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 31 15:51:11 2011 +0100

    ROUTER and DEALER are aliases for XREP and XREQ

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    3 +++
 1 file changed, 3 insertions(+)

commit dee8b2360ac0084165401dd61fc485226402124d
Author: Martin Sustrik <sustrik@turist.(none)>
Date:   Mon Oct 31 15:44:42 2011 +0100

    New style ROUTER socket removed.

    Signed-off-by: Martin Sustrik <sustrik@turist.(none)>

 include/zmq.h        |    1 -
 src/Makefile.am      |    2 -
 src/router.cpp       |  285 --------------------------------------------------
 src/router.hpp       |  123 ----------------------
 src/session_base.cpp |    5 -
 src/socket_base.cpp  |    4 -
 6 files changed, 420 deletions(-)

commit 541b83bc02784c721efa3d9dde8f8a191c3c3b7b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 29 14:49:08 2011 +0200

    Perry Kundert added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 09574a6104ce824c43fe8261d31451ccb337d11b
Author: Perry Kundert <perry@kundert.ca>
Date:   Sat Oct 29 14:47:53 2011 +0200

    Corrected discarding of remainder of message when request ID invalid

    When zmq::req_t::xrecv detects that a response has no request ID
    label, or the ID is the wrong size, it would return an EAGAIN, but
    would not discard the remainder of the message.  This could allow the
    remainder of the message to incorrectly "leak" into a future response,
    if it is crafted to look like a reply with a valid response ID.
    Discard all remaining message blocks, if the ID is invalid in any way.

 src/req.cpp |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 52bab42212c263a51b219ae8714c481bc948cb4e
Author: Bernd Prager <bernd@prager.ws>
Date:   Thu Oct 27 17:11:28 2011 +0200

    Missing bracket added

    Signed-off: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b3e61a178af5c5e373c701a11697051c4c9a50a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 27 14:02:57 2011 +0200

    Ben Gray added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 9e000c8f26c99656dd967a8d15997b879af5817b
Author: Ben Gray <ben@benjamg.com>
Date:   Thu Oct 27 13:59:54 2011 +0200

    Patch for issue LIBZMQ-275. Dealing with VSM in distribution when pipes fail to write.

    Signed-off-by: Ben Gray <ben@benjamg.com>

 src/dist.cpp |   10 ++++++++++
 src/msg.cpp  |    6 ++++++
 src/msg.hpp  |    1 +
 3 files changed, 17 insertions(+)

commit 68ab5f87edd2436757ab92b22238a5a4114d7b0d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 27 11:51:23 2011 +0200

    Paul Betts added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 1b706ac02858aee4c960331dc7100f8c14312848
Author: Paul Betts <paul@paulbetts.org>
Date:   Thu Oct 27 11:48:58 2011 +0200

    Enable exceptions raising on assert on Win32

    This patch changes the Win32 version to call RaiseException instead of abort
    (which eventually calls TerminateProcess). This allows crash dumps to be sent
    correctly instead of the process disappearing.

    Signed-off-by: Paul Betts <paul@paulbetts.org>

 src/err.cpp |   13 +++++++++++++
 src/err.hpp |   26 ++++++++++++++------------
 2 files changed, 27 insertions(+), 12 deletions(-)

commit a8362abf11b51dd553766fb07a9e60f28e788126
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 27 11:21:01 2011 +0200

    Enable exceptions raising on assert on Win32

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/err.cpp |   13 +++++++++++++
 src/err.hpp |   26 ++++++++++++++------------
 2 files changed, 27 insertions(+), 12 deletions(-)

commit a70bea01cc9c81a59d0b7067e8854fc9777f5757
Merge: 81da391 b3cda2a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 27 10:37:31 2011 +0200

    Merge branch 'master' of github.com:zeromq/libzmq

commit b3cda2ad6091096264f777a95907050edfdd3ffe
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 27 09:41:48 2011 +0200

    Bug in kqueue poller fixed (issue 261)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/kqueue.cpp |   25 +++++++++++++++++--------
 1 file changed, 17 insertions(+), 8 deletions(-)

commit 6c1b50cfab1529e866e40c037ce1be7027423af0
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Oct 26 11:26:00 2011 +0200

    Added compile-time test for SOCK_CLOEXEC

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   22 ++++++++++++++++++++++
 configure.in |    5 +++++
 src/ip.cpp   |    4 ++--
 3 files changed, 29 insertions(+), 2 deletions(-)

commit d31792e652cc9fd3bc84e2abd89f232d273b7ede
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 6 13:12:49 2011 +0200

    Default HWMs are set to 1000

    This patch is meant to prevent users from running out of memory
    when using 0MQ in the default configuration.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    8 ++------
 doc/zmq_setsockopt.txt |    8 ++------
 src/options.cpp        |    4 ++--
 3 files changed, 6 insertions(+), 14 deletions(-)

commit f5f1a8b1841f04fc9db5df3eb669d76513687065
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Oct 4 09:39:55 2011 +0200

    New upstream OpenPGM maintenance release 5.1.118.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 configure.in                               |    2 +-
 foreign/openpgm/libpgm-5.1.115~dfsg.tar.gz |  Bin 1054630 -> 0 bytes
 foreign/openpgm/libpgm-5.1.118~dfsg.tar.gz |  Bin 0 -> 1046589 bytes
 3 files changed, 1 insertion(+), 1 deletion(-)

commit cc5d31605fddc9888f3b30933fbd4ec3272299ab
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Oct 4 09:32:02 2011 +0200

    Re-add PGM rate limiting

    It was accidently lost in commit fcfad5682e, equivalent
    to commits 2ddb106 & b62dd40 in version 2.1.  Changes semantics
    from TXW_MAX_RATE to ODATA_MAX_RATE.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/pgm_socket.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit 81da391e7e6ee12a2607289a1aae16c400e7025e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 29 14:47:41 2011 +0200

    Use single port for creating signalers on Windows

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/config.hpp   |    6 +++++-
 src/signaler.cpp |   23 +++++++++++++++++------
 2 files changed, 22 insertions(+), 7 deletions(-)

commit 7a10bbe77a31158da0573031f8d6a50812262858
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 29 11:35:31 2011 +0200

    Bug in subscription matching fixed (issue 263)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mtrie.cpp |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 34b114d15d8e4bd784014189eb7204e88b06da61
Author: Jon Dyte <jon@totient.co.uk>
Date:   Thu Sep 29 09:07:03 2011 +0200

    Make sure new ROUTER socket honours POLLIN for cmd messages

    Signed-off-by: Jon Dyte <jon@totient.co.uk>

 src/router.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8485a5e5a4cdcb5cec800279f874c8579d246940
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 28 08:03:14 2011 +0200

    Assert fixed in XREP & ROUTER  when sending to terminating pipe (issue 258)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/router.cpp |    5 +++--
 src/xrep.cpp   |    6 ++++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit d726120e60e3db332ed26c2106c65271f4d8fba4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Sep 26 14:02:31 2011 +0200

    Bug in matching algorithm fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mtrie.cpp |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 25cc25e9ad51f38fa8e1a78a798b2d54e270dad2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 18 10:19:08 2011 +0200

    MSVC build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e170136a2e00eec2e786441cdc090c3b00a8fbd4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 16 16:34:28 2011 +0200

    More bugs in mtrie fixed

    Aside of fixing couple of corner cases this patch turns the 'match'
    function in mtrie from recursive to iterative.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mtrie.cpp |   57 ++++++++++++++++++++++++++++++---------------------------
 src/mtrie.hpp |    2 --
 2 files changed, 30 insertions(+), 29 deletions(-)

commit 5936379b292dec79efd3a1eaa7cafae4fc6d675a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 16 15:02:52 2011 +0200

    Bug in mtrie fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mtrie.cpp |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 06bdf2c4f96a6324b3fe667cebb03d44cd100a73
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 16 09:29:43 2011 +0200

    Check message syntax in REQ asynchronously

    This patch adds support for checking messages as they arrive
    (as opposed to when they are recv'd by the user) and drop
    the connection if they are malformed.

    It also uses this new feature to check for validity of inbound
    messages in REQ socket.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/decoder.cpp      |    9 ++++++++-
 src/decoder.hpp      |    8 ++++++++
 src/encoder.cpp      |   10 +++++++++-
 src/encoder.hpp      |    9 +++++++++
 src/req.cpp          |   20 ++++++++++++++++++++
 src/req.hpp          |    8 ++++++++
 src/session_base.cpp |   20 ++++++++++----------
 src/session_base.hpp |    4 ++--
 8 files changed, 74 insertions(+), 14 deletions(-)

commit f78d9b6bfca13e298c29fadabbbc870b37a0a573
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 15 10:00:23 2011 +0200

    Session class separated into socket-type-specific sessions

    This is a preliminary patch allowing for socket-type-specific
    functionality in the I/O thread. For example, message format
    can be checked asynchronously and misbehaved connections dropped
    straight away.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am        |    4 +-
 src/decoder.cpp        |    4 +-
 src/decoder.hpp        |    4 +-
 src/encoder.cpp        |    4 +-
 src/encoder.hpp        |    4 +-
 src/i_engine.hpp       |    2 +-
 src/ipc_connecter.cpp  |    2 +-
 src/ipc_connecter.hpp  |    4 +-
 src/ipc_listener.cpp   |    8 +-
 src/object.cpp         |    6 +-
 src/object.hpp         |    2 +-
 src/pair.cpp           |   12 ++
 src/pair.hpp           |   16 ++
 src/pgm_receiver.cpp   |    5 +-
 src/pgm_receiver.hpp   |    5 +-
 src/pgm_sender.cpp     |    4 +-
 src/pgm_sender.hpp     |    3 +-
 src/pub.cpp            |   12 ++
 src/pub.hpp            |   15 ++
 src/pull.cpp           |   12 ++
 src/pull.hpp           |   16 ++
 src/push.cpp           |   12 ++
 src/push.hpp           |   16 ++
 src/rep.cpp            |   12 ++
 src/rep.hpp            |   15 ++
 src/req.cpp            |   11 ++
 src/req.hpp            |   15 ++
 src/router.cpp         |   10 ++
 src/router.hpp         |   16 ++
 src/session.cpp        |  383 ----------------------------------------
 src/session.hpp        |  124 -------------
 src/session_base.cpp   |  457 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/session_base.hpp   |  131 ++++++++++++++
 src/socket_base.cpp    |    8 +-
 src/stream_engine.cpp  |    5 +-
 src/stream_engine.hpp  |    7 +-
 src/sub.cpp            |   12 ++
 src/sub.hpp            |   15 ++
 src/tcp_connecter.cpp  |    2 +-
 src/tcp_connecter.hpp  |    4 +-
 src/tcp_listener.cpp   |    8 +-
 src/vtcp_connecter.cpp |    2 +-
 src/vtcp_connecter.hpp |    4 +-
 src/vtcp_listener.cpp  |    6 +-
 src/xpub.cpp           |   12 ++
 src/xpub.hpp           |   16 ++
 src/xrep.cpp           |   10 ++
 src/xrep.hpp           |   16 ++
 src/xreq.cpp           |   12 ++
 src/xreq.hpp           |   16 ++
 src/xsub.cpp           |   11 ++
 src/xsub.hpp           |   16 ++
 52 files changed, 970 insertions(+), 558 deletions(-)

commit 78b02d142e82015a2146b7d40f7e0a729ad0e89b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 14 15:16:48 2011 +0200

    Minor optimisation in message distribution algorithm

    If several of the outbound pipes become passive while sending
    a single message, the refcount on the message is adjusted
    once only, not multiple times. It's an atomic operation so
    the cost is not negligible.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit cf499ee016340a8534e24084a481a02498b44e70
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 14 14:31:09 2011 +0200

    Bug in message distribution algorithm fixed (issue 251)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 42737f09180b8ebc2827743568e6170b6ddd5938
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 14 14:24:59 2011 +0200

    test_invlid_rep added to .gitignore

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 8f8bfcaba0f0e827a2d034c76c5b498bbdf4e7e1
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Tue Sep 13 16:27:07 2011 +0200

    Fixed issue with req assertions (issue 252)

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/req.cpp                |    9 +++--
 tests/Makefile.am          |    4 ++-
 tests/test_invalid_rep.cpp |   85 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 95 insertions(+), 3 deletions(-)

commit e191e806ead4e8954e03612a4b385aff40871272
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Tue Sep 6 08:51:23 2011 +0200

    Fix polling system detection on mingw32 build

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 9d0e122bfad431d7b84ad43c0c62c8ebc9540a36
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sun Sep 4 10:28:15 2011 +0200

    Added option to choose internal polling system

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |  165 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.in |    4 ++
 2 files changed, 169 insertions(+)

commit 193fa1c079fd886623e55810556a9461561ca139
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 3 10:19:08 2011 +0200

    Accept square brackets around IPv6 address

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_address.cpp |    5 +++++
 1 file changed, 5 insertions(+)

commit 4138aca54bd57d42acdbe7c7af0f7045ecc36e1e
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Sep 3 09:02:56 2011 +0200

    Fixed doc to clarify how label parts work

    Signed-off-by: Pieter Hintjens <ph@imatix.com>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   27 ++++++++---------
 doc/zmq_recv.txt       |   28 +++++++++---------
 doc/zmq_recvmsg.txt    |   42 +++++++++++++-------------
 doc/zmq_send.txt       |   37 +++++++++++------------
 doc/zmq_sendmsg.txt    |   38 +++++++++++-------------
 doc/zmq_socket.txt     |   77 +++++++++++++++++++++++++++++++-----------------
 6 files changed, 134 insertions(+), 115 deletions(-)

commit 9fb9fea63351cff0e664b28636acb3c3e1f84721
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 3 07:40:49 2011 +0200

    Improve error reporting in a minor way

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp |    2 +-
 src/xrep.cpp          |   31 ++++++++++++++++---------------
 2 files changed, 17 insertions(+), 16 deletions(-)

commit 8b7ac4c2a9c3ede95d6f5f9717a1939a23788964
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 2 15:34:12 2011 +0200

    Close file descriptors on exec (issue 218)

    When exec is executed to start a different process image old
    0MQ file descriptors could stay open, thus blocking TCP ports
    and alike. This patch should solve the problem.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp            |   23 +++++++++++++++++++++++
 src/ip.hpp            |    3 +++
 src/ipc_connecter.cpp |    2 +-
 src/ipc_listener.cpp  |    3 ++-
 src/signaler.cpp      |    6 +++---
 src/tcp_address.cpp   |    5 +++--
 src/tcp_connecter.cpp |    2 +-
 src/tcp_listener.cpp  |    2 +-
 8 files changed, 37 insertions(+), 9 deletions(-)

commit 2910a728dc777068e6ae7f67041da185b0865171
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 2 13:44:22 2011 +0200

    msg_t::rm_refs closes the message when number of refs drops to 0 (issue 245)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/msg.cpp |   18 +++++++++++++-----
 src/msg.hpp |    5 +++--
 2 files changed, 16 insertions(+), 7 deletions(-)

commit 82ab08d871628410e8b0b1fe63d25f1b27766b8d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 1 13:02:22 2011 +0200

    Premature deallocation bug in XSUB fixed (issue 244)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xsub.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 65bb75863dde3ecd9a19d7fafc1ad1b0166a4770
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 1 07:26:17 2011 +0200

    Fixed warnings on Win64

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp        |    2 +-
 src/socket_base.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 940c5b346b35f2d42360b3371757eb98ef8ba78f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Aug 31 15:23:00 2011 +0200

    zmq_msg_t changed to structure

    zmq_msg_t being defined as unsigned char[32] could not be stored
    in STL containers. Fixed by this commit.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd7c629a27e6dffad9c659a233216ce56fbd4ef8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Aug 19 14:42:31 2011 +0200

    Typo fixed in zmq_socket(3)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_socket.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 80a5f60e3397c9376026da48e6415c7011e2a647
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Aug 19 12:34:31 2011 +0200

    NIC name resolution moved to tcp_address_t

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_address.cpp |   32 ++++++++++++++------------------
 src/tcp_address.hpp |    4 ++--
 2 files changed, 16 insertions(+), 20 deletions(-)

commit f0c7edbc9c39ec3a6d06a9605a376212c2228fc7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 18 21:16:22 2011 +0200

    Missing include added to ip.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 898ee99dc16bbd494cabd7e09efac120d79990d7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 18 17:58:46 2011 +0200

    Windows build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |    8 ++++++++
 src/tcp_address.cpp              |    7 +++++--
 src/tcp_address.hpp              |    8 ++++++++
 3 files changed, 21 insertions(+), 2 deletions(-)

commit b6ecb00d23af3611da98d98f28e1c2583d428e00
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 18 17:40:42 2011 +0200

    TCP address related functionality moved to tcp_address_t

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am        |    2 +
 src/ip.cpp             |  369 +-----------------------------------------
 src/ip.hpp             |   32 ----
 src/tcp_address.cpp    |  422 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/tcp_address.hpp    |   68 ++++++++
 src/tcp_connecter.cpp  |   12 +-
 src/tcp_connecter.hpp  |    7 +-
 src/tcp_listener.cpp   |   19 +--
 src/tcp_listener.hpp   |    7 +-
 src/vtcp_connecter.cpp |   10 +-
 src/vtcp_connecter.hpp |    7 +-
 11 files changed, 522 insertions(+), 433 deletions(-)

commit 4a8dd1e404c78fb403763d830190755d2ac83228
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 18 11:24:14 2011 +0200

    MSVC build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |    8 ++++++++
 src/ipc_address.cpp              |    2 +-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit b01a8e17511b57191c4aec4d741bdf3b3a80efc6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 18 11:08:22 2011 +0200

    IPC address related functionality refactored into ipc_address_t class

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am       |    2 ++
 src/ip.cpp            |   24 -------------------
 src/ip.hpp            |    4 ----
 src/ipc_address.cpp   |   60 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/ipc_address.hpp   |   61 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/ipc_connecter.cpp |    9 ++------
 src/ipc_connecter.hpp |    7 +++---
 src/ipc_listener.cpp  |   16 ++++++-------
 src/ipc_listener.hpp  |   12 +++++-----
 9 files changed, 142 insertions(+), 53 deletions(-)

commit 3488af048f336867594330d4abd0ad6dab110ea0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Aug 17 18:41:02 2011 +0200

    Fix the PGM support on win64

    On win64 the size of file descriptor is not the same as size of int.
    The bug in PGM transport caused a runtime error because of this.
    The problem is fixed now.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_receiver.cpp |    4 ++--
 src/pgm_sender.cpp   |    8 ++++----
 src/pgm_socket.cpp   |    8 ++++----
 src/pgm_socket.hpp   |    7 ++++---
 4 files changed, 14 insertions(+), 13 deletions(-)

commit ed373450a28cff34757a70e2c7a102ecc40e3836
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 16 12:59:49 2011 +0200

    MSVC build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit b3bac1760735703a11297df3d0e2a2e5252aa45e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 16 12:44:34 2011 +0200

    tcp_engine renamed to stream engine

    The engine was not used exclusively for TCP connections.
    Rather it was used to handle any socket with SOCK_STREAM
    semantics. The class was renamed to reflect its true function.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am        |    4 +-
 src/ipc_connecter.cpp  |    4 +-
 src/ipc_listener.cpp   |    4 +-
 src/stream_engine.cpp  |  374 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/stream_engine.hpp  |  102 +++++++++++++
 src/tcp_connecter.cpp  |    4 +-
 src/tcp_engine.cpp     |  374 ------------------------------------------------
 src/tcp_engine.hpp     |   99 -------------
 src/tcp_listener.cpp   |    4 +-
 src/vtcp_connecter.cpp |    4 +-
 src/vtcp_listener.cpp  |    4 +-
 11 files changed, 490 insertions(+), 487 deletions(-)

commit 41457e1ff12dffb62e2dc98cec0be2c5deb79207
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Aug 15 22:02:15 2011 +0200

    Semaphores are not used anymore, build system is adjusted accordingly

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in |    3 ---
 1 file changed, 3 deletions(-)

commit 714d3b288f3c92f1736a9e35d4f177bbef84c003
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Aug 15 20:39:48 2011 +0200

    EAFNOSUPPORT defined on Windows platform

    Windows headers don't defined this error.
    This patch defines it if not already defined.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    3 +++
 src/err.cpp   |    3 +++
 2 files changed, 6 insertions(+)

commit 85851d312771f043263257bcf972bd11cadec50a
Author: Ghislain Putois <ghpu@infonie.fr>
Date:   Mon Aug 15 19:39:21 2011 +0200

    Preliminary Android support

    Some small changes to prepare a cross-compilation for the Android platform

    Signed-off-by: Ghislain Putois <ghpu@infonie.fr>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS        |    1 +
 src/ip.cpp     |    7 ++++---
 src/thread.cpp |    6 +++---
 3 files changed, 8 insertions(+), 6 deletions(-)

commit 0354d4d37fe814b9dbb94415da2c5314c4b68ae6
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Mon Aug 15 19:09:04 2011 +0200

    Added Android support

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 configure.in |    6 ++++++
 src/zmq.cpp  |    3 +++
 2 files changed, 9 insertions(+)

commit 57440b86e2c62c78f3904abb17f11500ba0a1a6f
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Aug 15 08:56:00 2011 +0200

    Add IPv6 support to tcp_listener

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp            |   17 +++++++++++++++++
 src/ip.hpp            |    3 +++
 src/tcp_connecter.cpp |   21 ++++-----------------
 src/tcp_listener.cpp  |   19 +++++++++++++++++++
 4 files changed, 43 insertions(+), 17 deletions(-)

commit 3c3c0bfd1f5b987ee42786de25259c46393fe343
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Aug 15 08:02:36 2011 +0200

    Minor problems in MSVC build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp |    3 ++-
 src/tcp_listener.cpp  |    3 ++-
 src/zmq.cpp           |    2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 9196c482564e74e310b48e1add9f5425efb07ec0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Aug 14 14:23:16 2011 +0200

    select version zmq_poll reports invalid FDs

    Till now, passing invalid file descriptor to zmq_poll()
    caused asseration. Now it returns error.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 938009853461267af43908614266b9ef33f825ff
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Aug 14 14:06:42 2011 +0200

    Compilation error on HP-UX and AIX fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6dc3b2a657d4d1c98f549395643d68b834a776a4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Aug 14 13:48:28 2011 +0200

    Compilation error on FreeBSD fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a3f27400ded11fa14df98943cc412635d7d175ee
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Aug 8 18:49:30 2011 +0200

    Minor compile-time bug on Windows fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c54ce37b343bda66d25faaa970a5414546cdd92
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Aug 8 16:07:54 2011 +0200

    tcp_connecter disables IPV6_IPV6ONLY if needed.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit c27b9ac7defd3cf7d21d93b2a3d2a9142a12e82f
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Aug 8 15:23:46 2011 +0200

    Update resolve_ip_interface and resolve_ip_hostname with ipv4only parameter.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp             |   64 ++++++++++++++++++++++++++++++++++--------------
 src/ip.hpp             |    4 +--
 src/tcp_connecter.cpp  |    2 +-
 src/tcp_listener.cpp   |    2 +-
 src/vtcp_connecter.cpp |    6 +++--
 5 files changed, 54 insertions(+), 24 deletions(-)

commit 9184a54f6497fb075a9ac7a8b1b7f3e284c9bcd3
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Aug 8 12:39:13 2011 +0200

    Update resolve_nic_name to take more generic sockaddr parameter.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/ip.cpp |   73 +++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 52 insertions(+), 21 deletions(-)

commit 784041f5b99ba28252c9bb67a5bfb4a5da41ef93
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Aug 8 12:10:31 2011 +0200

    ZMQ_IPV4ONLY option added

    At this point option exists, is documented and can be set,
    however, it has no effect.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   15 +++++++++++++++
 doc/zmq_setsockopt.txt |   14 ++++++++++++++
 doc/zmq_tcp.txt        |    6 +++---
 include/zmq.h          |    3 ++-
 src/options.cpp        |   25 +++++++++++++++++++++++++
 src/options.hpp        |    5 +++++
 6 files changed, 64 insertions(+), 4 deletions(-)

commit 8378180cbb69c44fdd84f9ee05620bf8744cce48
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Aug 7 16:09:52 2011 +0200

    Minor bug in vtcp_listener fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/vtcp_listener.cpp |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 24230515f5b1652186af7748268f1cfb27f5215f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 4 13:11:15 2011 +0200

    vtcp connection string simplified

    Till now, vtcp connection contained both port and subport.
    Now the port, if not specified, defaults to 9220.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/vtcp_connecter.cpp |   28 ++++++++++++++++++++--------
 src/vtcp_listener.cpp  |   16 ++++++++++------
 2 files changed, 30 insertions(+), 14 deletions(-)

commit be48970977305a53de3ffa54cc51c0beabcf1a31
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 4 07:44:35 2011 +0200

    MSVC build brought up-to-date

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   80 +++++++++++++++-----------------------
 src/tcp_listener.cpp             |    2 +-
 2 files changed, 33 insertions(+), 49 deletions(-)

commit d5f3628ad08849a0c978f7d23dc678133ed33c42
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 29 09:37:43 2011 +0200

    Different connecters simplified

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp            |   31 +++++++++
 src/ip.hpp            |    8 +--
 src/ipc_connecter.cpp |  174 +++++------------------------------------------
 src/ipc_connecter.hpp |    7 ++
 src/signaler.cpp      |   20 +-----
 src/tcp_connecter.cpp |  179 +++++++++++--------------------------------------
 src/tcp_connecter.hpp |    2 +-
 src/tcp_engine.cpp    |   27 ++------
 8 files changed, 108 insertions(+), 340 deletions(-)

commit f63db009a1e1baf9f1fe7dae39901c7449c66131
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 28 16:32:08 2011 +0200

    Different listener implementations simplified

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ipc_listener.cpp  |   63 +++---------------
 src/tcp_listener.cpp  |  171 ++++++++++++-------------------------------------
 src/tcp_listener.hpp  |    2 +-
 src/vtcp_listener.cpp |    2 +-
 4 files changed, 51 insertions(+), 187 deletions(-)

commit b45fec337aff8e04bebaf6e898a499f05ee6b0d6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 28 15:13:04 2011 +0200

    Tuning of TCP sockets is done at a single place

    Instead of being spread throughout the codebase, the tuning
    is done in tune_tcp_socket() function.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp             |   24 ++++++++++++++++++++++++
 src/ip.hpp             |    7 ++++++-
 src/tcp_connecter.cpp  |   22 ++--------------------
 src/tcp_listener.cpp   |   21 ++-------------------
 src/vtcp_connecter.cpp |    4 +++-
 src/vtcp_listener.cpp  |    3 +++
 6 files changed, 40 insertions(+), 41 deletions(-)

commit 46b053b8d67ba4826302d53268edccf919e6d785
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 28 13:46:16 2011 +0200

    Dead code removed from TCP and IPC transports

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ipc_listener.cpp |  208 ++++++++------------------------------------------
 src/ipc_listener.hpp |    9 ++-
 src/session.cpp      |    2 +
 src/socket_base.cpp  |    6 +-
 src/tcp_listener.cpp |  130 +++++++++----------------------
 src/tcp_listener.hpp |    2 +-
 6 files changed, 82 insertions(+), 275 deletions(-)

commit 5ac63140b01fed145fa41f613308e134420920ab
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 28 13:19:55 2011 +0200

    Implementations of TCP and IPC transports separated

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am       |    4 +
 src/ipc_connecter.cpp |  381 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/ipc_connecter.hpp |  112 +++++++++++++++
 src/ipc_listener.cpp  |  351 +++++++++++++++++++++++++++++++++++++++++++++
 src/ipc_listener.hpp  |   83 +++++++++++
 src/session.cpp       |   16 ++-
 src/socket_base.cpp   |   16 ++-
 src/tcp_connecter.cpp |   46 +++---
 src/tcp_connecter.hpp |    4 +-
 src/tcp_engine.cpp    |   20 ---
 src/tcp_listener.cpp  |   20 +++
 11 files changed, 1008 insertions(+), 45 deletions(-)

commit 6e987428d49558a8a7b08795bcc429f720bb3874
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 28 09:02:54 2011 +0200

    Precise reconnect interval randomised

    Till now the random fraction of the reconnect interval was
    computed based on process ID. This patch uses pseudo-random
    generated (seeded by exact time of when the process was
    started) to compute the interval.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp  |    9 ++-------
 src/vtcp_connecter.cpp |    9 ++-------
 2 files changed, 4 insertions(+), 14 deletions(-)

commit ce7a9a58e3a0d13db53f7e0b4c17b3185a8c0e1a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 28 08:06:21 2011 +0200

    Setting TCP socket options moved to tcp_engine_t

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp  |   20 -----
 src/tcp_engine.cpp     |  198 +++++++++++++++++++++++++-----------------------
 src/tcp_engine.hpp     |    6 --
 src/tcp_listener.cpp   |   42 ----------
 src/vtcp_connecter.cpp |   27 -------
 5 files changed, 103 insertions(+), 190 deletions(-)

commit 588c728702fb847a0433649c9a07bcf0fabe84ab
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Jul 27 09:29:48 2011 +0200

    vtcp_connecter fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/vtcp_connecter.cpp |   56 +++++++++++++++++++++++++++++++++---------------
 1 file changed, 39 insertions(+), 17 deletions(-)

commit d7319de3d089b7c340408cd8228825ec0f7b8df0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 26 22:57:19 2011 +0200

    First version of vtcp_connecter added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am        |    2 +
 src/session.cpp        |   13 +++
 src/tcp_connecter.hpp  |    3 -
 src/vtcp_connecter.cpp |  249 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/vtcp_connecter.hpp |  121 +++++++++++++++++++++++
 src/vtcp_listener.cpp  |   13 ++-
 6 files changed, 394 insertions(+), 7 deletions(-)

commit 258e7e6794928544ca7e1557840b2f5a89fe5399
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 26 20:13:54 2011 +0200

    Code cleanup

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore            |    2 ++
 src/Makefile.am       |    2 --
 src/tcp_connecter.cpp |   46 ----------------------------------------------
 3 files changed, 2 insertions(+), 48 deletions(-)

commit 279302c5f54ddf8a23b1eaacee63c3158850d9ff
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 26 18:35:40 2011 +0200

    Experimental VTCP listener added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in          |   13 ++++++
 src/Makefile.am       |    4 ++
 src/socket_base.cpp   |   53 ++++++++++++++++-------
 src/tcp_connecter.cpp |   46 ++++++++++++++++++++
 src/tcp_connecter.hpp |   12 +++---
 src/tcp_listener.cpp  |    1 +
 src/vtcp_listener.cpp |  111 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/vtcp_listener.hpp |   71 +++++++++++++++++++++++++++++++
 8 files changed, 291 insertions(+), 20 deletions(-)

commit 9906c652ca01698dcc429c9045eb040c24c4bb8d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 26 12:21:49 2011 +0200

    Outdated entries removed from .gitignore

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore |    4 ----
 1 file changed, 4 deletions(-)

commit 9119b4fd7b292b1a14db916040f8e7cc4731d4b6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 26 00:43:57 2011 +0200

    TCP transport classes simplified

    zmq_engine and tcp_socket merged into tcp_engine
    zmq_connecter and tcp_connecter merged into tcp_connecter
    zmq_listener and tcp_listener merged into tcp_listener

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am       |   10 +-
 src/session.cpp       |    4 +-
 src/socket_base.cpp   |    6 +-
 src/tcp_connecter.cpp |  182 +++++++++++++++++-----
 src/tcp_connecter.hpp |   68 ++++++---
 src/tcp_engine.cpp    |  401 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/tcp_engine.hpp    |  105 +++++++++++++
 src/tcp_listener.cpp  |  127 +++++++++-------
 src/tcp_listener.hpp  |   36 +++--
 src/tcp_socket.cpp    |  230 ----------------------------
 src/tcp_socket.hpp    |   74 ---------
 src/zmq_connecter.cpp |  161 --------------------
 src/zmq_connecter.hpp |   92 ------------
 src/zmq_engine.cpp    |  224 ---------------------------
 src/zmq_engine.hpp    |   88 -----------
 src/zmq_listener.cpp  |   84 -----------
 src/zmq_listener.hpp  |   67 ---------
 17 files changed, 804 insertions(+), 1155 deletions(-)

commit 43b5b3444c5ea54fa17eab2e03b7e00c022f33b4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 24 18:30:48 2011 +0200

    PGM subscription forwarding fixed

    PGM when using in XPUB socket has to subscribe for all the messages
    as it has no idea what the subscribers are interesred in.
    This generic subscribe message was malformed. Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_sender.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7c1dca546d9e49e7af372e4fff9e6a87058a7f12
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 24 18:25:30 2011 +0200

    Session classes merged into a single class

    Removal of ZMQ_IDENTITY resulted in various session classes doing
    almost the same thing. This patch merges the classes into a single
    class.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am           |    4 --
 src/connect_session.cpp   |  124 ---------------------------------------------
 src/connect_session.hpp   |   65 ------------------------
 src/decoder.cpp           |   10 ++--
 src/decoder.hpp           |    4 +-
 src/encoder.cpp           |   10 ++--
 src/encoder.hpp           |    4 +-
 src/i_engine.hpp          |   21 +-------
 src/pgm_receiver.cpp      |   17 ++++---
 src/pgm_receiver.hpp      |    4 +-
 src/pgm_sender.cpp        |   11 ++--
 src/pgm_sender.hpp        |    2 +-
 src/session.cpp           |   99 ++++++++++++++++++++++++++++++------
 src/session.hpp           |   32 ++++++------
 src/socket_base.cpp       |    6 +--
 src/transient_session.cpp |   43 ----------------
 src/transient_session.hpp |   52 -------------------
 src/zmq_engine.cpp        |   51 +++++++++----------
 src/zmq_engine.hpp        |    9 ++--
 src/zmq_listener.cpp      |    6 +--
 20 files changed, 168 insertions(+), 406 deletions(-)

commit f716b571baf59c1b622c7666bb8bf2905126a3d4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 24 18:13:29 2011 +0200

    Only one polling mechanism is compiled

    Till now wrappers for all the polling mechanisms available on
    the given platform were compiled, although only one of them
    was used. This patch compiles just the used one. This can
    make libzmq binary more concise.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/devpoll.cpp |    5 ++---
 src/devpoll.hpp |    8 ++++---
 src/epoll.cpp   |    5 ++---
 src/epoll.hpp   |    8 ++++---
 src/kqueue.cpp  |    8 ++-----
 src/kqueue.hpp  |    9 ++++----
 src/poll.cpp    |    9 ++------
 src/poll.hpp    |   12 +++++------
 src/poller.hpp  |   62 +++++++++++++++++++++++++++++++------------------------
 src/select.cpp  |    5 ++++-
 src/select.hpp  |    7 +++++++
 11 files changed, 74 insertions(+), 64 deletions(-)

commit 0e71b111f4c413e235978698e8a281acab3bb06e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 24 18:09:50 2011 +0200

    Obsolete include in ctx.hpp removed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ctx.hpp |    1 -
 1 file changed, 1 deletion(-)

commit 11e21d027d5143c089e39349d1f419f76aaa4723
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 24 18:06:04 2011 +0200

    semaphore_t class removed

    The class was not used anywhere anymore. Removed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am   |    1 -
 src/ctx.hpp       |    2 -
 src/semaphore.hpp |  189 -----------------------------------------------------
 3 files changed, 192 deletions(-)

commit 837451eddc4386e19f52db89be7ae38aae471df0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 24 17:50:05 2011 +0200

    Remove blob_t class

    The class was used in a single place. Replaced by a local typedef.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am         |    1 -
 src/blob.hpp            |   34 ----------------------------------
 src/connect_session.hpp |    1 -
 src/xpub.hpp            |    3 ++-
 4 files changed, 2 insertions(+), 37 deletions(-)

commit 5650743d9edc8b8e85739ab023e8156b451003f1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 22 08:35:01 2011 +0200

    MSVC build brought up to date

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   36 ------------------------------------
 src/zmq.cpp                      |    2 +-
 2 files changed, 1 insertion(+), 37 deletions(-)

commit 75c4e0e62be6bd34fb934b9f13de68ffd655c500
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 21 23:35:26 2011 +0200

    mailbox::recv correctly passes EINTR to the caller

    This bug caused signal during blocking call to assert.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mailbox.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4bd335932ce8c6457dddb7aa2a5e631974eb9b61
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 21 19:14:39 2011 +0200

    ECANTROUTE error documented in zmq_sendmsg(3)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_sendmsg.txt |    3 +++
 1 file changed, 3 insertions(+)

commit 6b873d4ffdd13263f184ca046565168f0ad66a6b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 21 19:12:51 2011 +0200

    ROUTER socket blocks on SNDHWM

    Till now the message was droppen in such case.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/router.cpp |   64 ++++++++++++++++++++++++++++++--------------------------
 1 file changed, 34 insertions(+), 30 deletions(-)

commit a1e09facb2438f6487b32cdcfff21f0ece735460
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 21 18:54:27 2011 +0200

    ROUTER socket reports error when message cannot be routed

    Till now, message was silently dropped if it was sent to
    a non-existent peer. Now, ECANTROUTE error is returned.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_send.txt |    3 +++
 include/zmq.h    |    1 +
 src/router.cpp   |   33 +++++++++++++++++++--------------
 3 files changed, 23 insertions(+), 14 deletions(-)

commit 72a793f78ae6c7b544d4c19530c01e8dfd23ccf5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 21 18:43:50 2011 +0200

    ZMQ_GENERIC renamed to ZMQ_ROUTER

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h       |    2 +-
 src/Makefile.am     |    4 +-
 src/generic.cpp     |  265 ---------------------------------------------------
 src/generic.hpp     |  108 ---------------------
 src/router.cpp      |  265 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/router.hpp      |  107 +++++++++++++++++++++
 src/socket_base.cpp |    6 +-
 7 files changed, 378 insertions(+), 379 deletions(-)

commit cb2d7156055492839021e84dcc00cc409a3fd2d1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jul 21 11:51:41 2011 +0200

    endmsg(3) and zmq_recvmsg(3) added to RPM spec file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/redhat/zeromq.spec.in |    2 ++
 1 file changed, 2 insertions(+)

commit a808431d1df359302af7bdd2df085f5a41f14210
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 18 14:29:20 2011 +0200

    Fixed email addresses in the MAITAINERS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 MAINTAINERS |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a33a275e3b0b1942280cae2317801fbd2185821c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Jul 18 12:53:55 2011 +0200

    Fixed issue 230

    Signed-off-by: Pieter Hintjens <ph@imatix.com>

 src/tcp_socket.cpp |    6 ++++++
 1 file changed, 6 insertions(+)

commit 7298b5742f749a2947c9e6460c4a083be84506ed
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 18 11:39:38 2011 +0200

    Includes in zmq.cpp cleaned-up

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |   52 +++++++++++++++++++++++++++-------------------------
 1 file changed, 27 insertions(+), 25 deletions(-)

commit 18d8be5e9259e72a5a0622a5594842c31dd7bfdb
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Jul 18 10:54:53 2011 +0200

    Fix pollin on Cygwin.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>
    Signed-off-by: Martin Sustrik <sustrik@250bom.com>

 src/signaler.cpp |    3 ++-
 src/zmq.cpp      |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit ac20e17cbd1471b9eb3eef79c32cb43420cbc516
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 18 10:04:05 2011 +0200

    Reference to C++ binding removed from zmq(7)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq.txt |   11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

commit 66ff99c4574827b59e6d7ddfaa44d975dc7e880e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 18 10:00:09 2011 +0200

    Martin Lucina remove from MAINTAINERS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 MAINTAINERS |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f97f50c252adc814145a0a482bc2a25229882459
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 18 09:41:26 2011 +0200

    Signaler timeout bug on Windows fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/signaler.cpp |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 1a408805521f839e3e36183d9f2dec1d08e24caf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 18 09:30:37 2011 +0200

    ZMQ_IDENTITY option removed from the documentation

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   23 -----------------------
 doc/zmq_setsockopt.txt |   23 -----------------------
 2 files changed, 46 deletions(-)

commit 89daa57faab728204447c3bb708e753a2aeffa55
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 18 09:28:59 2011 +0200

    Missing files for GENERIC socket implementation added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/generic.cpp |  265 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/generic.hpp |  108 +++++++++++++++++++++++
 2 files changed, 373 insertions(+)

commit bf78e230ad4736da9fce6e0b4d1655affb8f466b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 17 23:31:29 2011 +0200

    GENERIC socket type and COMMAND flag added

    GENERIC allows to use 0MQ as a dumb networking framework.
    It provides user with connect/disconnect notifications.
    Also, each inbound message is labeled by ID of the connection
    it originated from. Outbound messages should be labeled by
    the ID of the connection to send them to.

    To distinguish connect/disconnect notifications from common
    messages, COMMAND flag was introduced.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h       |    3 +++
 src/Makefile.am     |    2 ++
 src/msg.hpp         |    1 +
 src/socket_base.cpp |   53 ++++++++++++++++++++++++++++++++-------------------
 src/socket_base.hpp |    7 +++++++
 5 files changed, 46 insertions(+), 20 deletions(-)

commit c8e8f2a24cd339c548e06f75a3cef96454671a85
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 15 11:24:33 2011 +0200

    ZMQ_IDENTITY socket option removed

    This patch simplifies the whole codebase significantly,
    including dropping depedency on libuuid.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in              |   13 ---
 include/zmq.h             |    1 -
 src/Makefile.am           |    7 --
 src/command.cpp           |   39 --------
 src/command.hpp           |    7 --
 src/connect_session.cpp   |   48 +---------
 src/connect_session.hpp   |    9 +-
 src/named_session.cpp     |   67 -------------
 src/named_session.hpp     |   56 -----------
 src/object.cpp            |   50 ++--------
 src/object.hpp            |   12 +--
 src/options.cpp           |   22 -----
 src/options.hpp           |    3 +-
 src/pair.cpp              |    2 +-
 src/pair.hpp              |    2 +-
 src/pgm_socket.cpp        |   21 ++--
 src/pull.cpp              |    2 +-
 src/pull.hpp              |    2 +-
 src/push.cpp              |    2 +-
 src/push.hpp              |    2 +-
 src/random.cpp            |   42 +++++---
 src/random.hpp            |    9 +-
 src/req.cpp               |    6 +-
 src/session.cpp           |   26 +----
 src/session.hpp           |   15 +--
 src/socket_base.cpp       |   70 ++------------
 src/socket_base.hpp       |   26 +----
 src/transient_session.cpp |    2 +-
 src/transient_session.hpp |    2 +-
 src/uuid.cpp              |   90 -----------------
 src/uuid.hpp              |   33 -------
 src/xpub.cpp              |    2 +-
 src/xpub.hpp              |    2 +-
 src/xrep.cpp              |    8 +-
 src/xrep.hpp              |    3 +-
 src/xreq.cpp              |    2 +-
 src/xreq.hpp              |    2 +-
 src/xsub.cpp              |    2 +-
 src/xsub.hpp              |    2 +-
 src/zmq_connecter.cpp     |   15 +--
 src/zmq_init.cpp          |  233 ---------------------------------------------
 src/zmq_init.hpp          |   98 -------------------
 src/zmq_listener.cpp      |   18 ++--
 43 files changed, 112 insertions(+), 963 deletions(-)

commit ba67eff167e94105b0975166a2192060ab125e58
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 15 08:26:29 2011 +0200

    non-immediate_connect functionality removed

    It was used only by ROUTER socket. After its removal it became
    obsolete.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/options.cpp     |    1 -
 src/options.hpp     |    6 ------
 src/socket_base.cpp |   32 +++++++++++++-------------------
 3 files changed, 13 insertions(+), 26 deletions(-)

commit 364839f3e66df567172af239ac7476af4d9260eb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 15 08:18:20 2011 +0200

    Debian packaging removed

    It is now maintained as a separate project.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 debian/README.Debian       |    4 --
 debian/changelog           |   24 ----------
 debian/compat              |    1 -
 debian/control             |   76 --------------------------------
 debian/copyright           |  105 --------------------------------------------
 debian/libzmq-dev.install  |    5 ---
 debian/libzmq-dev.manpages |    2 -
 debian/libzmq0.install     |    1 -
 debian/libzmq0.manpages    |    5 ---
 debian/rules               |   92 --------------------------------------
 debian/source/format       |    1 -
 debian/source/options      |    1 -
 debian/zeromq-bin.install  |    3 --
 debian/zeromq-bin.manpages |    3 --
 14 files changed, 323 deletions(-)

commit e4f98d1e100c225abca67b4aad90be08a729e02f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 15 08:16:40 2011 +0200

    ROUTER and DEALER sockets removed

    To be replaced by new generic socket type

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h       |    2 -
 src/Makefile.am     |    4 -
 src/dealer.cpp      |   77 --------------
 src/dealer.hpp      |   65 ------------
 src/router.cpp      |  292 ---------------------------------------------------
 src/router.hpp      |  105 ------------------
 src/socket_base.cpp |    8 --
 7 files changed, 553 deletions(-)

commit 73630de98aeb8add878b1d421aa2bfc22c735c63
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 15 08:11:42 2011 +0200

    Version number bumped to 4.0.0

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57c1342c683df3207094e8ec660e72812be37f9c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 12 13:05:58 2011 +0200

    Bug with setting options on SUB socket fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/sub.cpp |    5 +++++
 1 file changed, 5 insertions(+)

commit 29274811ccf2ca905360a463c5124e9e4e4c1708
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 11 16:05:04 2011 +0200

    zmq_bind(3) and zmq_connect(3) describe EINVAL error

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_bind.txt    |    2 ++
 doc/zmq_connect.txt |    2 ++
 2 files changed, 4 insertions(+)

commit 2afb791ec2f9853cc642cf8a042c2acc7fbb7acd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 11 15:54:13 2011 +0200

    Subscription forwarding test added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/Makefile.am          |    4 +-
 tests/test_sub_forward.cpp |   94 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 97 insertions(+), 1 deletion(-)

commit 215cfc653e5c6155e231b213534739348152129d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 11 15:28:02 2011 +0200

    REQ/REP drop test extended

    The test now checks whether replies are dropped when reply pipe
    is overflowed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/test_reqrep_drop.cpp |   74 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 74 insertions(+)

commit c7542981d18b13b251d5a3129f1ec7ba24aeb9a1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 11 10:18:30 2011 +0200

    PGM transport reconciled with subscription forwarding

    As PGM is not capable of passing subscriptions upstream,
    subscriptions are ignored at sub side and engine subscribes
    for all messages on pub side.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_receiver.cpp |   12 +++++++++++-
 src/pgm_receiver.hpp |    4 ++++
 src/pgm_sender.cpp   |    9 +++++++++
 3 files changed, 24 insertions(+), 1 deletion(-)

commit d7adc3f19a4c941e854552d6d7881950a69b0d23
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 11 09:57:59 2011 +0200

    ZMQ_FILTER option removed

    The filtering is now done depending on the socket type. SUB socket
    filters the messages (end-to-end filtering) while XSUB relies
    on upstream nodes to do (imprefect) filtering.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   17 -----------------
 doc/zmq_setsockopt.txt |   16 ----------------
 include/zmq.h          |    1 -
 src/options.cpp        |   22 ++--------------------
 src/options.hpp        |    6 +++---
 src/sub.cpp            |    4 ++++
 6 files changed, 9 insertions(+), 57 deletions(-)

commit a154ef69da4e41d3a8ce5a3141fe8f052c7ea853
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 11 08:34:20 2011 +0200

    Man pages for send & recv function brought up to date

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/Makefile.am     |    3 +-
 doc/zmq_recv.txt    |   70 ++++++++++------------------
 doc/zmq_recvmsg.txt |  124 +++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_send.txt    |   70 ++++++++++++----------------
 doc/zmq_sendmsg.txt |  127 +++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 304 insertions(+), 90 deletions(-)

commit 7e1251178b1cbabf0bd648ae8765c01e16cc25a3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 11 07:26:45 2011 +0200

    Experimental code from zmq_init_t removed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq_init.cpp |   61 +++++++++++++++---------------------------------------
 src/zmq_init.hpp |    7 -------
 2 files changed, 17 insertions(+), 51 deletions(-)

commit 52eaf600e5fe2acf5de6208a6a5a123dfcfe1fa2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Jul 9 09:40:40 2011 +0200

    Drop outbound messages in XREP socket when SNDHWM is reached

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/rep.cpp  |    5 +----
 src/xrep.cpp |    4 ----
 2 files changed, 1 insertion(+), 8 deletions(-)

commit aa2150c25c9b0dd518b058f0c50420417441fd23
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jul 8 18:12:59 2011 +0200

    VSM data are aligned to 32/64 bit boundary

    Till now the VSM buffer was aligned to 16 bit boundary
    which could possibly cause problems on RISC architectures
    when accessing the message data in unsafe manner.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/config.hpp |    4 ----
 src/msg.cpp    |    6 ++++++
 src/msg.hpp    |   13 ++++++++++---
 3 files changed, 16 insertions(+), 7 deletions(-)

commit 1526ff638c9cb37b156fd80a40889ac3d8258343
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 4 09:27:50 2011 +0200

    License text in autogen.sh fixed

    autogen.sh incorrectly referred to the license as GPL.
    Changed to LGPL.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 autogen.sh |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 8d96036fcd069e98f6fac69f645d6cc728281836
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 3 16:11:11 2011 +0200

    Build system checks for presence of eventfd.h header

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 8fb9d3c6d058393478d3b3ccb1f20bcb19bbe5a0
Merge: 6ae1be1 c687c7e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 3 15:33:25 2011 +0200

    Merge branch 'master' of github.com:zeromq/libzmq

commit 6ae1be1a121b9367ea11ce1789d99ec56fb39682
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 3 15:30:31 2011 +0200

    Race condition in eventfd signaler fixed

    recv function on eventfd signaler could accidentally
    grab two signals instead of one. Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/signaler.cpp |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 9a9a0cf41066d32f0d16492e212712b42df36950
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 3 15:13:57 2011 +0200

    eventfd implementation of the signaler

    Eventfd (on Linux) is more efficient that socketpair
    for passing simple signals.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/signaler.cpp |   42 +++++++++++++++++++++++++++++++++++++-----
 src/signaler.hpp |    2 +-
 2 files changed, 38 insertions(+), 6 deletions(-)

commit c687c7e61e8519c93eb4bc7ef43c5cf63671eb3e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 3 14:11:33 2011 +0200

    Fix MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   12 ++++++++----
 src/signaler.cpp                 |    6 +++---
 2 files changed, 11 insertions(+), 7 deletions(-)

commit da26134aa696352de6e77a800a433878dbabb7fa
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 3 13:44:41 2011 +0200

    Inproc tests need no I/O threads

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/test_pair_inproc.cpp   |    2 +-
 tests/test_reqrep_inproc.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7c0c79812075459765440ca26bad56f4f7ddbe52
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jul 3 13:33:45 2011 +0200

    Command are now stored in ypipes instead of in socketpairs

    Storing commands in OS socket buffers caused whole lot of
    problems when free space in the buffer ran out. This patch
    stores commands in ypipes instead and uses socketpair just
    to signal the other thread, ie. at most one byte is stored
    in the socketpair at any single instant.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am                |    2 +
 src/config.hpp                 |    3 +
 src/mailbox.cpp                |  441 +++-------------------------------------
 src/mailbox.hpp                |   29 +--
 src/signaler.cpp               |  340 +++++++++++++++++++++++++++++++
 src/signaler.hpp               |   63 ++++++
 tests/test_shutdown_stress.cpp |    2 +-
 7 files changed, 458 insertions(+), 422 deletions(-)

commit de3838403b9a35e7131aae23519ced1f11a3e03c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 30 00:05:03 2011 +0200

    Testing for errors from pthread_* functions fixed

    pthread_* functions return the error number rather than
    setting errno. This was not accounter for till now.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/thread.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4f4cc7328054272fa2c972244b2b7e8378ad5429
Author: Andrew Thompson <andy@fud.org.nz>
Date:   Wed Jun 29 23:48:19 2011 +0200

    Use strrchr to ensure we split off the last colon for the service port

    IPv6 addresses have colons and will produce invalid data for the getaddrinfo lookup.

    Signed-off-by: Andrew Thompson <andy@fud.org.nz>

 AUTHORS    |    1 +
 src/ip.cpp |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 543ad30e7d15a8864df26d6d32e57246ede35ae3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jun 28 10:22:27 2011 +0200

    Packaging for MSVC build fixed

    MSVC project files for inproc_lat and inproc_thr were not
    packaged during make dist phase.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/Makefile.am |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit f8bf3a4cef6b8e1688683ab8c5ed6dd1bc8e3a12
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 27 18:16:53 2011 +0200

    Rename i_inout to i_engine_sink

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am      |    1 -
 src/decoder.cpp      |   10 +++++-----
 src/decoder.hpp      |    4 ++--
 src/encoder.cpp      |   10 +++++-----
 src/encoder.hpp      |    4 ++--
 src/i_engine.hpp     |   23 ++++++++++++++++++++++-
 src/i_inout.hpp      |   49 -------------------------------------------------
 src/pgm_receiver.cpp |   13 ++++++-------
 src/pgm_receiver.hpp |    6 +++---
 src/pgm_sender.cpp   |    6 +++---
 src/pgm_sender.hpp   |    2 +-
 src/session.hpp      |    6 +++---
 src/zmq_engine.cpp   |   43 +++++++++++++++++++++----------------------
 src/zmq_engine.hpp   |    8 ++++----
 src/zmq_init.hpp     |    7 ++++---
 15 files changed, 81 insertions(+), 111 deletions(-)

commit 3ae73ee11f13bbc9c91b235de18fde763c359009
Author: Carl Clemens <carlclemens1@yahoo.com>
Date:   Sun Jun 26 16:19:45 2011 +0200

    Typo in zmq_msg_size(3) fixed

    Signed-off-by: Carl Clemens <carlclemens1@yahoo.com>

 AUTHORS              |    1 +
 doc/zmq_msg_size.txt |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 770d0bc77cd1579a1cba33ba1eb3f06839c28c16
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 23 08:51:48 2011 +0200

    Fix MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   24 ++++++++++++++++++++++++
 src/dist.cpp                     |    3 ++-
 src/fq.cpp                       |    3 ++-
 src/lb.cpp                       |    5 +++--
 src/pipe.cpp                     |    2 +-
 src/random.cpp                   |    1 +
 src/rep.cpp                      |    2 +-
 src/req.cpp                      |    2 +-
 src/router.cpp                   |    6 +++---
 src/session.cpp                  |    3 ++-
 src/socket_base.cpp              |    6 +++---
 src/xpub.cpp                     |    3 ++-
 src/xrep.cpp                     |    6 +++---
 src/xsub.cpp                     |    5 +++--
 14 files changed, 51 insertions(+), 20 deletions(-)

commit d1373792f7888f312cd7286fdf524a0bfe124846
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 23 07:57:47 2011 +0200

    Outstanding requests dropped when requester dies (issue 190)

    So far the requests in req/rep pattern were delivered to and processed
    by worker even though the original requester was dead. Thus,
    the worker processing replies with noone to deliver results to.
    This optimisation drops requests in two situations:

    1. Queued inbound requests in XREP socket when peer disconnects.
    2. Queued outbound requests in XREQ when socket is closed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/options.cpp            |    4 ++-
 src/options.hpp            |    8 +++++
 src/pipe.hpp               |    5 ++--
 src/session.cpp            |    2 +-
 src/socket_base.cpp        |    4 +--
 src/xrep.cpp               |    4 +++
 src/xreq.cpp               |    4 +++
 tests/Makefile.am          |    7 ++---
 tests/test_reqrep_drop.cpp |   69 ++++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 97 insertions(+), 10 deletions(-)

commit 12532c7940f23fcb3cd46208c141d47647e76231
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Jun 22 16:51:40 2011 +0200

    O(1) fair-queueing in XREP implemented

    Up to now the complexity of fair-queueing in XREP was O(n).

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pipe.cpp |   13 ++++++-
 src/pipe.hpp |    8 ++++
 src/xrep.cpp |  117 ++++++++++++++--------------------------------------------
 src/xrep.hpp |   17 ++-------
 4 files changed, 50 insertions(+), 105 deletions(-)

commit ec81f8fb2523e1e2fe45eaadc05311a35bf551d7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Jun 22 11:02:16 2011 +0200

    New wire format for REQ/REP pattern

    This patch introduces two changes:
    1. 32-bit ID is used to identify the peer instead of UUID
    2. REQ socket seeds the label stack with unique 32-bit request ID
       It also drops any replies with non-matching request ID

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore                   |    1 +
 src/Makefile.am              |    2 +
 src/random.cpp               |   39 ++++++++++
 src/random.hpp               |   34 +++++++++
 src/rep.cpp                  |   52 ++++----------
 src/req.cpp                  |   38 ++++++++--
 src/req.hpp                  |    5 ++
 src/socket_base.cpp          |   18 ++---
 src/xrep.cpp                 |   45 ++++++++----
 src/xrep.hpp                 |   15 ++--
 tests/Makefile.am            |    5 +-
 tests/test_reqrep_device.cpp |  160 ++++++++++++++++++++++++++++++++++++++++++
 12 files changed, 344 insertions(+), 70 deletions(-)

commit 10a93bb79fd3d4be1b3ffedfa6785564fbcc082b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jun 21 13:44:44 2011 +0200

    Unspecified error code from mailbox_t::recv on Win32 fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mailbox.cpp |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a28928fe376f73ef8ca683523102908616445ada
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 20 13:36:18 2011 +0200

    Introduce ZMQ_ROUTER and ZMQ_DEALER sockets

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h       |    2 +
 src/Makefile.am     |    4 +
 src/dealer.cpp      |   77 ++++++++++++++
 src/dealer.hpp      |   65 ++++++++++++
 src/router.cpp      |  292 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/router.hpp      |  105 ++++++++++++++++++
 src/socket_base.cpp |   10 +-
 7 files changed, 554 insertions(+), 1 deletion(-)

commit f437c9ed9b604912287aa6c96557261fc966e7fc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 20 12:27:56 2011 +0200

    Fix errors in zmq_getsockopt(3) manpage

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit ab99975ad44ed0fe9ab651f31cc47d493e7fb77e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 20 11:33:54 2011 +0200

    LABEL flag added to the wire format

    So far there was no distinction between message parts used by 0MQ
    and message parts used by user. Now, the message parts used by 0MQ
    are marked as 'LABEL'.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   12 ++++++++++++
 doc/zmq_send.txt       |    4 ++++
 include/zmq.h          |    2 ++
 src/dist.cpp           |    4 ++--
 src/encoder.cpp        |    4 ++--
 src/fq.cpp             |    2 +-
 src/lb.cpp             |    4 ++--
 src/msg.hpp            |    5 +++--
 src/pipe.cpp           |    9 +++++----
 src/rep.cpp            |    6 +++---
 src/req.cpp            |    8 ++++----
 src/session.cpp        |    2 +-
 src/socket_base.cpp    |   25 ++++++++++++++++++++++++-
 src/socket_base.hpp    |    5 ++++-
 src/xpub.cpp           |    2 +-
 src/xrep.cpp           |   11 ++++++-----
 src/xsub.cpp           |    8 ++++----
 17 files changed, 80 insertions(+), 33 deletions(-)

commit ada5d424721c0c0139b8011a5e9de348d061ba2f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 20 11:16:10 2011 +0200

    Basic tests now test multi-part messages instead of single-part

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/testutil.hpp |   24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit c80908c469b1fbd3d1b639ea39d86e4e4311ae57
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 20 08:21:00 2011 +0200

    Bug fixed in pipe termination

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7572fee979a1cc2a874dd5621c89a0e849b65816
Author: Fabien Ninoles <fabien@tzone.org>
Date:   Mon Jun 20 08:14:21 2011 +0200

    Optimise block/non-block switching in mailbox_t

    For the platforms that don't support MSG_DONTWAIT the reader
    socket in mailbox_t was kept in non-blocking state and flipped
    to blocking state and back when blocking read was requested.
    Now, the state is preserved between calls and flipped only
    if different type of operation (block vs. non-block) is
    requested.

    Signed-off-by: Fabien Ninoles <fabien@tzone.org>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mailbox.cpp |   71 ++++++++++++-------------------------------------------
 src/mailbox.hpp |   12 ++++++----
 2 files changed, 23 insertions(+), 60 deletions(-)

commit 8440de2b14876ecc6b39816528ef0793c6e34598
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 20 08:11:48 2011 +0200

    Fix minor warning in MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/socket_base.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f4760f02c3ac966f858414fb50565faa5deb48bf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 20 07:35:24 2011 +0200

    Disable timeo test on MinGW

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/Makefile.am |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 082f8e19b7591f6f8f34edcc27f195510051c2ba
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 19 19:08:48 2011 +0200

    Mailbox timeouts fixed on Windows

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mailbox.cpp |   27 +++++++++++++++++++++++++--
 1 file changed, 25 insertions(+), 2 deletions(-)

commit ed680a395edb9260eced8289b33041248782f979
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 19 16:39:27 2011 +0200

    Documentation for XPUB and XSUB socket added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_socket.txt |   41 +++++++++++++++++++++++++++++++++--------
 1 file changed, 33 insertions(+), 8 deletions(-)

commit 9f4d3767fed58ddfa52f63692c6169bfdbcec2e3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 19 12:48:36 2011 +0200

    Session termination error fixed

    When session is already terminating and reconnection happens at
    that point, the session should not create new pipe to its socket.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/session.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 00dc0245e6aacbff247c84ac8480d3ddcabacd5a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 19 11:17:20 2011 +0200

    Race condition in pipe_t fixed.

    pipe_t now correctly drops pointer to the underlying pipe when
    sending pipe_term_ack command.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pipe.cpp |   38 +++++++++++++++++++++++++-------------
 1 file changed, 25 insertions(+), 13 deletions(-)

commit 6052709c2aea5fae70d805e6033861c24b4f2521
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 19 09:33:01 2011 +0200

    ENETDOWN is a legal error from TCP connect

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b77a41eafe6501a3f7cc76f2c746858036aef81
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 19 09:22:11 2011 +0200

    Throughput tests fixed.

    Introduction of subscription forwarding have broken throughput tests.
    This patch changes the pattern used in the tests to PUSH/PULL.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 perf/inproc_thr.cpp |   10 ++--------
 perf/local_thr.cpp  |    8 +-------
 perf/remote_thr.cpp |    4 +---
 3 files changed, 4 insertions(+), 18 deletions(-)

commit 4b60023b96d25571f58e50899a2717da14866e6b
Merge: d7923f0 9b795de
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 19 09:15:06 2011 +0200

    Merge branch 'master' of github.com:zeromq/libzmq

commit 9b795de4afdd5669a9000c5d13bec61e51fbba49
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Sat Jun 18 20:44:03 2011 +0200

    Refactor Windows versioning and WinSock usage.Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 include/zmq.h   |    2 +-
 src/ctx.cpp     |   14 ++---
 src/select.cpp  |   11 ++--
 src/windows.hpp |  157 +++++++++++++++++++++++++++++++++++++++++++++----------
 4 files changed, 141 insertions(+), 43 deletions(-)

commit dc66053530e798dbcdb236cc2040031980cc09c7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Jun 18 20:41:21 2011 +0200

    Minor MSVC warning fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xsub.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit d7923f08cab62ef40027a92f596ff45428870838
Author: Fabien Ninoles <fabien@tzone.org>
Date:   Fri Jun 17 12:22:02 2011 +0200

    Add sockopt ZMQ_RCVTIMEO/ZMQ_SNDTIMEO.

    - Add doc and tests
    - Add options and setup
    - Wait using poll/select

    Signed-off-by: Fabien Ninoles <fabien@tzone.org>
    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore             |    1 +
 doc/zmq_getsockopt.txt |   35 ++++++++++++++-
 doc/zmq_setsockopt.txt |   32 ++++++++++++++
 include/zmq.h          |    2 +
 perf/remote_thr.cpp    |    2 +
 src/ctx.cpp            |    2 +-
 src/io_thread.cpp      |    2 +-
 src/mailbox.cpp        |  106 ++++++++++++++++++++++++++++++++++++++++----
 src/mailbox.hpp        |    7 ++-
 src/options.cpp        |   36 +++++++++++++++
 src/options.hpp        |    4 ++
 src/reaper.cpp         |    2 +-
 src/socket_base.cpp    |  100 +++++++++++++++++++++++++++--------------
 src/socket_base.hpp    |    6 +--
 tests/Makefile.am      |    5 ++-
 tests/test_timeo.cpp   |  115 ++++++++++++++++++++++++++++++++++++++++++++++++
 16 files changed, 407 insertions(+), 50 deletions(-)

commit e895607ca7a97378f7ccc5ab050fc54fd54a80ad
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jun 14 09:58:18 2011 +0200

    ENETUNREACH is a valid error from connect

    This patch fixed the JIRA issue 223

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 65d2b70312efb148814b58d9cd38cc7069b53a3b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 13 08:15:05 2011 +0200

    Minor patch to fix ICC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xsub.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 970798ff98bc9eb7cd84bf8766cc6034a0e88aa4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 13 07:54:58 2011 +0200

    mtrie.cpp added to MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |    8 ++++++++
 1 file changed, 8 insertions(+)

commit c7fb5c54b688c1817d0604320ac7f9bb3aa02c5c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 13 07:53:22 2011 +0200

    Reverting previous commit that broke MSVC2010 build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ctx.cpp     |    8 ++------
 src/select.cpp  |    2 +-
 src/select.hpp  |    2 +-
 src/windows.hpp |    5 +++--
 4 files changed, 7 insertions(+), 10 deletions(-)

commit b164023cca3f29c5eb371a8a0757c98ae4683ae4
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Sun Jun 12 19:37:11 2011 +0200

    Fix scope on Windows includes.

    Fix windows.h included before winsock2.h.
    Remove definition of _WINSOCKAPI_.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/ctx.cpp     |    8 ++++++--
 src/select.cpp  |    2 +-
 src/select.hpp  |    2 +-
 src/windows.hpp |    5 ++---
 4 files changed, 10 insertions(+), 7 deletions(-)

commit ff93f54653d099bddfed34a342906a3546e70496
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 12 15:24:08 2011 +0200

    ZMQ_FILTER socket option added

    This option is a performance tweak. In devices XSUB socket filters
    the messages just to send them to XPUB socket which filters them
    once more. Setting ZMQ_FILTER option to 0 allows to switch the
    filtering in XSUB socket off.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   19 ++++++++++++++++++-
 doc/zmq_setsockopt.txt |   19 +++++++++++++++++++
 include/zmq.h          |    1 +
 src/options.cpp        |   19 +++++++++++++++++++
 src/options.hpp        |    3 +++
 src/xsub.cpp           |    4 ++--
 6 files changed, 62 insertions(+), 3 deletions(-)

commit e080e3e8b620b0e7ed02c28712a0c92b08de3451
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jun 12 10:19:21 2011 +0200

    Publisher-side filtering for multi-part messages fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp |    8 +++++---
 src/dist.hpp |    8 +++++---
 src/xpub.cpp |   25 ++++++++++++++++++++-----
 src/xpub.hpp |    3 +++
 4 files changed, 33 insertions(+), 11 deletions(-)

commit bd86def1c799a35d5cef0c0a9a1347a18fea227e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Jun 11 20:29:56 2011 +0200

    Actual message filtering happens in XPUB socket

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp  |   47 ++++++++++++++++++++++++++++++++++++++---------
 src/dist.hpp  |   20 +++++++++++++++++++-
 src/mtrie.cpp |   21 ++++++++++++++++-----
 src/mtrie.hpp |   11 +++++++----
 src/xpub.cpp  |   16 ++++++++++++++--
 src/xpub.hpp  |    3 +++
 src/xsub.cpp  |    4 ++--
 7 files changed, 99 insertions(+), 23 deletions(-)

commit 3935258b826adc31815be4f91b2f6eb02bb3c8ed
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Jun 1 11:54:33 2011 +0200

    Minor code beautification for mtrie_t

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mtrie.cpp |   42 +++++++++++++++++++++++++++---------------
 src/mtrie.hpp |    4 ++++
 2 files changed, 31 insertions(+), 15 deletions(-)

commit ee7313b4d896e9f7ff6a035395b20f617e4ff796
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 31 16:21:17 2011 +0200

    Subscriptions are processed immediately in XPUB socket

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xpub.cpp |  127 +++++++++++++++++++---------------------------------------
 src/xpub.hpp |    8 ----
 2 files changed, 42 insertions(+), 93 deletions(-)

commit a24a7c15a824bb48da38809bff9416673dc5a176
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 31 14:36:51 2011 +0200

    Session termination induced by socket fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pipe.cpp        |   18 ++++++++++++------
 src/pipe.hpp        |    5 +++--
 src/session.cpp     |   21 ++++++---------------
 src/socket_base.cpp |    4 ++--
 4 files changed, 23 insertions(+), 25 deletions(-)

commit 0b59866a84f733e5a53b0d2f32570581691747ef
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 30 10:07:34 2011 +0200

    Patches from sub-forward branch incorporated

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am           |    2 +
 src/command.hpp           |    8 ++
 src/connect_session.cpp   |    7 +-
 src/connect_session.hpp   |    4 +-
 src/fq.cpp                |    7 ++
 src/fq.hpp                |    4 +-
 src/mtrie.cpp             |  218 +++++++++++++++++++++++++++++++++++++++++++++
 src/mtrie.hpp             |   83 +++++++++++++++++
 src/named_session.cpp     |    5 +-
 src/named_session.hpp     |    4 +-
 src/object.cpp            |   25 +++++-
 src/object.hpp            |    2 +
 src/pipe.cpp              |   43 +++++++++
 src/pipe.hpp              |   13 ++-
 src/pub.cpp               |   13 +++
 src/pub.hpp               |    4 +
 src/session.cpp           |   28 ++++++
 src/session.hpp           |   21 +++--
 src/socket_base.cpp       |   14 ++-
 src/socket_base.hpp       |    6 +-
 src/sub.cpp               |  115 +-----------------------
 src/sub.hpp               |   21 +----
 src/transient_session.cpp |    6 +-
 src/transient_session.hpp |    4 +-
 src/trie.cpp              |   63 +++++++++++--
 src/trie.hpp              |   18 +++-
 src/xpub.cpp              |  120 ++++++++++++++++++++++++-
 src/xpub.hpp              |   26 ++++++
 src/xsub.cpp              |  160 ++++++++++++++++++++++++++++++---
 src/xsub.hpp              |   30 ++++++-
 30 files changed, 884 insertions(+), 190 deletions(-)

commit 311fb0d852374e769d8ff791c9df38f0464960c6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat May 28 09:02:21 2011 +0200

    Subscription matching moved from XSUB to SUB socket

    This patch will prevent duplicate matching in devices in the future.
    Instead of matching in both XPUB and XSUB, it'll happen only
    in XPUB. Receiver endpoint will still filter messages via SUB
    socket.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/sub.cpp  |  111 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/sub.hpp  |   19 ++++++++++
 src/xsub.cpp |  107 ++++---------------------------------------------------
 src/xsub.hpp |   17 ---------
 4 files changed, 134 insertions(+), 120 deletions(-)

commit 718885fdcd7af797f940078ca8c22aebab93c8bb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu May 26 11:30:25 2011 +0200

    Pending messages are delivered even if connection doesn't exist yet

    Bug in previous refactoring fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pipe.cpp       |    3 +-
 src/session.cpp    |  110 ++++++++++++++++++++++++----------------------------
 src/session.hpp    |   10 ++---
 src/tcp_socket.cpp |    2 +-
 4 files changed, 57 insertions(+), 68 deletions(-)

commit 87a6490b39c44e8f9c521f6ccea14f800a712d3f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 25 10:25:51 2011 +0200

    All pipe termination code moved to pipe_t

    Till now the code was spread over mutliple locations.
    Additionally, the code was made more formally correct,
    with explicit pipe state machine etc.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pipe.cpp        |  147 +++++++++++++++++++++++++++++++++-------------
 src/pipe.hpp        |   29 +++++++---
 src/session.cpp     |  161 ++++++++++++++++++++++-----------------------------
 src/session.hpp     |   27 +++------
 src/socket_base.cpp |    4 +-
 5 files changed, 208 insertions(+), 160 deletions(-)

commit 3d4203decf87a5d5fb1718c2163f6d9c6c24328d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 23 21:37:52 2011 +0200

    Fabien Ninoles added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 71ac91ba4193910359d7671a4e998a17ff506b06
Author: Fabien Ninoles <fabien@tzone.org>
Date:   Mon May 23 21:36:00 2011 +0200

    Add multi-array support to array_item_t.

    Allow to have the same item part of two different arrays, as long as
    they are using different array identifier.

 src/array.hpp       |  116 +++++++++++++--------------------------------------
 src/pipe.hpp        |    8 +++-
 src/socket_base.hpp |    2 +-
 3 files changed, 37 insertions(+), 89 deletions(-)

commit 0f6f7276e32c01ccfe86fb76741a52ac6ffc87af
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 23 20:30:01 2011 +0200

    Move the pipe termination code to socket_base_t

    So far, the pipe termination code was spread among socket type
    classes, fair queuer, load balancer, etc. This patch moves
    all the associated logic to a single place.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/array.hpp                  |   38 ++++++++++++++++++++++----
 src/dist.cpp                   |   25 ++---------------
 src/dist.hpp                   |   15 +++-------
 src/fq.cpp                     |   30 ++------------------
 src/fq.hpp                     |   14 ++--------
 src/lb.cpp                     |   25 ++---------------
 src/lb.hpp                     |   15 +++-------
 src/own.cpp                    |    8 ++++--
 src/own.hpp                    |    3 ++
 src/pair.cpp                   |   31 +++------------------
 src/pair.hpp                   |   17 +++---------
 src/pipe.cpp                   |    4 +--
 src/pull.cpp                   |   21 +++-----------
 src/pull.hpp                   |   14 ++--------
 src/push.cpp                   |   20 ++------------
 src/push.hpp                   |   14 ++--------
 src/reaper.cpp                 |    6 +---
 src/socket_base.cpp            |   59 ++++++++++++++++++++++++++++++++++++++--
 src/socket_base.hpp            |   38 ++++++++++++++------------
 src/sub.hpp                    |    2 +-
 src/xpub.cpp                   |   23 ++--------------
 src/xpub.hpp                   |   14 ++--------
 src/xrep.cpp                   |   33 ++++------------------
 src/xrep.hpp                   |   18 +++---------
 src/xreq.cpp                   |   20 ++++----------
 src/xreq.hpp                   |   15 +++-------
 src/xsub.cpp                   |   18 ++----------
 src/xsub.hpp                   |   14 ++--------
 tests/test_shutdown_stress.cpp |    2 +-
 29 files changed, 190 insertions(+), 366 deletions(-)

commit acf0b0e515515e51ad32ba7a2d147ce703579478
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun May 22 17:26:53 2011 +0200

    Introduces bi-directional pipes

    So far, there was a pair of unidirectional pipes between a socket
    and a session (or an inproc peer). This resulted in complex
    problems with half-closed states and tracking which inpipe
    corresponds to which outpipe.

    This patch doesn't add any functionality in itself, but is
    essential for further work on features like subscription
    forwarding.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/array.hpp           |   79 ++++++++---
 src/command.hpp         |   11 +-
 src/connect_session.cpp |    1 +
 src/dist.cpp            |   10 +-
 src/dist.hpp            |   13 +-
 src/fq.cpp              |   12 +-
 src/fq.hpp              |   12 +-
 src/lb.cpp              |    8 +-
 src/lb.hpp              |   14 +-
 src/object.cpp          |   40 +++---
 src/object.hpp          |   19 ++-
 src/options.cpp         |    2 -
 src/options.hpp         |    5 -
 src/own.cpp             |    3 +
 src/pair.cpp            |   98 ++++----------
 src/pair.hpp            |   24 +---
 src/pipe.cpp            |  335 +++++++++++++++++++++++------------------------
 src/pipe.hpp            |  201 ++++++++++++----------------
 src/pull.cpp            |   26 +++-
 src/pull.hpp            |   13 +-
 src/push.cpp            |   26 +++-
 src/push.hpp            |   13 +-
 src/session.cpp         |  167 ++++++++++-------------
 src/session.hpp         |   29 ++--
 src/socket_base.cpp     |   73 ++++-------
 src/socket_base.hpp     |   12 +-
 src/xpub.cpp            |   26 +++-
 src/xpub.hpp            |   12 +-
 src/xrep.cpp            |   90 +++++--------
 src/xrep.hpp            |   24 ++--
 src/xreq.cpp            |   28 +++-
 src/xreq.hpp            |   13 +-
 src/xsub.cpp            |   26 +++-
 src/xsub.hpp            |   13 +-
 34 files changed, 709 insertions(+), 769 deletions(-)

commit 9e6b39925603f9e64db08c469bd628d7ef9465de
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 17 14:27:03 2011 +0200

    Couple of minor issues in MSVC build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.cpp |    2 +-
 src/tcp_socket.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit da7b6d0b3893fd14859b77ec69eed0fc6c8ad689
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 17 10:13:54 2011 +0200

    Paul Colomiets added to AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 38e5f8699ccff09a91e37e139c4a86a259ac597b
Author: Paul Colomiets <pc@gafol.net>
Date:   Tue May 17 10:12:27 2011 +0200

    Better handling of memory error in resolve_ip_hostname

    Signed-off-by: Paul Colomiets <pc@gafol.net>

 src/ip.cpp            |    9 +++++++++
 src/zmq_connecter.cpp |    2 +-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 864c18f797203c06e66e739166b246cfb3d47ce9
Author: Paul Colomiets <pc@gafol.net>
Date:   Tue May 17 10:09:04 2011 +0200

    zmq_msg_init_data returns ERRNO instead aborting

    Signed-off-by: Paul Colomiets <pc@gafol.net>

 doc/zmq_msg_init_data.txt |    4 +++-
 src/msg.cpp               |    5 ++++-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit d8d5a627b1835d20270125e27a157c9a7460f0e7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 16 10:44:38 2011 +0200

    Duplicate initialisation of PGM_MULTICAST_HOPS removed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.cpp |   80 +++++++++++++++++++++++++---------------------------
 1 file changed, 38 insertions(+), 42 deletions(-)

commit 5d0cffc52f575ff572751cc85fd43063391a211d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun May 15 18:25:43 2011 +0200

    ZMQ_MULTICAST_HOPS socket option added

    Sets the time-to-live field in every multicast packet sent from the socket.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   15 ++++++++++++++-
 doc/zmq_setsockopt.txt |   12 ++++++++++++
 include/zmq.h          |    1 +
 src/options.cpp        |   18 ++++++++++++++++++
 src/options.hpp        |    3 +++
 src/pgm_socket.cpp     |   14 ++++++++++----
 6 files changed, 58 insertions(+), 5 deletions(-)

commit 49df2f416cd43e9e18f3dbd964271c5cca835729
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun May 15 13:12:09 2011 +0200

    Fixes warning when compiling with MSVC on Win64

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/array.hpp      |    8 ++++----
 src/dist.cpp       |    2 +-
 src/encoder.hpp    |    2 +-
 src/err.cpp        |    2 +-
 src/fq.cpp         |    6 +++---
 src/ip.cpp         |   10 +++++-----
 src/lb.cpp         |    2 +-
 src/own.cpp        |    2 +-
 src/select.cpp     |    7 ++++---
 src/tcp_socket.cpp |   16 ++++++++--------
 src/tcp_socket.hpp |    6 ++++--
 src/xrep.cpp       |    7 +++----
 src/zmq.cpp        |    3 ++-
 13 files changed, 38 insertions(+), 35 deletions(-)

commit 49387874efe790713f4a090e03a97212f4889163
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun May 8 09:03:49 2011 +0200

    Async connect doesn't fail on EWSANETDOWN

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/err.cpp           |  112 ++++++++++++++++++++++++++-----------------------
 src/err.hpp           |   12 ++++++
 src/tcp_connecter.cpp |   10 ++---
 3 files changed, 76 insertions(+), 58 deletions(-)

commit da1ef4d2685c02e8320847d49a38726b2b6d52f0
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun May 8 09:02:47 2011 +0200

    Fixed REP assert on missing envelope

    Signed-off-by: Pieter Hintjens <ph@imatix.com>

 src/rep.cpp  |   34 ++++++++++++++++++++++++----------
 src/xrep.cpp |   13 ++++++++++++-
 src/xrep.hpp |    5 +++++
 3 files changed, 41 insertions(+), 11 deletions(-)

commit 0c5b781e97f2bea42925495a5505c51e769fba7f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri May 6 15:51:56 2011 +0200

    urrent pipe pointer in XREP out of range -- fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 3ef7c747ac68214ca463b2f52244fcec92151a46
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 4 12:43:23 2011 +0200

    Tore Halvorsen added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 10120214ac0d3ec4af146fcb95e3a114ed6f8da5
Author: Tore Halvorsen <tore.halvorsen@gmail.com>
Date:   Wed May 4 12:41:10 2011 +0200

    Accessing an iterator after it is accessed is not valid.

    Moving the erase after the access and check agains current_id.

 src/xrep.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ceb5e1a0734b0c73bd7f74ec5094ae6ad4f9dfc4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 3 23:20:43 2011 +0200

    Deallocation functions in zmq.h and msg_t class are consistent.

    The two functions had different calling conventions (C vs. C++).
    It is fixed now.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/msg.cpp |    2 +-
 src/msg.hpp |   15 ++++++++++-----
 2 files changed, 11 insertions(+), 6 deletions(-)

commit 5e329ba7cac8a52fbbd2c347064c2d9355009022
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 3 23:16:03 2011 +0200

    Minor patch to keep ICC compiler happy

    ICC doesn't recognise that assert(false) terminates the program
    and thus complains that certain functions have no return values.
    This patch supplies dummy return values to keep the compiler happy.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/msg.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 6ecec9bbf1cd17666241a3effc31a65e555dbd4a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 2 19:28:51 2011 +0200

    Current inpipe remains unchaged in XREP when other pipe terminates

    When an inpipe terminated within XREP, it was erased from the array
    and thus current_in (which is an index) pointed to a different
    element in the array. This caused problems when we were in the
    middle of reading a multipart message.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e5d4cd39e1c9949b549055f816d60dd35bfacdec
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 2 19:26:30 2011 +0200

    Yet one more fix related to PUB socket and multipart messages

    This patch fixes the activation of the pipes, when they pass
    from passive state directly to active.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit e78cc47b184f82fd524da021745b3323df4af507
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon May 2 18:59:55 2011 +0200

    Moved tests off 5555 (conflict with Eclipse)

    Signed-off-by: Pieter Hintjens <ph@imatix.com>

 tests/test_pair_tcp.cpp        |    4 ++--
 tests/test_reqrep_tcp.cpp      |    4 ++--
 tests/test_shutdown_stress.cpp |    4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit eb9bc1b0648d2132e612e2237a0ace47004d6f5c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 30 06:48:18 2011 +0200

    Message atomicity problem in PUB socket fixed.

    Reaching the HWM caused breaking message atomicity when the
    flow was reestablished - initial parts of multipart messages
    may have been lost.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp |   73 ++++++++++++++++++++++++++++++++--------------------------
 src/dist.hpp |   20 ++++++++--------
 2 files changed, 49 insertions(+), 44 deletions(-)

commit fe2e772dd5d36024a91ce3abb86996599960e078
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 30 06:47:36 2011 +0200

    pgm_socket uses binary version of UUID

    pgm_socket used textural form of UUID to generate GSIs.
    The recent patch that removed support for textual UUIDs
    broke the functionality. This patch fixes the problem.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.cpp |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 96213d5735829bfbebfb544a584a34bb8c0081fa
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 29 07:23:30 2011 +0200

    WSAENETUNREACH is a valid networking error

    Till now, 0MQ asserted on Windows when connect () returned
    WSAENETUNREACH.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_connecter.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b2eb84f8ca2fc2b8a2af6cd2c54c0abc4535cfc4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 29 07:19:22 2011 +0200

    Substantial simplification of uuid_t

    The string format of UUID is not used in 0MQ. Further on,
    it turns out that UUIDs have fixed microarchitecture-agnostic
    binary layout (see RFC4122). Thus, the conversion to string
    and back to binary can be avoided.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/socket_base.cpp |    4 +-
 src/uuid.cpp        |  193 +++++++--------------------------------------------
 src/uuid.hpp        |   84 +---------------------
 src/zmq_init.cpp    |    7 +-
 4 files changed, 33 insertions(+), 255 deletions(-)

commit 10fbc78e5cab494c3af727f5ea451fdced1c9d95
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 22 07:51:24 2011 +0200

    Assert during SUB socket termination fixed.

    Fair queueing algorithm was checking whether the current pipe
    is not closed in the middle of reading a multipart message.
    However, this is OK when the socket is closing down.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/fq.cpp |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit e0246e32d79d71f8e73207b43aed8b23648e4fc7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 21 22:27:48 2011 +0200

    Message-related functionality factored out into msg_t class.

    This patch addresses serveral issues:
    1. It gathers message related functionality scattered over whole
       codebase into a single class.
    2. It makes zmq_msg_t an opaque datatype. Internals of the class
       don't pollute zmq.h header file.
    3. zmq_msg_t size decreases from 48 to 32 bytes. That saves ~33%
       of memory in scenarios with large amount of small messages.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h         |   29 +-----
 src/config.hpp        |    4 +
 src/ctx.cpp           |   14 +--
 src/ctx.hpp           |    2 -
 src/decoder.cpp       |   18 ++--
 src/decoder.hpp       |    5 +-
 src/dist.cpp          |   66 ++++---------
 src/dist.hpp          |    6 +-
 src/encoder.cpp       |   24 +++--
 src/encoder.hpp       |    5 +-
 src/err.cpp           |    2 -
 src/err.hpp           |    3 +
 src/fq.cpp            |   13 +--
 src/fq.hpp            |    3 +-
 src/i_inout.hpp       |    7 +-
 src/io_thread.cpp     |    2 -
 src/ip.cpp            |    4 +-
 src/lb.cpp            |   28 +++---
 src/lb.hpp            |    2 +-
 src/msg.cpp           |  249 ++++++++++++++++++++++++++++++++-----------------
 src/msg.hpp           |  107 ++++++++++++++++++---
 src/object.hpp        |    2 -
 src/options.cpp       |    2 -
 src/pair.cpp          |   25 ++---
 src/pair.hpp          |    4 +-
 src/pipe.cpp          |   49 +++++-----
 src/pipe.hpp          |   13 ++-
 src/pub.cpp           |    1 +
 src/pull.cpp          |    5 +-
 src/pull.hpp          |    2 +-
 src/push.cpp          |    7 +-
 src/push.hpp          |    2 +-
 src/rep.cpp           |   15 ++-
 src/rep.hpp           |    4 +-
 src/req.cpp           |   23 +++--
 src/req.hpp           |    4 +-
 src/session.cpp       |   17 ++--
 src/session.hpp       |    4 +-
 src/socket_base.cpp   |   29 +++---
 src/socket_base.hpp   |   10 +-
 src/sub.cpp           |   17 ++--
 src/sub.hpp           |    2 +-
 src/tcp_connecter.cpp |    2 -
 src/tcp_listener.cpp  |    2 -
 src/xpub.cpp          |    9 +-
 src/xpub.hpp          |    4 +-
 src/xrep.cpp          |   69 +++++++-------
 src/xrep.hpp          |    7 +-
 src/xreq.cpp          |    7 +-
 src/xreq.hpp          |    4 +-
 src/xsub.cpp          |   41 ++++----
 src/xsub.hpp          |   11 +--
 src/zmq.cpp           |   52 ++++++++++-
 src/zmq_init.cpp      |   29 +++---
 src/zmq_init.hpp      |   13 ++-
 55 files changed, 606 insertions(+), 474 deletions(-)

commit 581697695aac72894f2d3fefac904b9d50b3ba67
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Apr 19 08:08:15 2011 +0200

    Message validity is checked in the runtime

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_msg_close.txt |    3 ++-
 doc/zmq_msg_copy.txt  |    3 ++-
 doc/zmq_msg_move.txt  |    3 ++-
 doc/zmq_recv.txt      |    2 ++
 doc/zmq_send.txt      |    2 ++
 include/zmq.h         |    1 +
 src/msg.cpp           |   40 ++++++++++++++++++++++++++++++++--------
 src/req.cpp           |    2 +-
 src/socket_base.cpp   |   14 ++++++++++++++
 src/xrep.cpp          |    2 +-
 10 files changed, 59 insertions(+), 13 deletions(-)

commit 20e0b7cdcb6e8095fbadb80765e9371803184060
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 18 09:11:45 2011 +0200

    zmq_socket(3) describes the EMFILE error code

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_socket.txt |    2 ++
 1 file changed, 2 insertions(+)

commit e3dc0b25d98eb072ab37aac842bba0802c87e3e6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 18 08:55:51 2011 +0200

    OpenPGM compilation error on OSX fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.hpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 452ea97f5bb1bdd4d5ba76279de4189e8b8e5662
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 15 08:03:26 2011 +0200

    zmq_send(3) manpage improved

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_send.txt |    4 ++++
 1 file changed, 4 insertions(+)

commit 590ad2510bb113fdcd36951f6321fc73be94944a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 15 07:59:28 2011 +0200

    Error handling for accept on Cygwin fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_listener.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5444064c1a195daee5e57eb996157393a4eed796
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Apr 13 10:33:54 2011 +0200

    Minor cleanup of preprocessor definitions for OpenPGM

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 933ace0919974628c8ac2f9ada67645fdf4c80e2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Apr 13 10:06:44 2011 +0200

    MSVC build fixed to reflect zmq.cpp split

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 6191213a5737b774d83f341d4507b8baf702d381
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Apr 12 14:20:49 2011 +0200

    Code dealing with messages moved to msg.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am     |    3 +-
 src/dist.cpp        |    2 +-
 src/msg.cpp         |  159 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/msg.hpp         |   52 +++++++++++++++++
 src/msg_content.hpp |   52 -----------------
 src/zmq.cpp         |  131 ------------------------------------------
 6 files changed, 214 insertions(+), 185 deletions(-)

commit 3b636d7d185cd1a1fa300b4d9ca78d2587cb4bf5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Apr 12 10:00:29 2011 +0200

    zmq_utils implementation moved to zmq_utils.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am   |    3 ++-
 src/zmq.cpp       |   30 ---------------------------
 src/zmq_utils.cpp |   60 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 62 insertions(+), 31 deletions(-)

commit e6fd193760952fb7ad9ba787ff210993cf1c2031
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Apr 12 09:22:22 2011 +0200

    OpenPGM now doesn't redefine bool, we can drop the workaround

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.hpp |    5 -----
 src/zmq.cpp        |    5 -----
 2 files changed, 10 deletions(-)

commit a3b49ca958be908b88b17ecc946006dccfbd2a75
Author: Pieter Hintjens <ph@imatix.com>
Date:   Mon Apr 11 12:14:00 2011 +0200

    Fixed example

    Signed-off-by: Pieter Hintjens <ph@imatix.com>

 doc/zmq_getsockopt.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0839cceac9dd29cc64cd9a634b9d3340cfbf3bbe
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 9 09:46:59 2011 +0200

    Missing ENOTSOCK added on Win32

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    3 +++
 1 file changed, 3 insertions(+)

commit b96fe15bb666e59728b6aa02f28c5838020f6bf3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 9 09:35:34 2011 +0200

    Run-time checking for context & socket validity added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_bind.txt       |    4 ++--
 doc/zmq_close.txt      |    4 ++--
 doc/zmq_connect.txt    |    4 ++--
 doc/zmq_getsockopt.txt |    4 ++--
 doc/zmq_recv.txt       |    4 ++--
 doc/zmq_send.txt       |    4 ++--
 doc/zmq_setsockopt.txt |    4 ++--
 doc/zmq_socket.txt     |    2 +-
 doc/zmq_term.txt       |    2 +-
 src/ctx.cpp            |    9 +++++++++
 src/ctx.hpp            |    6 ++++++
 src/socket_base.cpp    |    9 +++++++++
 src/socket_base.hpp    |    6 ++++++
 src/zmq.cpp            |   32 ++++++++++++++++----------------
 14 files changed, 62 insertions(+), 32 deletions(-)

commit e62686aca57ab307e952c53fd3848acaad22735e
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sat Apr 9 08:45:12 2011 +0200

    RPM packaging improvements

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 Makefile.am                  |    1 -
 builds/redhat/zeromq.spec    |  137 -----------------------------------------
 builds/redhat/zeromq.spec.in |  138 ++++++++++++++++++++++++++++++++++++++++++
 configure.in                 |    3 +-
 4 files changed, 140 insertions(+), 139 deletions(-)

commit 6fd403c4d8d22cec6c47aad4b978b3cc78b956c4
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Mon Apr 4 22:52:02 2011 +0200

    Make pkg-config dependency conditional

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 autogen.sh   |    6 ------
 configure.in |   13 ++++++++-----
 2 files changed, 8 insertions(+), 11 deletions(-)

commit 4b52cf949fa02274ec8817f8e704eaa7cc66adbf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 4 17:53:49 2011 +0200

    TCP and IPC connection initiation allow for multiple properties

    So far the only property passed on connection initiation was
    identity. The mechanism was now made extensible. Additional
    properties are needed to introduce functionality such as
    checking the peer's socket type, "subports" etc.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq_init.cpp |   98 +++++++++++++++++++++++++++++++++++++++---------------
 src/zmq_init.hpp |   18 ++++++++--
 2 files changed, 87 insertions(+), 29 deletions(-)

commit 8203c4dbb2e727ce608590e41c9e0d990c015b3e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 4 13:12:46 2011 +0200

    Another error handling issue on Win32 solved

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 perf/inproc_lat.cpp |    2 +-
 perf/inproc_thr.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 475ba3849dd6563ce7b70c4db4d0ac85ac83658d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 4 12:49:39 2011 +0200

    Issue with error checking on Win32 platform fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/thread.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1842628b9058b9243ebe037a6818c27ea1c8cd8d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 4 12:12:06 2011 +0200

    Unreferenced variable removed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_socket.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 2c7af35827863b1e0a167298140a38180980502c
Author: Robert G. Jakabosky <bobby@sharedrealm.com>
Date:   Sun Apr 3 20:44:02 2011 +0200

    Add note about thread-safety to zmq_msg_init_data() manpage.

    Signed-off-by: Robert G. Jakabosky <bobby@sharedrealm.com>

 doc/zmq_msg_init_data.txt |    3 +++
 1 file changed, 3 insertions(+)

commit 54ea458f629cc380440e1a349ecf572eed2ecbd4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Apr 3 07:36:02 2011 +0200

    Git ignores .gcno files

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit a48b6cfc003833e40198442124d034942f9f41e3
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sun Apr 3 07:34:14 2011 +0200

    Additional gcov changes

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   32 +++++++++++++++++++++-----------
 1 file changed, 21 insertions(+), 11 deletions(-)

commit 656b646bc634993bd9cb1b036a6838c5d0514fa8
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sat Apr 2 22:50:46 2011 +0200

    Large rename: AC_ZMQ_ to LIBZMQ_ and ac_zmq_ to libzmq_. Fixes "warning suspicious cache-id"

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |  340 +++++++++++++++++++++++++++++-----------------------------
 configure.in |   76 ++++++-------
 2 files changed, 208 insertions(+), 208 deletions(-)

commit bdeddb89f727c434ad499da5a349f3959eba3226
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sat Apr 2 22:49:41 2011 +0200

    Added code coverage checking

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   32 ++++++++++++++++++++++++++++++++
 configure.in |    3 +++
 2 files changed, 35 insertions(+)

commit 7af18468f8ca0c14975ea12a1e6a549d42b81347
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sat Apr 2 22:48:52 2011 +0200

    Add option to build with system opepgm

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 autogen.sh   |    6 ++++++
 configure.in |   17 +++++++++++++++++
 2 files changed, 23 insertions(+)

commit 0e0e4559a0e1d37fdbf686056f5d869d7a8d0315
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 2 19:32:44 2011 +0200

    Project location on github changed in README file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 README |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e655227bd30d9845b2a0d8b877abe26c5524a3a
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Apr 2 09:22:41 2011 +0200

    Fixed memory leak with threads on win32

    Signed-off-by: Pieter Hintjens <ph@imatix.com>

 src/thread.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 85c2a84036675d40af47b57c410309da04ef742b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 2 09:50:35 2011 +0200

    inproc perf tests now work on Windows

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/inproc_lat/inproc_lat.vcproj |  174 ++++++++++++++++++++++++++++++
 builds/msvc/inproc_thr/inproc_thr.vcproj |  174 ++++++++++++++++++++++++++++++
 builds/msvc/msvc.sln                     |   22 ++++
 perf/inproc_lat.cpp                      |   46 +++++++-
 perf/inproc_thr.cpp                      |   46 +++++++-
 5 files changed, 458 insertions(+), 4 deletions(-)

commit 54830ac0f6869628e1e35cbae3434ca5e10ad600
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 2 09:03:57 2011 +0200

    MSVC build system updated to match 3.0 changes

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   16 ----------------
 builds/msvc/msvc.sln             |   33 ---------------------------------
 2 files changed, 49 deletions(-)

commit ae90d3bdbe58d73dea5001b2f8cbf6ada9e53332
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 1 11:55:10 2011 +0200

    inproc_lat and inproc_thr added to .gitignore

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 599df5203ca3e4dfa39ea7617616b7886e95aff3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 1 11:53:51 2011 +0200

    PGM wire format specification improved in zmq_pgm(7)

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_pgm.txt |    5 +++++
 1 file changed, 5 insertions(+)

commit cce57617c7d4da78a3fd00e105d4920e34181a07
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 31 23:49:28 2011 +0200

    Ian Barber and Zed Shaw added to credits section

    talks on conferences, videos

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    2 ++
 1 file changed, 2 insertions(+)

commit 5142a1624bcf1659b5ed6b706b8396fc91ecbd00
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 31 23:16:14 2011 +0200

    Robert G. Jakabosky added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit d84558e172f51a9b96659f49c404147315e502f8
Author: Robert G. Jakabosky <bobby@sharedrealm.com>
Date:   Thu Mar 31 23:14:38 2011 +0200

    Adding thread latency/throughput perf. examples.

    Signed-off-by: Robert G. Jakabosky <bobby@sharedrealm.com>

 perf/Makefile.am    |    8 +-
 perf/inproc_lat.cpp |  190 +++++++++++++++++++++++++++++++++++++++++++++++
 perf/inproc_thr.cpp |  204 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 401 insertions(+), 1 deletion(-)

commit fbf1f5146860a2557f247cdb0f94bda647c75ceb
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Thu Mar 31 18:42:09 2011 +0200

    Upstream the openpgm build fixes. Add DSO symbol visibility to OpenPGM builds

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 .gitignore                                 |    1 +
 Makefile.am                                |   11 +-
 configure.in                               |  152 ++++++++--------------------
 foreign/openpgm/Makefile.am                |    8 ++
 foreign/openpgm/libpgm-5.0.92~dfsg.tar.gz  |  Bin 444700 -> 0 bytes
 foreign/openpgm/libpgm-5.1.115~dfsg.tar.gz |  Bin 0 -> 1054630 bytes
 src/Makefile.am                            |   95 +----------------
 7 files changed, 59 insertions(+), 208 deletions(-)

commit d36d9a378a9f3c561f2ae7849cee907c59d33b72
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Mar 27 19:41:32 2011 +0200

    Comments improvement

    related to fairness while reading/writing large messages

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq_engine.cpp |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 17fdb5e3a8956887e76c487e36d1dc8b667ca248
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Mar 27 09:50:25 2011 +0200

    zmq_recv() returns size of the message even if it's truncated

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 82dbef360c1fd5b20c8b59e1fc7273af14f55502
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 26 11:05:55 2011 +0100

    Memory leak in zmq_recv fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit abb184a051b592b6d4c99fd3299e78ea7c1da826
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 26 10:38:40 2011 +0100

    ZMQ_NOBLOCK renamed ZMQ_DONTWAIT

    Done because of POSIX compliance

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_recv.txt    |    2 +-
 doc/zmq_send.txt    |    2 +-
 include/zmq.h       |    2 +-
 src/socket_base.cpp |    4 ++--
 src/xsub.cpp        |    6 +++---
 tests/test_hwm.cpp  |    2 +-
 6 files changed, 9 insertions(+), 9 deletions(-)

commit bc4a1ce3345f4e5904e4b13c618f90def21256a5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 16:47:33 2011 +0100

    ZMQ_HWM split into ZMQ_SNDHWM and ZMQ_RCVHWM

    These new options allow to control the maximum size of the
    inbound and outbound message pipe separately.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   42 ++++++++++++++++++++++++++++++++----------
 doc/zmq_setsockopt.txt |   36 +++++++++++++++++++++++++++++-------
 include/zmq.h          |    3 ++-
 src/options.cpp        |   30 ++++++++++++++++++++++++------
 src/options.hpp        |    5 +++--
 src/session.cpp        |    6 ++++--
 src/socket_base.cpp    |   21 +++++++++++++--------
 tests/test_hwm.cpp     |    4 ++--
 8 files changed, 109 insertions(+), 38 deletions(-)

commit 507718ee1a56e376c06389c513de3868297fec35
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 15:43:03 2011 +0100

    ZMQ_HWM type changed to int

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    4 ++--
 doc/zmq_setsockopt.txt |    2 +-
 src/options.cpp        |    8 ++++----
 src/options.hpp        |    4 +++-
 src/pipe.cpp           |   11 +++++------
 src/pipe.hpp           |   17 ++++++++---------
 src/socket_base.cpp    |    2 +-
 tests/test_hwm.cpp     |    3 +--
 8 files changed, 25 insertions(+), 26 deletions(-)

commit bd9d7715ebe864d1aa85700d1b55b4f37568a1a4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 15:18:20 2011 +0100

    ZMQ_RATE and ZMQ_RECOVERY_IVL types cahnged to int

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    4 ++--
 doc/zmq_setsockopt.txt |    4 ++--
 src/options.cpp        |   21 ++++++++++-----------
 src/options.hpp        |    5 +++--
 src/pgm_socket.cpp     |    4 ++--
 5 files changed, 19 insertions(+), 19 deletions(-)

commit d61f067f5bade1269213735b8628a92621b62c91
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 15:07:23 2011 +0100

    ZMQ_EVENTS type changed to int

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    2 +-
 src/socket_base.cpp    |   10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 23bd3726a57793b850cb26e22274fd188fb86e82
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 14:59:43 2011 +0100

    ZMQ_RCVMORE type changed to int

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    2 +-
 src/socket_base.cpp    |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 17e82a361121dc81c90e17f1382dff678537b651
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 14:48:50 2011 +0100

    ZMQ_SNDBUF and ZMQ_RCVBUF type changed to int

    This mimics POSIX specification.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    4 ++--
 doc/zmq_setsockopt.txt |    4 ++--
 src/options.cpp        |   22 +++++++++++-----------
 src/options.hpp        |    5 +++--
 src/tcp_socket.cpp     |   15 ++++++---------
 src/tcp_socket.hpp     |    2 +-
 6 files changed, 25 insertions(+), 27 deletions(-)

commit a2252de2bcecb672f09c8a5d0013cce23d1d404f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 14:36:40 2011 +0100

    ZMQ_RECOVERY_IVL and ZMQ_RECOVERY_IVL_MSEC reconciled

    There's only one option now -- ZMQ_RECOVRY_IVL --
    and it's measured in milliseconds.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   24 ++----------------------
 doc/zmq_setsockopt.txt |   31 +++----------------------------
 include/zmq.h          |    1 -
 src/options.cpp        |   22 ++--------------------
 src/options.hpp        |    4 +---
 src/pgm_socket.cpp     |   23 ++++-------------------
 6 files changed, 12 insertions(+), 93 deletions(-)

commit 8463b4d55e45ea29d5a23f867e7f1c0077279ee7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 12:27:06 2011 +0100

    SWAP functionality removed

    On-disk storage should be implemented in devices rather than
    in 0MQ core. 0MQ is a networking library and there's no point
    in storing network buffers on disk.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   16 ---
 doc/zmq_setsockopt.txt |   16 ---
 include/zmq.h          |    1 -
 src/Makefile.am        |    2 -
 src/config.hpp         |    4 -
 src/options.cpp        |   18 ---
 src/options.hpp        |    1 -
 src/pipe.cpp           |   93 ++------------
 src/pipe.hpp           |   30 ++---
 src/session.cpp        |    6 +-
 src/socket_base.cpp    |   20 ++-
 src/swap.cpp           |  325 ------------------------------------------------
 src/swap.hpp           |  123 ------------------
 13 files changed, 24 insertions(+), 631 deletions(-)

commit fb27a000d9383b503761d0124e7bd41115d70c9a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 11:53:55 2011 +0100

    send/recv was changed to send/recv/sendmsg/recvmsg

    send/recv now complies with POSIX by using raw buffers instead
    of message objects and by returning number of bytes sent/recvd
    instead of 0/-1.

    The return value is changed accordingly for sendmsg and recvmsg.

    Note that related man pages will be fixed in a separate patch.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h       |    6 ++++--
 perf/local_lat.cpp  |   12 +++++------
 perf/local_thr.cpp  |   12 +++++------
 perf/remote_lat.cpp |   12 +++++------
 perf/remote_thr.cpp |    6 +++---
 src/zmq.cpp         |   59 +++++++++++++++++++++++++++++++++++++++++++++++----
 tests/test_hwm.cpp  |   34 +++++------------------------
 tests/testutil.hpp  |   38 ++++++++++-----------------------
 8 files changed, 96 insertions(+), 83 deletions(-)

commit d4e83d26014f41eaa1698b4062de88fe7f36a669
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 10:18:06 2011 +0100

    C++ binding removed from the core

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/redhat/zeromq.spec |    1 -
 doc/Makefile.am           |    4 +-
 doc/zmq_cpp.txt           |  212 ---------------------------------
 include/zmq.hpp           |  289 ---------------------------------------------
 src/Makefile.am           |    2 +-
 5 files changed, 3 insertions(+), 505 deletions(-)

commit 7d87db05290e3fd742f381b6f419eb69518ca8cf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 24 10:03:49 2011 +0100

    Auto-tests modified to use C API instead of C++ binding

    As a side effect, broker HWM test was fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 tests/test_hwm.cpp             |  107 +++++++++++++++++++++----------
 tests/test_pair_inproc.cpp     |   30 +++++++--
 tests/test_pair_ipc.cpp        |   30 +++++++--
 tests/test_pair_tcp.cpp        |   30 +++++++--
 tests/test_reqrep_inproc.cpp   |   30 +++++++--
 tests/test_reqrep_ipc.cpp      |   30 +++++++--
 tests/test_reqrep_tcp.cpp      |   30 +++++++--
 tests/test_shutdown_stress.cpp |    2 +-
 tests/testutil.hpp             |  139 +++++++++++-----------------------------
 9 files changed, 263 insertions(+), 165 deletions(-)

commit 941be8d2175332cb720f390f93d07a0870db8824
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 23 17:44:16 2011 +0100

    zmq_device removed

    Devices are basically applications on top of 0MQ stack. They
    should reside in separate libraties.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/redhat/zeromq.spec |    7 ---
 include/zmq.h             |   10 ----
 include/zmq.hpp           |    7 ---
 src/Makefile.am           |    2 -
 src/device.cpp            |  120 ---------------------------------------------
 src/device.hpp            |   32 ------------
 src/zmq.cpp               |   18 -------
 7 files changed, 196 deletions(-)

commit d4d184a750e2c09a39b95db9a54daf83aac5a446
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 23 17:33:07 2011 +0100

    Pre-compiled devices removed

    Along with the devices, xmlParser which is no longer needed
    is removed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 MAINTAINERS                             |    4 -
 Makefile.am                             |    8 +-
 configure.in                            |    2 -
 devices/Makefile.am                     |    3 -
 devices/zmq_forwarder/Makefile.am       |    8 -
 devices/zmq_forwarder/zmq_forwarder.cpp |  124 --
 devices/zmq_queue/Makefile.am           |    8 -
 devices/zmq_queue/zmq_queue.cpp         |  123 --
 devices/zmq_streamer/Makefile.am        |    8 -
 devices/zmq_streamer/zmq_streamer.cpp   |  123 --
 doc/Makefile.am                         |    6 +-
 doc/zmq_forwarder.txt                   |   33 -
 doc/zmq_queue.txt                       |   33 -
 doc/zmq_streamer.txt                    |   33 -
 foreign/xmlParser/xmlParser.cpp         | 2923 -------------------------------
 foreign/xmlParser/xmlParser.hpp         |  762 --------
 16 files changed, 5 insertions(+), 4196 deletions(-)

commit b45b68ae4ab90af1ce35deec52b0c0492a1f49d4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 23 17:01:39 2011 +0100

    ZMQ_MCAST_LOOP removed

    Multicast loopback is not a real multicast, rather a kernel-space
    simulation. Moreover, it tends to be rather unreliable and lossy.
    Removing the option will force users to use transports better
    suited for the job, such as inproc or ipc.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   17 -----------------
 doc/zmq_pgm.txt        |    5 ++---
 doc/zmq_setsockopt.txt |   17 -----------------
 include/zmq.h          |    1 -
 src/options.cpp        |   25 -------------------------
 src/options.hpp        |    3 ---
 src/pgm_socket.cpp     |    2 +-
 7 files changed, 3 insertions(+), 67 deletions(-)

commit f5e6d67948b8c71c2444046f6246aebab16546dc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 23 15:50:18 2011 +0100

    Timeout in zmq_poll is in milliseconds

    The old timeout in microsecond haven't been compliant with
    POSIX and was impractical at the same time.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_poll.txt |    2 +-
 src/zmq.cpp      |   12 ++++++------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit e3cf6e9ced979464d30ad4cd63087cfbee33e9bd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 23 15:40:35 2011 +0100

    Obsolete note removed from zmq_poll(3) manpage

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_poll.txt |    3 ---
 1 file changed, 3 deletions(-)

commit 34d7854199ab89faf2edfc3305932cc07b2030ab
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 23 15:26:47 2011 +0100

    Obsolete constants ZMQ_UPSTREAM and ZMQ_DOWNSTREAM removed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 devices/zmq_streamer/zmq_streamer.cpp |    4 ++--
 include/zmq.h                         |    2 --
 2 files changed, 2 insertions(+), 4 deletions(-)

commit dee5f650dde07ec71f482e825984a31028467d1b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 23 15:24:18 2011 +0100

    Version bumped to 3.0.0

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1619b3d84a04fe1886347fd83280a6070c9603f4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Mar 20 20:52:54 2011 +0100

    Message atomicity bug in load-balancer fixed

    If the peer getting the message have disconnected in the middle
    of multiplart message, the remaining part of the message went
    to a different peer. This patch fixes the issue.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/lb.cpp |   25 ++++++++++++++++++++++++-
 src/lb.hpp |    3 +++
 2 files changed, 27 insertions(+), 1 deletion(-)

commit 92c7c18367f91c6341fc617026f5e25000466b05
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Mar 20 11:50:51 2011 +0100

    Message atomicity problem solved in PUB socket

    When new peer connects to a PUB socket while it is in the middle
    of sending of multi-part messages, it gets just the remaining
    part of the message, i.e. message atomicity is broken.

    This patch drops the tail part of the message and starts sending
    to the peer only when new message is started.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/dist.cpp |   44 +++++++++++++++++++++++++++++++++++++++-----
 src/dist.hpp |   15 +++++++++++++++
 2 files changed, 54 insertions(+), 5 deletions(-)

commit fac9c2da56073d15cfe25ea2bb5833cb5b9cfff6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 16 16:32:31 2011 +0100

    zmq_socket(3) and zmq_setsockopt(3) man pages improved

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_setsockopt.txt |    3 ++-
 doc/zmq_socket.txt     |    8 +++++---
 2 files changed, 7 insertions(+), 4 deletions(-)

commit f5015f4c933706f34dbe3cb78e7db29e2ab7f870
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 16 13:48:40 2011 +0100

    Incorrect errno reported from tcp_listener_t::set_address

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/tcp_listener.cpp |   20 ++++++++++++++++----
 1 file changed, 16 insertions(+), 4 deletions(-)

commit 32ded2b457b2102dba4c15e00363f031d212b1c4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 16 13:26:23 2011 +0100

    Duplicate identities now checked with zmq_connect

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/connect_session.cpp   |   45 +++++++++++++++++++++++++++++++++++++++++++--
 src/connect_session.hpp   |   10 +++++++++-
 src/named_session.cpp     |   12 +++++++++---
 src/named_session.hpp     |    2 +-
 src/session.cpp           |   38 ++++++++++++++++++++------------------
 src/session.hpp           |   12 ++++++++----
 src/socket_base.cpp       |    4 +++-
 src/transient_session.cpp |    4 +++-
 src/transient_session.hpp |    2 +-
 9 files changed, 97 insertions(+), 32 deletions(-)

commit b79d07b8bc844135c44c1ff8b84b50dc08f56925
Author: Jon Dyte <jon@totient.co.uk>
Date:   Wed Mar 16 09:54:03 2011 +0100

    reset socket state when identity message cannot be written to xrep

     Signed-off-by: Jon Dyte <jon@totient.co.uk>

 src/xrep.cpp |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 7045a4a21327f19170e282f6ba2d25caff13aa90
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 15 13:11:20 2011 +0100

    Dead code removed from named_session.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/named_session.cpp |   57 ++++++++++++++-----------------------------------
 src/named_session.hpp |    5 ++---
 2 files changed, 18 insertions(+), 44 deletions(-)

commit f987f4b3e28b24fd3e58408c568b688ad1306766
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Mar 14 20:29:00 2011 +0100

    FreeBSD complation error fixed

    There was an error in pgm_receiver wrt strict aliasing.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_receiver.cpp |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 2970d6c30b1f57e9a75d46982378b103899bddbc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Mar 14 07:11:30 2011 +0100

    Remove obsolete assert from pgm_socket.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.cpp |    1 -
 1 file changed, 1 deletion(-)

commit d0c8edde3596f512d629c6b075289ebe86488ea9
Author: Guido Goldstein <github@a-nugget.de>
Date:   Sat Mar 12 17:16:27 2011 +0100

    Added missing close method w/ check if socket is already closed.

    Signed-off-by: Guido Goldstein <github@a-nugget.de>

 include/zmq.hpp |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 7b95c5920c3318935b8cd8f3591cd5c65509f819
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 9 16:34:37 2011 +0100

    Windows build fixed

    Compilation of ip.cpp have failed because EPROTONOSUPPORT
    was undefined. Including zmq.h should help as the error
    code is defined there.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ip.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit b00be2651c39d0c08064f206b31a14e810ba0b22
Author: Brett Cameron <Brett.Cameron@hp.com>
Date:   Tue Mar 8 14:39:52 2011 +0100

    Different fixed to make OpenVMS port work.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS           |    2 +-
 src/ip.cpp        |   16 ++++++++++------
 src/ip.hpp        |    2 --
 src/semaphore.hpp |    2 ++
 src/stdint.hpp    |   10 +---------
 5 files changed, 14 insertions(+), 18 deletions(-)

commit 184bdb8e2bb6fe252af1bf4dd16d1c9ed8892f7a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 3 12:37:11 2011 +0100

    Bug caused by interaction of REQ/REP routing and HWM fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 97add1ec2f75858ee950fa19b266396147efa224
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Mar 3 12:15:08 2011 +0100

    Documentation wrt thread-safety cleaned up.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_init.txt   |    5 +++++
 doc/zmq_socket.txt |   13 +++----------
 2 files changed, 8 insertions(+), 10 deletions(-)

commit 18b9ebea32fbf4a4552b0435c8759e5e5c6fe219
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 2 16:30:40 2011 +0100

    The copyrights in file headers updated.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 autogen.sh                              |    8 +++++---
 builds/msvc/platform.hpp                |    3 ++-
 devices/zmq_forwarder/zmq_forwarder.cpp |    3 ++-
 devices/zmq_queue/zmq_queue.cpp         |    3 ++-
 devices/zmq_streamer/zmq_streamer.cpp   |    3 ++-
 include/zmq.h                           |    3 ++-
 include/zmq.hpp                         |    3 ++-
 include/zmq_utils.h                     |    3 ++-
 perf/local_lat.cpp                      |    3 ++-
 perf/local_thr.cpp                      |    3 ++-
 perf/remote_lat.cpp                     |    3 ++-
 perf/remote_thr.cpp                     |    3 ++-
 src/array.hpp                           |    3 ++-
 src/atomic_counter.hpp                  |    3 ++-
 src/atomic_ptr.hpp                      |    3 ++-
 src/blob.hpp                            |    3 ++-
 src/clock.cpp                           |    3 ++-
 src/clock.hpp                           |    3 ++-
 src/command.cpp                         |    3 ++-
 src/command.hpp                         |    3 ++-
 src/config.hpp                          |    3 ++-
 src/connect_session.cpp                 |    3 ++-
 src/connect_session.hpp                 |    3 ++-
 src/ctx.cpp                             |    3 ++-
 src/ctx.hpp                             |    3 ++-
 src/decoder.cpp                         |    3 ++-
 src/decoder.hpp                         |    3 ++-
 src/device.cpp                          |    3 ++-
 src/device.hpp                          |    3 ++-
 src/devpoll.cpp                         |    3 ++-
 src/devpoll.hpp                         |    3 ++-
 src/dist.cpp                            |    3 ++-
 src/dist.hpp                            |    3 ++-
 src/encoder.cpp                         |    3 ++-
 src/encoder.hpp                         |    3 ++-
 src/epoll.cpp                           |    3 ++-
 src/epoll.hpp                           |    3 ++-
 src/err.cpp                             |    3 ++-
 src/err.hpp                             |    3 ++-
 src/fd.hpp                              |    3 ++-
 src/fq.cpp                              |    3 ++-
 src/fq.hpp                              |    3 ++-
 src/i_engine.hpp                        |    3 ++-
 src/i_inout.hpp                         |    3 ++-
 src/i_poll_events.hpp                   |    3 ++-
 src/io_object.cpp                       |    3 ++-
 src/io_object.hpp                       |    3 ++-
 src/io_thread.cpp                       |    3 ++-
 src/io_thread.hpp                       |    3 ++-
 src/ip.cpp                              |    3 ++-
 src/ip.hpp                              |    3 ++-
 src/kqueue.cpp                          |    3 ++-
 src/kqueue.hpp                          |    3 ++-
 src/lb.cpp                              |    3 ++-
 src/lb.hpp                              |    3 ++-
 src/likely.hpp                          |    3 ++-
 src/mailbox.cpp                         |    3 ++-
 src/mailbox.hpp                         |    3 ++-
 src/msg_content.hpp                     |    3 ++-
 src/mutex.hpp                           |    3 ++-
 src/named_session.cpp                   |    3 ++-
 src/named_session.hpp                   |    3 ++-
 src/object.cpp                          |    3 ++-
 src/object.hpp                          |    3 ++-
 src/options.cpp                         |    3 ++-
 src/options.hpp                         |    3 ++-
 src/own.cpp                             |    3 ++-
 src/own.hpp                             |    3 ++-
 src/pair.cpp                            |    3 ++-
 src/pair.hpp                            |    3 ++-
 src/pgm_receiver.cpp                    |    3 ++-
 src/pgm_receiver.hpp                    |    3 ++-
 src/pgm_sender.cpp                      |    3 ++-
 src/pgm_sender.hpp                      |    3 ++-
 src/pgm_socket.cpp                      |    3 ++-
 src/pgm_socket.hpp                      |    3 ++-
 src/pipe.cpp                            |    3 ++-
 src/pipe.hpp                            |    3 ++-
 src/poll.cpp                            |    3 ++-
 src/poll.hpp                            |    3 ++-
 src/poller.hpp                          |    3 ++-
 src/poller_base.cpp                     |    3 ++-
 src/poller_base.hpp                     |    3 ++-
 src/pub.cpp                             |    3 ++-
 src/pub.hpp                             |    3 ++-
 src/pull.cpp                            |    3 ++-
 src/pull.hpp                            |    3 ++-
 src/push.cpp                            |    3 ++-
 src/push.hpp                            |    3 ++-
 src/reaper.cpp                          |    3 ++-
 src/reaper.hpp                          |    3 ++-
 src/rep.cpp                             |    3 ++-
 src/rep.hpp                             |    3 ++-
 src/req.cpp                             |    3 ++-
 src/req.hpp                             |    3 ++-
 src/select.cpp                          |    3 ++-
 src/select.hpp                          |    3 ++-
 src/semaphore.hpp                       |    3 ++-
 src/session.cpp                         |    3 ++-
 src/session.hpp                         |    3 ++-
 src/socket_base.cpp                     |    3 ++-
 src/socket_base.hpp                     |    3 ++-
 src/stdint.hpp                          |    3 ++-
 src/sub.cpp                             |    3 ++-
 src/sub.hpp                             |    3 ++-
 src/swap.cpp                            |    3 ++-
 src/swap.hpp                            |    3 ++-
 src/tcp_connecter.cpp                   |    3 ++-
 src/tcp_connecter.hpp                   |    3 ++-
 src/tcp_listener.cpp                    |    3 ++-
 src/tcp_listener.hpp                    |    3 ++-
 src/tcp_socket.cpp                      |    3 ++-
 src/tcp_socket.hpp                      |    3 ++-
 src/thread.cpp                          |    3 ++-
 src/thread.hpp                          |    3 ++-
 src/transient_session.cpp               |    3 ++-
 src/transient_session.hpp               |    3 ++-
 src/trie.cpp                            |    3 ++-
 src/trie.hpp                            |    3 ++-
 src/uuid.cpp                            |    3 ++-
 src/uuid.hpp                            |    3 ++-
 src/windows.hpp                         |    3 ++-
 src/wire.hpp                            |    3 ++-
 src/xpub.cpp                            |    3 ++-
 src/xpub.hpp                            |    3 ++-
 src/xrep.cpp                            |    3 ++-
 src/xrep.hpp                            |    3 ++-
 src/xreq.cpp                            |    3 ++-
 src/xreq.hpp                            |    4 +++-
 src/xsub.cpp                            |    3 ++-
 src/xsub.hpp                            |    3 ++-
 src/ypipe.hpp                           |    3 ++-
 src/yqueue.hpp                          |    3 ++-
 src/zmq.cpp                             |    3 ++-
 src/zmq_connecter.cpp                   |    3 ++-
 src/zmq_connecter.hpp                   |    3 ++-
 src/zmq_engine.cpp                      |    3 ++-
 src/zmq_engine.hpp                      |    3 ++-
 src/zmq_init.cpp                        |    3 ++-
 src/zmq_init.hpp                        |    3 ++-
 src/zmq_listener.cpp                    |    3 ++-
 src/zmq_listener.hpp                    |    3 ++-
 tests/test_hwm.cpp                      |    3 ++-
 tests/test_pair_inproc.cpp              |    3 ++-
 tests/test_pair_ipc.cpp                 |    3 ++-
 tests/test_pair_tcp.cpp                 |    3 ++-
 tests/test_reqrep_inproc.cpp            |    3 ++-
 tests/test_reqrep_ipc.cpp               |    3 ++-
 tests/test_reqrep_tcp.cpp               |    3 ++-
 tests/test_shutdown_stress.cpp          |    3 ++-
 tests/testutil.hpp                      |    3 ++-
 151 files changed, 306 insertions(+), 153 deletions(-)

commit 5fcef1cac4d9faf0279b83ba48899b0e17b8e2d5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 2 09:00:36 2011 +0100

    ZMQ_MAXMSGSIZE option added

    The new option allows user to guard against peers sending
    oversized messages. Connection to peer sending oversized message
    is dropped.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   14 ++++++++++++++
 doc/zmq_setsockopt.txt |   12 ++++++++++++
 include/zmq.h          |    1 +
 src/decoder.cpp        |   21 +++++++++++++++++----
 src/decoder.hpp        |    5 ++++-
 src/options.cpp        |   18 ++++++++++++++++++
 src/options.hpp        |    3 +++
 src/pgm_receiver.cpp   |    3 ++-
 src/zmq_engine.cpp     |    2 +-
 9 files changed, 72 insertions(+), 7 deletions(-)

commit 4c7446211a02937f3e2522aece163d417b4ad0b9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 1 16:08:40 2011 +0100

    Explicit identities bug in inproc transport fixed.

    The identity of bound socket was not used. Instead, transient
    identity was generated.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 67b1f14190186f54fc5954a70f7214411d780aea
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 26 08:42:20 2011 +0100

    Memory leak in PUB/XPUB sockets fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xpub.cpp |   14 ++++++--------
 src/xpub.hpp |    4 ----
 src/xsub.cpp |    7 ++-----
 src/xsub.hpp |    4 ----
 4 files changed, 8 insertions(+), 21 deletions(-)

commit d4e418f5f48a4d73e0a80a54593d11a6cd86d7bc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 25 08:58:01 2011 +0100

    Socket with no owner objects is deallocated immediately

    Till now the deallocation of such socket was delayed
    till zmq_term() thus creating a "leak".

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/reaper.cpp      |    7 ++++---
 src/socket_base.cpp |   24 ++++++++++++++----------
 src/socket_base.hpp |    4 ++++
 3 files changed, 22 insertions(+), 13 deletions(-)

commit c22e52737a5f12f0edfe3f669fa2bfd6e372dec7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 24 16:57:53 2011 +0100

    Minor patch to zmq_getsockopt(3) man page

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29e0e7dbadfcd0bab70feee119bd7c5e623b38d4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 23 11:48:49 2011 +0100

    Incorrect PGM sender/receiver creation fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/connect_session.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 820fec7f28b54dc5fc16a38eceb405e9af41260c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 22 21:43:52 2011 +0100

    Version bumped to 2.2.0

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 43e8868875e1d5287979e5b9060a9b16be45cc79
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 22 16:23:36 2011 +0100

    Added explicit error message in case of memory exhaustion

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/connect_session.cpp |    6 +++---
 src/ctx.cpp             |    6 +++---
 src/decoder.hpp         |    2 +-
 src/encoder.hpp         |    2 +-
 src/epoll.cpp           |    2 +-
 src/err.hpp             |   20 +++++++++++++-------
 src/io_thread.cpp       |    2 +-
 src/ip.cpp              |    2 +-
 src/kqueue.cpp          |    2 +-
 src/object.cpp          |    4 ++--
 src/pgm_receiver.cpp    |    1 +
 src/pgm_sender.cpp      |    2 +-
 src/pgm_socket.cpp      |    3 ++-
 src/pipe.cpp            |    8 ++++----
 src/reaper.cpp          |    2 +-
 src/session.cpp         |    2 --
 src/socket_base.cpp     |    6 +++---
 src/swap.cpp            |   13 ++++++++-----
 src/trie.cpp            |    6 +++---
 src/yqueue.hpp          |    4 ++--
 src/zmq.cpp             |    8 ++++----
 src/zmq_connecter.cpp   |    2 +-
 src/zmq_init.cpp        |    6 +++---
 src/zmq_listener.cpp    |    2 +-
 24 files changed, 61 insertions(+), 52 deletions(-)

commit 98ccff1a24a056aef15372b131eee1c1bf8f62ca
Author: Mikko Koppanen <mikko.koppanen@gmail.com>
Date:   Mon Feb 21 23:40:48 2011 +0100

    Fixes build on at least CentOS 5

    Signed-off-by: Mikko Koppanen <mikko.koppanen@gmail.com>

 builds/redhat/zeromq.spec |   19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 0eea93526d210372c23041d50f4b401a94e3a006
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 21 17:49:12 2011 +0100

    Fix for memory leak caused by long identities

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq_init.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 5c0931121ba1854766599b6b7dbd1a7937febd6d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 21 11:22:54 2011 +0100

    Computation of buffer size for PGM fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.cpp |   41 +++++++++++++++++++++++++++++------------
 src/pgm_socket.hpp |    3 +++
 2 files changed, 32 insertions(+), 12 deletions(-)

commit 12486fecc4f8d9a3bed37cf3d732b1250b075e24
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 18 17:57:59 2011 +0100

    Fix MSVC and SunStudio builds with OpenPGM

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.hpp |    5 +++++
 src/zmq.cpp        |    6 ++++++
 2 files changed, 11 insertions(+)

commit 17e2ca71b4f6db76a4848d366defa36f1b19bdd7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 18 14:15:10 2011 +0100

    Logging of duplicit identities added

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ctx.cpp     |   12 ++++++++++--
 src/ctx.hpp     |    3 ++-
 src/object.cpp  |    8 ++++++--
 src/object.hpp  |    2 +-
 src/session.cpp |    1 +
 5 files changed, 20 insertions(+), 6 deletions(-)

commit 1f536b2d3820ba5435086a77ad34d86a432b94c7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 17 14:20:19 2011 +0100

    Init object is child of listener

    This means that all the handshaking while accepting incoming
    connection is done exclusively in I/O threads, thus it won't
    overload the application thread's mailbox.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq_listener.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28f3e87fc6c8c5c7046234bf9a08ae62f26d7f3a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 17 10:33:38 2011 +0100

    Add delay before reconnecting

    So far ZMQ_RECONNECT_IVL delay was used only when TCP connect
    failed. Now it is used even if connect succeeds and the peer
    closes the connection afterwards.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/config.hpp          |    3 ---
 src/connect_session.cpp |    9 +++++----
 src/connect_session.hpp |    2 +-
 src/zmq_connecter.cpp   |    4 ++--
 src/zmq_connecter.hpp   |    2 +-
 5 files changed, 9 insertions(+), 11 deletions(-)

commit fbe5d859f461b0deaa6083fdee077e01e9b47b91
Author: Michael Compton <michael.compton@littleedge.co.uk>
Date:   Tue Feb 15 09:33:19 2011 +0100

    Added note regarding setting sockopt before bind/connect

    Signed-off-by: Michael Compton <michael.compton@littleedge.co.uk>

 AUTHORS                |    1 +
 doc/zmq_setsockopt.txt |    1 +
 2 files changed, 2 insertions(+)

commit ba26cc9938c33fe0837322ea34bcd438f9b7d207
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Feb 13 10:07:10 2011 +0100

    Build problem with OpenPGM and MSVC fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 14a0e147b2b89fc7fed92c7d9c806b6c53380400
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Feb 12 18:36:21 2011 +0100

    Fixed win32 issue with WSAStartup

     - ctx constructor was calling mailbox_t constructor implicitly
     - moved WSAStartup and WSACleanup to be outside constructor/destructor

    Signed-off-by: Pieter Hintjens <ph@imatix.com>

 src/ctx.cpp |   17 -----------------
 src/zmq.cpp |   19 +++++++++++++++++++
 2 files changed, 19 insertions(+), 17 deletions(-)

commit e94790006ea6f4c64cc1df1c193aa1cf89a75100
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 9 22:33:57 2011 +0100

    reaper added to MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 5b82b1ba30d136655c72f116ee2e372ded453952
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 9 22:23:21 2011 +0100

    Reaper thread waits for commands rather them retrieving them periodically

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/command.hpp     |    5 ++++
 src/object.cpp      |   20 ++++++++++++++++
 src/object.hpp      |    2 ++
 src/reaper.cpp      |   64 ++++++++++++++++++---------------------------------
 src/reaper.hpp      |   13 ++++-------
 src/socket_base.cpp |   53 ++++++++++++++++++++++++++++--------------
 src/socket_base.hpp |   21 +++++++++++++----
 7 files changed, 106 insertions(+), 72 deletions(-)

commit 80ac398bba928fa7f245d2e107071677a13185cf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 9 15:32:15 2011 +0100

    Initial implementation of reaper thread.

    Reaper thread destroys the socket asynchronously.
    zmq_term() can be interrupted by a signal (EINTR).
    zmq_socket() will return ETERM after zmq_term() was called.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_socket.txt  |    3 +-
 doc/zmq_term.txt    |    2 +
 src/Makefile.am     |    2 +
 src/command.hpp     |   15 ++++-
 src/ctx.cpp         |  158 ++++++++++++++++++++++++---------------------------
 src/ctx.hpp         |   43 +++++++-------
 src/io_thread.cpp   |    2 +-
 src/io_thread.hpp   |    3 +
 src/object.cpp      |   42 ++++++++++++--
 src/object.hpp      |    8 +--
 src/reaper.cpp      |  139 ++++++++++++++++++++++++++++++++++++++++++++
 src/reaper.hpp      |   81 ++++++++++++++++++++++++++
 src/socket_base.cpp |   18 +++---
 src/socket_base.hpp |    8 ++-
 14 files changed, 394 insertions(+), 130 deletions(-)

commit 889424e675eecd9d9c7d1121456401d5c43029a5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 8 16:19:37 2011 +0100

    max_sockets honoured precisely

    The internal log socket was subtracted from the number of
    available sockets. So, if max_sockets was set to 100,
    you could create only 99 sockets. Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ctx.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5dcbc34396bb4d256916fafcbb2ddd646ad179e6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 8 14:46:27 2011 +0100

    zmq_poll with no fds behaves decently

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 908b39bf8309044913a34c632cd432958dcf6960
Author: Mikko Koppanen <mikko.koppanen@gmail.com>
Date:   Mon Feb 7 15:06:20 2011 +0100

    m4_esyscmd_s doesnt seem to be portable across different systems

    Signed-off-by: Mikko Koppanen <mikko.koppanen@gmail.com>

 configure.in |    2 +-
 version.sh   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit c8e5be87d82e73cfc8a6655d2c2b6779f7c223a5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 5 15:04:15 2011 +0100

    test-hwm added to .gitignore

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 4efead1bbb8f3d2b84ad8e1fc88b65bc621f987f
Author: Chris Rempel <csrl@gmx.com>
Date:   Sat Feb 5 14:42:21 2011 +0100

    Fixed autogen.sh warnings on Debian 6 systems.

    Signed-off-by: Chris Rempel <csrl@gmx.com>

    Please enter the commit message for your changes. Lines starting

 AUTHORS      |    1 +
 configure.in |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 042e34a5d99a9d39b0680d063878f13f5d7e7337
Author: Thijs Terlouw <thijsterlouw@gmail.com>
Date:   Fri Feb 4 16:44:13 2011 +0100

    operator void* () added to context_t.

    Makes it possible to share the context from C++ to C.

    Signed-off-by: Thijs Terlouw <thijsterlouw@gmail.com>

 include/zmq.hpp |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 3f758ab2f45a07e3e77af4f1b32dc876f5a151ad
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 3 09:59:54 2011 +0100

    Don't use RLIMIT_NOFILES in devpoll_t.

    The patch allows for running 0MQ on Solaris and HP-UX
    even though ulimit for max number of file descriptors
    is set to unlimited.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/devpoll.cpp |   20 ++++++++++----------
 src/devpoll.hpp |    3 ++-
 2 files changed, 12 insertions(+), 11 deletions(-)

commit ca1acc340c256a35f0db58805bba7cb337d9a5a3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 3 08:46:04 2011 +0100

    RLIMIT_NOFILE not used in poll_t anymore

    The problem was that RLIMIT_NOFILE can be set to RLIM_INIFINITY
    (and that appears to be default on AIX) which caused 0MQ to fail.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/poll.cpp |   20 ++++++++++----------
 src/poll.hpp |    3 ++-
 2 files changed, 12 insertions(+), 11 deletions(-)

commit 1e0302633ea10766d21b2a70d62e6f16440c18d4
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sun Jan 30 12:43:17 2011 +0100

    Added WithOpenPGM configuration into MSVC builds

    Signed-off-by: Mikko Koppanen <mikko.koppanen@gmail.com>

 builds/msvc/libzmq/libzmq.vcproj |   77 ++++++++++++++++++++++++++++++++++++++
 builds/msvc/msvc.sln             |   17 +++++++++
 2 files changed, 94 insertions(+)

commit 72d320366f2a1076ced81f4e871c7affbb9ffb9d
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sun Jan 30 11:51:30 2011 +0100

    Added test for HWM

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 tests/Makefile.am  |    5 +++-
 tests/test_hwm.cpp |   67 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 71 insertions(+), 1 deletion(-)

commit 1b15eba9a9718adfeea5cecf499b8247596f6c71
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jan 28 07:50:21 2011 +0100

    Fixed the problem of subscription forwarding and PGM interaction

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/socket_base.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f7f1dfc86dd649edbd789a5d157d74721338c912
Author: Thijs Terlouw <thijsterlouw@gmail.com>
Date:   Wed Jan 26 07:01:06 2011 +0100

    ZMQ_RECONNECT_IVL_MAX socket option added

    It allows for exponential back-off strategy when reconnecting.

    Signed-off-by: Thijs Terlouw <thijsterlouw@gmail.com>

 AUTHORS                |    1 +
 doc/zmq_getsockopt.txt |   23 ++++++++++++++++++--
 doc/zmq_setsockopt.txt |   24 ++++++++++++++++++---
 include/zmq.h          |    3 ++-
 src/options.cpp        |   22 +++++++++++++++++++
 src/options.hpp        |    6 +++++-
 src/zmq_connecter.cpp  |   55 +++++++++++++++++++++++++++++++++---------------
 src/zmq_connecter.hpp  |   12 +++++++++--
 8 files changed, 120 insertions(+), 26 deletions(-)

commit 8e61a11b398c95d829f24c388737eb122405c97b
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Thu Jan 20 22:13:01 2011 +0100

    Do not execute ipc tests under MinGW

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 tests/Makefile.am |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 8561a55d2ca3f99ef7d122cf621b2379924152a5
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Thu Jan 20 22:12:25 2011 +0100

    Remove unnecessary visibility pragmas

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 src/zmq.cpp |    9 ---------
 1 file changed, 9 deletions(-)

commit c91bf25645b27fb903886093b27fa153c60be2fd
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Thu Jan 20 07:52:40 2011 +0100

    Fix handle connection reset during session init

    Patch to handle nmap version probes.

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/decoder.hpp    |    4 ++++
 src/zmq_engine.cpp |    2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 56bdba592cf336b2bd4241a2b8e331cd38a089e4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jan 18 15:57:45 2011 +0100

    Fix cppcheck warnings:     Prefer prefix ++/-- operators for non-primitive types.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ctx.cpp          |    6 +++---
 src/epoll.cpp        |    4 ++--
 src/kqueue.cpp       |    2 +-
 src/own.cpp          |    2 +-
 src/pgm_receiver.cpp |    2 +-
 src/poller_base.cpp  |    2 +-
 src/select.cpp       |    4 ++--
 src/xrep.cpp         |    8 ++++----
 8 files changed, 15 insertions(+), 15 deletions(-)

commit b262f2fe9ba02a6d2749e286eaadc65d489600c9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jan 17 14:51:01 2011 +0100

    Typo fixed in zmq_send(3) man page.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_send.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 667b247e322e2f0e99b680170a1d004f124b0568
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Jan 17 14:45:24 2011 +0100

    Cancel pending timers when decoder for PGM stalls

    Otherwise the timer event can raise an input event
    causing assertion on unprocessed data.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/pgm_receiver.cpp |    6 ++++++
 1 file changed, 6 insertions(+)

commit a249d152003d7a7ebf048c2a9a0307abc1adb704
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Jan 15 20:16:00 2011 +0100

    Fix MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 59fa0c9b46a7f8291c68564ad71ef97dd0bae69e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jan 14 12:41:12 2011 +0100

    Gerard Toonstra added to the authors file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit a348d94c09ab93a19a57ec22a86782e45f1d06ac
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jan 14 12:38:07 2011 +0100

    Fair queueing of subscriptions added to XPUB socket

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xpub.cpp |   19 ++++++++++++++++---
 src/xpub.hpp |    6 ++++++
 2 files changed, 22 insertions(+), 3 deletions(-)

commit 58c9830d90fc39727cec88e48f8985a499aa0ee7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jan 14 12:25:54 2011 +0100

    XSUB socket has a subscription distributor

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xsub.cpp |    7 +++++--
 src/xsub.hpp |    4 ++++
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 8eae7d8507b1c96aec28bca20a157bb7537c3eb8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jan 14 12:05:10 2011 +0100

    'message distribution mechanism' separated from XPUB socket

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am |    2 +
 src/dist.cpp    |  161 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/dist.hpp    |   76 ++++++++++++++++++++++++++
 src/xpub.cpp    |  119 +++-------------------------------------
 src/xpub.hpp    |   23 ++------
 5 files changed, 249 insertions(+), 132 deletions(-)

commit 18f29ded6a83875c27395d254c25e3d152ae1cc6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jan 13 11:44:23 2011 +0100

    Make cppcheck not complain about "'operator=' should return something"

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/array.hpp             |    4 ++--
 src/atomic_counter.hpp    |    2 +-
 src/atomic_ptr.hpp        |    2 +-
 src/clock.hpp             |    2 +-
 src/connect_session.hpp   |    2 +-
 src/ctx.hpp               |    2 +-
 src/decoder.hpp           |    2 +-
 src/devpoll.hpp           |    2 +-
 src/encoder.hpp           |    2 +-
 src/epoll.hpp             |    2 +-
 src/fq.hpp                |    2 +-
 src/io_object.hpp         |    2 +-
 src/kqueue.hpp            |    2 +-
 src/lb.hpp                |    2 +-
 src/mailbox.hpp           |    2 +-
 src/mutex.hpp             |    2 +-
 src/named_session.hpp     |    2 +-
 src/object.hpp            |    2 +-
 src/own.hpp               |    2 +-
 src/pair.hpp              |    2 +-
 src/pgm_receiver.hpp      |    2 +-
 src/pgm_sender.hpp        |    2 +-
 src/pipe.hpp              |    4 ++--
 src/poll.hpp              |    2 +-
 src/poller_base.hpp       |    2 +-
 src/pub.hpp               |    2 +-
 src/pull.hpp              |    2 +-
 src/push.hpp              |    2 +-
 src/rep.hpp               |    2 +-
 src/req.hpp               |    2 +-
 src/select.hpp            |    2 +-
 src/semaphore.hpp         |    6 +++---
 src/session.hpp           |    2 +-
 src/socket_base.hpp       |    2 +-
 src/sub.hpp               |    2 +-
 src/swap.hpp              |    4 ++++
 src/tcp_connecter.hpp     |    2 +-
 src/tcp_listener.hpp      |    2 +-
 src/tcp_socket.hpp        |    2 +-
 src/thread.hpp            |    2 +-
 src/transient_session.hpp |    2 +-
 src/trie.hpp              |    2 +-
 src/xpub.hpp              |    2 +-
 src/xrep.hpp              |    2 +-
 src/xreq.hpp              |    2 +-
 src/xsub.hpp              |    2 +-
 src/ypipe.hpp             |    2 +-
 src/yqueue.hpp            |    2 +-
 src/zmq_connecter.hpp     |    2 +-
 src/zmq_engine.hpp        |    2 +-
 src/zmq_init.hpp          |    2 +-
 src/zmq_listener.hpp      |    2 +-
 52 files changed, 59 insertions(+), 55 deletions(-)

commit 70513871082462c957e46986040ebe7b10d64557
Author: Neale Ferguson <neale@sinenomine.net>
Date:   Wed Jan 12 09:22:25 2011 +0100

    Support dynamic generation of C preprocessor definitions for PGM rather than hardcoding them.

    Signed-off-by: Neale Ferguson <neale@sinenomine.net>

 AUTHORS         |    1 +
 configure.in    |   59 +++++++++++++++++++++++++++++++++++++++++++++++++------
 src/Makefile.am |   14 +------------
 src/clock.cpp   |    5 +++++
 4 files changed, 60 insertions(+), 19 deletions(-)

commit 725ebce13ca7871002063c4a254bf532d35ee878
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jan 11 21:12:51 2011 +0100

    Version bumped to 2.1.1

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bd0ba6e89a709cc8afbd5a7c3c4f9f533c428249
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jan 10 13:53:30 2011 +0100

    Size of inproc hwm and swap is sum of peers' hwms and swaps

    The meat of the patch was contributed by Douglas Creager.
    Martin Sustrik implemented storing peer options in inproc
    endpoint repository.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS             |    1 +
 src/ctx.cpp         |   18 +++++++++---------
 src/ctx.hpp         |   15 ++++++++++++---
 src/object.cpp      |    6 +++---
 src/object.hpp      |    4 ++--
 src/socket_base.cpp |   34 +++++++++++++++++++++++++---------
 6 files changed, 52 insertions(+), 26 deletions(-)

commit babdf48aacc585d57457da8dec1fb6ce262bf719
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Fri Jan 7 13:28:35 2011 +0100

    Fix pipe writer termination

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/pipe.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8e0049e2fb60d31c07786fffe39fdc9c63369dfa
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jan 7 12:59:48 2011 +0100

    Disable sending messages on SUB socket

    The ability was inherited from XSUB socket.
    Now it's properly disabled.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/sub.cpp |   15 ++++++++++++++-
 src/sub.hpp |    2 ++
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 08cd2ce05da74143b6154f7d665756870077c38d
Author: Min Ragan-Kelley <benjaminrk@gmail.com>
Date:   Thu Jan 6 08:42:57 2011 +0100

    resolve "function declaration isn't a prototype"

    change two declarations in headers to form f(void); instead of f();
    which eliminates the warnings when compiling against zeromq

    Signed-off-by: MinRK <benjaminrk@gmail.com>

 AUTHORS             |    1 +
 include/zmq.h       |    2 +-
 include/zmq_utils.h |    2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 472bdcd6b4995d2ab92e97aafa898f083ce1f3ba
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Jan 5 16:57:51 2011 +0100

    Return ETERM from getsockopt(ZMQ_EVETS) if zmq_term() was called

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95eebbfffaf512d81721697026dbb5434c12c27d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jan 3 20:50:24 2011 +0100

    sunos/gcc3 compilation issue fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/sub.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51d2d9b9f82526a9b471dda272c1d54b3d1b1152
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Dec 20 13:06:36 2010 +0100

    Yet one more fix for oversized messages.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/decoder.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 112d0cd52ec959a6bb4cf02ab03977bc22478246
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Dec 20 11:47:41 2010 +0100

    Fix the segfault when over-sized message is rejected.

    The in_progress message inside of decoder was left
    uninitialised in such a case.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/decoder.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit cbbb1e925d699c8b42b2724740d68839c81684c3
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sat Dec 18 12:13:10 2010 +0100

    Fix passing through CFLAGS/CPPFLAGS/CXXFLAGS when using --enable-debug

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   12 ++++++------
 configure.in |    5 +++++
 2 files changed, 11 insertions(+), 6 deletions(-)

commit d15e881ea02232c3e875699b3c25f43ad2fd093c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Dec 17 16:30:42 2010 +0100

    unplugged engine tries to manipulate the pollset -- fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq_engine.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b19ee99bb1a2b19a6bf78c7fa2159a85aa608a10
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Fri Dec 17 15:30:56 2010 +0100

    fix race condition in session init

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/zmq_engine.cpp |   22 +++++++++++++++++++---
 src/zmq_engine.hpp |    3 +++
 src/zmq_init.cpp   |   44 +++++++++++++++++++++++++++-----------------
 src/zmq_init.hpp   |    4 ++++
 4 files changed, 53 insertions(+), 20 deletions(-)

commit 27e83cc5258e191a7d5977e202046447df7896b9
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Dec 15 20:10:27 2010 +0100

    Fixes assertion on pipe.cpp:237 when swap fills up.

    Fixes swap::full () functionality

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 src/lb.cpp   |    9 ++++++++-
 src/pair.cpp |    5 ++++-
 src/pipe.cpp |    8 ++++----
 src/pipe.hpp |    6 +++---
 src/swap.cpp |   15 ++++++++++++++-
 src/swap.hpp |    8 ++++++--
 6 files changed, 39 insertions(+), 12 deletions(-)

commit a46980babe076d34347629a54e9635466e6e2a9f
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Dec 15 14:41:18 2010 +0100

    Remove assertions from devices

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 devices/zmq_forwarder/zmq_forwarder.cpp |    6 +++++-
 devices/zmq_queue/zmq_queue.cpp         |    6 +++++-
 devices/zmq_streamer/zmq_streamer.cpp   |    6 +++++-
 src/device.cpp                          |   33 +++++++++++--------------------
 4 files changed, 26 insertions(+), 25 deletions(-)

commit f749f2d21c1b47e6dcd626633acff764a4484b99
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Mon Dec 13 15:40:26 2010 +0100

    add basic uri validations

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/socket_base.cpp |   50 ++++++++++++++++++++++++++++----------------------
 src/socket_base.hpp |    4 ++++
 2 files changed, 32 insertions(+), 22 deletions(-)

commit 22b2b9a2b6e1dd18d58ef51f453d2b4777e71be4
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Mon Dec 13 14:18:47 2010 +0100

    fix overwriting errno on bind failure

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/tcp_listener.cpp |    7 +++++--
 src/tcp_listener.hpp |    3 +++
 2 files changed, 8 insertions(+), 2 deletions(-)

commit a9d969a73e303db2f6ddf436740d0bbef7e63dba
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Dec 9 21:44:15 2010 +0100

    Bob Beaty added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit fcfad5682ed7a7f5108853d2a7039aedfd9a9ac2
Author: Bob Beaty <rbeaty@peak6.com>
Date:   Thu Dec 9 21:42:58 2010 +0100

    Added Recovery Interval in Milliseconds

    For very high-speed message systems, the memory used for recovery can get to
    be very large. The corrent limitation on that reduction is the ZMQ_RECOVERY_IVL
    of 1 sec. I added in an additional option ZMQ_RECOVERY_IVL_MSEC, which is the
    Recovery Interval in milliseconds. If used, this will override the previous
    one, and allow you to set a sub-second recovery interval. If not set, the
    default behavior is to use ZMQ_RECOVERY_IVL.

    Signed-off-by: Bob Beaty <rbeaty@peak6.com>

 doc/zmq_getsockopt.txt |   20 ++++++++++++++++++++
 doc/zmq_setsockopt.txt |   24 ++++++++++++++++++++++++
 include/zmq.h          |    1 +
 src/options.cpp        |   18 ++++++++++++++++++
 src/options.hpp        |    2 ++
 src/pgm_socket.cpp     |   32 ++++++++++++++++++--------------
 6 files changed, 83 insertions(+), 14 deletions(-)

commit 1d81d2f1d4549c2cd0999c9544b059c29706f260
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Tue Dec 7 11:15:51 2010 +0100

    tar doesn't accept -C flag on solaris while extracting

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 configure.in |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit a3353150f845cf0f6e8f2355d3aad760bfba4b64
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Tue Dec 7 11:15:18 2010 +0100

    Fix werror flag store/restore

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aed2eeafdc2fce93738368749b61b36f98ea6cd6
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Tue Dec 7 11:14:46 2010 +0100

    Fix visibility on rhel4

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   48 ++++++++++++++++++++++++++++++++++++++++++++++--
 configure.in |   16 +++++++---------
 2 files changed, 53 insertions(+), 11 deletions(-)

commit 9bb5323a1abce0dcf8ed56734313a5249003d868
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Dec 7 11:10:21 2010 +0100

    Clarify zmq_send() operation for ZMQ_PUB sockets

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 doc/zmq_socket.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 73bbcb552d6fbd1b3744a1ee29202a19e4d2f46e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Dec 6 23:10:50 2010 +0100

    MSVC build fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   32 ++++++++------------------------
 1 file changed, 8 insertions(+), 24 deletions(-)

commit 8d6cafe06696e17afff03adf4b33bd504b55e277
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Dec 6 22:57:29 2010 +0100

    All devices conflated into a single implementation.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/Makefile.am   |    8 +---
 src/device.cpp    |  130 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/device.hpp    |   31 +++++++++++++
 src/forwarder.cpp |   60 -------------------------
 src/forwarder.hpp |   31 -------------
 src/queue.cpp     |  130 -----------------------------------------------------
 src/queue.hpp     |   31 -------------
 src/streamer.cpp  |   60 -------------------------
 src/streamer.hpp  |   31 -------------
 src/zmq.cpp       |   24 ++++------
 10 files changed, 172 insertions(+), 364 deletions(-)

commit ec61751e17fe4ceb62cc16750b12df6056c5962a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Dec 6 22:36:10 2010 +0100

    options.type correctly set for PUB/SUB/XPUB/XSUB

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pub.cpp  |    1 +
 src/sub.cpp  |    1 +
 src/xpub.cpp |    2 +-
 src/xsub.cpp |    2 +-
 4 files changed, 4 insertions(+), 2 deletions(-)

commit 8a6ff4ccd2ecbbfb7b2fd80fe621b8a05b0f9bbd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Dec 6 09:44:23 2010 +0100

    xup and xsub files added to the MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 2daa0bb49d52aeb1aa60c94505bdad72348e5d8e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Dec 5 09:48:52 2010 +0100

    XSUB accepts (un)subscriptions in form of messages.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/sub.cpp  |   31 +++++++++++++++++++++++++++++++
 src/sub.hpp  |    4 ++++
 src/xsub.cpp |   40 +++++++++++++++++++++++++---------------
 src/xsub.hpp |    3 ++-
 4 files changed, 62 insertions(+), 16 deletions(-)

commit c80e7b80cc726ca7c29493c2553c8d19792bb6e5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Dec 4 23:14:38 2010 +0100

    XPUB and XSUB socket types added.

    These are just placeholders. At the moment XPUB behaves th same
    as PUB and XSUB as SUB.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h       |    4 +-
 src/Makefile.am     |    4 ++
 src/pub.cpp         |  144 +------------------------------------------
 src/pub.hpp         |   34 +---------
 src/socket_base.cpp |   11 +++-
 src/sub.cpp         |  134 +---------------------------------------
 src/sub.hpp         |   38 +-----------
 src/xpub.cpp        |  171 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/xpub.hpp        |   73 ++++++++++++++++++++++
 src/xsub.cpp        |  161 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/xsub.hpp        |   78 +++++++++++++++++++++++
 11 files changed, 506 insertions(+), 346 deletions(-)

commit abc8b5e40c55deb96e7674b15629f2affa4eb92a
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Dec 1 11:55:56 2010 +0100

    Update NEWS file for 2.1.0 release

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 NEWS |   73 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit 4a3ed39a22655406e17c49fab4912c4681f3d7bf
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Wed Dec 1 11:52:05 2010 +0100

    Bump OpenPGM to 5.0.92.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 configure.in                              |    2 +-
 foreign/openpgm/libpgm-5.0.91~dfsg.tar.gz |  Bin 444731 -> 0 bytes
 foreign/openpgm/libpgm-5.0.92~dfsg.tar.gz |  Bin 0 -> 444700 bytes
 3 files changed, 1 insertion(+), 1 deletion(-)

commit 520d621016691bcb2a0551147aaa38a9891080b3
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Dec 1 11:11:25 2010 +0100

    Bump ABI version to 1:0:0 for ZeroMQ 2.1.0 release

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 configure.in |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit b70d628fad5ab97d24473b83fd18997b4e87477d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Dec 1 10:57:37 2010 +0100

    Documentation updates for 2.1

    - Clarify ZMQ_LINGER, zmq_close (), zmq_term () relationship
    - New socket options
    - Clarify thread safety of sockets and migration between threads
    - Other minor and spelling fixes

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 doc/zmq.txt            |   12 +++--
 doc/zmq_close.txt      |   12 +++--
 doc/zmq_errno.txt      |    2 +-
 doc/zmq_getsockopt.txt |  116 ++++++++++++++++++++++++++++++++----------------
 doc/zmq_pgm.txt        |    6 +--
 doc/zmq_poll.txt       |   11 ++---
 doc/zmq_setsockopt.txt |   67 ++++++++++++++++++----------
 doc/zmq_socket.txt     |   24 +++++++---
 doc/zmq_tcp.txt        |    6 +--
 doc/zmq_term.txt       |   27 ++++++-----
 doc/zmq_version.txt    |    2 +-
 11 files changed, 186 insertions(+), 99 deletions(-)

commit 5bb0a339be31064900257e04e2ffd32e80911d63
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Dec 1 10:33:07 2010 +0100

    Prefix variables with "ac_zmq_"

     - Added a macro for checking clang compiler
     - Moved basic compiler checks to a macro
     - Added a macro for checking if compiler supports a flag
     - Added --enable-debug flag
     - Added a macro for running normal autoconf check with compiler flags
     - Added a macro for checking for verbose flag for different compilers (-Wall)
     - Added a macro for turning on strict standards compliance
     - Added a macro for turning warnings to errors
     - Added a macro for checking if compiler supports given pragma
     - Most of the flags now go through checks if the compilers supports them
       rather than enumerating different compilers
     - Added DSO symbol visibility for sun compiler
     - Enabled verbose mode for sun compiler
     - Fixed build for ICC 12.x by adding -wd279 to size_t checks
     - Removed pkg-config checks as those don't seem to be used anywhere

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4        |  461 ++++++++++++++++++++++++++++++++++++++++++++++-----
 autogen.sh          |    6 -
 configure.in        |  212 +++++++++++------------
 include/zmq.h       |   14 +-
 include/zmq_utils.h |   14 +-
 5 files changed, 532 insertions(+), 175 deletions(-)

commit 17d7e6ede0f907461130302cf4bddcdf9e2737cf
Merge: 28db150 289b1f5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Dec 1 10:27:24 2010 +0100

    Merge branch 'maint'

    * maint:
      Remove unnecessary cast in kevent_delete

    Conflicts:
        src/kqueue.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

commit 289b1f5ced492a2dc62edaba0016abde21093692
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Dec 1 10:25:31 2010 +0100

    Remove unnecessary cast in kevent_delete

    Fixes the build on NetBSD where the compiler complains about casting NULL
    to (int).

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 src/kqueue.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28db150aaf7b1cffb996f1b27bc082f75acec261
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Nov 29 10:52:22 2010 +0100

    Fix thread thunker scope for MSVC.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/thread.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 325dd2f0914de502ae7687f94927fa98c20380c9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 27 22:19:43 2010 +0100

    Functions passed to pthread_create are declared as extern "C"

    So far these were declared as C++ static functions which
    was incorrect and caused warnings with SunStudio.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/thread.cpp                 |   54 ++++++++++++++++++++++------------------
 src/thread.hpp                 |   10 ++++----
 tests/test_shutdown_stress.cpp |   19 ++++++++------
 3 files changed, 46 insertions(+), 37 deletions(-)

commit 0bc2a05d84dc8e496a60d0c8def7689783e08e01
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 27 12:51:43 2010 +0100

    .gitignore modified to ignore test executables

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 .gitignore |    7 +++++++
 1 file changed, 7 insertions(+)

commit c9584096e033850c77c4c3d4ee99e8073f7b26da
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Nov 25 17:12:31 2010 +0100

    Control symbol exports using -fvisibility

    On systems using GCC 4.0 or newer which support symbol visibility in shared
    libraries, use -fvisibility=hidden and only export explict API functions
    defined in zmq.cpp. We do not enable -fvisibility on MinGW since this uses a
    separate mechanism (__declspec).

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 configure.in        |   12 ++++++++++++
 include/zmq.h       |    8 ++++++++
 include/zmq_utils.h |    6 ++++++
 src/Makefile.am     |    3 +--
 src/zmq.cpp         |    8 ++++++++
 5 files changed, 35 insertions(+), 2 deletions(-)

commit 734624be760b3c7942eb26bea77fca918cb1540d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Nov 25 14:05:43 2010 +0100

    Typo fixed in a comment.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/i_engine.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92618fd99ac19f3169552c25cbabffbe9e983f7f
Author: Sebastian Otaegui <feniix@gmail.com>
Date:   Thu Nov 25 14:04:53 2010 +0100

    Small fix for the rhel6 spec

    Signed-off-by: Sebastian Otaegui <feniix@gmail.com>

 builds/redhat/zeromq.spec |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a689047de091b2ffbc58cde4a89e98119ae0f599
Merge: ac40680 83d9af9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Nov 22 16:07:15 2010 +0100

    Merge branch 'maint'

    * maint:
      Mikko Koppanen becomes a maintainer of the build system.

commit 83d9af99516fc620ffdfa6cd5a226ab70673cb5d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Nov 22 16:06:20 2010 +0100

    Mikko Koppanen becomes a maintainer of the build system.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 MAINTAINERS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac40680ea2f6b32a3c451db1b606524e86a347dd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 19 12:35:06 2010 +0100

    Problem with blob_t initialisation fixed.

    HP's version of STL doesn't allow for initialisation of basic_string
    (blob_t) using NULL pointer, while SGI's implementation is OK with
    that. Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/object.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit edf7c18d79b195001d7ed7d05ac30a4d7a64bce1
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Fri Nov 19 09:10:26 2010 +0100

    Add a check that the compiler actually works.

    The patch tests that the C and C++ compilers actually exist
    and work. autoconf seems to default to 'g++' when C++ compiler is not
    found, which causes the following error (when the compiler isn't
    there):

    checking for uuid_generate in -luuid... no
    configure: error: cannot link with -luuid, install uuid-dev.

    The config.log contains the real error message "g++ command not found"
    but the error message shown to the user is misleading.

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   18 ++++++++++++++++++
 configure.in |    6 +++++-
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 945c931daf0c053a9cdbfdbb3ec7d0e90c29fc10
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Thu Nov 18 11:51:27 2010 +0100

    Run autoupdate on the configure.in

    I ran autoupdate on the configure.in, which generated most of the
    patch attached. There is also a small manual fix in which removes the
    warning "Remember to add LT_INIT to configure.in" which I assume is
    because AC_PROG_LIBTOOL was called inside a macro.

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |    3 ---
 configure.in |   13 +++++++------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit 72a7b93f124cdaee8082aff218f6497c366f53f9
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Nov 17 15:10:43 2010 +0100

    Allow building without documentation.

    Allows building without documentation even if asciidoc and xmlto are
    installed. This eases up working with the build system because doc
    generation take quite a while on repeated builds.

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   41 +++++++++++++++++++++++++----------------
 1 file changed, 25 insertions(+), 16 deletions(-)

commit c86375831d4002ac58501bacebb3fd12d5c651b8
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Nov 17 15:09:06 2010 +0100

    Remove unneeded substitutions

    Couldn't find a place where these substs were actually used

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 configure.in |   15 ---------------
 1 file changed, 15 deletions(-)

commit b83d0a1bc077fdcc481fee40dcf4780669c3f3d2
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Nov 17 15:07:59 2010 +0100

    Remove unnecessary conditional

    This conditional is unnecessary as BUILD_PGM can be negated in the test.

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 configure.in    |    1 -
 src/Makefile.am |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 925595259b51dd84711b620afdf02245e537a38f
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Nov 17 15:06:51 2010 +0100

    MinGW32 build fixes

    After long discussions in IRC we came to conclusion that there is no
    elegant way to handle static builds with MinGW32. This patch sets
    AC_DISABLE_STATIC by default on MinGW32 and Cygwin

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   27 +++++++++++++++++++++++++++
 configure.in |   19 ++++++++++++++-----
 2 files changed, 41 insertions(+), 5 deletions(-)

commit 3dbd5d58723bdc31eb00a6ebf4f643059a432f8c
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Wed Nov 17 15:05:01 2010 +0100

    Fix mingw32 build

    MinGW32 defines __int64_t as long long, which causes the build to fail
    unless -Wno-long-long is used. In addition the shutdown_stress test
    isn't currently compatible with Win.

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 configure.in      |    3 ++-
 tests/Makefile.am |    9 +++++++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 34f50a6840fdf638bbd7887aa2438006baeb884d
Merge: bd0ecf4 152c64f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 16 14:26:04 2010 +0100

    Merge branch 'maint'

    * maint:
      FD_SETSIZE defaults to 1024 in MSVC build

    Conflicts:
        builds/msvc/libzmq/libzmq.vcproj

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

commit bd0ecf478466b27103af92db33ffebc3948f2e4e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 16 14:15:29 2010 +0100

    FD_SETSIZE defaults to 1024 in MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 152c64f25df9d037e7f51874d2d66724337aad38
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 16 14:04:55 2010 +0100

    FD_SETSIZE defaults to 1024 in MSVC build

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/libzmq/libzmq.vcproj |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit da3327cf8780ea4d454e0aa8904b5aab3c446b23
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Mon Nov 15 17:02:36 2010 +0100

    Build refactoring

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4    |   53 ++++++++++++++++++++++++++++++
 configure.in    |   97 +++++++++++++++++++++++++++++--------------------------
 src/Makefile.am |    3 +-
 3 files changed, 106 insertions(+), 47 deletions(-)

commit f77c8ca47ff77af44eab7b4b8538ed49ec428eda
Merge: a2500ae ffcb0ba
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 13 18:16:13 2010 +0100

    Merge branch 'maint'

    * maint:
      Couple of patches for AIX build

commit ffcb0baa735538b8b4a0f00799d1185adba2761f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 13 18:08:18 2010 +0100

    Couple of patches for AIX build

    - RAND_bytes function resides in crypto library
    - pollfd on AIX used 'reqevents' instead of events and 'retnevents'
      instead of 'revents'

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS      |    1 +
 configure.in |    1 +
 src/zmq.cpp  |   23 ++++++++++++++---------
 3 files changed, 16 insertions(+), 9 deletions(-)

commit a2500ae3485d6243778b832d22dc6dc02a00f025
Author: Chia-liang Kao <clkao@clkao.org>
Date:   Fri Nov 12 19:16:00 2010 +0100

    Fix a bug that zmq_poll's select backend spins when timeout=-1, due to
    ptimeout not properly recalculated after first pass.

    Signed-off-by: Chia-liang Kao <clkao@clkao.org>

 AUTHORS     |    1 +
 src/zmq.cpp |   32 ++++++++++++++++----------------
 2 files changed, 17 insertions(+), 16 deletions(-)

commit 8abe67357ab905c5c86191c1d9005666f66b6ca0
Merge: c021702 f7123de
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 12 14:47:26 2010 +0100

    Merge branch 'maint'

    * maint:
      Fix socket_t::recv() hang scenario where initial call to process_commands() eats signal

    Conflicts:
        src/socket_base.cpp

commit f7123de9434a96794e6a7cd83b398ceb18c9de8b
Author: Marc Rossi <mrossi19@gmail.com>
Date:   Fri Nov 12 14:38:25 2010 +0100

    Fix socket_t::recv() hang scenario where initial call to process_commands() eats signal

    Added block boolean var to second process_commands() invocation for blocking sockets
    instead of always using true.  This prevents the process_commands() call from hanging
    when a message is received with an empty queue after the call to xrecv() but
    prior to the initial call to process_commands() invoked when ++ticks == inbound_poll_rate.

    Signed-off-by: Marc Rossi <mrossi19@gmail.com>

 AUTHORS             |    1 +
 src/socket_base.cpp |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit c0217027ccd2267b05e017af436a842755d044b0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Nov 6 08:02:14 2010 +0100

    Coding style cleanup in mailbox.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/mailbox.cpp |   39 +++++++++++++++++++++------------------
 1 file changed, 21 insertions(+), 18 deletions(-)

commit 9da84a5239e5356e34d872c2b5af1d19b9c7eb4f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 5 17:39:51 2010 +0100

    signaler renamed to mailbox

    For historical reasons queue to transfer commands between
    threads was called 'signaler'. Given that it was used to
    pass commands rather than signals it was renamed to 'mailbox',
    see Erlang mailboxes.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 MAINTAINERS                      |    2 +-
 builds/msvc/libzmq/libzmq.vcproj |    4 +-
 src/Makefile.am                  |    4 +-
 src/ctx.cpp                      |   14 +-
 src/ctx.hpp                      |    6 +-
 src/io_thread.cpp                |   12 +-
 src/io_thread.hpp                |   15 +-
 src/mailbox.cpp                  |  378 ++++++++++++++++++++++++++++++++++++++
 src/mailbox.hpp                  |   61 ++++++
 src/own.cpp                      |    2 +-
 src/signaler.cpp                 |  366 ------------------------------------
 src/signaler.hpp                 |   61 ------
 src/socket_base.cpp              |   12 +-
 src/socket_base.hpp              |   10 +-
 14 files changed, 479 insertions(+), 468 deletions(-)

commit 9cfdb441f45057c7106a101835d65164fce9470a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Nov 5 16:38:52 2010 +0100

    slots renamed to tids

    Threads were so far identified by integers called 'slots'.
    This patch renames them to more comprehensible 'tid's (thread IDs).

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ctx.cpp         |   12 ++++++------
 src/ctx.hpp         |    6 +++---
 src/io_thread.cpp   |    4 ++--
 src/io_thread.hpp   |    2 +-
 src/object.cpp      |   14 +++++++-------
 src/object.hpp      |    8 ++++----
 src/own.cpp         |    4 ++--
 src/own.hpp         |    2 +-
 src/pair.cpp        |    4 ++--
 src/pair.hpp        |    2 +-
 src/pub.cpp         |    4 ++--
 src/pub.hpp         |    2 +-
 src/pull.cpp        |    4 ++--
 src/pull.hpp        |    2 +-
 src/push.cpp        |    4 ++--
 src/push.hpp        |    2 +-
 src/rep.cpp         |    4 ++--
 src/rep.hpp         |    2 +-
 src/req.cpp         |    4 ++--
 src/req.hpp         |    2 +-
 src/socket_base.cpp |   24 ++++++++++++------------
 src/socket_base.hpp |    4 ++--
 src/sub.cpp         |    4 ++--
 src/sub.hpp         |    2 +-
 src/xrep.cpp        |    4 ++--
 src/xrep.hpp        |    2 +-
 src/xreq.cpp        |    4 ++--
 src/xreq.hpp        |    2 +-
 28 files changed, 67 insertions(+), 67 deletions(-)

commit 623a9c9f1b53bdda9ad61f58cdc7a286e3e474cd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Nov 4 21:23:07 2010 +0100

    Jacob Rideout added to the AUTGORS file.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 0ada4f8e30088e6a91fef7a45fd7e5dd7bdb9d1d
Author: Jacob Rideout <jacob.rideout@returnpath.net>
Date:   Thu Nov 4 21:21:01 2010 +0100

    Fix documentation typos

    Signed-off-by: Jacob Rideout <jacob.rideout@returnpath.net>

 doc/zmq_getsockopt.txt |    6 +++---
 doc/zmq_setsockopt.txt |   12 ++++++------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 1b39bcd88336ebed002e13a8ac3d4bc104b13718
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Nov 4 17:54:47 2010 +0100

    Automatically resize signalling socket buffer if full

    If the socketpair used by signaler_t fills up, this can lead to deadlock.
    This patch provides partial resolution by attempting to resize SO_SNDBUF on
    the writer side, and if that fails we shall at least assert rather than
    hang.

    I've also refactored the signaler_t code to make the platform-dependent
    parts clearer and have tested both the MSG_DONTWAIT and standard POSIX path
    in recv.

    The Win32 implementation currently does not implement resizing as I'm not
    convinced that it's safe, but it will also assert like other platforms if
    signaler_t::send() cannot succeed.

    The OpenVMS implementation has been carried forward but is untested.

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 src/config.hpp   |    4 -
 src/signaler.cpp |  403 ++++++++++++++++++++++++++----------------------------
 src/signaler.hpp |   18 +--
 3 files changed, 201 insertions(+), 224 deletions(-)

commit 756f7df8c8e82a67f033049af47a3f783ad951e1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Nov 4 16:11:04 2010 +0100

    Previous FD_STSIZE patch reverted.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/select.cpp |    3 ---
 1 file changed, 3 deletions(-)

commit 2246689c8fcf37cd69bd8098b21dc28a9abbcdeb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Nov 4 13:12:40 2010 +0100

    FD_SETSIZE for internal polling defaults to 1024

    If, when compiling 0MQ you don't set FD_SETSIZE,
    it defaults to 1024 rather than to 64.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/select.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit b90e621329688c83f21f26bbe0367966a245e607
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Nov 4 10:01:58 2010 +0100

    minor typo fixed

    Devpoll polling mechanism used ZMQ_HAVE_SOLRIS instead of
    ZMQ_HAVE_SOLARIS in one case. Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/devpoll.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d4a41067d3e873ba4a87c4711ad2f755e7de9157
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 2 14:27:24 2010 +0100

    HP-UX has no OPEN_MAX defined

    devpoll_t used this constant to determine how many events to
    retrieve from the poller in one go. The implementation was
    changed not to depend on this constant.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/devpoll.cpp |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit de93f6359f061d08846cd203ad3ba4fda915e504
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Nov 2 13:30:20 2010 +0100

    crypto library is needed on HP-UX to generate UUIDs

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in |    1 +
 1 file changed, 1 insertion(+)

commit dbcd38252435ff69f1043649a94ec985e7f1ff5b
Merge: 0ad71f8 eb83678
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Nov 1 14:13:36 2010 +0100

    Merge branch 'maint'

    * maint:
      Add INSTALL to Git, thus making it a normal file

commit eb83678b2b5eaca07d6813cab5c7dea493ac4bc8
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Nov 1 14:12:33 2010 +0100

    Add INSTALL to Git, thus making it a normal file

    INSTALL gets added in somewhat magically by automake, or not. Adding it into
    Git ensures it's always included in the distribution.

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 .gitignore |    1 -
 INSTALL    |  237 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 237 insertions(+), 1 deletion(-)

commit 0ad71f88fe5531011c0354f22eeb070b1f729c7d
Author: Mikael Helbo Kjaer <mhk@designtech.dk>
Date:   Mon Nov 1 12:54:58 2010 +0100

    select now uses Erase-Remove idiom for retired fds

    Signed-off-by: Mikael Helbo Kjaer <mhk@designtech.dk>

 src/select.cpp |   17 ++++++++---------
 src/select.hpp |    3 +++
 2 files changed, 11 insertions(+), 9 deletions(-)

commit 085b709021c44673d9bf65a5d639e3c2e99703af
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 30 18:17:53 2010 +0200

    Documentation for zmq_close and zmq_term fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_close.txt |   12 ++++++------
 doc/zmq_term.txt  |   21 +++++++++------------
 2 files changed, 15 insertions(+), 18 deletions(-)

commit 3d8eb071a2a664d8de1e2e2fa7cb46a4f2764e5e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 30 16:17:08 2010 +0200

    Coding style fixed for pgm_socket

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_socket.cpp |  211 ++++++++++++++++++++++++++++++++--------------------
 src/pgm_socket.hpp |    5 +-
 2 files changed, 132 insertions(+), 84 deletions(-)

commit b358df9fffd6a4155318356024358b8a1e2b9c9c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 30 15:08:28 2010 +0200

    Name of "GNU Lesser Public License" corrected.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/platform.hpp                |    6 +++---
 devices/zmq_forwarder/zmq_forwarder.cpp |    6 +++---
 devices/zmq_queue/zmq_queue.cpp         |    6 +++---
 devices/zmq_streamer/zmq_streamer.cpp   |    6 +++---
 include/zmq.h                           |    6 +++---
 include/zmq.hpp                         |    6 +++---
 include/zmq_utils.h                     |    6 +++---
 perf/local_lat.cpp                      |    6 +++---
 perf/local_thr.cpp                      |    6 +++---
 perf/remote_lat.cpp                     |    6 +++---
 perf/remote_thr.cpp                     |    6 +++---
 src/array.hpp                           |    6 +++---
 src/atomic_counter.hpp                  |    6 +++---
 src/atomic_ptr.hpp                      |    6 +++---
 src/blob.hpp                            |    6 +++---
 src/clock.cpp                           |    6 +++---
 src/clock.hpp                           |    6 +++---
 src/command.cpp                         |    6 +++---
 src/command.hpp                         |    6 +++---
 src/config.hpp                          |    6 +++---
 src/connect_session.cpp                 |    6 +++---
 src/connect_session.hpp                 |    6 +++---
 src/ctx.cpp                             |    6 +++---
 src/ctx.hpp                             |    6 +++---
 src/decoder.cpp                         |    6 +++---
 src/decoder.hpp                         |    6 +++---
 src/devpoll.cpp                         |    6 +++---
 src/devpoll.hpp                         |    6 +++---
 src/encoder.cpp                         |    6 +++---
 src/encoder.hpp                         |    6 +++---
 src/epoll.cpp                           |    6 +++---
 src/epoll.hpp                           |    6 +++---
 src/err.cpp                             |    6 +++---
 src/err.hpp                             |    6 +++---
 src/fd.hpp                              |    6 +++---
 src/forwarder.cpp                       |    6 +++---
 src/forwarder.hpp                       |    6 +++---
 src/fq.cpp                              |    6 +++---
 src/fq.hpp                              |    6 +++---
 src/i_engine.hpp                        |    6 +++---
 src/i_inout.hpp                         |    6 +++---
 src/i_poll_events.hpp                   |   32 +++++++++++++++----------------
 src/io_object.cpp                       |    6 +++---
 src/io_object.hpp                       |    6 +++---
 src/io_thread.cpp                       |    6 +++---
 src/io_thread.hpp                       |    6 +++---
 src/ip.cpp                              |    6 +++---
 src/ip.hpp                              |    6 +++---
 src/kqueue.cpp                          |    6 +++---
 src/kqueue.hpp                          |    6 +++---
 src/lb.cpp                              |    6 +++---
 src/lb.hpp                              |    6 +++---
 src/likely.hpp                          |    6 +++---
 src/msg_content.hpp                     |    6 +++---
 src/mutex.hpp                           |    6 +++---
 src/named_session.cpp                   |    6 +++---
 src/named_session.hpp                   |    6 +++---
 src/object.cpp                          |    6 +++---
 src/object.hpp                          |    6 +++---
 src/options.cpp                         |    6 +++---
 src/options.hpp                         |    6 +++---
 src/own.cpp                             |    6 +++---
 src/own.hpp                             |    6 +++---
 src/pair.cpp                            |    6 +++---
 src/pair.hpp                            |    6 +++---
 src/pgm_receiver.cpp                    |    6 +++---
 src/pgm_receiver.hpp                    |    6 +++---
 src/pgm_sender.cpp                      |    6 +++---
 src/pgm_sender.hpp                      |    6 +++---
 src/pgm_socket.cpp                      |    6 +++---
 src/pgm_socket.hpp                      |    6 +++---
 src/pipe.cpp                            |    6 +++---
 src/pipe.hpp                            |    6 +++---
 src/poll.cpp                            |    6 +++---
 src/poll.hpp                            |    6 +++---
 src/poller.hpp                          |    6 +++---
 src/poller_base.cpp                     |    6 +++---
 src/poller_base.hpp                     |    6 +++---
 src/pub.cpp                             |    6 +++---
 src/pub.hpp                             |    6 +++---
 src/pull.cpp                            |    6 +++---
 src/pull.hpp                            |    6 +++---
 src/push.cpp                            |    6 +++---
 src/push.hpp                            |    6 +++---
 src/queue.cpp                           |    6 +++---
 src/queue.hpp                           |    6 +++---
 src/rep.cpp                             |    6 +++---
 src/rep.hpp                             |    6 +++---
 src/req.cpp                             |    6 +++---
 src/req.hpp                             |    6 +++---
 src/select.cpp                          |    6 +++---
 src/select.hpp                          |    6 +++---
 src/semaphore.hpp                       |    6 +++---
 src/session.cpp                         |    6 +++---
 src/session.hpp                         |    6 +++---
 src/signaler.cpp                        |    6 +++---
 src/signaler.hpp                        |    6 +++---
 src/socket_base.cpp                     |    6 +++---
 src/socket_base.hpp                     |    6 +++---
 src/stdint.hpp                          |    6 +++---
 src/streamer.cpp                        |    6 +++---
 src/streamer.hpp                        |    6 +++---
 src/sub.cpp                             |    6 +++---
 src/sub.hpp                             |    6 +++---
 src/swap.cpp                            |    6 +++---
 src/swap.hpp                            |    6 +++---
 src/tcp_connecter.cpp                   |    6 +++---
 src/tcp_connecter.hpp                   |    6 +++---
 src/tcp_listener.cpp                    |    6 +++---
 src/tcp_listener.hpp                    |    6 +++---
 src/tcp_socket.cpp                      |    6 +++---
 src/tcp_socket.hpp                      |    6 +++---
 src/thread.cpp                          |    6 +++---
 src/thread.hpp                          |    6 +++---
 src/transient_session.cpp               |    6 +++---
 src/transient_session.hpp               |    6 +++---
 src/trie.cpp                            |    6 +++---
 src/trie.hpp                            |    6 +++---
 src/uuid.cpp                            |   13 +++----------
 src/uuid.hpp                            |    6 +++---
 src/windows.hpp                         |    6 +++---
 src/wire.hpp                            |    6 +++---
 src/xrep.cpp                            |    6 +++---
 src/xrep.hpp                            |    6 +++---
 src/xreq.cpp                            |    6 +++---
 src/xreq.hpp                            |    6 +++---
 src/ypipe.hpp                           |    6 +++---
 src/yqueue.hpp                          |    6 +++---
 src/zmq.cpp                             |    6 +++---
 src/zmq_connecter.cpp                   |    6 +++---
 src/zmq_connecter.hpp                   |    6 +++---
 src/zmq_engine.cpp                      |    6 +++---
 src/zmq_engine.hpp                      |    6 +++---
 src/zmq_init.cpp                        |    6 +++---
 src/zmq_init.hpp                        |    6 +++---
 src/zmq_listener.cpp                    |    6 +++---
 src/zmq_listener.hpp                    |    6 +++---
 tests/test_pair_inproc.cpp              |    6 +++---
 tests/test_pair_ipc.cpp                 |    6 +++---
 tests/test_pair_tcp.cpp                 |    6 +++---
 tests/test_reqrep_inproc.cpp            |    6 +++---
 tests/test_reqrep_ipc.cpp               |    6 +++---
 tests/test_reqrep_tcp.cpp               |    6 +++---
 tests/test_shutdown_stress.cpp          |    6 +++---
 tests/testutil.hpp                      |    6 +++---
 145 files changed, 448 insertions(+), 455 deletions(-)

commit 3d01b929fe5e57311ea62fff4a37abbeaab1b3eb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 29 08:19:07 2010 +0200

    Peter Bourgon added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 9384faf7e5f2fb58d976df8b29f979402346207a
Author: Peter Bourgon <peter.bourgon@gmail.com>
Date:   Fri Oct 29 08:16:59 2010 +0200

    Add function to zmq::error_t to access errnum

    Signed-off-by: Peter Bourgon <peter.bourgon@gmail.com>

 include/zmq.hpp |    5 +++++
 1 file changed, 5 insertions(+)

commit dace2473f1cfea902dfd3be4a233f4092397d65a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 28 08:44:53 2010 +0200

    Burak Arslan added to the AUTHORS file

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 3eb935ef6e211d2fa5094ae032777ed319253d11
Author: Burak Arslan <burak-github@arskom.com.tr>
Date:   Thu Oct 28 08:41:28 2010 +0200

    switch to c++-specific headers

    Signed-off-by: Burak Arslan <burak-github@arskom.com.tr>

 include/zmq.hpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9a1d4df0fd29e040756bff6302cf9a134074d9b9
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Wed Oct 27 09:37:32 2010 +0200

    fix typo, destroy new engine

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/session.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 465da7b17eef4c86020a5def41a87977410b965a
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Tue Oct 26 16:02:47 2010 +0200

    drop connection requests with duplicate peer identity

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/session.cpp  |    9 +++++++--
 src/zmq_init.hpp |    2 +-
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 401986e6bb565f94d975acaba9504eb6ee3c8598
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Oct 26 15:35:56 2010 +0200

    Build with MSVC2005 fixed

    To use __rdtsc() function MSVC2005 requires including intrin.h

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 AUTHORS       |    1 +
 src/clock.cpp |    4 ++++
 2 files changed, 5 insertions(+)

commit e1debf15bbdb0747cffb6013d59fb3f73462a600
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Oct 26 14:24:07 2010 +0200

    Update to OpenPGM 5.0.91.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 configure.in                              |    2 +-
 foreign/openpgm/libpgm-5.0.78.tar.gz      |  Bin 511599 -> 0 bytes
 foreign/openpgm/libpgm-5.0.91~dfsg.tar.gz |  Bin 0 -> 444731 bytes
 3 files changed, 1 insertion(+), 1 deletion(-)

commit 11af0fcc54d06052bbbf20c64a3ce31000d02f7d
Merge: 71bef33 8ef53c0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 23 22:12:47 2010 +0200

    Merge branch 'maint'

    * maint:
      Fixes build on Linux using Sun Studio compiler

commit 8ef53c0dc6d625bdeb95b7f9626cf58cf6babfed
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Fri Oct 15 10:43:22 2010 +0200

    Fixes build on Linux using Sun Studio compiler

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 configure.in |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 71bef330fc9f09ee070c90d174fc0bcb7783b38d
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Sat Oct 23 20:59:54 2010 +0200

    handle decoding malformed messages

    Signed-off-by: Dhammika Pathirana <dhammika@gmail.com>

 src/decoder.cpp    |   26 ++++++++++++++++++--------
 src/decoder.hpp    |   23 +++++++++++++++++++----
 src/zmq_engine.cpp |   26 ++++++++++++++++----------
 3 files changed, 53 insertions(+), 22 deletions(-)

commit 8d6979922efff7183ce03b49715472e5b2a6a1df
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Sat Oct 23 14:35:02 2010 +0200

    Changes for MSVC OpenPGM build.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/pgm_socket.cpp |    1 -
 src/pgm_socket.hpp |    1 +
 src/zmq.cpp        |    1 +
 3 files changed, 2 insertions(+), 1 deletion(-)

commit da59f8dd7a7f275eff98e5705767ac89ac503912
Merge: e73c96b 21b0c0b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 23 13:51:12 2010 +0200

    Merge branch 'maint'

    * maint:
      SunStudio fixed.

commit 21b0c0b4f7896facbfcaf10c8eb777e72a505a45
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 23 13:49:13 2010 +0200

    SunStudio fixed.

    With SunStudio's implementation of STL basic_string constructor
    doesn't accept NULL as a parameter even though size of string
    is set to zero. Fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/object.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e73c96ba30c5e9ada83592bc2289a56eeadf6155
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 18 09:11:36 2010 +0200

    Minor comment improvement.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/session.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 0c86f90280d69bd360f7566f9549c904c26d5e42
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Oct 17 10:26:06 2010 +0200

    Minor typo fixed in zmq_getsockopt(3) man page.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a780833683ed1f5bc4a112644836973f8282434b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Oct 17 10:23:58 2010 +0200

    ZMQ_BACKLOG socket option added.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   13 +++++++++++++
 doc/zmq_setsockopt.txt |   13 +++++++++++++
 include/zmq.h          |    1 +
 src/config.hpp         |    4 ----
 src/options.cpp        |   19 +++++++++++++++++++
 src/options.hpp        |    3 +++
 src/tcp_listener.cpp   |   12 +++++++-----
 src/tcp_listener.hpp   |    3 ++-
 src/zmq_listener.cpp   |    2 +-
 9 files changed, 59 insertions(+), 11 deletions(-)

commit e8e2944f45eab3e22dc46ceac3225a886ca468ad
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Oct 17 09:54:12 2010 +0200

    ZMQ_RECONNECT_IVL socket options added.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   15 ++++++++++--
 doc/zmq_setsockopt.txt |   13 +++++++++++
 include/zmq.h          |    1 +
 src/config.hpp         |    3 ---
 src/options.cpp        |   59 +++++++++++++++++++++++++++++++++---------------
 src/options.hpp        |    3 +++
 src/zmq_connecter.cpp  |   15 ++++++------
 src/zmq_connecter.hpp  |    2 +-
 8 files changed, 80 insertions(+), 31 deletions(-)

commit 8b8837688a97c4d05aff01a6dea7ac5a35b21fa2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 17:56:25 2010 +0200

    Couple of bugs in zmq_poll fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 72b15a6dae6c199d847ebde5ac73de238f0ebf75
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 16:05:34 2010 +0200

    Implementation of zmq_strerror moved from zmq.cpp to err.cpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/err.cpp |   41 +++++++++++++++++++++++++++++++++++++++++
 src/err.hpp |    9 ++++++---
 src/zmq.cpp |   38 +-------------------------------------
 3 files changed, 48 insertions(+), 40 deletions(-)

commit 61d38fbeed89d69516b9976c60b7711fefed6411
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 14:48:06 2010 +0200

    Bug in low precision clock fixed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/clock.cpp |    4 ++--
 src/clock.hpp |    3 +++
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 0a03e86e9547fa7c221b316a5a943467adea3dfd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 10:53:29 2010 +0200

    ZMQ_LINGER socket option added.

        1. ZMQ_LINGER option can be set/get
        2. options are part of own_t base class rather than being declared
           separately by individual objects
        3. Linger option is propagated with "term" command so that the
           newest value of it is used rather than the stored old one.
        4. Session sets the linger timer if needed and terminates
           as soon as it expires.
        5. Corresponding documentation updated.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_getsockopt.txt |   16 ++++++++++++++++
 doc/zmq_setsockopt.txt |   16 ++++++++++++++++
 include/zmq.h          |    1 +
 src/command.hpp        |    1 +
 src/object.cpp         |    7 ++++---
 src/object.hpp         |    4 ++--
 src/options.cpp        |   18 ++++++++++++++++++
 src/options.hpp        |    3 +++
 src/own.cpp            |   20 ++++++++++++--------
 src/own.hpp            |    8 ++++++--
 src/pair.cpp           |    4 ++--
 src/pair.hpp           |    2 +-
 src/pub.cpp            |    4 ++--
 src/pub.hpp            |    2 +-
 src/pull.cpp           |    4 ++--
 src/pull.hpp           |    2 +-
 src/push.cpp           |    4 ++--
 src/push.hpp           |    2 +-
 src/session.cpp        |   40 ++++++++++++++++++++++++++++++++++++----
 src/session.hpp        |   17 ++++++++++++-----
 src/socket_base.cpp    |    4 ++--
 src/socket_base.hpp    |    6 +-----
 src/sub.cpp            |    4 ++--
 src/sub.hpp            |    2 +-
 src/xrep.cpp           |    4 ++--
 src/xrep.hpp           |    2 +-
 src/xreq.cpp           |    4 ++--
 src/xreq.hpp           |    2 +-
 src/zmq_connecter.cpp  |    5 ++---
 src/zmq_connecter.hpp  |    4 ----
 src/zmq_init.cpp       |    3 +--
 src/zmq_init.hpp       |    4 ----
 src/zmq_listener.cpp   |    7 +++----
 src/zmq_listener.hpp   |    6 +-----
 34 files changed, 158 insertions(+), 74 deletions(-)

commit a1474e305762d32df2b79300d124aac7fa0181c8
Author: Toralf Wittner <toralf.wittner@gmail.com>
Date:   Sat Oct 16 08:27:57 2010 +0200

    Cancel tx_timer_id in pgm_sender_t::out_event().

    Signed-off-by: Toralf Wittner <toralf.wittner@gmail.com>

 AUTHORS            |    1 +
 src/pgm_sender.cpp |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 733c6780c557a0eaacdf17961fb8f3841c65f862
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 01:22:18 2010 +0200

    Minor code clean-up to keep clang compiler happy.

    "warning: extra ';' inside a struct or union [-pedantic]"

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pipe.hpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b95f11aa0a7887f5eb8eb8e2e0f09532bc3604ba
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Sat Oct 16 01:05:15 2010 +0200

    Don't set pedantic to yes if using ICC

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 acinclude.m4 |   17 +++++++++++++++++
 configure.in |   13 +++++++++----
 2 files changed, 26 insertions(+), 4 deletions(-)

commit 48b0a901b8056957e36ba52ae4416d656971bb47
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 00:53:50 2010 +0200

    Obsolete compile-time option removed.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/config.hpp |    4 ----
 1 file changed, 4 deletions(-)

commit ae5a3c8a99a30b54d0b079bbd98be286685056e8
Merge: 18d46c8 710615c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 00:49:01 2010 +0200

    Merge branch 'maint'

    * maint:
      Version number increased.

    Conflicts:
        include/zmq.h

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

commit 710615cdab8c8e500c259bb27df2af70f5ae8275
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 16 00:47:31 2010 +0200

    Version number increased.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 include/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18d46c81047fc2f8449a5b4ff3e41cc25bd1cfc2
Merge: 027eed4 53d1677
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 15 19:38:52 2010 +0200

    Merge branch 'maint'

commit 53d1677c8b0f85e309c6a067b47c80dedcffb5aa
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 15 19:37:41 2010 +0200

    Update NEWS for 2.0.10 release

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 NEWS |   28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 027eed41b8bf16cb8b2f9f83be1fe286b39e4fd8
Merge: 2e9871c 6e95205
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 15 17:46:21 2010 +0200

    Merge branch 'maint'

    * maint:
      Fix memory leak under Windows

commit 6e9520533395b19ed6f6a17de6f196aa5e93da9f
Author: Taras Shpot <taras.shpot@eleks.com>
Date:   Fri Oct 15 17:45:02 2010 +0200

    Fix memory leak under Windows

    The comment about memory ownership in uuid_t::to_string
    was misleading as on most platforms the buffer is a field
    of the object;
    The string allocated in UuidToString() wasn't properly freed
    with RpcStringFree()

    Signed-off-by: Taras Shpot <taras.shpot@eleks.com>

 AUTHORS      |    1 +
 src/uuid.cpp |    2 ++
 src/uuid.hpp |    2 +-
 3 files changed, 4 insertions(+), 1 deletion(-)

commit 2e9871ce34b5abc60ebc37c1887b76895537d62a
Merge: eeb8e7c 5b44025
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Oct 15 17:30:03 2010 +0200

    Merge branch 'maint'

    Conflicts:
        configure.in

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

commit 5b44025602b6af952fc434a6e7bf8dff65a00be6
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Oct 15 17:27:10 2010 +0200

    maint: Upgrade OpenPGM to 2.1.28~dfsg

    Upgrade OpenPGM to version 2.1.28 for ZeroMQ 2.0.x. Now we also use the
    DFSG-compliant upstream release tarball.

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 configure.in                              |    2 +-
 foreign/openpgm/libpgm-2-1-28~dfsg.tar.gz |  Bin 0 -> 340501 bytes
 foreign/openpgm/libpgm-2.1.26.tar.gz      |  Bin 413863 -> 0 bytes
 3 files changed, 1 insertion(+), 1 deletion(-)

commit eeb8e7c8beef83fe8c23bde888a1081fc9e8e3ec
Merge: 7b9e397 3cf01bf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 15 17:13:36 2010 +0200

    Merge branch 'maint'

    * maint:
      Makefile.am: Add missing files to distribution, improve maintainer-clean
      configure.in: Extract API version from zmq.h
      Added bin directory to ignore list.

    Conflicts:
        configure.in
        include/zmq.h

commit 3cf01bf56e66657da795e43f09fa2499b2381dc9
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Oct 15 15:30:10 2010 +0200

    Makefile.am: Add missing files to distribution, improve maintainer-clean

    Add missing files needed for regenerating configure to the distribution;
    add MAINTAINERS; improve maintainer-clean to produce a really clean tree.

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 Makefile.am |   18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 3b3df731e60d604794538d0b9f6cb5b802a8745d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Oct 15 15:05:54 2010 +0200

    configure.in: Extract API version from zmq.h

    * Added a version.sh and relevant changes to configure.in to extract the API
      version from zmq.h at the time autogen.sh is run.
    * Moved the version macros to be next to zmq_version in zmq.h and improved
      the comments.
    * Modified ZMQ_MAKE_VERSION to use (x) instead of plain x when expanding
      macro parameters.

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 Makefile.am   |    1 +
 configure.in  |    8 +++++---
 include/zmq.h |   21 +++++++++++----------
 version.sh    |   21 +++++++++++++++++++++
 4 files changed, 38 insertions(+), 13 deletions(-)

commit 7b9e39724eeecf33dde3b0e4fd9f205480afb977
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 15 11:31:20 2010 +0200

    Minor fix in devpoll.hpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/devpoll.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 17b0785744287d0897175ed13000fba710c2dc5b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 15 11:29:20 2010 +0200

    Destructor of poller_base_t made virtual.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/poller_base.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e74a439c4b7901f3d3607a2d4142266bc1781b4
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Fri Oct 15 11:21:56 2010 +0200

    Cast execute_timers() result to int

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 src/devpoll.cpp |    2 +-
 src/epoll.cpp   |    2 +-
 src/kqueue.cpp  |    2 +-
 src/poll.cpp    |    2 +-
 src/select.cpp  |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit b64b50ae218dbbc362eaeb0571a337650f623e3c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 15 10:58:19 2010 +0200

    Timers correctly canceled by PGM engines on shutdown.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/pgm_receiver.cpp |   10 +++++++---
 src/pgm_sender.cpp   |   17 ++++++++++++++---
 src/pgm_sender.hpp   |    3 ++-
 3 files changed, 23 insertions(+), 7 deletions(-)

commit e288f7a347eb5a2fd38043d930fc67c8e8bcce9b
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Fri Oct 15 10:43:22 2010 +0200

    Fixes build on Linux using Sun Studio compiler

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 configure.in |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit e33e4d7650e36af7d09569de21f7f71b5670945c
Author: Mikko Koppanen <mkoppanen@php.net>
Date:   Fri Oct 15 10:38:09 2010 +0200

    ICC related qualifier fix

    Signed-off-by: Mikko Koppanen <mkoppanen@php.net>

 AUTHORS      |    1 +
 src/pipe.hpp |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 03a18c27ace49cbcbb0c495e4c575c34b8f862a4
Author: Martin Pales <m.pales@gmail.com>
Date:   Thu Oct 14 16:31:58 2010 +0200

    zmq::clock_t : return correct value in rdtsc() on solaris

    Function clock_t::rdtsc() now returns correct value when compiled
    with sunstudio 12 compiler.

    Signed-off-by: Martin Pales <m.pales@gmail.com>

 src/clock.cpp |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 26d7669464054a4aed3f0ee9643bffa0e01aab5c
Author: Gonzalo Diethelm <gonzalo.diethelm@diethelm.org>
Date:   Thu Oct 14 08:02:43 2010 -0300

    Added bin directory to ignore list.

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit b7386f5b5031b2e75fb4370069935d7f6a0eedbb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 14 12:13:52 2010 +0200

    To insert to associateive STL containers value_type used instead of make_pair

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/ctx.cpp          |    4 ++--
 src/pgm_receiver.cpp |    2 +-
 src/socket_base.cpp  |    2 +-
 src/xrep.cpp         |    2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

commit f9e6d94be56fab6d1d8e281e48bb5d6091562acb
Author: Martin Pales <m.pales@gmail.com>
Date:   Thu Oct 14 12:02:05 2010 +0200

    zmq::poller_base_t : workaround for sunstudio compiler in add_timer()

    A minor workaround to resolve compilation error with sunstudio compiler,
    which does not yet support member templates for std::multimap.

    Signed-off-by: Martin Pales <m.pales@gmail.com>

 src/poller_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cafcdbbe2bc9c78899568bb6cb957b700e12c66b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 14 09:34:09 2010 +0200

    Safety measure in zmq_msg_close implemented

    zmq_msg_close now empties the message on zmq_msg_close, thus not
    leaving random data in the structure, that may be mistaken for
    a valid message.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |   32 +++++++++++++++++++-------------
 1 file changed, 19 insertions(+), 13 deletions(-)

commit b174ad2c45c746e56b41671a3d68ef496bba6b97
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Oct 14 09:16:49 2010 +0200

    zmq_poll man page fixed to reflect the precise timeout semantics.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 doc/zmq_poll.txt |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit da73b7c6f60f2ea1adc6fbd99e22576b9ce2f316
Author: Martin Pales <m.pales@gmail.com>
Date:   Thu Oct 14 08:38:11 2010 +0200

    zmq::devpoll_t : correct a typo in loop()

    A minor typo correction to resolve compilation error on Solaris.

    Signed-off-by: Martin Pales <m.pales@gmail.com>

 AUTHORS         |    1 +
 src/devpoll.cpp |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit e2167cecaefec6557c7a5712fb75e51487ff69a6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Oct 13 21:39:20 2010 +0200

    Precise timouts in zmq_poll implemented

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/zmq.cpp |  127 ++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 90 insertions(+), 37 deletions(-)

commit 9d96e0037a9d027fd286f771fa2a8db5def485c8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Oct 13 10:09:46 2010 +0200

    Clean-up of the code related to attaching/detaching engines to sessions.

    Session base class now handles the engine events exclusively. It notifies
    derived session types using dedicated "attached" and "detached" events.

    Couple of bugs was fixed along the way.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/connect_session.cpp   |    9 ++++-----
 src/connect_session.hpp   |    3 ++-
 src/named_session.cpp     |   15 +++++----------
 src/named_session.hpp     |    5 +----
 src/session.cpp           |   18 ++++++++----------
 src/session.hpp           |   12 ++++++------
 src/transient_session.cpp |    4 ++++
 src/transient_session.hpp |    3 ++-
 8 files changed, 32 insertions(+), 37 deletions(-)

commit 5ae878b891fa5189f5202f1577d22bdb9ba51f77
Merge: 954d7f7 2568947
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Oct 13 08:01:13 2010 +0200

    Merge branch 'maint'

    * maint:
      Add support for RHEL6 in the spec file

commit 2568947a71adc0e8ddad54b6054a3b3e532e1613
Author: Sebastian Otaegui <feniix@gmail.com>
Date:   Wed Oct 13 07:59:50 2010 +0200

    Add support for RHEL6 in the spec file

    Signed-off-by: Sebastian Otaegui <feniix@gmail.com>

 AUTHORS                   |    1 +
 builds/redhat/zeromq.spec |    7 +++++++
 2 files changed, 8 insertions(+)

commit 954d7f743dbc0c159794915c6deadc374dbf64d2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Oct 12 17:55:09 2010 +0200

    Avoid duplicate creation of pipes for a single session

    When a session is being closed down its inbound and outbound
    pipe pointers are set to null. If (re) connection happens at
    that time, session may try to reinistantiate the pipes which
    is wrong. This patch allows session to attach pipes only once
    in its lifetime.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/session.cpp |   40 ++++++++++++++++++++++++----------------
 src/session.hpp |    3 +++
 2 files changed, 27 insertions(+), 16 deletions(-)

commit c6d74e0a0345cae2c09c6fb29911159331c93e64
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Oct 12 12:26:21 2010 +0200

    Drop PGM parameters to 100mb friendly range.

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/pgm_socket.cpp |   30 +++++++++++++-----------------
 1 file changed, 13 insertions(+), 17 deletions(-)

commit 5b8af52efc0ddf1df5506a2800aa69bc50a44ddb
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Oct 11 17:59:58 2010 +0200

    Fix assertion in PGM transports on cancel_timer

    Signed-off-by: Steven McCoy <steven.mccoy@miru.hk>

 src/pgm_receiver.cpp |    2 ++
 src/pgm_sender.cpp   |   12 ++++++++----
 2 files changed, 10 insertions(+), 4 deletions(-)

commit e168173162dd26238a799c19142bab8b7885ebb3
Merge: f22e85f 57428db
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 11 16:42:10 2010 +0200

    Merge branch 'maint'

    * maint:
      configure.in: Do not patch libtool rpath handling
      Fixing the Red Hat packaging

commit 57428db89885631128cb9a48b334b050eb83a512
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Oct 11 16:39:48 2010 +0200

    configure.in: Do not patch libtool rpath handling

    For historic reasons (mainly compatbility with really old libtool), configure was
    patching libtool to not use rpath in binaries. This breaks (among other things)
    correct operation of "make check" since the test binaries may not be run with
    the correct shared library version.

    Current best practice as seen e.g. at http://wiki.debian.org/RpathIssue suggests
    that this is no longer an issue, so I'm removing the code that patches libtool.

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 configure.in |   11 -----------
 1 file changed, 11 deletions(-)

commit 6cd0867f0208b4fca4cfca2a2ff7bc0de5199d4a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 11 16:32:27 2010 +0200

    Fixing the Red Hat packaging

    When adding ZMQ_VERSION macros, I incorrectly removed
    the PACKAGE_VERSION macro. Adding it back.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 configure.in |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit f22e85f19f2bf58285e4984e875487f17c85e791
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Oct 11 12:23:18 2010 +0200

    Reverting commit 1d431190f50c86f62460

    The patch was supposed to check that pipe writer sends messages
    in atomic fashion. However, it prevented the user to read
    half of a message and close the socket.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |    7 -------
 1 file changed, 7 deletions(-)

commit 73e7ef37c2e72dd542d20ddc5be30cedce68e329
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Oct 10 09:23:37 2010 +0200

    When XREP silently drops message, it does not empty it -- fixed

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/xrep.cpp |   29 +++++++++++++++--------------
 1 file changed, 15 insertions(+), 14 deletions(-)

commit f5030a93a52fc73292c16dae5f8e0e1b39732df0
Author: Christian Gudrian <christian.gudrian@fluidon.com>
Date:   Sat Oct 9 19:19:50 2010 +0200

    Execute the timers before pollset initialisation.

    Since executing the timers might modify the source pollsets we have
    to defer the initialisation until after the timers have executed.

    Signed-off-by: Christian Gudrian <christian.gudrian@fluidon.com>

 AUTHORS        |    1 +
 src/select.cpp |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 318cdd1f24cd663702222cc182ae2ccac5e76870
Merge: 214b560 ef8db78
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 9 08:03:58 2010 +0200

    Merge branch 'maint'

    * maint:
      Version macros added

    Conflicts:
        builds/msvc/platform.hpp

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

commit ef8db789a1c97152e84ff03c9a7f6e1e77d95981
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Oct 9 07:53:24 2010 +0200

    Version macros added

    Macro ZMQ_VERSION represents the current version of 0MQ
    Macro ZMQ_MAKE_VERSION(major,minor,patch) allows to create
    a representation of the specified version.
    The versions can be compared using simple <, >, ==, etc.
    operators.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 builds/msvc/platform.hpp |    6 +-----
 configure.in             |   13 -------------
 include/zmq.h            |   10 ++++++++++
 src/zmq.cpp              |    6 +++---
 4 files changed, 14 insertions(+), 21 deletions(-)

commit 214b56077a7e5d12813c8034013171d33283566c
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Oct 8 22:06:41 2010 +0200

    Fix missing platform.hpp in zmq_connecter.cpp

    Missed testing on Win32

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 src/zmq_connecter.cpp |    1 +
 1 file changed, 1 insertion(+)

commit daf5d3273b1930af7e4c54ee597b89ecb3763000
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 8 21:42:55 2010 +0200

    More cleanup of session termination process.

    Fix in termination of session attached to a REP socket.
    Several fixes of session termination in case of disconnection.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/connect_session.cpp |    2 ++
 src/named_session.cpp   |    1 +
 src/session.cpp         |   10 ++++++++--
 3 files changed, 11 insertions(+), 2 deletions(-)

commit f90c8d957ea2a11c73a307aae2494a26d22c2f3b
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Oct 8 17:49:40 2010 +0200

    Scalability improvements for large amounts of connections

    Add signaler_sndbuf_size option to config.hpp which allows the user to
    increase the size of the send buffer used by the signalling socketpair.

    Implement random backoff for reconnection attempts using a primitive
    pseudo-random generation to prevent reconnection storms.

    Add wait_before_connect option to config.hpp to allow the user to enable
    random delay even on initial connect. Default is false for low latency.

    Signed-off-by: Martin Lucina <mato@kotelna.sk>

 src/config.hpp        |    9 ++++++++-
 src/signaler.cpp      |   39 ++++++++++++++++++++++++++++++++-------
 src/zmq_connecter.cpp |   25 +++++++++++++++++++++----
 src/zmq_connecter.hpp |    3 +++
 4 files changed, 64 insertions(+), 12 deletions(-)

commit 7a685b0f88386b11c4c1fcbb45324aa28f4e2eac
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 8 17:23:21 2010 +0200

    Clean-up of session termination process

    Specifically, shutdown of child objects is initiated *before* termination
    handshake with socket object.

    Signed-off-by: Martin Sustrik <sustrik@250bpm.com>

 src/fq.cpp      |    4 ++
 src/fq.hpp      |    1 +
 src/pair.cpp    |   12 ++++--
 src/pair.hpp    |    1 +
 src/pipe.cpp    |    7 ++++
 src/pipe.hpp    |    1 +
 src/session.cpp |  111 ++++++++++++++++++++++++++++---------------------------
 src/session.hpp |   25 ++++++++-----
 src/xrep.cpp    |    4 ++
 src/xrep.hpp    |    1 +
 10 files changed, 99 insertions(+), 68 deletions(-)

commit 965fb7755b50ca1522f076da46fa3651812126e1
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Oct 4 16:22:30 2010 +0200

    configure.in: OpenPGM no longer requires pkg-config

 configure.in |   14 +++-----------
 1 file changed, 3 insertions(+), 11 deletions(-)

commit d62d721f1a6f7c9df627b3f3fa8e200ddc9bf5f5
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Mon Oct 4 16:14:57 2010 +0200

    configure.in: Add amd64 to OpenPGM supported platforms

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1d431190f50c86f624605ab11c1580b2d2f7ee06
Author: Nir Soffer <nirsof@gmail.com>
Date:   Sat Oct 2 10:01:18 2010 +0200

    make sure that reader does not terminate in the middle of a multipart message

 AUTHORS      |    1 +
 src/xrep.cpp |    7 +++++++
 2 files changed, 8 insertions(+)

commit 2142b8918a0cea79c79c8ed8ce5652148abe4a39
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 1 18:46:32 2010 +0200

    issue 92 -- Assertion failed: inpipe && outpipe (pair.cpp:86) -- fixed

 src/pair.cpp |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 1a6cd59e8b423cdf3a4f4f854b37c5e0693baef6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 1 16:03:08 2010 +0200

    stress test for shutdown process added

 tests/Makefile.am              |    7 +++-
 tests/test_shutdown_stress.cpp |   83 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 2 deletions(-)

commit 2a85cce189ae915e85bb567b1401d063284e622f
Merge: 0bb76b6 8f9080e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 1 13:37:59 2010 +0200

    Merge branch 'master' of github.com:zeromq/zeromq2

commit 0bb76b667b277b143a9a2901e8bf407f34da469d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Oct 1 13:37:46 2010 +0200

    assert when xrep socket gets reconnected in the middle of the shutdown -- fixed

 src/xrep.cpp |   35 ++++++++++++++++++++++-------------
 1 file changed, 22 insertions(+), 13 deletions(-)

commit 8f9080ebb9ea5576c87a1412748aef1faf0653f6
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Sep 30 15:30:24 2010 +0200

    zmq_poll(): Fix busy-loop if timeout is zero

    Fix a case where zmq_poll() (poll-based version) could go off into a busy-loop
    if no revents are returned and the timeout passed in is zero.

 src/zmq.cpp |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit ac9b05c36b9d1f5bb3f8465b4c56478c399a01f3
Merge: 98fa2fa 79aea5f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 30 15:12:06 2010 +0200

    Merge branch 'maint'

    * maint:
      zmq_msg_move called on uninitialised message in xrep_t::xrecv -- fixed

commit 79aea5ffa61f969ec66205f7c9c8c1611a2fd8da
Author: Max Wolf <YIDIEPXGXGPN@spammotel.com>
Date:   Thu Sep 30 15:10:47 2010 +0200

    zmq_msg_move called on uninitialised message in xrep_t::xrecv -- fixed

 AUTHORS      |    1 +
 src/xrep.cpp |    7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 98fa2fa802773252a2c569ffea99bce1c5f9cd4c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 30 14:03:54 2010 +0200

    fix in XREP's fair queueing mechanism

 src/xrep.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 7881ba1bcd2c940037e54a74d6aeb8376329cde4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 30 11:35:14 2010 +0200

    minor whitespace fix

 src/pgm_socket.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eaa925eca7a3e0c64d184a4a96fec139166a7470
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Thu Sep 30 11:33:35 2010 +0200

    FreeBSD doesn't define MSG_ERRQUEUE -- now it's defined in 0MQ

 src/pgm_socket.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit ec2e85919e4a34a313e6d0df84cc421bc9682ad8
Author: Ilja Golshtein <ilejncs@narod.ru>
Date:   Wed Sep 29 10:09:03 2010 +0200

    C++ binding destructors don't throw exceptions

 AUTHORS         |    1 +
 include/zmq.hpp |    6 ++----
 2 files changed, 3 insertions(+), 4 deletions(-)

commit d14be62499478f31cf641399982ecdf4f6f158c4
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Sep 28 22:46:56 2010 +0200

    more fixes to (e)pgm transport

 src/pgm_receiver.cpp |   21 ++++++++++++-
 src/pgm_receiver.hpp |    7 +++++
 src/pgm_sender.cpp   |   37 +++++++++++++++++++++--
 src/pgm_sender.hpp   |    7 +++++
 src/pgm_socket.cpp   |   81 +++++++++++++++++++++++++++++++++++++-------------
 src/pgm_socket.hpp   |    5 ++++
 6 files changed, 134 insertions(+), 24 deletions(-)

commit 96d85b20982926e60d5065cba3203971c9eeed63
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Sep 28 16:58:51 2010 +0200

     * Add assertions to check for OpenPGM calls with invalid parameters.
     * Assertion to check that pgm_getaddrinfo is actually returning something.
     * Missing pgm_connect call.
     * Typo on TOS causing immediate abort.
     * Placeholder calls for timeouts whilst continuing spin loop functionality.
     * OpenPGM v5 now supports reference counting so remove init checks.
     * Duplicate UDP unicast port setting, requires one unicast and one multicast.
     * Incorrectly set socket rcvbuf size with sndbuf.
     * Replace std::lexicographical_compare of TSI's with long word integer comparisons.
     * pgm_socket_t::receive returns -1 on no data.

 src/pgm_receiver.cpp |    2 +-
 src/pgm_receiver.hpp |   12 +++---
 src/pgm_socket.cpp   |  109 ++++++++++++++++++++++++++++++++------------------
 src/zmq.cpp          |   24 +++++------
 4 files changed, 87 insertions(+), 60 deletions(-)

commit 00cd7d49c7f2b532b2349581b82577bc714f9bf8
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Tue Sep 28 16:35:29 2010 +0200

    Upgrade to OpenPGM-5.0.78

 configure.in                         |   16 +-
 foreign/openpgm/libpgm-2.1.26.tar.gz |  Bin 413863 -> 0 bytes
 foreign/openpgm/libpgm-5.0.78.tar.gz |  Bin 0 -> 511599 bytes
 src/Makefile.am                      |   96 +++---
 src/pgm_socket.cpp                   |  564 ++++++++++++++++++----------------
 src/pgm_socket.hpp                   |    2 +-
 src/zmq.cpp                          |   26 +-
 7 files changed, 364 insertions(+), 340 deletions(-)

commit 10bb9d0405169487cd53c6f109091e036577860e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Sep 28 15:32:12 2010 +0200

    Dhammika Pathirana was missing from the AUTOHRS file for some reason -- fixed

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 87beaaa00d49d216f856b8322f1ad04e4f9ecea3
Author: Gonzalo Diethelm <gdiethelm@dcv.cl>
Date:   Tue Sep 28 15:27:45 2010 +0200

    ZMQ_TYPE socket option added

 .gitignore             |    1 +
 doc/zmq_getsockopt.txt |   13 +++++++++++++
 include/zmq.h          |    1 +
 src/options.cpp        |   10 ++++++++++
 src/options.hpp        |    3 +++
 src/pair.cpp           |    1 +
 src/pub.cpp            |    1 +
 src/pull.cpp           |    1 +
 src/push.cpp           |    1 +
 src/rep.cpp            |    1 +
 src/req.cpp            |    1 +
 src/sub.cpp            |    1 +
 src/xrep.cpp           |    1 +
 src/xreq.cpp           |    1 +
 14 files changed, 37 insertions(+)

commit 6715f9b1858587db6aec826bdc9a7905bba8030e
Merge: 16c3884 c1deb22
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Sep 28 07:51:59 2010 +0200

    Merge branch 'maint'

    * maint:
      crash when closing an ypipe -- fixed

commit c1deb226f4d1bc94c158c050088813aae96775e9
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Tue Sep 28 07:46:17 2010 +0200

    crash when closing an ypipe -- fixed

 src/ypipe.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f61921d09679c4bed15204ec4e55d1c7313e3f6a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Sep 28 07:39:16 2010 +0200

    REQ socket can die when reply is delivered on wrong unerlying connection -- fixed

 src/req.cpp |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 16c3884a61b146040277ec61bfdbc553c883b4d6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Sep 27 11:18:21 2010 +0200

    MSVC build fixed

 builds/msvc/libzmq/libzmq.vcproj |   42 +++++++++++++++++++++++++++++++++-----
 src/clock.cpp                    |    2 +-
 src/ctx.cpp                      |    6 ++++++
 src/select.cpp                   |    3 ++-
 4 files changed, 46 insertions(+), 7 deletions(-)

commit e2f834d2947ad7e7f4e6bfb5be653af8b8a2a576
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Sep 27 09:53:30 2010 +0200

    ZMQ_FD and ZMQ_EVENTS documentation added

 doc/zmq_getsockopt.txt |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 30c1cba4e4276f4ddcb5a455fdd62d4d6bd1edd2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Sep 27 09:34:00 2010 +0200

    latency optimisation for the case where there are no timers

 src/poller_base.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 238640a526c419392bf2df95de196db89ea6eb73
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 26 21:42:23 2010 +0200

    timers properly implemented

 src/config.hpp        |    4 ----
 src/devpoll.cpp       |   35 +++++----------------------------
 src/devpoll.hpp       |    6 ------
 src/epoll.cpp         |   43 +++++++---------------------------------
 src/epoll.hpp         |    6 ------
 src/kqueue.cpp        |   40 ++++++-------------------------------
 src/kqueue.hpp        |    6 ------
 src/poll.cpp          |   33 +++++++------------------------
 src/poll.hpp          |    6 ------
 src/poller_base.cpp   |   52 ++++++++++++++++++++++++++++++++++++++++++++++++-
 src/poller_base.hpp   |   27 +++++++++++++++++++++++++
 src/select.cpp        |   37 +++++++----------------------------
 src/select.hpp        |    6 ------
 src/zmq_connecter.cpp |    3 ++-
 src/zmq_connecter.hpp |    2 +-
 15 files changed, 113 insertions(+), 193 deletions(-)

commit 8d7bf6684cbb9625ec7c963b8867e2411b49eb57
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 26 19:22:33 2010 +0200

    common base for all pollers created; the only thing it handles at the moment is 'load'

 src/Makefile.am     |    2 ++
 src/devpoll.cpp     |   13 ++----------
 src/devpoll.hpp     |    9 ++-------
 src/epoll.cpp       |   12 ++---------
 src/epoll.hpp       |    9 ++-------
 src/kqueue.cpp      |   15 +++++---------
 src/kqueue.hpp      |    9 ++-------
 src/poll.cpp        |   12 ++---------
 src/poll.hpp        |    9 ++-------
 src/poller_base.cpp |   44 ++++++++++++++++++++++++++++++++++++++++
 src/poller_base.hpp |   56 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/select.cpp      |   12 ++---------
 src/select.hpp      |    9 ++-------
 13 files changed, 125 insertions(+), 86 deletions(-)

commit cf815e8c785254d97190f223765fbbd19a1e6d52
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 26 18:30:03 2010 +0200

    new interfaces for timers; the implementation is not changed yet

 src/config.hpp        |    4 ++++
 src/devpoll.cpp       |    6 +++---
 src/devpoll.hpp       |    7 +++----
 src/epoll.cpp         |    6 +++---
 src/epoll.hpp         |    4 ++--
 src/i_poll_events.hpp |    2 +-
 src/io_object.cpp     |   10 +++++-----
 src/io_object.hpp     |    6 +++---
 src/io_thread.cpp     |    2 +-
 src/io_thread.hpp     |    2 +-
 src/kqueue.cpp        |    6 +++---
 src/kqueue.hpp        |    4 ++--
 src/poll.cpp          |    6 +++---
 src/poll.hpp          |    4 ++--
 src/select.cpp        |    6 +++---
 src/select.hpp        |    4 ++--
 src/zmq_connecter.cpp |    8 ++++----
 src/zmq_connecter.hpp |    3 +++
 18 files changed, 48 insertions(+), 42 deletions(-)

commit be79a9fbc26a55c90b693485f69dfd17f710cb13
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 26 18:01:59 2010 +0200

    minor beautifications

 src/config.hpp            |    4 +++-
 src/connect_session.hpp   |    3 +++
 src/named_session.hpp     |    3 +++
 src/transient_session.hpp |    3 +++
 4 files changed, 12 insertions(+), 1 deletion(-)

commit 5dae27d0ed92aba070f824a4bf5dfa7845aa165d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 26 16:55:54 2010 +0200

    clock_t class added

 src/Makefile.am     |    2 ++
 src/clock.cpp       |  100 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/clock.hpp       |   56 +++++++++++++++++++++++++++++
 src/config.hpp      |    7 ++++
 src/socket_base.cpp |   38 ++++++--------------
 src/socket_base.hpp |    2 +-
 src/zmq.cpp         |   43 +++-------------------
 7 files changed, 181 insertions(+), 67 deletions(-)

commit 7d5061798c93655796b1cf64afd7f5b8146a7681
Merge: e478468 9129b79
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 26 13:36:05 2010 +0200

    Merge branch 'maint'

    * maint:
      if TSC jumps backwards (in case of migration to a different CPU core) latency peak may occur -- fixed

    Conflicts:
        src/app_thread.cpp

commit 9129b792486b87d4f54607321427c2df783c9ec1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 26 13:30:33 2010 +0200

    if TSC jumps backwards (in case of migration to a different CPU core) latency peak may occur -- fixed

 src/app_thread.cpp |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit e478468e52fcb085f9d429cee5dd6938c80343bc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Sep 21 09:10:17 2010 +0200

    minor error in comment fixed

 src/socket_base.hpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9c118866003277222173ea04916c3e3b82c88b95
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Sep 21 09:00:46 2010 +0200

    The flag in the socket has clear semantics now -- it tracks whether corresponding context was closed, it doesn't track whether zmq_close was called on the socket itself

 src/socket_base.cpp |   41 +++++++++++++----------------------------
 src/socket_base.hpp |    6 ++----
 2 files changed, 15 insertions(+), 32 deletions(-)

commit 4d51a52874b814f65a31a0c1b8e0a36cb671697c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Sep 20 17:25:04 2010 +0200

    zmq_poll (select version) now correctly assumes that ZMQ_FD is edge-trigerred

 src/zmq.cpp |   27 ++++++++++-----------------
 1 file changed, 10 insertions(+), 17 deletions(-)

commit f49b77eedcdacf9663050a20723ac964af7cdac0
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Sep 20 16:55:46 2010 +0200

    zmq_poll honours ZMQ_FORCE_POLL and ZMQ_FORCE_SELECT options

 src/zmq.cpp |   25 +++++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

commit 1abfc92d265bce4f60d63cd302319c451d2c451a
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Sep 20 16:45:25 2010 +0200

    minor problem in zmq_poll (select version) fixed

 src/zmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 328c92a0a70b98b4a3bf09132bd8f8041e4c8628
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Sep 20 00:06:05 2010 +0200

    problem with engine being attached to session while it's being terminated fixed

 src/encoder.hpp    |    2 +-
 src/session.cpp    |   40 ++++++++++++++++++++++++++++++++++++++--
 src/session.hpp    |    2 ++
 src/zmq_engine.hpp |    5 +----
 4 files changed, 42 insertions(+), 7 deletions(-)

commit 1d2399720b3fd06da5e7f9f4a211f30c57a9ce2d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 19 22:45:48 2010 +0200

    zmq_init_t destroyed zmq_engine_t before plugging it out from the poller first -- fixed

 src/zmq_engine.cpp |   10 +++++++++-
 src/zmq_engine.hpp |    7 ++++++-
 src/zmq_init.cpp   |    2 +-
 3 files changed, 16 insertions(+), 3 deletions(-)

commit cda3c96a7fed0ee603c13e787ac511a1ea171367
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 19 22:17:37 2010 +0200

    minor code reorganisation in ctx_t::terminate

 src/ctx.cpp |   31 +++++++++++++++----------------
 1 file changed, 15 insertions(+), 16 deletions(-)

commit 938689a49128ca17d2bc9662f311c6dbb70240db
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 19 21:40:26 2010 +0200

    synchronisation problem fixed in ctx_t

 src/ctx.cpp      |    2 ++
 src/zmq_init.cpp |    5 ++++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 471013a59fc7f41b694c0bc0b11a459d4c19700d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 19 20:43:14 2010 +0200

    two races fixed in session creation

 src/zmq_init.cpp |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 1f10208ad065c01e172669affdd48b6f2698ff4c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 19 08:42:19 2010 +0200

    termination of pipe via delimiter message could stuck when no data were read from the pipe (because connection wasn't active) -- fixed

 src/session.cpp |    7 +++++++
 1 file changed, 7 insertions(+)

commit 5153b6368be58d0fcaea262463a3fc08ea658f78
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Sep 19 08:39:53 2010 +0200

    obsolete 'active' flag removed from session_t

 src/session.cpp |   11 +++--------
 src/session.hpp |    3 ---
 2 files changed, 3 insertions(+), 11 deletions(-)

commit 4c6d07d3668558d910c9b1d19d52ccdeacc90574
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 18 07:37:36 2010 +0200

    single term ack counting mechanism for every socket (no separate mechanisms for fq_t and lb_t)

 src/Makefile.am            |    1 -
 src/fq.cpp                 |   18 ++++++++----------
 src/fq.hpp                 |    4 ++--
 src/i_terminate_events.hpp |   38 --------------------------------------
 src/lb.cpp                 |   18 ++++++++----------
 src/lb.hpp                 |    4 ++--
 src/own.hpp                |   16 ++++++++--------
 src/pull.cpp               |    7 -------
 src/pull.hpp               |    6 +-----
 src/push.cpp               |    7 -------
 src/push.hpp               |    6 +-----
 src/sub.cpp                |    7 -------
 src/sub.hpp                |    6 +-----
 src/xreq.cpp               |    7 -------
 src/xreq.hpp               |    6 +-----
 15 files changed, 32 insertions(+), 119 deletions(-)

commit fb6ce536d96c82e8f4378a87a5d59aefcc57a96d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 18 06:48:45 2010 +0200

    more details on launch_sibling in comments

 src/own.cpp |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 0c215fada4f448788069e42bda34609f74c8b64b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 18 06:42:46 2010 +0200

    potential duplicate termination of pipes removed

 src/fq.cpp          |    1 +
 src/lb.cpp          |    1 +
 src/socket_base.cpp |   10 ----------
 3 files changed, 2 insertions(+), 10 deletions(-)

commit c7b9ba3ccdd5a18afb22dda1afee16c938076c25
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 17 12:58:20 2010 +0200

    reconnection process fixed when failure occurs during init phase

 src/command.hpp |    3 ++-
 src/session.cpp |    8 ++++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 85aa25e56cbf6f4194162235fc06bed8683b1bad
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 17 12:32:46 2010 +0200

    bug in REQ+multipart fixed

 src/req.cpp |    1 +
 1 file changed, 1 insertion(+)

commit ff1080728f3a587ee472a64533fd7e44b365e6f0
Merge: be159b6 e2802d9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 15 16:58:00 2010 +0200

    Merge branch 'maint'

    * maint:
      values of RATE, RECOVERY_IVL and SWAP options are checked for negative values

commit e2802d9a4b7e518c549e8dd95a34d2424058f086
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 15 16:44:57 2010 +0200

    values of RATE, RECOVERY_IVL and SWAP options are checked for negative values

 src/options.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit be159b63169474b644ebd38177bf4e808ebb5487
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Sep 13 13:27:48 2010 +0200

    zmq::writer_t: Add missing test for swap

 src/pipe.cpp |   34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 92f9136ca6c69d2d1588ff5ff65e668e40e0f7eb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Sep 10 13:11:08 2010 +0200

    lefover assert removed

 src/lb.cpp |    3 ---
 1 file changed, 3 deletions(-)

commit a68e6739f4248e25a0f9a64c89729f55dfacb842
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 9 08:25:00 2010 +0200

    when no I/O threads are available error is raised instead of assertion

 doc/zmq_bind.txt        |    2 ++
 doc/zmq_connect.txt     |    2 ++
 include/zmq.h           |    2 +-
 src/connect_session.cpp |   15 ++++++++++-----
 src/ctx.cpp             |    7 +++++--
 src/ctx.hpp             |    5 +++--
 src/object.cpp          |    4 ++--
 src/object.hpp          |    2 +-
 src/socket_base.cpp     |   21 ++++++++++++++++++---
 src/zmq.cpp             |    2 ++
 src/zmq_connecter.cpp   |    9 +++++++--
 src/zmq_listener.cpp    |    9 +++++++--
 12 files changed, 60 insertions(+), 20 deletions(-)

commit 47e87b7e4b8dd6a0cfbc1f30ffcb06edfa83c853
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 8 15:45:59 2010 +0200

    EMTHREAD error code returned to zmq.h to ensure backward compatibility

 include/zmq.h |    1 +
 1 file changed, 1 insertion(+)

commit 91ea20464439b5359a5d803181141fc756fa817c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 8 08:39:27 2010 +0200

    EINTR returned from the blocking functions

 doc/zmq_getsockopt.txt |    2 ++
 doc/zmq_poll.txt       |    2 ++
 doc/zmq_recv.txt       |    3 ++
 doc/zmq_send.txt       |    3 ++
 doc/zmq_setsockopt.txt |    2 ++
 src/ctx.cpp            |    5 ----
 src/ctx.hpp            |    3 --
 src/io_thread.cpp      |    8 ++++--
 src/signaler.cpp       |   47 ++++++++++++++++----------------
 src/signaler.hpp       |    2 +-
 src/socket_base.cpp    |   71 ++++++++++++++++++++++++++----------------------
 src/socket_base.hpp    |    3 +-
 src/zmq.cpp            |   26 ++++++++----------
 13 files changed, 93 insertions(+), 84 deletions(-)

commit f374431ebe0f3e18a2b2adeafa8093ff59a9eac2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Sep 7 17:06:33 2010 +0200

    get rid of 'has virtual functions but non-virtual destructor' warnings in pipe.hpp

 src/pipe.hpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 6d4ffd90dbda943e5d1215fb56d06eeac1b4420f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Sep 7 15:49:54 2010 +0200

    Bug in fq_t and lb_t (when used via ZMQ_EVENTS option) fixed

 src/fq.cpp |    7 +++++--
 src/lb.cpp |    6 +++---
 2 files changed, 8 insertions(+), 5 deletions(-)

commit b4740c14e7fc68040037d65bdfac4233b08c5a08
Merge: d4c8de5 01c463c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 4 19:10:17 2010 +0200

    Merge branch 'maint'

    * maint:
      Version number incremented to 2.0.10
      NEWS updated for 2.0.9

    Conflicts:
        builds/msvc/platform.hpp
        configure.in

commit 01c463cc89626bf9d69500ab1f4957705663788e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 4 19:08:55 2010 +0200

    Version number incremented to 2.0.10

 builds/msvc/platform.hpp |    2 +-
 configure.in             |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ebf3089735329f0d083a992c98a9fd63b128346e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 4 18:38:20 2010 +0200

    NEWS updated for 2.0.9

 NEWS |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit d4c8de5050a183f4df72062ce3ff6ceca0128fdf
Merge: 76f2e5d 1e84519
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 17:49:40 2010 +0200

    Merge branch 'maint'

    * maint:
      Update .gitignore
      doc: Add 0MQ version to XHTML11 backend footer
      build: Generate ChangeLog in 'make dist', ZIP automatically

commit 1e8451961e498abd1da61e64f5baf48890e1563e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 17:44:11 2010 +0200

    Update .gitignore

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 32fd916c731901944e01c0cb445d32ce0d162693
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 17:42:33 2010 +0200

    doc: Add 0MQ version to XHTML11 backend footer

    Thanks to Matt Weinstein for the suggestion.

 doc/asciidoc.conf |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit a6d3629fb4f87c018c7ba2f8c4ff69f7eda07790
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 17:26:36 2010 +0200

    build: Generate ChangeLog in 'make dist', ZIP automatically

    Change 'make dist' to generate the Git ChangeLog file, that way it doesn't
    have to be manually updated nor kept in Git which causes unnecessary work.

    Also change 'make dist' to invoke 'dist-zip' automatically to generate a
    ZIP as well as a .tar.gz.

    Thanks to http://live.gnome.org/Git/ChangeLog for the inspiration to
    automatically generate ChangeLog.

 ChangeLog    | 2724 ----------------------------------------------------------
 Makefile.am  |   20 +-
 configure.in |    2 +-
 3 files changed, 17 insertions(+), 2729 deletions(-)

commit 76f2e5d5442d3200c8ca09681a887830775c84c0
Merge: ca17612 db7fe85
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 4 17:19:38 2010 +0200

    Merge branch 'maint'

    * maint:
      Broken device numbering reverted
      assert on malformed messages
      forwarder and streamer devices handle multi-part messages correctly
      improved null checking in zmq_term

    Conflicts:
        AUTHORS
        include/zmq.h
        src/zmq.cpp

commit db7fe858d6356988fb9a9270c235178e523b2370
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Sep 4 17:12:08 2010 +0200

    Broken device numbering reverted

 include/zmq.h |   64 ++++++++++++++++++++++++++++-----------------------------
 1 file changed, 32 insertions(+), 32 deletions(-)

commit 10227899b1ccdaecf709fbfc7b765e147baf3080
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Fri Aug 27 18:06:37 2010 +0200

    assert on malformed messages

 src/zmq_decoder.cpp |    7 +++++++
 1 file changed, 7 insertions(+)

commit c2f3b3b4458187085e148850068f9719c2567614
Author: Jon Dyte <jon@totient.co.uk>
Date:   Fri Aug 27 06:59:55 2010 +0200

    forwarder and streamer devices handle multi-part messages correctly

 src/forwarder.cpp |   17 ++++++++++++++---
 src/queue.cpp     |   15 ++++++++-------
 src/streamer.cpp  |   17 ++++++++++++++---
 3 files changed, 36 insertions(+), 13 deletions(-)

commit ae567be0c295d9c18da5ba4be4f8403cc844a9a3
Author: Ivo Danihelka <ivo@danihelka.net>
Date:   Thu Aug 26 12:14:53 2010 +0200

    improved null checking in zmq_term

 AUTHORS     |    1 +
 src/zmq.cpp |    7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit ca176121deb8dbdc62d8a37fec377c07fc786480
Merge: 2673a84 51a84c1
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 16:24:21 2010 +0200

    Merge branch 'maint'

    * maint:
      zmq::select_t, zmq_poll(): assert if FD_SETSIZE reached
      zmq.h: Fix typo and use of C99 comment

    Conflicts:
        src/zmq.cpp

commit 51a84c15ded2d70985c9d971ebdf3f3c9c18d590
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 16:12:33 2010 +0200

    zmq::select_t, zmq_poll(): assert if FD_SETSIZE reached

    Ensure that 0MQ does not attempt to call select() on more than FD_SETSIZE
    file descriptors.

 src/select.cpp |    4 ++++
 src/zmq.cpp    |    4 ++++
 2 files changed, 8 insertions(+)

commit f850190c16df0d55015dc15cd5c0c50289db5dda
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 16:10:14 2010 +0200

    zmq.h: Fix typo and use of C99 comment

 include/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2673a84e07b93b8607958516c55341c2eb220a6e
Merge: 0a1f7e3 ee3444f
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 16:01:31 2010 +0200

    Merge branch 'maint'

    * maint:
      doc: Update zmq_socket(3) for 2.0.8 API changes
      Revert "Added man page for the zmq_device method"
      Revert "Added clean target that deletes generated man pages"
      Revert "Various changes to documentation project:"
      Revert "Reverting 'clean' change to Makefile"
      Revert "Removed empty man pages for old standalone devices"
      Revert "Further cleanups on reference manual"
      Revert "Small improvements to zmq_device(3) page"
      Revert "Removed wip zmq_deviced from master"

commit ee3444ff93888a052cd1ba48aa22892f7077a7a0
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 16:00:26 2010 +0200

    doc: Update zmq_socket(3) for 2.0.8 API changes

 doc/zmq_socket.txt |   40 ++++++++++++++++++++++------------------
 1 file changed, 22 insertions(+), 18 deletions(-)

commit 26b39bcdef390f45bb316c4488b51470c27086e2
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:55:41 2010 +0200

    Revert "Added man page for the zmq_device method"

    This reverts commit f575f252c99c99d3622f313d6bbad6635197a1e4.

    Conflicts:

        doc/zmq_device.txt

 doc/zmq_device.txt |   99 ----------------------------------------------------
 1 file changed, 99 deletions(-)

commit 8800ac7de5d50426b0459ebea4568bb77954ea3d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:55:19 2010 +0200

    Revert "Added clean target that deletes generated man pages"

    This reverts commit 6cd90304476c1c6873d67068009def63e520b848.

 doc/Makefile.am |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 32baeb610e779862b58c56f66571b01599743a9e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:55:11 2010 +0200

    Revert "Various changes to documentation project:"

    This reverts commit 77a3c36ff1f11215229a4efdb821a3cb83a9d6fc.

 doc/asciidoc.conf         |   15 ------
 doc/zmq.txt               |   19 +++++++
 doc/zmq_bind.txt          |    9 +++-
 doc/zmq_close.txt         |    4 ++
 doc/zmq_connect.txt       |    4 ++
 doc/zmq_cpp.txt           |    4 ++
 doc/zmq_deviced.txt       |  123 ---------------------------------------------
 doc/zmq_errno.txt         |    4 ++
 doc/zmq_forwarder.txt     |    4 ++
 doc/zmq_getsockopt.txt    |    4 ++
 doc/zmq_init.txt          |    4 ++
 doc/zmq_inproc.txt        |    4 ++
 doc/zmq_ipc.txt           |    4 ++
 doc/zmq_msg_close.txt     |    4 ++
 doc/zmq_msg_copy.txt      |    4 ++
 doc/zmq_msg_data.txt      |    4 ++
 doc/zmq_msg_init.txt      |    4 ++
 doc/zmq_msg_init_data.txt |    4 ++
 doc/zmq_msg_init_size.txt |    4 ++
 doc/zmq_msg_move.txt      |    4 ++
 doc/zmq_msg_size.txt      |    4 ++
 doc/zmq_pgm.txt           |    5 +-
 doc/zmq_poll.txt          |    4 ++
 doc/zmq_queue.txt         |    4 ++
 doc/zmq_recv.txt          |    4 ++
 doc/zmq_send.txt          |    4 ++
 doc/zmq_setsockopt.txt    |    4 ++
 doc/zmq_socket.txt        |   31 ++++++------
 doc/zmq_streamer.txt      |    4 ++
 doc/zmq_strerror.txt      |    4 ++
 doc/zmq_tcp.txt           |    4 ++
 doc/zmq_term.txt          |    5 ++
 doc/zmq_version.txt       |    4 ++
 33 files changed, 155 insertions(+), 156 deletions(-)

commit 4cb6dbd52f5ab65350a448ceb07ff77eacc2b84c
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:55:03 2010 +0200

    Revert "Reverting 'clean' change to Makefile"

    This reverts commit c51de31f2fd31f782e419bfac2fb8d40d689f3e3.

 doc/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 48d3e2d6607499b8c5feb1258c9bd40519923c69
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:54:53 2010 +0200

    Revert "Removed empty man pages for old standalone devices"

    This reverts commit 6ff193999d96487f7aa7e578980ab5554e61d8dc.

 doc/asciidoc.conf     |    2 +-
 doc/zmq_forwarder.txt |   29 +++++++++++++++++++++++++++++
 doc/zmq_queue.txt     |   29 +++++++++++++++++++++++++++++
 doc/zmq_streamer.txt  |   29 +++++++++++++++++++++++++++++
 4 files changed, 88 insertions(+), 1 deletion(-)

commit 6c393f53e28f41118eed9a8d034d8d46f2555572
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:54:34 2010 +0200

    Revert "Further cleanups on reference manual"

    This reverts commit 13f3481e127a6b2390e847af6b01ee88f1b4ae61.

    Conflicts:

        doc/zmq_device.txt
        doc/zmq_tcp.txt

 doc/zmq.txt            |   22 +++++++++++-------
 doc/zmq_bind.txt       |   13 ++++-------
 doc/zmq_connect.txt    |   13 ++++-------
 doc/zmq_device.txt     |   60 +++++++++++-------------------------------------
 doc/zmq_deviced.txt    |   50 +++++++++++-----------------------------
 doc/zmq_getsockopt.txt |    2 +-
 doc/zmq_pgm.txt        |    4 ++--
 doc/zmq_poll.txt       |    4 ++--
 doc/zmq_setsockopt.txt |    2 +-
 doc/zmq_tcp.txt        |    8 +++----
 10 files changed, 60 insertions(+), 118 deletions(-)

commit 6647e61243fdfbdc600ef3bfbd15b7c2ca6e853e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:51:40 2010 +0200

    Revert "Small improvements to zmq_device(3) page"

    This reverts commit 96bcc9e6cf73781c31042278eb960c0363a78805.

 doc/zmq_device.txt |   32 ++++++++++----------------------
 1 file changed, 10 insertions(+), 22 deletions(-)

commit 83d253d72d4fe83f4a001a7cfb4059ccc52b04e0
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Sep 4 15:51:09 2010 +0200

    Revert "Removed wip zmq_deviced from master"

    This reverts commit de0173754cc82f6c08875a892892f043a804554c.

 doc/Makefile.am     |    2 +-
 doc/zmq.txt         |    4 +-
 doc/zmq_deviced.txt |  145 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 149 insertions(+), 2 deletions(-)

commit 0a1f7e3524338690551c04ebfccd896a0b96f399
Merge: a81a373 14853c2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 2 08:07:40 2010 +0200

    Merge branch 'maint'

    * maint:
      Prior to this patch prefix_tree asserts.
      Fix for signaler_t on HP-UX and AIX platforms
      Mikael Kjaer added to AUTHORS

    Conflicts:
        src/trie.cpp

commit 14853c2db528b3fd6eed84786053549e71f61bb7
Author: Jon Dyte <jon@totient.co.uk>
Date:   Thu Sep 2 07:52:02 2010 +0200

    Prior to this patch prefix_tree asserts.

    This is because as it adds the 255th element at a node it attempts to calculate
    the count member var which is an unsigned char via count = (255 -0) + 1; and
    pass the result to realloc. Unfortunately the result is zero and realloc returns
    null; the prefix_tree asserts. I have fixed it by making the count an unsigned
    short.

 src/prefix_tree.cpp |   12 ++++++------
 src/prefix_tree.hpp |    2 +-
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 8ec0743c7551de3c76126d080961cece732370f1
Author: Bernd Melchers <melchers@ZEDAT.FU-Berlin.DE>
Date:   Thu Sep 2 07:33:57 2010 +0200

    Fix for signaler_t on HP-UX and AIX platforms

 AUTHORS          |    1 +
 src/signaler.cpp |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit d5b6f680a54c682da066e769c46075a4bc57bd55
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Sep 2 07:26:14 2010 +0200

    Mikael Kjaer added to AUTHORS

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit a81a37399b2ab4143aedf3ff4c442655b9e7e9b7
Merge: 47aaf10 59315eb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 18:42:15 2010 +0200

    Merge branch 'maint'

    * maint:
      Erasure of retired fd's in select.cpp causes an assertion in MSVC 2008 STL

commit 59315ebdcb565d23ba78ba0ca8581cef465fc9bd
Author: Mikael Helbo KjÃ¦r <mhk@designtech.dk>
Date:   Wed Sep 1 18:39:12 2010 +0200

    Erasure of retired fd's in select.cpp causes an assertion in MSVC 2008 STL

    I was hitting an issue with an SCL enabled STL library in connection with the
    way select_t::loop was erasing retired fd's. The problem as identified by the
    SCL assertion was that by the time the iterator given to the erase method was
    called it was considered invalid by the library. I am not sure this isn't just
    a "quirk" of the MSVC STL library as the other code looks valid to me as well.

 src/select.cpp |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 47aaf10211a0f3380dc82942a8cb4eba8c3c7ea3
Merge: 0fe7d3c 99ddfa7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 18:35:48 2010 +0200

    Merge branch 'maint'

    * maint:
      maint: will become 2.0.9

    Conflicts:
        builds/msvc/platform.hpp
        configure.in

commit 99ddfa7d65a4556bdbb68fd1831e2de73595f0c7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 18:22:03 2010 +0200

    maint: will become 2.0.9

 builds/msvc/platform.hpp |    2 +-
 configure.in             |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0fe7d3c998f65fb93b0f3d15c40d8bc2fe0923ad
Merge: 651c1ad 6a0c323
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 15:29:19 2010 +0200

    conflicts resolved

commit 651c1adc80ddc724877f2ebedf07d18e21e363f6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 15:24:46 2010 +0200

    sys transport introdced; inproc://log moved to sys://log

 src/ctx.cpp         |    2 +-
 src/socket_base.cpp |   10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 6a0c323bb231a2460c238cd0b93293fcd482f9bc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 13:31:45 2010 +0200

    MSVC build fixed

 builds/msvc/libzmq/libzmq.vcproj |   24 ++++++++----------------
 src/ctx.cpp                      |    6 ++++--
 2 files changed, 12 insertions(+), 18 deletions(-)

commit ce0972dca3982538fd123b61fbae3928fad6d1e7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 07:57:38 2010 +0200

    context creates an inproc endpoint ('inproc://log') to distribute 0MQ's log messages

 src/ctx.cpp    |   25 +++++++++++++++++++++++--
 src/ctx.hpp    |   10 ++++++++++
 src/object.cpp |    5 +++++
 src/object.hpp |    5 +++++
 4 files changed, 43 insertions(+), 2 deletions(-)

commit db73c76314d7109da4b400a3edb107c4eda802a2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 07:56:04 2010 +0200

    assert when pipe attaches to PUB socket in process of termination -- fixed

 src/pub.cpp |    1 -
 1 file changed, 1 deletion(-)

commit aaa07613d3d7ff1eafcec3d38769f806fae5ac5c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 07:54:57 2010 +0200

    pipe being attached to the PAIR socket during its termination process is immediately asked to terminate itself

 src/pair.cpp |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 47c064f2eaa01c324e06588a4f07892762e78fcd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Sep 1 07:35:15 2010 +0200

    hangup when closing socket with no pipes attached -- fixed

 src/fq.cpp |    5 +++++
 src/lb.cpp |    5 +++++
 2 files changed, 10 insertions(+)

commit 090e460d6f09b5611d34a4867efb6cf46dd44a34
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 31 21:03:34 2010 +0200

    naming cleanup: yarray->array

 src/Makefile.am     |    3 +-
 src/array.hpp       |  146 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/ctx.hpp         |    4 +-
 src/fq.hpp          |    4 +-
 src/lb.hpp          |    4 +-
 src/pipe.hpp        |    6 +--
 src/pub.hpp         |    4 +-
 src/socket_base.hpp |    4 +-
 src/yarray.hpp      |  110 --------------------------------------
 src/yarray_item.hpp |   64 ----------------------
 10 files changed, 160 insertions(+), 189 deletions(-)

commit f5acbb5095901e56a9bfd29b9a8c1c7d3f165ce3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 31 07:01:40 2010 +0200

    naming cleanup: zmq_encoder->encoder, zmq_decoder->decoder

 src/Makefile.am      |    6 +--
 src/decoder.cpp      |  114 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/decoder.hpp      |   47 +++++++++++++++++----
 src/encoder.cpp      |   89 +++++++++++++++++++++++++++++++++++++++
 src/encoder.hpp      |   39 +++++++++++++----
 src/pgm_receiver.cpp |    2 +-
 src/pgm_receiver.hpp |    6 +--
 src/pgm_sender.hpp   |    4 +-
 src/zmq_decoder.cpp  |  114 --------------------------------------------------
 src/zmq_decoder.hpp  |   59 --------------------------
 src/zmq_encoder.cpp  |   89 ---------------------------------------
 src/zmq_encoder.hpp  |   55 ------------------------
 src/zmq_engine.hpp   |    8 ++--
 13 files changed, 283 insertions(+), 349 deletions(-)

commit e45583c0f2b8fb11f119317e7c94052c07c24ea8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Aug 30 17:04:51 2010 +0200

    OSX build fixed -- semaphore replaced by mutex

 src/semaphore.hpp |   55 +++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 53 insertions(+), 2 deletions(-)

commit f0a36f9994e0a4e6e509bdf4b6dd75af27f984bb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Aug 30 15:28:08 2010 +0200

    Minor patch to zmq_cpp(7)

 doc/zmq_cpp.txt |    2 ++
 1 file changed, 2 insertions(+)

commit fba90af8a7cc4a790cc9c77b6313fc253b51c36c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Aug 30 12:10:40 2010 +0200

    Issue 54 - socket_base.cpp:162 comparison error

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 68d62cfb4eb89549a3118e8e396531452b1174c3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 14:07:26 2010 +0200

    MSVC build fixed

 builds/msvc/libzmq/libzmq.vcproj |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 0a8473deddae61a8c9221c3df089239ac2e2ca62
Author: Guido Goldstein <zmq@a-nugget.de>
Date:   Sat Aug 28 13:58:23 2010 +0200

    Added tests for transports per socket

 tests/Makefile.am            |   17 ++++++---
 tests/simple.cpp             |   32 -----------------
 tests/test_pair.cpp          |   78 ------------------------------------------
 tests/test_pair_inproc.cpp   |   30 ++++++++++++++++
 tests/test_pair_ipc.cpp      |   30 ++++++++++++++++
 tests/test_pair_tcp.cpp      |   30 ++++++++++++++++
 tests/test_reqrep.cpp        |   77 -----------------------------------------
 tests/test_reqrep_inproc.cpp |   30 ++++++++++++++++
 tests/test_reqrep_ipc.cpp    |   30 ++++++++++++++++
 tests/test_reqrep_tcp.cpp    |   30 ++++++++++++++++
 tests/testutil.hpp           |   69 ++++++++++++++++++++++++++++++++++---
 11 files changed, 258 insertions(+), 195 deletions(-)

commit 6ec783e7023b4c4d4d10a3870b4c560684ae7069
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 13:26:19 2010 +0200

    prefix_tree_t renamed to trie_t

 src/Makefile.am     |    4 +-
 src/prefix_tree.cpp |  180 ---------------------------------------------------
 src/prefix_tree.hpp |   55 ----------------
 src/sub.hpp         |    4 +-
 src/trie.cpp        |  180 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/trie.hpp        |   58 +++++++++++++++++
 6 files changed, 242 insertions(+), 239 deletions(-)

commit beea535f9d7ff210ea035de190c0d87184ee1963
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 13:18:53 2010 +0200

    swap's block size made into a compile-time parameter

 src/config.hpp |    4 ++++
 src/swap.cpp   |    5 +++--
 src/swap.hpp   |    2 +-
 3 files changed, 8 insertions(+), 3 deletions(-)

commit d8b975f4e73ae940c0c0f9c8c6c7aac1199fee09
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 13:14:45 2010 +0200

    msg_store_t renamed to swap_t

 src/Makefile.am   |    4 +-
 src/msg_store.cpp |  307 -----------------------------------------------------
 src/msg_store.hpp |  114 --------------------
 src/pipe.cpp      |    2 +-
 src/pipe.hpp      |    4 +-
 src/swap.cpp      |  307 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/swap.hpp      |  114 ++++++++++++++++++++
 7 files changed, 426 insertions(+), 426 deletions(-)

commit d90b4071151e3752208d3a9d49fb50845f89ab1b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 13:06:58 2010 +0200

    refactoring of pipe/swap interaction

 src/pipe.cpp |  194 ++++++++++++++++++++++++++++++----------------------------
 src/pipe.hpp |   39 ++++++------
 2 files changed, 120 insertions(+), 113 deletions(-)

commit 42000d2c4f988a164eaeb9b580a4f588d91e353e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 10:15:03 2010 +0200

    terminology unified: revive->activate

 src/command.hpp     |   13 ++++++-------
 src/fq.cpp          |    4 ++--
 src/object.cpp      |   26 +++++++++++++-------------
 src/object.hpp      |    8 ++++----
 src/pipe.cpp        |    8 ++++----
 src/pipe.hpp        |    4 ++--
 src/socket_base.cpp |    5 +++--
 7 files changed, 34 insertions(+), 34 deletions(-)

commit 92923cd40b645af844c5ed1055a0a45c6daa3c89
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 08:44:12 2010 +0200

    bug in pipe deactivation fixed

 src/pipe.cpp          |    8 +++-----
 src/socket_base.cpp   |    2 +-
 tests/test_pair.cpp   |    7 ++++---
 tests/test_reqrep.cpp |    4 ++--
 4 files changed, 10 insertions(+), 11 deletions(-)

commit 035c937ee7452708a9dd3abd851fda6a753808f4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 28 07:02:22 2010 +0200

    zmq_poll: account for the fact that ZMQ_FD is edge-triggered

 src/zmq.cpp |   31 ++++++++++++++++++++++++-------
 1 file changed, 24 insertions(+), 7 deletions(-)

commit 67aa788577fb49474dd7329b14316d25f1b3c08b
Author: Guido Goldstein <zmq@a-nugget.de>
Date:   Sat Aug 28 06:31:40 2010 +0200

    Fixed socket states in tests

 tests/test_pair.cpp   |    3 +++
 tests/test_reqrep.cpp |    3 +++
 tests/testutil.hpp    |    6 +++++-
 3 files changed, 11 insertions(+), 1 deletion(-)

commit 4d9b046977f895f8d61731672a5e84967ed85eb2
Author: Guido Goldstein <zmq@a-nugget.de>
Date:   Fri Aug 27 21:13:45 2010 +0200

    two tests added

 AUTHORS               |    1 +
 tests/Makefile.am     |    4 ++-
 tests/simple.cpp      |    2 +-
 tests/test_pair.cpp   |   74 +++++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_reqrep.cpp |   74 +++++++++++++++++++++++++++++++++++++++++++++++++
 tests/testutil.hpp    |   64 ++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 217 insertions(+), 2 deletions(-)

commit 0b76f234a2c521194029c6708c394391dfc66ea7
Merge: 35cb1fa 98dc118
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Aug 27 18:41:10 2010 +0200

    Merge branch 'master' of github.com:zeromq/zeromq2

commit 35cb1fade62a92fdccc9fa0d75a3b69115c56c35
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Aug 27 18:35:59 2010 +0200

    Add a basic framework for a test suite

    The test suite uses the standard automake support. Tests are always built,
    but run only when you do a "make check".

 Makefile.am       |    4 ++--
 configure.in      |    2 +-
 tests/Makefile.am |    8 ++++++++
 tests/simple.cpp  |   32 ++++++++++++++++++++++++++++++++
 4 files changed, 43 insertions(+), 3 deletions(-)

commit 98dc11843e3234e3d70b50d4f650089e7cf99e63
Author: Dhammika Pathirana <dhammika@gmail.com>
Date:   Fri Aug 27 18:06:37 2010 +0200

    assert on malformed messages

 src/zmq_decoder.cpp |    7 +++++++
 1 file changed, 7 insertions(+)

commit 56faac7f19bf2a6d2c7b6e0c2e35fcb667a72a48
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Aug 27 15:01:38 2010 +0200

    zmq_poll returns prematurely even if infinite timeout is set - fixed

 src/zmq.cpp |  204 +++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 114 insertions(+), 90 deletions(-)

commit 3cb84b5ceac0f8652a99ec61152a865292e02cf1
Author: Jon Dyte <jon@totient.co.uk>
Date:   Fri Aug 27 06:59:55 2010 +0200

    forwarder and streamer devices handle multi-part messages correctly

 src/forwarder.cpp |   17 ++++++++++++++---
 src/queue.cpp     |   15 ++++++++-------
 src/streamer.cpp  |   17 ++++++++++++++---
 3 files changed, 36 insertions(+), 13 deletions(-)

commit 43f2c6ff5b15d6feae2bd608e50503f7d4c62682
Author: Ivo Danihelka <ivo@danihelka.net>
Date:   Thu Aug 26 12:14:53 2010 +0200

    improved null checking in zmq_term

 AUTHORS     |    1 +
 src/zmq.cpp |    7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit b608c19c5a28f0f49a106bfddf680f0a410df6c8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 24 15:58:48 2010 +0200

    MSVC build fixed

 builds/msvc/libzmq/libzmq.vcproj |   52 +++++++++++++++++++++++++-------------
 src/pipe.hpp                     |    9 ++++---
 src/socket_base.cpp              |    1 +
 3 files changed, 40 insertions(+), 22 deletions(-)

commit 9b8993efb48ccbe3df917338cc078129b5af495b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 24 11:19:22 2010 +0200

    elementary fixes to the named session

 src/named_session.cpp |   21 +++++++++++----------
 src/session.cpp       |   37 +++++++++++--------------------------
 src/session.hpp       |    9 ++++-----
 src/socket_base.cpp   |   12 ++++++------
 src/socket_base.hpp   |    7 +++----
 src/zmq_init.cpp      |    6 ++----
 6 files changed, 37 insertions(+), 55 deletions(-)

commit 46d70555659c05a0c8d95c6d7aa8c7e0cc5ebc66
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 24 10:20:55 2010 +0200

    connecter object unregisters its fd correctly

 src/zmq_connecter.cpp |   12 ++++--------
 src/zmq_connecter.hpp |    1 -
 2 files changed, 4 insertions(+), 9 deletions(-)

commit 87655b0b9d9121465e0b2ea1976b0879b1b1f756
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 24 09:57:15 2010 +0200

    listener object unregisters its fd correctly

 src/zmq_engine.cpp   |    3 ---
 src/zmq_listener.cpp |    5 ++---
 src/zmq_listener.hpp |    2 +-
 3 files changed, 3 insertions(+), 7 deletions(-)

commit 0d5f3ebbdad12a63e7cc28c53c38d750761a75e3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Aug 24 09:39:17 2010 +0200

    sessions created by listerner are correctly shut down

 src/session.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 5a731e73c855cd96040b3ecd55ef3b65606e1eb6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 14 08:53:52 2010 +0200

    added ZMQ_MAKE_VALGRIND_HAPPY compile-time option

 perf/remote_thr.cpp |    8 ++++++--
 src/object.cpp      |   36 ++++++++++++++++++++++++++++++++++++
 2 files changed, 42 insertions(+), 2 deletions(-)

commit 43e34d028115c43577713c0c3e1f0c33b0aac94a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 14 08:37:38 2010 +0200

    engine leak fixed; pgm compilation fixed

 src/connect_session.cpp |   20 ++++++++------------
 src/i_engine.hpp        |    4 ++++
 src/pgm_receiver.cpp    |   12 +++++++++---
 src/pgm_receiver.hpp    |    7 ++++---
 src/pgm_sender.cpp      |   12 +++++++++---
 src/pgm_sender.hpp      |    7 ++++---
 src/session.cpp         |    3 +++
 src/socket_base.cpp     |    2 --
 src/zmq_engine.cpp      |    6 ++++++
 src/zmq_engine.hpp      |    1 +
 10 files changed, 48 insertions(+), 26 deletions(-)

commit 45f83d78a56f4b3a812c87fec03a75558445b2ab
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 12 15:03:51 2010 +0200

    one more dezombification bug fixed

 src/ctx.cpp         |   33 +++++++++------------------------
 src/ctx.hpp         |    7 +------
 src/object.cpp      |    5 -----
 src/object.hpp      |    3 ---
 src/own.cpp         |    7 ++++++-
 src/own.hpp         |    5 ++++-
 src/socket_base.cpp |   21 ++++++++++++++++-----
 src/socket_base.hpp |   12 ++++++++++--
 8 files changed, 46 insertions(+), 47 deletions(-)

commit 936dbf956b0f1471a96fc06bcba67765257dbc4a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Aug 12 08:16:18 2010 +0200

    dezombification procedure fixed

 src/ctx.cpp         |   46 ++++++++++++++++++++++++++++++++++------------
 src/ctx.hpp         |   12 ++++++++----
 src/object.cpp      |    5 +++++
 src/object.hpp      |    3 +++
 src/socket_base.cpp |   10 ++++++----
 src/socket_base.hpp |    4 ++--
 src/zmq.cpp         |    2 +-
 7 files changed, 59 insertions(+), 23 deletions(-)

commit 76bd6e73c335dbebd8bd30565f83a810058f2cc8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Aug 11 17:06:49 2010 +0200

    engine termination on disconnect fixed

 src/connect_session.cpp   |    2 +-
 src/connect_session.hpp   |    6 +++---
 src/session.cpp           |   14 ++++++++++++--
 src/session.hpp           |    1 +
 src/transient_session.cpp |    2 +-
 src/transient_session.hpp |    5 +++--
 6 files changed, 21 insertions(+), 9 deletions(-)

commit d13933bc62fce71b5a58118020e0dd3776e79aa9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Aug 11 14:09:56 2010 +0200

    I/O object hierarchy implemented

 src/Makefile.am            |   11 +-
 src/command.hpp            |    4 +-
 src/connect_session.cpp    |  115 ++++++++++++
 src/connect_session.hpp    |   60 ++++++
 src/ctx.cpp                |    6 +-
 src/ctx.hpp                |    2 +-
 src/fq.cpp                 |   21 ++-
 src/fq.hpp                 |   11 +-
 src/i_engine.hpp           |   15 +-
 src/i_inout.hpp            |   21 +--
 src/i_terminate_events.hpp |   38 ++++
 src/io_object.cpp          |   22 ++-
 src/io_object.hpp          |   10 +-
 src/lb.cpp                 |   22 ++-
 src/lb.hpp                 |   11 +-
 src/named_session.cpp      |   87 +++++++++
 src/named_session.hpp      |   56 ++++++
 src/object.cpp             |   26 ++-
 src/object.hpp             |   23 +--
 src/own.cpp                |  198 ++++++++++++++++++++
 src/own.hpp                |  132 ++++++++++++++
 src/owned.cpp              |   77 --------
 src/owned.hpp              |   94 ----------
 src/pair.cpp               |   28 ++-
 src/pair.hpp               |    7 +-
 src/pub.cpp                |   26 ++-
 src/pub.hpp                |    8 +-
 src/pull.cpp               |   14 +-
 src/pull.hpp               |   17 +-
 src/push.cpp               |   14 +-
 src/push.hpp               |   17 +-
 src/session.cpp            |  161 ++++++----------
 src/session.hpp            |   73 +++++---
 src/socket_base.cpp        |  435 +++++++++++++-------------------------------
 src/socket_base.hpp        |   68 ++-----
 src/sub.cpp                |   12 +-
 src/sub.hpp                |   11 +-
 src/transient_session.cpp  |   36 ++++
 src/transient_session.hpp  |   46 +++++
 src/xrep.cpp               |   25 ++-
 src/xrep.hpp               |   12 +-
 src/xreq.cpp               |   17 +-
 src/xreq.hpp               |   13 +-
 src/zmq_connecter.cpp      |   38 ++--
 src/zmq_connecter.hpp      |   24 +--
 src/zmq_engine.cpp         |   52 +++---
 src/zmq_engine.hpp         |   14 +-
 src/zmq_init.cpp           |  142 +++++++--------
 src/zmq_init.hpp           |   33 ++--
 src/zmq_listener.cpp       |   19 +-
 src/zmq_listener.hpp       |   11 +-
 51 files changed, 1441 insertions(+), 994 deletions(-)

commit ee1f1af0091d9bdffa0e5ce1783da925b3cd7e56
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Aug 7 21:04:30 2010 +0200

    zmq_poll(): Fix some corner cases

    Trying to optimize out the case where items_[i]. events is 0 would
    result in a bogus pollfds[i]. Similarly in the select()-based impl,
    while not strictly necessary it's better to get ZMQ_FD even if
    events is 0 since that detects ETERM and friends.

 src/zmq.cpp |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit a85d1e51bff991a0d2f93ded2724e0ee290edf12
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Aug 7 20:35:42 2010 +0200

    zmq_poll(): Rewrite to use ZMQ_FD/ZMQ_EVENTS pt2

    Rewrite the select()-based zmq_poll() implementation to use
    ZMQ_FD and ZMQ_EVENTS.

    Also fix some corner cases: We should not pollute revents with
    unrequested events, and we don't need to poll on ZMQ_FD at all
    if a pollitem with no events set was passed in.

 src/zmq.cpp |  227 +++++++++++++++++++++++------------------------------------
 1 file changed, 90 insertions(+), 137 deletions(-)

commit 6b1ca2cb1e0adc9f28aae8d322b0832a3b174a04
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Aug 7 18:33:44 2010 +0200

    Fix whitespace

    Dunno where those <TAB>s came from...

 src/zmq.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cd12508418530724f10a353fc3a14ab321d0be8e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Aug 7 18:24:12 2010 +0200

    zmq_poll(): Rewrite to use ZMQ_FD/ZMQ_EVENTS pt1

    Rewrite zmq_poll() to use ZMQ_FD and ZMQ_EVENTS introduced on the
    wip-shutdown branch. Only do the poll()-based version of zmq_poll (), the
    select()-based version will not compile at the moment.

 src/zmq.cpp |  169 +++++++++++++++++++----------------------------------------
 1 file changed, 54 insertions(+), 115 deletions(-)

commit eb7b8a413a99b2e43e8feee410f2b860e99e7056
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 7 11:24:07 2010 +0200

    REP socket layered on top of XREP socket

 src/rep.cpp |  263 +++++++++--------------------------------------------------
 src/rep.hpp |   49 ++---------
 2 files changed, 45 insertions(+), 267 deletions(-)

commit 3e97c0fef49e511dcae400e134876581cdae43f3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Aug 7 09:52:34 2010 +0200

    REQ socket implementation is layered on top of XREQ

 src/fq.cpp   |    7 ++
 src/pipe.cpp |    6 +-
 src/req.cpp  |  243 ++++++++--------------------------------------------------
 src/req.hpp  |   54 ++-----------
 4 files changed, 47 insertions(+), 263 deletions(-)

commit f77edfce26bf50ab6eae6550d33f345c9785acca
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Aug 6 20:55:37 2010 +0200

    Destruction of session is delayed till both in & out pipes are closed

 src/pipe.cpp    |    5 -----
 src/pipe.hpp    |    4 ----
 src/session.cpp |    7 ++++---
 3 files changed, 4 insertions(+), 12 deletions(-)

commit 05d908492dc382941fc633ad7082b5bd86e84e67
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Aug 6 17:49:37 2010 +0200

    WIP: Socket migration between threads, new zmq_close() semantics

    Sockets may now be migrated between OS threads; sockets may not be used by
    more than one thread at any time. To migrate a socket to another thread the
    caller must ensure that a full memory barrier is called before using the
    socket from the target thread.

    The new zmq_close() semantics implement the behaviour discussed at:

    http://lists.zeromq.org/pipermail/zeromq-dev/2010-July/004244.html

    Specifically, zmq_close() is now deterministic and while it still returns
    immediately, it does not discard any data that may still be queued for
    sending. Further, zmq_term() will now block until all outstanding data has
    been sent.

    TODO: Many bugs have been introduced, needs testing. Further, SO_LINGER or
    an equivalent mechanism (possibly a configurable timeout to zmq_term())
    needs to be implemented.

 include/zmq.h       |   70 ++++----
 src/Makefile.am     |   15 +-
 src/app_thread.cpp  |  195 --------------------
 src/app_thread.hpp  |   88 ---------
 src/config.hpp      |    5 +-
 src/ctx.cpp         |  249 ++++++++++++--------------
 src/ctx.hpp         |   94 ++++------
 src/fq.cpp          |   29 +--
 src/fq.hpp          |   17 +-
 src/i_endpoint.hpp  |   43 -----
 src/io_thread.cpp   |    5 +-
 src/io_thread.hpp   |    2 +-
 src/lb.cpp          |   21 ++-
 src/lb.hpp          |   13 +-
 src/object.cpp      |   29 ++-
 src/object.hpp      |   14 +-
 src/owned.cpp       |   10 +-
 src/owned.hpp       |    9 +-
 src/pair.cpp        |   72 ++++----
 src/pair.hpp        |   26 ++-
 src/pipe.cpp        |  250 +++++++++++++++-----------
 src/pipe.hpp        |  111 +++++++-----
 src/pub.cpp         |   62 +++----
 src/pub.hpp         |   21 ++-
 src/pull.cpp        |   48 +----
 src/pull.hpp        |   16 +-
 src/push.cpp        |   50 +-----
 src/push.hpp        |   16 +-
 src/rep.cpp         |   81 ++++++---
 src/rep.hpp         |   30 ++--
 src/req.cpp         |   65 ++++---
 src/req.hpp         |   32 ++--
 src/semaphore.hpp   |  135 ++++++++++++++
 src/session.cpp     |   62 +++----
 src/session.hpp     |   26 ++-
 src/socket_base.cpp |  495 +++++++++++++++++++++++++++++++++++++--------------
 src/socket_base.hpp |  100 +++++++----
 src/sub.cpp         |   40 +----
 src/sub.hpp         |   11 +-
 src/thread.cpp      |   20 ---
 src/thread.hpp      |    9 -
 src/xrep.cpp        |   65 +++----
 src/xrep.hpp        |   26 ++-
 src/xreq.cpp        |   37 +---
 src/xreq.hpp        |   10 +-
 src/zmq.cpp         |    7 +-
 src/zmq_encoder.cpp |    2 +-
 47 files changed, 1427 insertions(+), 1406 deletions(-)

commit b7e0fa972f45d21e45cacb93a1a92d38fdc11f40
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Aug 25 15:38:43 2010 +0200

    'master' will become 2.1.x release

 builds/msvc/platform.hpp |    4 ++--
 configure.in             |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1e089f7163c8c59b60b39742ee4bc40e1ca843c5
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Aug 25 13:11:20 2010 +0200

    Update ChangeLog for v2.0.8

 ChangeLog |  493 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 493 insertions(+)

commit c9076c5d8b9b69f4e1bf797127735a563b712eb9
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Aug 25 12:50:16 2010 +0200

    Basic documentation for XREQ/XREP socket types

    Add some basic documentation for XREQ/XREP socket types, including
    a brief description of the most common use case (REQ -> XREP) and (XREQ ->
    REP).

 doc/zmq_socket.txt |   59 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit 6d275a8788ad06dda451845402877010f114d6d4
Merge: 98bea86 d788c1f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 25 12:09:55 2010 +0200

    Updated NEWS for stable 2.0.8 release

commit 98bea86240c3e2cb0c1c9832f5660994a0a11f34
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 25 11:43:52 2010 +0200

    Updated NEWS for stable 2.0.8 release

 NEWS |   54 ++++++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 48 insertions(+), 6 deletions(-)

commit d788c1f7e49305976f3e1d0540c5671c47348880
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 25 11:43:52 2010 +0200

    Updated NEWS for stable 2.0.8 release

 NEWS |   47 +++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 41 insertions(+), 6 deletions(-)

commit c06a3cc5101a36bf70c593937374371cafbacfc3
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Aug 25 11:24:24 2010 +0200

    Update version number to 2.0.8

 builds/msvc/platform.hpp |    2 +-
 configure.in             |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b66dd7afd20b82668a3d7756900c91680bd1d91e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Aug 25 09:50:45 2010 +0200

    zmq_stopwatch_stop: Don't return EFAULT

    Function returning unsigned long int cannot return (-1)

 src/zmq.cpp |    4 ----
 1 file changed, 4 deletions(-)

commit 2b2accb8bf574bfb7d85893696f477d5bc6ca272
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 21 15:47:10 2010 +0200

    Added calls to zmq_msg_close in examples

 doc/zmq_recv.txt |    3 +++
 1 file changed, 3 insertions(+)

commit c52d1f2d47ac93e391ff707b50245aa33d7e8323
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 21 13:46:03 2010 +0200

    Fixed example for multipart zmq_recv()

 doc/zmq_recv.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 87612be91d4ff5252613196f061bd89d3bce25ec
Merge: de0035b 5be54b9
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Aug 20 01:06:34 2010 +0200

    Merge branch '46_device_robustness'

commit de0035b6d9fc1c5423d10fbac468b0e17188510f
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Aug 19 14:31:04 2010 +0200

    Fixed git URL in README

 README |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7aba2d10338727b030c3a9ff4ec34f7086ea5023
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Aug 18 12:00:26 2010 +0200

    documentation leftover from v2.0.6 cleaned in zmq(7)

 doc/zmq.txt |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit de0173754cc82f6c08875a892892f043a804554c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 11 21:12:10 2010 +0200

    Removed wip zmq_deviced from master

 doc/Makefile.am     |    2 +-
 doc/zmq.txt         |    4 +-
 doc/zmq_deviced.txt |  145 ---------------------------------------------------
 3 files changed, 2 insertions(+), 149 deletions(-)

commit 5be54b912029381736ee8b8798f95cc9a2544a70
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 11 17:05:19 2010 +0200

    46 - Devices vulnerable to invalid messages

    http://github.com/zeromq/zeromq2/issues#issue/46
    Invalid messages are now discarded silently, instead of causing an assertion
    failure.

 src/xrep.cpp |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit e74d350068e8a7d2becbd791f19e2c1ef20afae5
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 11 17:00:12 2010 +0200

    Fixed (un)signed type errors in get/setsockopt manual

 doc/zmq_getsockopt.txt |   10 +++++-----
 doc/zmq_setsockopt.txt |   10 +++++-----
 2 files changed, 10 insertions(+), 10 deletions(-)

commit a12f446c4c160e6fb969c35ff01578e5f0965ecc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Aug 10 12:36:56 2010 +0200

    Modified zmq_tcp(7) to emphasize wildcard interfaces

 doc/zmq_tcp.txt |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit b6cdd369e328ceca2c46758d92ad8ea6a1f59cd7
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sun Aug 8 11:43:32 2010 +0200

    Added error checking (EFAULT) for null arguments

    * Fixed zmq_term, zmq_socket, zmq_close, zmq_setsockopt,
    * zmq_getsockopt, zmq_bind, zmq_connect, zmq_send,
    * zmq_recv, zmq_poll, zmq_device, zmq_stopwatch_stop
    * Updated Reference Manual for these methods

 doc/zmq_bind.txt       |    2 ++
 doc/zmq_close.txt      |    3 ++-
 doc/zmq_connect.txt    |    2 ++
 doc/zmq_device.txt     |   13 ++++++++--
 doc/zmq_getsockopt.txt |    2 ++
 doc/zmq_poll.txt       |    2 ++
 doc/zmq_recv.txt       |    2 ++
 doc/zmq_send.txt       |    2 ++
 doc/zmq_setsockopt.txt |    2 ++
 doc/zmq_socket.txt     |    3 ++-
 doc/zmq_term.txt       |    3 ++-
 src/zmq.cpp            |   63 ++++++++++++++++++++++++++++++++++++------------
 12 files changed, 79 insertions(+), 20 deletions(-)

commit 677b3d906acc97c26855bdc31126492878ad6292
Author: Pieter Hintjens <ph@imatix.com>
Date:   Sat Aug 7 20:55:07 2010 +0200

    Added not-null assertions on pointer arguments in C API functions
    * zmq_term
    * zmq_socket
    * zmq_close
    * zmq_setsockopt
    * zmq_getsockopt
    * zmq_bind
    * zmq_connect
    * zmq_send
    * zmq_recv
    * zmq_poll
    * zmq_device
    * zmq_stopwatch_stop

 src/zmq.cpp |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit b579aa9510fe6897735ba2aae5db399ef89ad573
Merge: 6d35e82 2100a91
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Aug 6 12:01:40 2010 +0200

    Merge branch 'master' of github.com:zeromq/zeromq2

commit 6d35e82db4178b936b33c2eaa6a9f4a2b597e2f3
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Aug 6 12:00:57 2010 +0200

    Fix uninitialized use of nbytes in signaler fix

 src/signaler.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2100a9133312f7feecd22c4f809c8f3912c93274
Merge: 78e9ee8 16b43e6
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Aug 6 11:09:29 2010 +0200

    Merge branch 'master' of github.com:zeromq/zeromq2

commit 16b43e657b44902b3b45fbb01228c813cf27ad39
Merge: 9ac2ff4 96bcc9e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Aug 5 23:41:49 2010 +0200

    Merge branch 'master' of github.com:zeromq/zeromq2

commit 9ac2ff449ccfb71cb1f3c9d7b2cf67c440539228
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Aug 5 23:40:30 2010 +0200

    zmq::signaler_t: Restart syscalls on EINTR

    This patch restarts the send() or recv() inside zmq::signaler_t if the call fails
    due to EINTR.

 src/signaler.cpp |   22 +++++++++++++++++-----
 1 file changed, 17 insertions(+), 5 deletions(-)

commit 78e9ee84bf0e89eeb7134771b1f501ea0f9ccd9d
Author: Pieter Hintjens <ph@imatix.com>
Date:   Thu Aug 5 18:49:49 2010 +0200

    Fixed MSVC project for PULL/PUSH

 builds/msvc/libzmq/libzmq.vcproj |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 96bcc9e6cf73781c31042278eb960c0363a78805
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 17:06:38 2010 +0200

    Small improvements to zmq_device(3) page

    * Clarified broker model and proxy model
    * Added example of proxy model

 doc/zmq_device.txt |   32 ++++++++++++++++++++++----------
 1 file changed, 22 insertions(+), 10 deletions(-)

commit 13f3481e127a6b2390e847af6b01ee88f1b4ae61
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 16:05:25 2010 +0200

    Further cleanups on reference manual

    - fixed unwrapped text in new man pages
    - fixed over-long lines in older pages, where possible
    - removed reference to old standalong devices from index page
    - added refernce to new zmq_device[3] documented from index page
    - some minor spelling corrections

 doc/zmq.txt            |   22 +++++++------------
 doc/zmq_bind.txt       |   13 +++++++----
 doc/zmq_connect.txt    |   13 +++++++----
 doc/zmq_device.txt     |   56 +++++++++++++++++++++++++++++++++++++-----------
 doc/zmq_deviced.txt    |   50 ++++++++++++++++++++++++++++++------------
 doc/zmq_getsockopt.txt |    2 +-
 doc/zmq_pgm.txt        |    4 ++--
 doc/zmq_poll.txt       |    4 ++--
 doc/zmq_setsockopt.txt |    2 +-
 doc/zmq_tcp.txt        |   11 +++++-----
 10 files changed, 117 insertions(+), 60 deletions(-)

commit 6ff193999d96487f7aa7e578980ab5554e61d8dc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 15:07:15 2010 +0200

    Removed empty man pages for old standalone devices

 doc/asciidoc.conf     |    2 +-
 doc/zmq_forwarder.txt |   29 -----------------------------
 doc/zmq_queue.txt     |   29 -----------------------------
 doc/zmq_streamer.txt  |   29 -----------------------------
 4 files changed, 1 insertion(+), 88 deletions(-)

commit c51de31f2fd31f782e419bfac2fb8d40d689f3e3
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 14:56:58 2010 +0200

    Reverting 'clean' change to Makefile

 doc/Makefile.am |    2 --
 1 file changed, 2 deletions(-)

commit 77a3c36ff1f11215229a4efdb821a3cb83a9d6fc
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 14:43:33 2010 +0200

    Various changes to documentation project:

    * Added documentation for zmq_deviced, which we're developing
    * Created consistent page footer in documentation template
    * Page footer notes doc authors and copyright statement

 doc/asciidoc.conf         |   15 ++++++
 doc/zmq.txt               |   19 -------
 doc/zmq_bind.txt          |    9 +---
 doc/zmq_close.txt         |    4 --
 doc/zmq_connect.txt       |    4 --
 doc/zmq_cpp.txt           |    4 --
 doc/zmq_deviced.txt       |  123 +++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_errno.txt         |    4 --
 doc/zmq_forwarder.txt     |    4 --
 doc/zmq_getsockopt.txt    |    4 --
 doc/zmq_init.txt          |    4 --
 doc/zmq_inproc.txt        |    4 --
 doc/zmq_ipc.txt           |    4 --
 doc/zmq_msg_close.txt     |    4 --
 doc/zmq_msg_copy.txt      |    4 --
 doc/zmq_msg_data.txt      |    4 --
 doc/zmq_msg_init.txt      |    4 --
 doc/zmq_msg_init_data.txt |    4 --
 doc/zmq_msg_init_size.txt |    4 --
 doc/zmq_msg_move.txt      |    4 --
 doc/zmq_msg_size.txt      |    4 --
 doc/zmq_pgm.txt           |    5 +-
 doc/zmq_poll.txt          |    4 --
 doc/zmq_queue.txt         |    4 --
 doc/zmq_recv.txt          |    4 --
 doc/zmq_send.txt          |    4 --
 doc/zmq_setsockopt.txt    |    4 --
 doc/zmq_socket.txt        |   31 ++++++------
 doc/zmq_streamer.txt      |    4 --
 doc/zmq_strerror.txt      |    4 --
 doc/zmq_tcp.txt           |    4 --
 doc/zmq_term.txt          |    5 --
 doc/zmq_version.txt       |    4 --
 33 files changed, 156 insertions(+), 155 deletions(-)

commit 6cd90304476c1c6873d67068009def63e520b848
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 14:42:21 2010 +0200

    Added clean target that deletes generated man pages

 doc/Makefile.am |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit f575f252c99c99d3622f313d6bbad6635197a1e4
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 14:41:43 2010 +0200

    Added man page for the zmq_device method

 doc/zmq_device.txt |   92 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 92 insertions(+)

commit 11a410b65827a3958fb5f417c29e95c1953a0b42
Author: Pieter Hintjens <ph@imatix.com>
Date:   Wed Aug 4 14:38:56 2010 +0200

    Renamed ZMQ_UPSTREAM to ZMQ_PULL, and ZMQ_DOWNSTREAM to ZMQ_PUSH.  Left the old
    definitions as aliases, to be removed in release 3.0.  Also renamed the source
    files implementing these two socket types.  This change does not break existing
    applications nor bindings, but allows us to fix the documentation and user guide
    now, rather than keeping the old (confusing) names.

 include/zmq.h      |   61 ++++++++++++++++---------------
 src/Makefile.am    |    8 ++---
 src/app_thread.cpp |   12 +++----
 src/downstream.cpp |  101 ----------------------------------------------------
 src/downstream.hpp |   61 -------------------------------
 src/pull.cpp       |   98 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/pull.hpp       |   62 ++++++++++++++++++++++++++++++++
 src/push.cpp       |  101 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/push.hpp       |   61 +++++++++++++++++++++++++++++++
 src/upstream.cpp   |   98 --------------------------------------------------
 src/upstream.hpp   |   62 --------------------------------
 11 files changed, 364 insertions(+), 361 deletions(-)

commit 544b36da68729daffefa8f40d2efed5945851a01
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jul 30 16:49:06 2010 +0200

    XREQ: Correct behaviour on hitting ZMQ_HWM

    This reverts part of commit 84e0c7991a9b316ed571533abc628cc1175750a3 to get
    correct ZMQ_HWM semantics with XREQ sockets:

    When sending a message to an XREQ socket, the underlying pipe is selected in
    a round-robin fashion. If an underlying pipe is full it is skipped. If there
    are no underlying pipes, or all underlying pipes are full then zmq_send()
    shall block or return EAGAIN, depending on whether or not the call is blocking.
    Messages are never dropped.

 src/xreq.cpp |   27 +++------------------------
 src/xreq.hpp |    3 ---
 2 files changed, 3 insertions(+), 27 deletions(-)

commit 66470b2c55d74fb137211f4264bbfc5e3f454534
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jul 26 12:24:00 2010 +0200

    perf: fix typo

 perf/local_thr.cpp  |    2 +-
 perf/remote_thr.cpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 10533a560b4af1d3dae63c87c737e25bbdb78998
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 14 18:31:17 2010 +0200

    pipe: check_read() should check for message delimiter

 src/pipe.cpp  |   27 ++++++++++++++++++++++-----
 src/pipe.hpp  |    3 +++
 src/ypipe.hpp |   11 +++++++++++
 3 files changed, 36 insertions(+), 5 deletions(-)

commit e1c596b37eef2c2c72c605d7bf4a5c97050add6b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jul 24 16:57:13 2010 +0200

    Make sure lwm > 0 when hwm > 0

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b1a6a4bea1cebe860769f82702410f6c1d0ab1b
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Jul 21 17:33:40 2010 +0200

    Issue 42 - getaddrinfo() fails

 src/ip.cpp |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit aedf3f808befd8cf32a16e34b907c60c79eabfd7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jul 19 08:38:24 2010 +0200

    EHOSTUNREACH is a valid return value from recv()

 src/tcp_socket.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 269904361b565efa54a106e3eda96091320439bd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 13 11:46:56 2010 +0200

    minor comment clarification

 src/tcp_connecter.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit da49e5a4dd4602bf893193a5e6e64af54695b51c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jul 13 07:57:29 2010 +0200

    devices exit in case of context termination

 src/forwarder.cpp |   15 +++++++++++++--
 src/queue.cpp     |   42 +++++++++++++++++++++++++++++++++++-------
 src/streamer.cpp  |   15 +++++++++++++--
 3 files changed, 61 insertions(+), 11 deletions(-)

commit ca057c7db8dcb2384e2498c938f3d83f64b78a7d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jul 10 22:57:47 2010 +0200

    Fix identity generation for transient inproc connections

 src/socket_base.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1f61c87ac527e2a75cabbce4ea4c5f916f4532e7
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Jul 7 17:15:32 2010 +0200

    issue 40 - nbytes != -1 (tcp_socket.cpp:216)

 src/tcp_socket.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fd707fedc59124ed627780efed081acf33f455d2
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Jul 6 22:47:07 2010 +0200

    issue 38 - Assertion failed: fetched (xrep.cpp:196)

 src/xrep.cpp |   20 ++++++++++++--------
 src/xrep.hpp |    6 ++++++
 2 files changed, 18 insertions(+), 8 deletions(-)

commit 805af8241d7450fe1e60174739a78325677897f6
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Jun 30 16:23:07 2010 +0200

    asciidoc.conf was missing from distribution tarball

 doc/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0ab65324195ad70205514d465b03d851a6de051c
Author: Pieter Hintjens <ph@imatix.com>
Date:   Tue Jun 29 21:08:41 2010 +0200

    Prevent socket reuse by second bind, on win32

 src/tcp_listener.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79a3d07c8587e840548791efc314b0184c584881
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jun 29 07:45:11 2010 +0200

    MSVC build fixed

 src/msg_store.cpp |   17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit ba91644fdb48cec97edc6965c4ca7ab564a3513f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Jun 26 20:11:40 2010 +0200

    msg_store added to MSVC build

 builds/msvc/libzmq/libzmq.vcproj |    8 ++++++++
 src/msg_store.cpp                |    2 ++
 2 files changed, 10 insertions(+)

commit 1dda8a2aaabd3b7705b0ecd67d6d9737d1978946
Author: Pieter Hintjens <ph@imatix.com>
Date:   Fri Jun 25 18:35:42 2010 +0200

    Used more expressive variable names

 src/msg_store.cpp |   73 +++++++++++++++++++++++------------------------------
 1 file changed, 32 insertions(+), 41 deletions(-)

commit fca2e8e8cc30bcd134839f6d0f5f9963323dad2b
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Jun 21 15:06:51 2010 +0200

    Add SWAP support

 src/Makefile.am     |    2 +
 src/msg_store.cpp   |  313 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/msg_store.hpp   |  114 +++++++++++++++++++
 src/pipe.cpp        |  114 +++++++++++++++----
 src/pipe.hpp        |   29 +++--
 src/session.cpp     |    4 +-
 src/socket_base.cpp |    8 +-
 7 files changed, 545 insertions(+), 39 deletions(-)

commit 10c28c1fc2f06c93e12a7c60f79a315cec7c5a52
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 19 20:46:16 2010 +0200

    Revive reader on pipe termination

 src/pipe.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2c3913bb19fa95e7decaa7967e2469dc428e46b0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Sat Jun 19 19:46:35 2010 +0200

    fix double free error in PAIR socket

 src/pair.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit cff7ba2315c0f62fa3679afa24ecea88da38a365
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 17 17:09:51 2010 +0200

    Windows build fixed

 builds/msvc/c_local_lat/c_local_lat.vcproj   |    4 ----
 builds/msvc/c_local_thr/c_local_thr.vcproj   |    4 ----
 builds/msvc/c_remote_lat/c_remote_lat.vcproj |    4 ----
 builds/msvc/c_remote_thr/c_remote_thr.vcproj |    4 ----
 include/zmq_utils.h                          |    8 ++++++++
 src/zmq.cpp                                  |    1 +
 6 files changed, 9 insertions(+), 16 deletions(-)

commit 7f01e9970d211235fc8057de6dc41ba8ceafe795
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 17 16:51:53 2010 +0200

    stopwatch returned to libzmq

 include/zmq.h       |    2 ++
 include/zmq_utils.h |   49 +++++++++++++++++++++++++++++
 perf/Makefile.am    |    9 +++---
 perf/helpers.cpp    |   86 ---------------------------------------------------
 perf/helpers.h      |   40 ------------------------
 perf/local_lat.cpp  |    4 +--
 perf/local_thr.cpp  |    6 ++--
 perf/remote_lat.cpp |    6 ++--
 perf/remote_thr.cpp |    4 +--
 src/Makefile.am     |    2 +-
 src/zmq.cpp         |   63 +++++++++++++++++++++++++++++++++++++
 11 files changed, 129 insertions(+), 142 deletions(-)

commit 4777fe4010572d381a2ad8eb63df2fc5fb7e6642
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Thu Jun 17 12:45:14 2010 +0200

    pipe: fix bug in rollback() method

    The msgs_written variable keeps track how many complete
    messages have been written so far. The rollback operation drops all
    fragments of the last incomplete message so it shouldn't
    change this variable at all.

 src/pipe.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 9151de38959a21829d4ab60324d6750d2e1a4357
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 17 11:01:18 2010 +0200

    generate identity for transient inproc connections

 src/socket_base.cpp |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 341e8a267309179bbb8249845e7efb14faf93d4d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jun 15 14:01:44 2010 +0200

    test commit

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 9858447fad3260cb16b1f2e56a14cfe3db737a36
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jun 15 08:01:43 2010 +0200

    getsockopt documentation fixed

 doc/zmq_getsockopt.txt |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit ac90b7e0ba497bfec09d7a69a2e01dc6d94a9c9a
Author: Brian Buchanan <bwb@holo.org>
Date:   Fri Jun 11 08:03:34 2010 +0200

    issue 35 - ZMQ_RCVMORE sometimes erroneously returns false

 AUTHORS             |    1 +
 src/socket_base.cpp |    9 ++++++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 5ee355d1880bc7391c199ea29adc620ceb0d96f1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jun 11 07:02:36 2010 +0200

    if connect asserts, exact error is reported

 src/tcp_connecter.cpp |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 27877d73ea7dd972a773c7e960706130daaf5925
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jun 11 06:55:30 2010 +0200

    EHOSTUNREACH is acceptable outcome from connect

 src/tcp_connecter.cpp |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c818b14bbd261aa836400e9dfb4848117dd2edb6
Author: Piotr Trojanek <piotr.trojanek@gmail.com>
Date:   Thu Jun 10 12:57:42 2010 +0200

    clearing thread info structure

 src/ctx.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 74a3907be285891d90b82e2d315d03141a398752
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 10 12:36:27 2010 +0200

    couple of ICC warnings fixed

 src/encoder.hpp |    2 +-
 src/uuid.cpp    |    4 +++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 8782b4d696da7b1527f69e819d75d691bc3df105
Author: Piotr Trojanek <piotr.trojanek@gmail.com>
Date:   Thu Jun 10 07:34:11 2010 +0200

    -lcrypto added to linking flags for QNX

 configure.in |    1 +
 1 file changed, 1 insertion(+)

commit 76e0153d4f3ef1d5fef1a9b926e0e8e3ab2d9685
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 10 07:21:05 2010 +0200

    issue 33 - missing virtual destructors

 src/decoder.hpp     |    4 +++-
 src/encoder.hpp     |    2 ++
 src/yarray_item.hpp |    4 +++-
 src/ypipe.hpp       |    6 ++++++
 4 files changed, 14 insertions(+), 2 deletions(-)

commit d329c55da9c503e82831e940b0fc8dc9e5479975
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Jun 10 07:12:00 2010 +0200

    issue 31 - Assertion failed: err == ECONNREFUSED || err == ETIMEDOUT (tcp_connecter.cpp:296)

 src/tcp_connecter.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 604f7475ec1d19df416156879db3ddd3c90d5a13
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Jun 9 17:49:08 2010 +0200

    issue 32 - poll_t poller broken

 src/poll.cpp |   23 +++++++++++------------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit 7a29e8594fb539e37b9d08982b1f491b0794b7d2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Jun 9 17:07:45 2010 +0200

    Piotr Trojanek added to AUTHORS file

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 751b60a18d028d9859394c7abe960cb1c42e605e
Author: Piotr Trojanek <piotr.trojanek@gmail.com>
Date:   Wed Jun 9 17:06:32 2010 +0200

    extra ';' inside a struct or union -- clang warnings fixed

 foreign/xmlParser/xmlParser.hpp |    2 +-
 src/i_poll_events.hpp           |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 240fc33f65c6cd9f1ed0a511daf4ad00ff37f163
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 7 20:23:48 2010 +0200

    minor comment clarification

 src/tcp_connecter.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 784e73a7c84f2c0a454f4a9ef69586755482a9d5
Merge: ce53d02 8f51a10
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 7 09:03:56 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit ce53d02e0580755055245cc1050f1dd3a26a3f22
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Jun 7 09:03:40 2010 +0200

    C++ docs for zmq::poll function improved

 doc/zmq_cpp.txt |    4 ++++
 1 file changed, 4 insertions(+)

commit 8f51a10918d54e24818b863a9e3d530a00de21b5
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 19:30:47 2010 +0200

    Update ChangeLog for v2.0.7

 ChangeLog |  848 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 848 insertions(+)

commit 5c97ff9a2eb3e55007fd90b5c3a1c433de7bc60c
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 19:27:55 2010 +0200

    More NEWS for 2.0.7

 NEWS |    9 +++++++++
 1 file changed, 9 insertions(+)

commit e8a9614aaeb45fc619eed2983f93edb744b4cef4
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 19:20:37 2010 +0200

    Update NEWS for 2.0.7 release

 NEWS |   54 +++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 39 insertions(+), 15 deletions(-)

commit 9b8f902d72438752b00d4c1bb3887c40423777e0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jun 4 18:49:55 2010 +0200

    initial version of 2.0.7 NEWS

 NEWS |   25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit baf659fde5136c20f879ef713ec3effc34854ba6
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 17:12:51 2010 +0200

    Move news from ChangeLog into NEWS

 ChangeLog |  397 +-----------------------------------------------------------
 NEWS      |  398 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 400 insertions(+), 395 deletions(-)

commit 94dfe1368ac1cd4a456c86b8fc800d7c3911cfd3
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 17:02:16 2010 +0200

    Fix MINGW build

    Mingw seems to define NOMINMAX, so don't redefine it if already defined

 src/windows.hpp |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit cf048bb1f8a665370d9e39aee2a7363327911b08
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jun 4 16:29:36 2010 +0200

    platform.hpp for MSVC contains only very basic stuff

 builds/msvc/platform.hpp |   29 -----------------------------
 perf/helpers.cpp         |    4 +++-
 src/encoder.hpp          |    5 +++++
 src/prefix_tree.cpp      |    5 +++++
 src/uuid.cpp             |    1 -
 src/uuid.hpp             |    1 +
 src/windows.hpp          |    4 ++++
 src/zmq_engine.cpp       |    6 +++++-
 8 files changed, 23 insertions(+), 32 deletions(-)

commit 927993863eda325c66fc678810eeadd0c744cdf2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jun 4 15:47:22 2010 +0200

    MSVC build fixed

 builds/msvc/c_local_lat/c_local_lat.vcproj   |    4 ++++
 builds/msvc/c_local_thr/c_local_thr.vcproj   |    4 ++++
 builds/msvc/c_remote_lat/c_remote_lat.vcproj |    4 ++++
 builds/msvc/c_remote_thr/c_remote_thr.vcproj |    4 ++++
 foreign/xmlParser/xmlParser.cpp              |    2 +-
 perf/helpers.cpp                             |    4 +---
 6 files changed, 18 insertions(+), 4 deletions(-)

commit 621d7415b3cdee1f79787e2961f113b00d237615
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 15:35:14 2010 +0200

    Fix Solaris/NetBSD breakage in atomic_ptr.hpp

 src/atomic_ptr.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 67ca7dcbe6b072b74a112ce4df4529cda82c0f13
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Jun 4 15:24:06 2010 +0200

    obsolete API elements removed - this commit breaks backward compatibility

 devices/zmq_forwarder/zmq_forwarder.cpp |    2 +-
 devices/zmq_queue/zmq_queue.cpp         |    2 +-
 devices/zmq_streamer/zmq_streamer.cpp   |    2 +-
 include/zmq.h                           |   11 +----------
 include/zmq.hpp                         |    4 ++--
 perf/local_lat.cpp                      |    2 +-
 perf/local_thr.cpp                      |    2 +-
 perf/remote_lat.cpp                     |    2 +-
 perf/remote_thr.cpp                     |    2 +-
 src/zmq.cpp                             |    4 +---
 10 files changed, 11 insertions(+), 22 deletions(-)

commit d844a90690af357988b1c5ba027c740d4182d753
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 15:00:31 2010 +0200

    zmqd: Removing for now, not ready for 2.0.7

 Makefile.am      |    4 +-
 configure.in     |    2 +-
 zmqd/Makefile.am |    8 --
 zmqd/zmqd.cpp    |  364 ------------------------------------------------------
 4 files changed, 3 insertions(+), 375 deletions(-)

commit 606c77368cccd2a277437b5de8764772295fdf89
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 14:48:49 2010 +0200

    Move perf helper functions to perf/helpers.cpp

 include/zmq.h       |   17 ----------
 perf/Makefile.am    |    9 +++---
 perf/helpers.cpp    |   86 +++++++++++++++++++++++++++++++++++++++++++++++++++
 perf/helpers.h      |   40 ++++++++++++++++++++++++
 perf/local_lat.cpp  |    3 +-
 perf/local_thr.cpp  |    5 +--
 perf/remote_lat.cpp |    5 +--
 perf/remote_thr.cpp |    3 +-
 src/zmq.cpp         |   58 ----------------------------------
 9 files changed, 141 insertions(+), 85 deletions(-)

commit 05b4a7ae787760d5c24e048612b786fa0283854a
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 13:58:49 2010 +0200

    Remove PGM examples from build

 configure.in     |    9 -----
 perf/Makefile.am |  112 +-----------------------------------------------------
 2 files changed, 1 insertion(+), 120 deletions(-)

commit 4d65d7a5a98cbb95430a5b02706ab87d3fa0f56c
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Jun 4 13:53:40 2010 +0200

    Documentation: zmq_tcp(7) update for 2.0.7

    Document MORE bit in flags field

 doc/zmq_tcp.txt |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 7fc15c21a17cfa58e60e4a513360cb12b542a570
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Jun 3 14:36:44 2010 +0200

    Documentation: zmq_cpp(7) update for 2.0.7

 doc/zmq_cpp.txt |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 10f4bf3f35ab3da05fe5ca8a28cd131e3781249f
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Jun 3 14:15:05 2010 +0200

    Documentation: Cosmetic changes

 doc/zmq_getsockopt.txt |   10 ++++++++++
 doc/zmq_setsockopt.txt |   11 +++++++++++
 2 files changed, 21 insertions(+)

commit 8076fd1a3abece7dc91c2b2309dd0ecba57e882f
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Jun 3 14:08:36 2010 +0200

    Documentation: zmq_errno(3)

 doc/Makefile.am   |    2 +-
 doc/zmq.txt       |    9 ++++++---
 doc/zmq_errno.txt |   50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 57 insertions(+), 4 deletions(-)

commit 7c9b09bc511236c8cc5f6cea7623a8b98fedf302
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Jun 2 18:36:34 2010 +0200

    Documentation: Flow control, zmq_socket(3)

    Mostly Flow control and additions to zmq_socket(3)
    Removed/changed lots of text regarding message queues
    More fixes for 2.0.7 changes

 doc/zmq.txt            |   18 ++---
 doc/zmq_getsockopt.txt |   23 ++++---
 doc/zmq_poll.txt       |   28 ++++----
 doc/zmq_recv.txt       |   22 +++----
 doc/zmq_send.txt       |    9 ++-
 doc/zmq_setsockopt.txt |   25 +++----
 doc/zmq_socket.txt     |  172 ++++++++++++++++++++++++++++++++++++++++--------
 7 files changed, 205 insertions(+), 92 deletions(-)

commit 9d00d300b0d6b45d2954792540cc95a0c3fb6a01
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Jun 1 22:22:50 2010 +0200

    Documentation: zmq_init() API changes for 2.0.7

 doc/zmq_init.txt |   19 +++++--------------
 1 file changed, 5 insertions(+), 14 deletions(-)

commit 8ba1d3c8ed32b39bb1133330d496587d96020e7e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Jun 1 22:22:29 2010 +0200

    Documentation: zmq_term() and ETERM for 2.0.7

 doc/zmq_bind.txt       |    2 +-
 doc/zmq_connect.txt    |    2 +-
 doc/zmq_getsockopt.txt |    1 -
 doc/zmq_poll.txt       |    6 ++----
 doc/zmq_setsockopt.txt |    1 -
 doc/zmq_term.txt       |   20 +++++++++++++++++---
 6 files changed, 21 insertions(+), 11 deletions(-)

commit 74a03dfd7dbb762be5d50eca4df214f8825ad44a
Merge: 99e6179 8a77135
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Jun 1 21:49:50 2010 +0200

    Merge branch 'master' of github.com:sustrik/zeromq2

commit 8a771350795dc4f9aae6a89534f1391d7b63b10c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Jun 1 10:42:55 2010 +0200

    Pieter Hintjens added to 'authors' section

 AUTHORS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b0716661e99a2b55151650ec94cd5fd268d0334
Author: Pieter Hintjens <ph@itmatix.com>
Date:   Tue Jun 1 10:40:12 2010 +0200

    multiple vulnerabilities in xml paerser fixed

 foreign/xmlParser/xmlParser.cpp |   37 +++++++++++++++++++++++++++++++------
 1 file changed, 31 insertions(+), 6 deletions(-)

commit 99e6179edd9e3552fcdb7f4fce3306cd174f3359
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 17:24:50 2010 +0200

    Documentation updates

    The option_value parameter for zmq_getsockopt is in and out.

 doc/zmq_getsockopt.txt |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b4f3e0acd72de97bc5ef46ea74d9cd7ed7f9efc2
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 17:21:51 2010 +0200

    Documentation updates

    Clarify multi-part messages

 doc/zmq_recv.txt |   16 ++++++++--------
 doc/zmq_send.txt |   13 ++++++-------
 2 files changed, 14 insertions(+), 15 deletions(-)

commit 7bbe754cb4987669d4273ec37f5f50d29b9931df
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 17:21:12 2010 +0200

    Documentation updates

    Clarify pipeline and exclusive pair patterns

 doc/zmq_socket.txt |   14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 8a4df431de872623c761fdeb291748d3d153b8d1
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 14:18:51 2010 +0200

    Documentation updates

    Add getsockopt to Makefile.am

 doc/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dfbaf4f9668f0493649d6ba1328cced64e5340b0
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 14:18:37 2010 +0200

    Documentation updates

    Multi-part messages

 doc/zmq_recv.txt |    5 +++--
 doc/zmq_send.txt |    7 ++++---
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 0fa73b039462c1754d407de85306904e9b0c73be
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 14:13:41 2010 +0200

    Documentation updates

    Add getsockopt to index

 doc/zmq.txt |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit eb9ff1e77977c6199c0a0439f4dd35fa39f3bd3c
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 14:12:27 2010 +0200

    Documentation updates

    Multi-part messages

 doc/zmq_getsockopt.txt |   17 +++++++++++++++++
 doc/zmq_recv.txt       |   37 ++++++++++++++++++++++++++++++++++++-
 doc/zmq_send.txt       |   33 ++++++++++++++++++++++++++++++++-
 3 files changed, 85 insertions(+), 2 deletions(-)

commit 8becacf82c950af951f477e3dc3f7ac79e110fc1
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 31 12:53:40 2010 +0200

    Documentation updates

    Add zmq_getsockopt(3), clean up zmq_setsockopt(3).

 doc/zmq_getsockopt.txt |  209 ++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_setsockopt.txt |   62 +++++++-------
 2 files changed, 241 insertions(+), 30 deletions(-)

commit be6019abd1ac6fe11c9c51dbadf9c72b37349c2a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 31 09:28:36 2010 +0200

    issue 28. - SNDMORE/ RCVMORE is dropping every other message

 src/req.cpp |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2e9be56a4059cf230f6aa92eb1c71db5f1200b8e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 31 06:17:58 2010 +0200

    memory leak in REQ socket fixed

 src/req.cpp |   34 ++++------------------------------
 1 file changed, 4 insertions(+), 30 deletions(-)

commit 3bb60da0d085b1089ddec4617fcd40f2cda88567
Merge: 04fcd4d da37c45
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 31 06:11:42 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 04fcd4d55b3b01e75d1d0d547987841811a2d610
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 31 06:11:20 2010 +0200

    memory leak in REP socket fixed

 src/rep.cpp |   34 ++++------------------------------
 1 file changed, 4 insertions(+), 30 deletions(-)

commit da37c45b0c7200eea96118952e671972b71df4ce
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri May 28 01:38:43 2010 +0200

    Clarify zmq_bind/zmq_connect

    Use the term 'endpoint' correctly, and drop the nonsense about local/remote addresses which doesn't clearly explain what is going on

 doc/zmq_bind.txt    |   28 +++++++++++++++-------------
 doc/zmq_connect.txt |   26 ++++++++++++++------------
 2 files changed, 29 insertions(+), 25 deletions(-)

commit 74f1a4a579d3b09b3420092d9f076827be31c4e7
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri May 28 00:55:04 2010 +0200

    RPM packaging cleanups

    - ditch -utils package
    - add descriptions from Debian packaging

 builds/redhat/zeromq.spec |   41 +++++++++++++++++------------------------
 1 file changed, 17 insertions(+), 24 deletions(-)

commit b4cc7b97ecaf743f3259f9df7d687558892b8a72
Author: Mikko Koppanen <mkoppanen@gameboy.config>
Date:   Fri Apr 16 10:26:22 2010 +0100

    dist-hook for copying zeromq.spec to top-level

 Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 8bd3f743f50a61355b6cf18046d59c7d0289836b
Author: Mikko Koppanen <mkoppanen@gameboy.config>
Date:   Fri Apr 16 00:01:13 2010 +0100

    Import redhat packaging

 builds/redhat/zeromq.spec |  137 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 137 insertions(+)

commit 5219e4ce8f9aa082c5f91e248a9f66639c69727d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri May 28 00:49:13 2010 +0200

    Clarify socket types in documentation, reinstate ZMQ_PAIR

 doc/zmq.txt            |    4 +--
 doc/zmq_setsockopt.txt |   14 ++++----
 doc/zmq_socket.txt     |   91 +++++++++++++++++++++++++++++-------------------
 3 files changed, 65 insertions(+), 44 deletions(-)

commit 8408ae066dce123fc93e4f53dbadb1f60b7f2e8a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 25 15:03:57 2010 +0200

    LWM is computed rather than explicitly specified by user

 doc/zmq_setsockopt.txt |   15 ---------------
 include/zmq.h          |    1 +
 src/config.hpp         |    5 ++++-
 src/options.cpp        |   18 ------------------
 src/options.hpp        |    1 -
 src/pipe.cpp           |   35 ++++++++++++++++++++++++++++++++---
 src/pipe.hpp           |    4 +++-
 src/session.cpp        |    6 ++----
 src/socket_base.cpp    |   12 ++++--------
 9 files changed, 46 insertions(+), 51 deletions(-)

commit f34a468a263c7b4013a267297ee7f121e12dfb9d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 25 10:57:54 2010 +0200

    coding style fixed in zmqd

 zmqd/zmqd.cpp |  426 ++++++++++++++++++++++++++++-----------------------------
 1 file changed, 211 insertions(+), 215 deletions(-)

commit 7773fdddfb357145cb15faaa5228fb3b2d0f6f78
Merge: 091e92a 89783c3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu May 20 18:02:34 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 091e92a11dec353e674cbacbf2455a48bdb4e01d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu May 20 18:01:58 2010 +0200

    Pieter Hintjens added to AUTHORS file

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 89783c37d2b8a7b5519eab7922b460449aa0bf3f
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 19 06:31:57 2010 +0200

    incomplete messages can be stored in ypipe

 src/pipe.cpp  |   10 ++++------
 src/ypipe.hpp |   46 ++++++++++++++++++++++++++++------------------
 2 files changed, 32 insertions(+), 24 deletions(-)

commit f40ce4e500d32b4240395e09e0ce3359734f0189
Author: Jon Dyte <jon@totient.co.uk>
Date:   Sat May 15 12:37:45 2010 +0200

    single 0MQ daemon (zmqd) - initial version

 Makefile.am      |    4 +-
 configure.in     |    2 +-
 zmqd/Makefile.am |    8 ++
 zmqd/zmqd.cpp    |  368 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 379 insertions(+), 3 deletions(-)

commit 6705a3d5807542ee2ed8a1ef6e3d9f769e5d5a93
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Thu May 13 12:43:58 2010 +0200

    some more sanity checks in pgm_socket

 src/pgm_socket.cpp |    1 +
 1 file changed, 1 insertion(+)

commit ff9d3985556aa58a5d120a3eb72867c7ebea924d
Merge: 56262d7 f6c1c97
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu May 13 12:41:39 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 56262d7ba79a9ba19fc1b89fdc07bca3894062f2
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Thu May 13 12:41:20 2010 +0200

    some more sanity checks in pgm_socket

 src/pgm_socket.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit f6c1c972428f15356af09d6922910ef44d1f6cb3
Merge: 52ef3f3 127cb89
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed May 12 16:49:49 2010 +0200

    Merge branch 'master' of github.com:sustrik/zeromq2

commit 52ef3f3f2c6f3ba1717b2e729556df713c022636
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed May 12 16:46:59 2010 +0200

    Revert commit 7cb076e, atomic ops cleanup

    Reverted to using atomic.h on NetBSD
    Removed GNU builtins (see http://lists.zeromq.org/pipermail/zeromq-dev/2010-May/003485.html)
    Removed SPARC native atomic ops as they are untested and have been commented out for years
    Add "memory" to asm clobber for X86 atomic_counter::sub()

 src/atomic_counter.hpp |   65 ++++++++----------------------------------------
 src/atomic_ptr.hpp     |   58 +++++++-----------------------------------
 2 files changed, 19 insertions(+), 104 deletions(-)

commit 127cb89ac1271bf85798294d450509b7c23019bd
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 12 16:46:07 2010 +0200

    MAINTAINERS file added

 MAINTAINERS |   60 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 8e5ac100c95e02ef60aa827b4199002f324617ed
Merge: 714a8d5 9fbb914
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 12 12:45:38 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 714a8d50a03e773320a02247847c58020c96e867
Author: Brett Cameron <Brett.Cameron@hp.com>
Date:   Wed May 12 12:45:12 2010 +0200

    fixes for OpenVMS

 src/signaler.cpp      |    1 +
 src/tcp_connecter.cpp |   19 ++++++++++++++++---
 src/tcp_listener.cpp  |   31 +++++++++++++++++++++++++++----
 src/uuid.cpp          |   29 +++++++++++++++++++++++++++++
 src/uuid.hpp          |   11 ++++++++++-
 5 files changed, 83 insertions(+), 8 deletions(-)

commit 9fbb9141a8895ac83e8051ac568223a9e57a278d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 10 16:39:09 2010 +0200

    Update historic include paths

 devices/zmq_forwarder/Makefile.am |    2 +-
 devices/zmq_queue/Makefile.am     |    2 +-
 devices/zmq_streamer/Makefile.am  |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 9d16a415cbfd33f89d2f5afd96ed7cd34a21a634
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 10 16:32:10 2010 +0200

    OpenPGM build flags cleanup

    Removed various exotic -Wxxx flags in the OpenPGM build to get us to what is actually
    required and reasonable; added in -fno-strict-aliasing since OpenPGM generates lots
    of warnings about dereferencing typed-punned pointers; removed the OpenPGM extra flags
    from libzmq_la_CXXFLAGS and left them only in libzmq_la_CFLAGS so that our code
    is not built with the OpenPGM extra flags.

 src/Makefile.am |   23 ++---------------------
 1 file changed, 2 insertions(+), 21 deletions(-)

commit 2cf9f04a460473ea10e901e68e66596583d0d286
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon May 10 16:24:53 2010 +0200

    Update OpenPGM to version 2.1.26

 configure.in                         |    2 +-
 foreign/openpgm/libpgm-2.0.24.tar.gz |  Bin 407110 -> 0 bytes
 foreign/openpgm/libpgm-2.1.26.tar.gz |  Bin 0 -> 413863 bytes
 src/Makefile.am                      |    2 ++
 4 files changed, 3 insertions(+), 1 deletion(-)

commit a25414e55caa975185ac6534c40bb601e5c38a9a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun May 9 16:59:15 2010 +0200

    Fix in zmq_poll (Windows version)

 src/zmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4d33c43913dd640853cec75ce21080c2b33d8526
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri May 7 21:53:55 2010 +0200

    caution about zmq_msg_init_* functions added to the docs

 doc/zmq_msg_init.txt      |    4 ++++
 doc/zmq_msg_init_data.txt |    4 ++++
 doc/zmq_msg_init_size.txt |    4 ++++
 3 files changed, 12 insertions(+)

commit 4a3b857c4cf35261751d562ad7e4acc5ecf58be0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri May 7 11:08:50 2010 +0200

    commands not processed immediatelly in some scenarios; fixed

 src/app_thread.cpp |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 36b044a0d5a9918841839edf12767b31bfec36a0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri May 7 09:21:15 2010 +0200

    ZMQ_PAIR socket removed from the documentation as it is unfinished yet

 doc/zmq_socket.txt |   13 -------------
 1 file changed, 13 deletions(-)

commit f60d891b2309cdc6f2cc1507a238cec85e4aa9e7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu May 6 10:33:01 2010 +0200

    Issue 23. zmq_init() crashes on illegal numbers

 src/zmq.cpp |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 64c58662b7f491f2a3c8cb684f27ea1d5c549552
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 5 14:33:02 2010 +0200

    MSVC build fixed

 builds/msvc/libzmq/libzmq.vcproj |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 835e893e54598ff474067cc68b787440baf6b05c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 5 14:24:54 2010 +0200

    dispatcher_t class renamed to ctx_t

 src/Makefile.am     |    4 +-
 src/app_thread.cpp  |   10 +-
 src/app_thread.hpp  |    2 +-
 src/ctx.cpp         |  316 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/ctx.hpp         |  156 +++++++++++++++++++++++++
 src/dispatcher.cpp  |  316 ---------------------------------------------------
 src/dispatcher.hpp  |  153 -------------------------
 src/io_thread.cpp   |    6 +-
 src/io_thread.hpp   |    2 +-
 src/object.cpp      |   28 ++---
 src/object.hpp      |   10 +-
 src/socket_base.cpp |   11 +-
 src/zmq.cpp         |   17 ++-
 src/zmq_encoder.cpp |    2 +-
 14 files changed, 518 insertions(+), 515 deletions(-)

commit 10f5334f2891b187ce57f38186cf977406097ab0
Merge: 44dd005 3f5465a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 5 13:03:56 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 44dd005ff05431b05a8e04858a23784b252da870
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed May 5 13:03:26 2010 +0200

    number of application threads to use 0MQ sockets is unlimited; app_threads parameter in zmq_init is unused and obsolete

 src/config.hpp     |    4 ++++
 src/dispatcher.cpp |   53 +++++++++++++++++++++++++++++-----------------------
 src/dispatcher.hpp |   15 +++------------
 src/zmq.cpp        |    6 ++++--
 4 files changed, 41 insertions(+), 37 deletions(-)

commit 3f5465ada1b465ac0e360d0416b8f42b0fddfab0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 4 10:37:10 2010 +0200

    Windows port fixed

 src/signaler.cpp |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 235ed3a3dcffb7c658cbc9253eae9de54db24533
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue May 4 10:22:16 2010 +0200

    signaler transports commands per se rather than one-bit signals

 src/app_thread.cpp |   20 ++---
 src/config.hpp     |    5 --
 src/dispatcher.cpp |   71 +++++++----------
 src/dispatcher.hpp |   30 ++-----
 src/io_thread.cpp  |   17 ++--
 src/object.cpp     |    6 +-
 src/pipe.hpp       |    2 +-
 src/signaler.cpp   |  224 ++++++++++++++++++++--------------------------------
 src/signaler.hpp   |   45 +++--------
 src/ypipe.hpp      |   83 +++++--------------
 10 files changed, 174 insertions(+), 329 deletions(-)

commit 8b9bd05726c3df56d7f437889abccba3cbbffdee
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon May 3 16:21:36 2010 +0200

    thread ID and dispatcher made private in object_t

 src/app_thread.cpp |    6 +++---
 src/io_thread.cpp  |    2 +-
 src/object.hpp     |    4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 84e0c7991a9b316ed571533abc628cc1175750a3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun May 2 20:59:07 2010 +0200

    queue device fixed

 src/queue.cpp |   86 ++++++++++++++++++++++++++++-----------------------------
 src/xreq.cpp  |   27 ++++++++++++++++--
 src/xreq.hpp  |    3 ++
 3 files changed, 70 insertions(+), 46 deletions(-)

commit 4a6bac1deaedb3c111c7e28b2933ed98367cb193
Merge: acfd0f8 beb4da3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 30 04:54:10 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit acfd0f8ca2d15111f35ae0034ed3ce130c96b910
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 30 04:53:41 2010 +0200

    prefix in XREP recv'd message misses MORE flag

 src/xrep.cpp |    1 +
 1 file changed, 1 insertion(+)

commit beb4da3c28cff501a33de34cec95ca110cd3084e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 29 20:53:46 2010 +0200

    windows port fixed

 builds/msvc/libzmq/libzmq.vcproj |   34 +++++-----------------------------
 src/signaler.cpp                 |    4 +---
 2 files changed, 6 insertions(+), 32 deletions(-)

commit ae93ed318a450d6d763a5f629d478467f7362b07
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 29 20:34:48 2010 +0200

    signaler rewritten in such a way that any number (>64) of threads can be used

 src/app_thread.cpp |   25 +++----
 src/app_thread.hpp |    2 +-
 src/config.hpp     |    4 ++
 src/dispatcher.cpp |   16 ++---
 src/dispatcher.hpp |   10 +--
 src/io_thread.cpp  |   30 ++++----
 src/io_thread.hpp  |    2 +-
 src/object.cpp     |   13 ++--
 src/object.hpp     |    9 +--
 src/signaler.cpp   |  200 +++++++++++++++++++++++++++++++---------------------
 src/signaler.hpp   |   24 +++++--
 src/zmq.cpp        |    2 +-
 12 files changed, 190 insertions(+), 147 deletions(-)

commit 1ffc6dd41f2e2ce45c67f3fe08780c5a09cf667d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 29 18:03:54 2010 +0200

    eventfd-style signaling removed

 configure.in     |   26 ------------------
 src/signaler.cpp |   78 +-----------------------------------------------------
 src/signaler.hpp |    6 -----
 3 files changed, 1 insertion(+), 109 deletions(-)

commit 37128b7b1aeed9ad2bf6816560b85b5f94dd5bec
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 29 17:31:57 2010 +0200

    fd_signaler_t renamed to signaler_t

 src/Makefile.am     |    4 +-
 src/app_thread.cpp  |    3 +-
 src/app_thread.hpp  |    6 +-
 src/dispatcher.hpp  |    4 +-
 src/fd_signaler.cpp |  432 ---------------------------------------------------
 src/fd_signaler.hpp |   80 ----------
 src/io_thread.cpp   |    2 +-
 src/io_thread.hpp   |    6 +-
 src/signaler.cpp    |  432 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/signaler.hpp    |   80 ++++++++++
 10 files changed, 524 insertions(+), 525 deletions(-)

commit c193fd146661b39027c5e3fa0776dcdf8c6af5e2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 29 17:20:23 2010 +0200

    lock-free polling removed; ZMQ_POLL flag removed

 doc/zmq_init.txt         |    8 +-
 include/zmq.h            |    1 +
 src/Makefile.am          |    5 -
 src/app_thread.cpp       |   22 +---
 src/app_thread.hpp       |    8 +-
 src/atomic_bitmap.hpp    |  310 ----------------------------------------------
 src/dispatcher.cpp       |    7 +-
 src/dispatcher.hpp       |    6 +-
 src/fd_signaler.hpp      |    3 +-
 src/i_signaler.hpp       |   55 --------
 src/io_thread.cpp        |    6 +-
 src/io_thread.hpp        |    5 +-
 src/object.cpp           |    1 -
 src/queue.cpp            |    5 +-
 src/simple_semaphore.hpp |  242 ------------------------------------
 src/ypollset.cpp         |   65 ----------
 src/ypollset.hpp         |   69 -----------
 src/zmq.cpp              |   11 +-
 18 files changed, 28 insertions(+), 801 deletions(-)

commit 7cb076e56a18cb76c49f17bd34bc73c11e01b705
Author: Steven McCoy <steven.mccoy@miru.hk>
Date:   Thu Apr 29 11:36:13 2010 +0200

    Defer NetBSD atomic ops to GCC builtins. Revert Sun atomic ops #define.

 src/atomic_bitmap.hpp  |   72 ++++++++++++++++++++++++++++++++----------------
 src/atomic_counter.hpp |   42 ++++++++++++++++++----------
 src/atomic_ptr.hpp     |   25 +++++++++++------
 3 files changed, 92 insertions(+), 47 deletions(-)

commit ad6fa9d0d4f1cf29ce63998d7efe337b1a784ef6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Apr 27 17:36:00 2010 +0200

    initial version of multi-hop REQ/REP

 src/rep.cpp  |   97 +++++++++++++++++++----------
 src/req.cpp  |   28 ++++++++-
 src/xrep.cpp |  195 +++++++++++++++++++++++++++++++++++++++++++++++-----------
 src/xrep.hpp |   35 +++++++++--
 4 files changed, 280 insertions(+), 75 deletions(-)

commit 1ad6ade0ed465030716ce720077f3aa31e6cd136
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 26 16:58:49 2010 +0200

    MSVC build fixed

 builds/msvc/libzmq/libzmq.vcproj |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit beffee92a8ec9e14cca21e5901970c4d03967c3d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 26 16:51:05 2010 +0200

    P2P renamed to PAIR

 doc/zmq_socket.txt |    8 +--
 include/zmq.h      |    4 +-
 src/Makefile.am    |    4 +-
 src/app_thread.cpp |    6 +--
 src/p2p.cpp        |  139 ----------------------------------------------------
 src/p2p.hpp        |   63 ------------------------
 src/pair.cpp       |  139 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/pair.hpp       |   63 ++++++++++++++++++++++++
 8 files changed, 214 insertions(+), 212 deletions(-)

commit 7d9603d722c9c2752dccd0c51f470e68d0e0c48c
Author: Jon Dyte <jon@totient.co.uk>
Date:   Sun Apr 25 15:04:23 2010 +0200

    Bug in zmq_queue fixed

 devices/zmq_queue/zmq_queue.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d524c4e15d3cfa21f265d2c21e8a76ac97bfee2d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 16 09:53:09 2010 +0200

    fix of documentation typo

 doc/zmq_setsockopt.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c33941be9d564733c15fe0466906fdf0bbd46b8
Merge: ea18d30 370cde0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 15 07:32:49 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit ea18d30c209cb4e3f0dd0bc5e4380345e81b6fb6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 15 07:32:25 2010 +0200

    atomic_ptr fix of Win64

 include/zmq.h      |    2 +-
 src/atomic_ptr.hpp |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 370cde09226d8a1b87eeac306fe97d64b4ea63a3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 12 17:00:11 2010 +0200

    win build fixed

 builds/msvc/libzmq/libzmq.vcproj |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0024d290765f53428ff78eddc5a4bc675a13c6a7
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Apr 12 16:49:13 2010 +0200

    Build fixes for cross compiling and Win32

 configure.in                    |   27 ++++++++++++++++++---------
 foreign/xmlParser/xmlParser.cpp |    2 +-
 include/zmq.h                   |   14 ++++++++------
 src/Makefile.am                 |    2 +-
 4 files changed, 28 insertions(+), 17 deletions(-)

commit 34964769399825e45b3efd02e642af97355707ef
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 12 10:05:24 2010 +0200

    MSVC perf build fixed

 builds/msvc/c_local_lat/c_local_lat.vcproj   |    2 +-
 builds/msvc/c_local_thr/c_local_thr.vcproj   |    2 +-
 builds/msvc/c_remote_lat/c_remote_lat.vcproj |    2 +-
 builds/msvc/c_remote_thr/c_remote_thr.vcproj |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 7668e7976dc6c3e18a314d991381f29f5cbcc6ef
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 12 09:57:34 2010 +0200

    zmq_poll returns ETERM in case of context termination

 doc/zmq_socket.txt |    3 ---
 src/zmq.cpp        |   11 +++++++++--
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 3236cb1a54316206d14a0f925dfa79d5b35f70fc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Apr 12 09:25:04 2010 +0200

    ETERM is accounted for in the documentation

 doc/zmq_bind.txt       |    2 ++
 doc/zmq_connect.txt    |    2 ++
 doc/zmq_poll.txt       |    3 ++-
 doc/zmq_recv.txt       |    2 ++
 doc/zmq_send.txt       |    2 ++
 doc/zmq_setsockopt.txt |    3 +++
 doc/zmq_socket.txt     |    3 +++
 7 files changed, 16 insertions(+), 1 deletion(-)

commit fba28c7c0cddd7c54fe45b38fc38ac6fe5a48438
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Apr 11 16:36:27 2010 +0200

    issue 1 - Change zmq_term semantics

 include/zmq.h       |    1 +
 src/app_thread.cpp  |   25 ++++++++++++++++++++++---
 src/app_thread.hpp  |   18 ++++++++++++++++--
 src/dispatcher.cpp  |    7 +++++++
 src/socket_base.cpp |   50 +++++++++++++++++++++++++++++++++++++++++++-------
 src/zmq.cpp         |    2 ++
 6 files changed, 91 insertions(+), 12 deletions(-)

commit dff79d778db46bebe1e3b0cbd28b328972b9adb8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Apr 11 14:20:00 2010 +0200

    version number bumped to 2.0.7 for MSVC build

 builds/msvc/platform.hpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cf076510a39c8eb60b1ec2f28aa895b9fb6eaae
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Apr 11 14:00:40 2010 +0200

    C-style comments in zmq.h

 include/zmq.h |  128 +++++++++++++++++++++++++--------------------------------
 1 file changed, 57 insertions(+), 71 deletions(-)

commit 00cf3ceb8da8cb58b343cb75798a042588f09752
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Apr 11 10:26:47 2010 +0200

    multi-part message functionality available via ZMQ_SNDMORE and ZMQ_RCVMORE

 include/zmq.h       |    3 +++
 src/socket_base.cpp |   27 ++++++++++++++++++++++-----
 src/socket_base.hpp |    3 +++
 3 files changed, 28 insertions(+), 5 deletions(-)

commit 6fea42258348c8489d2cd64ca0e92981148134f8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Apr 11 07:59:03 2010 +0200

    getsockopt added to c++ binding

 include/zmq.hpp |    8 ++++++++
 1 file changed, 8 insertions(+)

commit b668387d917cd80c5d4b9631bc0008b6a014c083
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Apr 10 17:04:33 2010 +0200

    Remove -Wxxx gcc-isms from subdir Makefiles

 configure.in                      |    6 +++---
 devices/zmq_forwarder/Makefile.am |    1 -
 devices/zmq_queue/Makefile.am     |    1 -
 devices/zmq_streamer/Makefile.am  |    1 -
 perf/Makefile.am                  |    4 ----
 5 files changed, 3 insertions(+), 10 deletions(-)

commit f6fa41dd7b3677d0f7441db83cbd6c8a0283a499
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Apr 10 16:51:22 2010 +0200

    Compile perf tests with the C++ compiler

    This lets us build the binaries in a portable fashion w/o having to worry
    about how to link with the C++ runtime.

 configure.in        |    7 ---
 perf/Makefile.am    |    8 +--
 perf/local_lat.c    |  106 ---------------------------------------
 perf/local_lat.cpp  |  106 +++++++++++++++++++++++++++++++++++++++
 perf/local_thr.c    |  136 ---------------------------------------------------
 perf/local_thr.cpp  |  136 +++++++++++++++++++++++++++++++++++++++++++++++++++
 perf/remote_lat.c   |  119 --------------------------------------------
 perf/remote_lat.cpp |  119 ++++++++++++++++++++++++++++++++++++++++++++
 perf/remote_thr.c   |   98 -------------------------------------
 perf/remote_thr.cpp |   98 +++++++++++++++++++++++++++++++++++++
 10 files changed, 463 insertions(+), 470 deletions(-)

commit c214a24f06bb41885dfbd73e42acb6e043df05ef
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Apr 10 16:27:07 2010 +0200

    fix for Sun C++ 5.8

 src/forwarder.cpp |    2 ++
 src/queue.cpp     |    2 ++
 src/streamer.cpp  |    2 ++
 3 files changed, 6 insertions(+)

commit 770aedbd09fb1e11a4e4880da2603a517856c16c
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Apr 10 16:18:34 2010 +0200

    Build fixes for Solaris and non-GNU compilers

    Compiling C++ code with -D_POSIX_SOURCE on Solaris is unsupported, so remove it.
    Isolate GCC-isms inside checks that we are actually using GCC/G++.
    Only check for -lstdc++ when on GCC and doing static linking.

 configure.in    |   38 ++++++++++++++++++++++++++------------
 src/Makefile.am |    2 +-
 2 files changed, 27 insertions(+), 13 deletions(-)

commit 1dc0380e29fecd70f6299243d81f67db850db616
Author: Martin Lucina <mato@kotelna.sk>
Date:   Sat Apr 10 13:28:45 2010 +0200

    Debian packaging fixes suitable for 0MQ git

    Removed README.source, TODO.source since these are irrelevant to a generic
    git package.
    Fixed spelling in debian/copyright.
    Removed RFC check in debian/rules, again irrelevant to a generic git package.

 debian/README.source |   37 -------------------------------------
 debian/TODO.source   |    5 -----
 debian/copyright     |    2 +-
 debian/rules         |    6 ------
 4 files changed, 1 insertion(+), 49 deletions(-)

commit 8aa2acd0f8906b95232e765da805e3fab947b76b
Author: Adrian von Bidder <avbidder@fortytwo.ch>
Date:   Sat Apr 10 13:23:09 2010 +0200

    Debian packaging update from Adrian von Bidder

 debian/README.Debian            |   10 +-
 debian/README.source            |   37 ++++++++
 debian/TODO.source              |    5 +
 debian/changelog                |   24 ++++-
 debian/cl-zeromq.files          |    7 --
 debian/cl-zeromq.install        |    6 --
 debian/cl-zeromq.links          |    1 -
 debian/control                  |  195 +++++++++++----------------------------
 debian/copyright                |  105 +++++++++++++++++++--
 debian/dirs                     |    5 -
 debian/docs                     |    2 -
 debian/libzeromq-dev.files      |   37 --------
 debian/libzeromq-dev.install    |   19 ----
 debian/libzeromq-python.files   |    1 -
 debian/libzeromq-python.install |    1 -
 debian/libzeromq-ruby.files     |    1 -
 debian/libzeromq-ruby.install   |    1 -
 debian/libzeromq0.files         |    2 -
 debian/libzeromq0.install       |    1 -
 debian/libzmq-dev.install       |    5 +
 debian/libzmq-dev.manpages      |    2 +
 debian/libzmq0.install          |    1 +
 debian/libzmq0.manpages         |    5 +
 debian/rules                    |  126 +++++++++----------------
 debian/shlibs.local             |    1 -
 debian/source/format            |    1 +
 debian/source/options           |    1 +
 debian/zeromq-bin.install       |    3 +
 debian/zeromq-bin.manpages      |    3 +
 debian/zeromq-examples.files    |    2 -
 debian/zeromq-examples.install  |    2 -
 debian/zeromq-perf.files        |   10 --
 debian/zeromq-perf.install      |   10 --
 debian/zeromq-utils.files       |    6 --
 debian/zeromq-utils.install     |    6 --
 35 files changed, 283 insertions(+), 361 deletions(-)

commit 1d28dc9059d0014314ad22d98ddb7c6f21c151e7
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Apr 9 19:15:40 2010 +0200

    Fix for Issue #14

    Don't fail hard if an unreleased tarball is being built and asciidoc is
    not installed; instead just print a big fat warning

 configure.in |   23 +++++++++--------------
 1 file changed, 9 insertions(+), 14 deletions(-)

commit 6ea76e95736152e83f977ad860f40a231cedb1ef
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 9 16:24:21 2010 +0200

    version bumped to 2.0.7

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 716f4ac8714d33d21f9853f58482e35c1e3ad934
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Apr 9 13:04:15 2010 +0200

    zmq_getsockopt function added

 include/zmq.h       |    2 +
 src/options.cpp     |  106 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/options.hpp     |    1 +
 src/socket_base.cpp |    7 ++++
 src/socket_base.hpp |    4 +-
 src/zmq.cpp         |    6 +++
 6 files changed, 122 insertions(+), 4 deletions(-)

commit 027bb1d2a7c83c7c719f6bdc3100eb639019d2f0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 8 19:20:42 2010 +0200

    issue 10 - zmq_strerror problem on Windows

 src/zmq.cpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 5cd9f74a70e2c8503c29aaca881c193a936b7b44
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 8 19:04:32 2010 +0200

    few fixed related to multi-part messages in REP socket

 src/rep.cpp |   21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 77cbd18e9c0480a6c26fd29de5d70569762108be
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 8 11:07:22 2010 +0200

    issue 11 - Assertion failed: it != peers.end () (pgm_receiver.cpp:161)

 src/pgm_receiver.cpp |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 38e9103e0c82bcbb61a9c23ed3a4ace1c7420f95
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Apr 8 08:33:38 2010 +0200

    issue 13 (Assertion failed: load.get () == 0 (epoll.cpp:49)) fixed

 src/object.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 0f7aab5212ef66f7e292fe4ca891660859972ec4
Merge: 745db9c b0250cc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Apr 7 11:54:34 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 745db9c574153160214470563bea3b53ab4c292a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Apr 7 11:54:09 2010 +0200

    unitialised member in seesion_t class - fixed

 src/session.cpp |    1 +
 1 file changed, 1 insertion(+)

commit b0250cc89df8d6c3d3fff7c8edc17a09ceaaa107
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Apr 7 10:41:11 2010 +0200

    Win32 build fixed

 builds/msvc/libzmq/libzmq.vcproj |   24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 065e4d00ff628097ce693ac7d9056fbcaf23d0bc
Merge: edfd05d a7973a2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Apr 7 08:20:24 2010 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit edfd05df8ef58afc498795cb74906c07ee396f76
Author: Jon Dyte <jon@totient.co.uk>
Date:   Wed Apr 7 08:20:01 2010 +0200

    devices can be created via API

 devices/zmq_forwarder/zmq_forwarder.cpp |    6 +-
 devices/zmq_queue/zmq_queue.cpp         |  110 +------------------------------
 devices/zmq_streamer/zmq_streamer.cpp   |    6 +-
 include/zmq.h                           |   10 +++
 include/zmq.hpp                         |    7 ++
 src/Makefile.am                         |    6 ++
 src/forwarder.cpp                       |   36 ++++++++++
 src/forwarder.hpp                       |   31 +++++++++
 src/queue.cpp                           |   98 +++++++++++++++++++++++++++
 src/queue.hpp                           |   31 +++++++++
 src/streamer.cpp                        |   36 ++++++++++
 src/streamer.hpp                        |   31 +++++++++
 src/zmq.cpp                             |   20 ++++++
 13 files changed, 309 insertions(+), 119 deletions(-)

commit a7973a2c4997e2ff79126eb073dc675c574de917
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Apr 6 15:23:13 2010 +0200

    Documentation fixes

 doc/zmq_bind.txt       |    6 +++---
 doc/zmq_setsockopt.txt |    7 +++++--
 2 files changed, 8 insertions(+), 5 deletions(-)

commit 0777567e8911382ac42859f907730df023ebec26
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Apr 6 07:33:52 2010 +0200

    ENODEV from zmq_bind error described

 doc/zmq_bind.txt |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 37fd1a77a6927ae351e10fe8d5b68d0b0d525d22
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 31 15:15:16 2010 +0200

    Handle full-pipe for REP sockets more gracefully

 src/rep.cpp |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 2f219d7c287cd518bc77b576e507d7a17c9535e9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 27 21:25:40 2010 +0100

    ZMQ_TBC renamed to ZMQ_MORE

 include/zmq.h       |    4 ++--
 src/fq.cpp          |   12 ++++++------
 src/fq.hpp          |    2 +-
 src/lb.cpp          |   12 ++++++------
 src/lb.hpp          |    2 +-
 src/pipe.cpp        |    6 +++---
 src/pub.cpp         |    2 +-
 src/rep.cpp         |   22 +++++++++++-----------
 src/rep.hpp         |    2 +-
 src/req.cpp         |   20 ++++++++++----------
 src/req.hpp         |    2 +-
 src/session.cpp     |    2 +-
 src/socket_base.cpp |    6 +++---
 src/sub.cpp         |   14 +++++++-------
 src/sub.hpp         |    2 +-
 src/zmq_encoder.cpp |    6 +++---
 16 files changed, 58 insertions(+), 58 deletions(-)

commit 842b4dd2e492459cbc0cc79ffdb34ddab8f0b528
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 27 14:57:56 2010 +0100

    muti-part message functionality available via API

 include/zmq.h       |    1 +
 src/socket_base.cpp |    5 +++++
 2 files changed, 6 insertions(+)

commit 8d8e0857be3d2ab941de443e436061ef82752c17
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 27 14:50:35 2010 +0100

    as advertised, zmq_flush and ZMQ_NOFLUSH were removed

 include/zmq.h |    2 --
 src/zmq.cpp   |    6 ------
 2 files changed, 8 deletions(-)

commit 06538fc11790a0cf895c43d137a33febf97f3a28
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 27 14:24:57 2010 +0100

    multi-part messages work with REQ/REP sockets

 src/rep.cpp |   71 +++++++++++++++++++++++++++++++++++++++--------------------
 src/rep.hpp |    9 ++++++--
 src/req.cpp |   61 ++++++++++++++++++++++++++++++++------------------
 src/req.hpp |    9 ++++++--
 4 files changed, 101 insertions(+), 49 deletions(-)

commit bbfac783f91f6692b7f9c0aa5392ac955f7b49bf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 27 09:43:49 2010 +0100

    multi-part message work with UPSTREAM/DOWNSTREAM

 src/lb.cpp |   25 +++++++++++++++++++------
 src/lb.hpp |    3 +++
 2 files changed, 22 insertions(+), 6 deletions(-)

commit ed291b02516ac5c9fe01f328d505305d36fe6319
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 27 09:24:38 2010 +0100

    multi-part messages work with PUB/SUB

 src/fq.cpp    |   31 +++++++++++++++++++++++++------
 src/fq.hpp    |    4 ++++
 src/pipe.cpp  |   10 ++++++++--
 src/pub.cpp   |    3 ++-
 src/sub.cpp   |   27 +++++++++++++++++++++++++--
 src/sub.hpp   |    4 ++++
 src/ypipe.hpp |    2 +-
 7 files changed, 69 insertions(+), 12 deletions(-)

commit 0b9897b141ae03ccd00132a638d030a2521cf5b3
Merge: 0a53ff7 783463a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Mar 26 12:15:47 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 783463ac49aeb2d1be57dc9b3669d508187415a8
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Mar 25 17:31:18 2010 +0100

    Clarify use of poll() with C++ API, fix typo

 doc/zmq_cpp.txt |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit c802a72a0b4aae06cd65158af3c65e65e0dfc2e0
Author: Vitaly Mayatskikh <v.mayatskih@gmail.com>
Date:   Mon Mar 22 22:31:37 2010 +0100

    configure does not mention xmlto when missing

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0a53ff7b9f8a212793c540535c322bfaa93d3430
Merge: f031677 93bdb79
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 20 19:51:29 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 93bdb792a92b9bd235c7be47a13febf429568301
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 20 19:50:36 2010 +0100

    PUB socket was blocking occassionally - fixed

 src/pub.cpp |   84 +++++++++++++++++++++++++++--------------------------------
 src/pub.hpp |   17 ++++++------
 2 files changed, 47 insertions(+), 54 deletions(-)

commit f031677100b41347e09932fc973040097a2187e4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 20 15:04:30 2010 +0100

    rollback of half-processed messages in case of disconnection

 src/session.cpp |   27 ++++++++++++++++++++++++++-
 src/session.hpp |    4 ++++
 2 files changed, 30 insertions(+), 1 deletion(-)

commit dfdaff5eba1e6980adb3326c119d2070d0ad42bb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 20 10:58:59 2010 +0100

    XREP-style prefixing/trimming messages removed

 src/i_engine.hpp     |   10 ++--------
 src/options.cpp      |    3 +--
 src/options.hpp      |    3 ---
 src/pgm_receiver.cpp |   12 ------------
 src/pgm_receiver.hpp |    2 --
 src/pgm_sender.cpp   |   12 ------------
 src/pgm_sender.hpp   |    2 --
 src/session.cpp      |    5 -----
 src/xrep.cpp         |    5 ++---
 src/zmq_decoder.cpp  |   48 +++++++-----------------------------------------
 src/zmq_decoder.hpp  |    8 --------
 src/zmq_encoder.cpp  |   31 ++++---------------------------
 src/zmq_encoder.hpp  |    6 ------
 src/zmq_engine.cpp   |   10 ----------
 src/zmq_engine.hpp   |    2 --
 src/zmq_init.cpp     |    3 +--
 16 files changed, 17 insertions(+), 145 deletions(-)

commit cbaf10978a8ffa98d98161aeec8d020c517b127b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Mar 19 09:14:26 2010 +0100

    fixes for building with Sun CC

 src/dispatcher.cpp   |    3 ++-
 src/tcp_listener.cpp |    6 +++---
 2 files changed, 5 insertions(+), 4 deletions(-)

commit ae35a1644cd8f2441de73f1260c46bb0da6a1605
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 19:02:50 2010 +0100

    fix include paths in perf on Win32

 perf/local_lat.c  |    2 +-
 perf/local_thr.c  |    2 +-
 perf/remote_lat.c |    2 +-
 perf/remote_thr.c |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 49a30d49f37148db1be105615668998c8fb8ea86
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 17:49:39 2010 +0100

    Update contributors for 2.0.6

 AUTHORS   |   96 ++++++++++++++++++++++++++++++++-----------------------------
 ChangeLog |   19 +++++++-----
 2 files changed, 62 insertions(+), 53 deletions(-)

commit fe18ce1abab2ef43f97ef6f2b093a69f42cb7103
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 17:11:23 2010 +0100

    ChangeLog for v2.0.6

 ChangeLog | 1499 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 1499 insertions(+)

commit 38c942ae648115ac10320968eb4b5e235ef15674
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 17:07:17 2010 +0100

    Add Git location to README

 README |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6d5a9e96400025044af8172887ef99589c0d1eb1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 16:20:23 2010 +0100

    Update README

 README |   39 +++++++++++++++++++++++++++++++++++++--
 1 file changed, 37 insertions(+), 2 deletions(-)

commit ad75d0213483f3c585ce144386623e64e65eca0d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 15:48:16 2010 +0100

    Add MSVC build files to distribution

 .gitignore              |   12 ++++--------
 Makefile.am             |    2 +-
 builds/msvc/Makefile.am |   12 ++++++++++++
 configure.in            |    3 ++-
 4 files changed, 19 insertions(+), 10 deletions(-)

commit a9e0c3cd7e0c54f872749f387cf3d69b216bc613
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 15:37:47 2010 +0100

    Removing leftover MSVC builds

 builds/msvc/display/display.vcproj |  176 ------------------------------------
 builds/msvc/prompt/prompt.vcproj   |  176 ------------------------------------
 2 files changed, 352 deletions(-)

commit 5472861179ff232c55e7a7021a93da5c680f2017
Merge: 8a3f974 8fcf6ff
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 15:24:57 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 8a3f97400a2b3ef2ec088a00868087b85cfd81b6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 16 15:23:55 2010 +0100

    Clarify zmq_poll restrictions

 doc/zmq_poll.txt |    3 +++
 1 file changed, 3 insertions(+)

commit 1705ec224745b935e13d8f18ef81bcbef45ff143
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Mar 16 15:19:38 2010 +0100

    C++ interface documentation updates

 doc/zmq_cpp.txt |  195 ++++++++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 151 insertions(+), 44 deletions(-)

commit 8fcf6ffb67aba2ff9f78f4ba327d29755f03535a
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Mar 15 15:47:17 2010 +0100

    Cleanups to autogen.sh

 autogen.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fceba036279a0e9bb39aebd862b70ad1bb5b3f40
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Mar 15 15:45:38 2010 +0100

    Cleanups to autogen.sh

    Use POSIX "command -v" construct to test for prerequisite commands
    Clarify error messages on failure

 autogen.sh |   30 ++++++++++++++----------------
 1 file changed, 14 insertions(+), 16 deletions(-)

commit 61ad236e9543a569fe066872a5fda4fa40ea7591
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 13 14:40:10 2010 +0100

    ZMQ_NOFLUSH and zmq_flush obsoleted

 doc/Makefile.am     |    2 +-
 doc/zmq.txt         |    1 -
 doc/zmq_flush.txt   |   55 ---------------------------------------------------
 doc/zmq_send.txt    |    8 --------
 doc/zmq_socket.txt  |    1 -
 include/zmq.hpp     |    7 -------
 src/downstream.cpp  |   10 ----------
 src/downstream.hpp  |    1 -
 src/lb.cpp          |    3 +--
 src/p2p.cpp         |   10 +---------
 src/p2p.hpp         |    1 -
 src/pub.cpp         |   17 +++-------------
 src/pub.hpp         |    1 -
 src/rep.cpp         |    6 ------
 src/rep.hpp         |    1 -
 src/req.cpp         |    6 ------
 src/req.hpp         |    1 -
 src/socket_base.cpp |    5 -----
 src/socket_base.hpp |    2 --
 src/sub.cpp         |    6 ------
 src/sub.hpp         |    1 -
 src/upstream.cpp    |    6 ------
 src/upstream.hpp    |    1 -
 src/xrep.cpp        |    6 ------
 src/xrep.hpp        |    1 -
 src/xreq.cpp        |    7 -------
 src/xreq.hpp        |    1 -
 src/zmq.cpp         |    3 ++-
 28 files changed, 8 insertions(+), 162 deletions(-)

commit c42343d3f027248514344aec9e3814dfe1047d59
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 13 12:34:55 2010 +0100

    pipe_t::rollback removes only unfinished message from the pipe rather than all unflushed messages

 src/pipe.cpp |    4 ++++
 src/pipe.hpp |    2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit dcb983699e52bf2e075baaeef250bcd3c82e4846
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 13 08:59:46 2010 +0100

    zmq_queue implementation added

 devices/zmq_queue/zmq_queue.cpp |  114 +++++++++++++++++++++++++++++++++++++--
 1 file changed, 109 insertions(+), 5 deletions(-)

commit 22db38bf3d9c96a840af50300632d44fd01ed3a8
Author: unknown <bundra@.(none)>
Date:   Fri Mar 12 20:20:25 2010 +0100

    MSVC build: C++ perf tests removed; all executables go into bin directory

 builds/msvc/c_local_lat/c_local_lat.vcproj       |    8 +-
 builds/msvc/c_local_thr/c_local_thr.vcproj       |    8 +-
 builds/msvc/c_remote_lat/c_remote_lat.vcproj     |    8 +-
 builds/msvc/c_remote_thr/c_remote_thr.vcproj     |    8 +-
 builds/msvc/cpp_local_lat/cpp_local_lat.vcproj   |  176 ----------------------
 builds/msvc/cpp_local_thr/cpp_local_thr.vcproj   |  176 ----------------------
 builds/msvc/cpp_remote_lat/cpp_remote_lat.vcproj |  176 ----------------------
 builds/msvc/cpp_remote_thr/cpp_remote_thr.vcproj |  176 ----------------------
 builds/msvc/msvc.sln                             |   44 +-----
 builds/msvc/zmq_forwarder/zmq_forwarder.vcproj   |    2 +
 builds/msvc/zmq_queue/zmq_queue.vcproj           |    2 +
 builds/msvc/zmq_streamer/zmq_streamer.vcproj     |    2 +
 12 files changed, 26 insertions(+), 760 deletions(-)

commit c08a7f8896e8fdae8379d2fce552b360daaeadc8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Mar 12 20:02:19 2010 +0100

    C perf tests are built non-optionally; C++ perf tests removed

 Makefile.am             |    6 +--
 configure.in            |   26 +--------
 perf/Makefile.am        |  131 ++++++++++++++++++++++++++++++++++++++++++++-
 perf/c/Makefile.am      |  129 --------------------------------------------
 perf/c/local_lat.c      |  106 ------------------------------------
 perf/c/local_thr.c      |  136 -----------------------------------------------
 perf/c/remote_lat.c     |  119 -----------------------------------------
 perf/c/remote_thr.c     |   98 ----------------------------------
 perf/cpp/Makefile.am    |   20 -------
 perf/cpp/local_lat.cpp  |   52 ------------------
 perf/cpp/local_thr.cpp  |   71 -------------------------
 perf/cpp/remote_lat.cpp |   63 ----------------------
 perf/cpp/remote_thr.cpp |   54 -------------------
 perf/local_lat.c        |  106 ++++++++++++++++++++++++++++++++++++
 perf/local_thr.c        |  136 +++++++++++++++++++++++++++++++++++++++++++++++
 perf/remote_lat.c       |  119 +++++++++++++++++++++++++++++++++++++++++
 perf/remote_thr.c       |   98 ++++++++++++++++++++++++++++++++++
 17 files changed, 590 insertions(+), 880 deletions(-)

commit 1fbeba2fe3c3bd6046eea4d6432791194d4238f2
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Mar 12 19:05:56 2010 +0100

    simplify configuration summary

 configure.in |   19 ++++---------------
 1 file changed, 4 insertions(+), 15 deletions(-)

commit 66b67fbdf2b047ef7adb8ec018a6fe89dd9cbfca
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Mar 12 18:58:29 2010 +0100

    devices are built unconditionally

 configure.in        |   34 ----------------------------------
 devices/Makefile.am |   13 +------------
 src/req.cpp         |    2 +-
 3 files changed, 2 insertions(+), 47 deletions(-)

commit 430aa533347dcbca57857d318a6898f480967cba
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Mar 12 18:42:38 2010 +0100

    text concerning language bindings removed from configure

 configure.in |    3 ---
 1 file changed, 3 deletions(-)

commit 54df388aced3ae059009eec3df66c7dea717747b
Author: unknown <bundra@.(none)>
Date:   Fri Mar 12 18:05:38 2010 +0100

    Java binding removed from MSVC build

 builds/msvc/j_local_lat/j_local_lat.vcproj   |   78 --------
 builds/msvc/j_local_thr/j_local_thr.vcproj   |   78 --------
 builds/msvc/j_remote_lat/j_remote_lat.vcproj |   78 --------
 builds/msvc/j_remote_thr/j_remote_thr.vcproj |   78 --------
 builds/msvc/java/java.vcproj                 |  272 --------------------------
 builds/msvc/msvc.sln                         |   45 -----
 6 files changed, 629 deletions(-)

commit 6badd204d5686de8b2a6e8ee88da78260c0ff949
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 3 17:25:46 2010 +0100

    Implement flow control for ZMQ_REP sockets

 src/rep.cpp |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 923609b0922c3bf07f16c8c99aba4fe98f08ef60
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 2 22:23:34 2010 +0100

    Implement flow control for ZMQ_REQ sockets

 src/req.cpp |   98 ++++++++++++++++++++++++++++++++++++++++++++++-------------
 src/req.hpp |    3 ++
 2 files changed, 80 insertions(+), 21 deletions(-)

commit 42e575cb6b62fe1e5d12d2e4fb5c6874d47eb57e
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 2 12:41:33 2010 +0100

    Implement flow control fox ZMQ_XREP sockets

 src/xrep.cpp |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit e34184acc327ae4b085a1a50ff6502e2dc148522
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 2 11:15:50 2010 +0100

    Implement flow control for ZMQ_XREQ sockets

 src/xreq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06d7a447378c8e9f0805c219deaf8e7e7ef1eeb0
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 2 10:48:30 2010 +0100

    Implement flow control for ZMQ_PUB sockets

 src/pub.cpp |   34 ++++++++++++++++++++++++++--------
 src/pub.hpp |    7 +++++++
 2 files changed, 33 insertions(+), 8 deletions(-)

commit f9c84a1a689f4f64cfa45cb22d4f02ec246c7f93
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Mar 1 17:21:23 2010 +0100

    Implement flow control for ZMQ_DOWNSTREAM sockets

 src/downstream.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5d4f6b18cd57897cc0e77e474118e104a0d5cfc3
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Mar 1 16:55:13 2010 +0100

    Implement flow control for ZMQ_P2P sockets

 src/p2p.cpp |   21 +++++++++++++++------
 src/p2p.hpp |    1 +
 2 files changed, 16 insertions(+), 6 deletions(-)

commit f9521c6b6a35103c03b742a311a34d7b04da0b84
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Tue Mar 2 09:02:40 2010 +0100

    PGM: implement flow control

 src/pgm_receiver.cpp |   50 ++++++++++++++++++++++++++++++++++++++++++++++----
 src/pgm_receiver.hpp |    9 +++++++++
 2 files changed, 55 insertions(+), 4 deletions(-)

commit 61ee6fae536a8000be87b5aaf271f6519a3b7d3f
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Mar 1 10:13:26 2010 +0100

    Implement flow control

    This commit introduces the necessary changes necessary
    for implementing flow control. None of the socket types
    implements the flow control yet. The code will crash when
    the flow control is enabled and the thw lwm is reached.

    The following commits will add flow-control support for
    individual socket types.

 src/command.hpp      |    8 +++++++
 src/downstream.cpp   |    6 +++++-
 src/downstream.hpp   |    1 +
 src/err.hpp          |    6 ++++++
 src/i_endpoint.hpp   |    1 +
 src/i_engine.hpp     |    2 ++
 src/lb.cpp           |   49 +++++++++++++++++++------------------------
 src/lb.hpp           |    1 -
 src/object.cpp       |   19 +++++++++++++++++
 src/object.hpp       |    3 +++
 src/options.cpp      |    8 +++----
 src/options.hpp      |    4 ++--
 src/p2p.cpp          |   11 ++++++----
 src/p2p.hpp          |    1 +
 src/pgm_receiver.cpp |    5 +++++
 src/pgm_receiver.hpp |    1 +
 src/pgm_sender.cpp   |    5 +++++
 src/pgm_sender.hpp   |    1 +
 src/pipe.cpp         |   57 ++++++++++++++++++++++++++++++++++++++++----------
 src/pipe.hpp         |   29 ++++++++++++++++---------
 src/pub.cpp          |   16 ++++++++++----
 src/pub.hpp          |    1 +
 src/rep.cpp          |   10 +++++++--
 src/rep.hpp          |    1 +
 src/req.cpp          |   11 ++++++----
 src/req.hpp          |    1 +
 src/session.cpp      |    7 +++++++
 src/session.hpp      |    1 +
 src/socket_base.cpp  |    5 +++++
 src/socket_base.hpp  |    2 ++
 src/sub.cpp          |    5 +++++
 src/sub.hpp          |    1 +
 src/upstream.cpp     |    5 +++++
 src/upstream.hpp     |    1 +
 src/xrep.cpp         |    8 ++++++-
 src/xrep.hpp         |    1 +
 src/xreq.cpp         |    6 +++++-
 src/xreq.hpp         |    1 +
 src/zmq_engine.cpp   |   17 ++++++++++-----
 src/zmq_engine.hpp   |    1 +
 40 files changed, 242 insertions(+), 77 deletions(-)

commit 31d36104aa7caead6f299f0c5cb58a9fde7cf9b0
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Mar 12 10:34:11 2010 +0100

    devices/ build fixed

 devices/zmq_forwarder/zmq_forwarder.cpp |    2 +-
 devices/zmq_queue/zmq_queue.cpp         |    2 +-
 devices/zmq_streamer/zmq_streamer.cpp   |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 10bbe6af9900b4609cfcadc031dcf4dcb8ebfb3b
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Mar 11 20:43:51 2010 +0100

    Cleanup .gitignore

 .gitignore |    6 ------
 1 file changed, 6 deletions(-)

commit 27e2d08449ea52649e2e42b263f76fbd5d8382c5
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Mar 11 20:33:27 2010 +0100

    Restructure language bindings

    C and C++ headers moved from bindings/ to include/, bindings/ removed
    --with-c and --with-cpp options to configure removed, C and C++ now built
    and installed by default

 bindings/c/zmq.h      |  249 ---------------------------------------------
 bindings/cpp/zmq.hpp  |  266 -------------------------------------------------
 configure.in          |   32 +-----
 include/zmq.h         |  249 +++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.hpp       |  266 +++++++++++++++++++++++++++++++++++++++++++++++++
 perf/Makefile.am      |   10 +-
 perf/c/Makefile.am    |    2 +-
 perf/cpp/Makefile.am  |    2 +-
 src/Makefile.am       |   12 +--
 src/app_thread.cpp    |    2 +-
 src/dispatcher.cpp    |    2 +-
 src/downstream.cpp    |    2 +-
 src/err.cpp           |    2 +-
 src/fq.cpp            |    2 +-
 src/i_inout.hpp       |    2 +-
 src/io_thread.cpp     |    2 +-
 src/lb.cpp            |    2 +-
 src/msg_content.hpp   |    2 +-
 src/options.cpp       |    2 +-
 src/p2p.cpp           |    2 +-
 src/pipe.cpp          |    2 +-
 src/pipe.hpp          |    2 +-
 src/pub.cpp           |    2 +-
 src/rep.cpp           |    2 +-
 src/req.cpp           |    2 +-
 src/socket_base.cpp   |    2 +-
 src/socket_base.hpp   |    2 +-
 src/sub.cpp           |    2 +-
 src/sub.hpp           |    2 +-
 src/tcp_connecter.cpp |    2 +-
 src/tcp_listener.cpp  |    2 +-
 src/upstream.cpp      |    2 +-
 src/xrep.cpp          |    2 +-
 src/xreq.cpp          |    2 +-
 src/zmq.cpp           |    2 +-
 src/zmq_decoder.hpp   |    2 +-
 src/zmq_encoder.hpp   |    2 +-
 37 files changed, 549 insertions(+), 595 deletions(-)

commit 90944759b66771bbe399922eecedc5095fa2a509
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Mar 11 20:12:55 2010 +0100

    Removed Java binding from core distribution

 Makefile.am                        |    4 +-
 bindings/Makefile.am               |    7 -
 bindings/java/Context.cpp          |  112 ------------
 bindings/java/Makefile.am          |   72 --------
 bindings/java/Poller.cpp           |  126 -------------
 bindings/java/Socket.cpp           |  345 ------------------------------------
 bindings/java/org/zmq/Context.java |   58 ------
 bindings/java/org/zmq/Poller.java  |  135 --------------
 bindings/java/org/zmq/Socket.java  |  134 --------------
 configure.in                       |   73 +-------
 perf/Makefile.am                   |    8 +-
 perf/java/Makefile.am              |    5 -
 perf/java/local_lat.java           |   55 ------
 perf/java/local_thr.java           |   71 --------
 perf/java/remote_lat.java          |   60 -------
 perf/java/remote_thr.java          |   57 ------
 16 files changed, 9 insertions(+), 1313 deletions(-)

commit 9fda070e4d66d538e3c709c6cb8934cbf4442c29
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Mar 10 23:20:43 2010 +0100

    Typeset literal correctly

 doc/zmq_pgm.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0a1e0beaa2849a51ea659eba0f142ce340d2cc6d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Mar 10 23:18:08 2010 +0100

    Fixes to PGM wire format description

 doc/zmq_pgm.txt |   69 ++++++++++++++++++++++++++++++-------------------------
 1 file changed, 38 insertions(+), 31 deletions(-)

commit 5fef480aeb28424769d97c92f331d87f87b87c85
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Mar 10 13:52:41 2010 +0100

    Fixes to TCP wire format specification

 doc/zmq_tcp.txt |   42 ++++++++++++++++++++++++++----------------
 1 file changed, 26 insertions(+), 16 deletions(-)

commit 8f90ae8dfdf5efbb6c8429897dc95cad621af00b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Mar 10 12:40:13 2010 +0100

    wire formats in docs clarified

 doc/zmq_pgm.txt |   40 +++++++++++++++++++++++++++++++---------
 doc/zmq_tcp.txt |   22 +++++++++++++---------
 2 files changed, 44 insertions(+), 18 deletions(-)

commit 98801ebcaea1117ae596a3bae0653c3720a94359
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Mar 10 12:19:39 2010 +0100

    Documentation fixes

 doc/zmq.txt               |    3 ++-
 doc/zmq_bind.txt          |    4 ++--
 doc/zmq_close.txt         |    2 +-
 doc/zmq_connect.txt       |    4 ++--
 doc/zmq_flush.txt         |    2 +-
 doc/zmq_msg_close.txt     |    2 +-
 doc/zmq_msg_copy.txt      |    2 +-
 doc/zmq_msg_init.txt      |    2 +-
 doc/zmq_msg_init_data.txt |    2 +-
 doc/zmq_msg_init_size.txt |    2 +-
 doc/zmq_msg_move.txt      |    2 +-
 doc/zmq_poll.txt          |   13 +++++++------
 doc/zmq_recv.txt          |    2 +-
 doc/zmq_send.txt          |    2 +-
 doc/zmq_setsockopt.txt    |   18 ++++++++----------
 doc/zmq_socket.txt        |    7 ++++---
 doc/zmq_term.txt          |    2 +-
 17 files changed, 36 insertions(+), 35 deletions(-)

commit bc468b34513a0fd76e69e03f3f978abd7d8c3871
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Mar 9 19:29:41 2010 +0100

    Add missing section with zmq_version()

 doc/zmq.txt |    8 ++++++++
 1 file changed, 8 insertions(+)

commit edebff902a9785ecdb3a27f6a78ac7cc68b38a56
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Mar 9 18:58:59 2010 +0100

    Add dependency for zmq_epgm.7

 doc/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ca70b40383fd12ce866054dd87cecb3d732c8d9f
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Mar 9 18:53:42 2010 +0100

    Hack, zmq_epgm.7 needs to be copied from zmq_pgm.7

 doc/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 1aee86408d575d6572b071d7564da7f006d1757e
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Mar 9 18:47:31 2010 +0100

    Documentation rewrite

 doc/Makefile.am           |    4 +-
 doc/asciidoc.conf         |    8 ++
 doc/zmq.txt               |  227 +++++++++++++++++------------
 doc/zmq_bind.txt          |   60 +++++---
 doc/zmq_close.txt         |   37 +++--
 doc/zmq_connect.txt       |   60 +++++---
 doc/zmq_epgm.txt          |    1 +
 doc/zmq_flush.txt         |   48 +++----
 doc/zmq_forwarder.txt     |   17 +--
 doc/zmq_init.txt          |   52 ++++---
 doc/zmq_inproc.txt        |   85 ++++++++---
 doc/zmq_ipc.txt           |   72 +++++++---
 doc/zmq_java.txt          |   27 ----
 doc/zmq_msg_close.txt     |   43 +++---
 doc/zmq_msg_copy.txt      |   46 +++---
 doc/zmq_msg_data.txt      |   32 ++---
 doc/zmq_msg_init.txt      |   29 ++--
 doc/zmq_msg_init_data.txt |   51 ++++---
 doc/zmq_msg_init_size.txt |   51 +++----
 doc/zmq_msg_move.txt      |   38 +++--
 doc/zmq_msg_size.txt      |   35 ++---
 doc/zmq_pgm.txt           |  174 +++++++++++++----------
 doc/zmq_poll.txt          |  122 +++++++++++-----
 doc/zmq_queue.txt         |   17 +--
 doc/zmq_recv.txt          |   53 ++++---
 doc/zmq_send.txt          |   66 +++++----
 doc/zmq_setsockopt.txt    |  348 ++++++++++++++++++++++++++++++---------------
 doc/zmq_socket.txt        |  184 ++++++++++++------------
 doc/zmq_streamer.txt      |   17 +--
 doc/zmq_strerror.txt      |   25 ++--
 doc/zmq_tcp.txt           |  129 +++++++++++------
 doc/zmq_term.txt          |   33 ++---
 doc/zmq_udp.txt           |   56 --------
 doc/zmq_version.txt       |   23 +--
 34 files changed, 1297 insertions(+), 973 deletions(-)

commit d790940fd06060c8a2c624b0e41e470ad31ae0d8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 9 18:14:49 2010 +0100

    udp transport renamed to epgm

 configure.in        |    4 ++--
 src/socket_base.cpp |   10 ++++------
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 5a776f5597cac632ca507e2d80ca0de064bba1d6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 9 17:34:28 2010 +0100

    PGM late joiners would start receiving a complete message rather than a message part

 src/zmq_encoder.cpp |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 0f891e091cc46775226ee1fe28784876395a7b92
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 9 17:24:42 2010 +0100

    message flags from the wire are written to zmq_msg_t and vice versa

 src/zmq_decoder.cpp |    4 ++--
 src/zmq_encoder.cpp |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 531c6af0d4df606ddef15da821dad20399b9480a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 9 16:56:53 2010 +0100

    message flags added to zmq_msg_t strcuture

 bindings/c/zmq.h |   14 +++++++++-----
 src/pipe.cpp     |    2 +-
 src/pub.cpp      |    4 ++--
 src/zmq.cpp      |   14 ++++++++------
 4 files changed, 20 insertions(+), 14 deletions(-)

commit 96ccc1c5fceb56bd7ffc2e6bef9ddab5347d722b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 9 15:10:44 2010 +0100

    'flags' fields added to the wire format

 src/zmq_decoder.cpp |   40 +++++++++++++++++++++++++++++-----------
 src/zmq_decoder.hpp |    1 +
 src/zmq_encoder.cpp |   11 ++++++++---
 src/zmq_encoder.hpp |    2 +-
 4 files changed, 39 insertions(+), 15 deletions(-)

commit e04e2cdbbaf351eb04164bdcd293fcb8fa22a9a4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Mar 9 08:43:20 2010 +0100

    rollback functionality added to pipe

 src/pipe.cpp   |   13 +++++++++++++
 src/pipe.hpp   |    3 +++
 src/ypipe.hpp  |   11 +++++++++++
 src/yqueue.hpp |   37 ++++++++++++++++++++++++++++++++++++-
 4 files changed, 63 insertions(+), 1 deletion(-)

commit 9481c69b0f60068f12aa26699588fed6a8faceec
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Mar 6 16:32:19 2010 +0100

    problem with NIC name resolution on OSX fixed

 src/ip.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 26b0aea24f9add0a1811e23f709d96b44b459571
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Mar 3 17:01:08 2010 +0100

    Win32 build fixes

 configure.in    |    8 ++++----
 src/Makefile.am |    4 ++++
 src/ip.hpp      |   10 +++++-----
 src/uuid.hpp    |    2 +-
 4 files changed, 14 insertions(+), 10 deletions(-)

commit 352da8ae8775f057a7ec67a7bd3f2270ac1c4d0f
Author: unknown <bundra@.(none)>
Date:   Wed Mar 3 15:47:21 2010 +0100

    type mismatch in tcp_listener (win version) fixed

 src/tcp_listener.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 14054ecce7d367d8e3d47f84f72d2fc748aec8e4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 3 09:41:57 2010 +0100

    Fix typo: zmq_close -> zmq_msg_close

 src/rep.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 708298d798693a19ace9a4811a3760d8de0a5c1d
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Mar 3 00:08:11 2010 +0100

    Fix possible lockups when reading from ZMQ_REP sockets

 src/rep.cpp |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 157a66fc42d46c79edc01f6feed8f482fb5d53f1
Author: unknown <bundra@.(none)>
Date:   Mon Mar 1 18:33:16 2010 +0100

    polling on POSIX sockets returns POLLERR (win32)

 src/zmq.cpp |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 4e7158b67dcbbc307e76616a85aa34cc83ad6606
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Mar 1 17:40:39 2010 +0100

    return POLLERR from polling on POSIX sockets (linux version)

 src/zmq.cpp |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 7442f53956e5d32d9c6a3543f8bef1664a773926
Merge: ea0a44c 83f85ea
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 27 14:18:21 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit ea0a44c8a964cad4276ec216319d32e95e4a4bc0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 27 14:18:02 2010 +0100

    Ruby binding removed

 bindings/Makefile.am      |    8 +-
 bindings/ruby/Makefile.am |   11 --
 bindings/ruby/extconf.rb  |   28 -----
 bindings/ruby/rbzmq.cpp   |  288 ---------------------------------------------
 configure.in              |   57 +--------
 perf/Makefile.am          |    8 +-
 perf/ruby/Makefile.am     |    1 -
 perf/ruby/local_lat.rb    |   41 -------
 perf/ruby/local_thr.rb    |   61 ----------
 perf/ruby/remote_lat.rb   |   53 ---------
 perf/ruby/remote_thr.rb   |   45 -------
 11 files changed, 7 insertions(+), 594 deletions(-)

commit 83f85ea51dee1fb2fcee22543a90361b860d6cb8
Author: unknown <bundra@.(none)>
Date:   Sat Feb 27 13:49:53 2010 +0100

    ruby binding removed from msvc build

 builds/msvc/msvc.sln         |    9 ------
 builds/msvc/ruby/ruby.vcproj |   68 ------------------------------------------
 2 files changed, 77 deletions(-)

commit 696ada883331359bee76b1ea996d8ac846624bea
Author: unknown <bundra@.(none)>
Date:   Sat Feb 27 13:36:52 2010 +0100

    python binding removed from nsvc build

 builds/msvc/msvc.sln             |    8 --
 builds/msvc/python/python.vcproj |  176 --------------------------------------
 2 files changed, 184 deletions(-)

commit 45414b5444db0a1f7e325c7dce92fbe84667d093
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 27 12:23:22 2010 +0100

    python binding removed

 bindings/Makefile.am        |    8 +-
 bindings/python/Makefile.am |    7 -
 bindings/python/pyzmq.cpp   |  556 -------------------------------------------
 bindings/python/setup.py.in |   14 --
 configure.in                |   65 +----
 doc/Makefile.am             |    2 +-
 doc/zmq.txt                 |    3 -
 doc/zmq_python.txt          |   27 ---
 perf/Makefile.am            |    9 +-
 perf/python/Makefile.am     |    1 -
 perf/python/local_lat.py    |   49 ----
 perf/python/local_thr.py    |   70 ------
 perf/python/remote_lat.py   |   61 -----
 perf/python/remote_thr.py   |   53 -----
 14 files changed, 11 insertions(+), 914 deletions(-)

commit efefa069b2ce407a7da4328ab024c47920a76960
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Feb 26 20:03:58 2010 +0100

    Cygwin support

 configure.in |    7 +++++++
 src/uuid.cpp |    3 ++-
 src/uuid.hpp |    6 ++++--
 3 files changed, 13 insertions(+), 3 deletions(-)

commit deda7ca54a3c8f1ba735e8654ca87f8808606122
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 26 17:28:09 2010 +0100

    Java Poller patch

 .gitignore                         |    3 +
 bindings/java/Context.cpp          |  106 ------------------------------------
 bindings/java/Makefile.am          |   22 ++++++--
 bindings/java/org/zmq/Context.java |   18 ------
 4 files changed, 21 insertions(+), 128 deletions(-)

commit 4a1a83887d6faf36cb01f1c69142e6aafafe5eba
Author: unknown <bundra@.(none)>
Date:   Fri Feb 26 16:42:52 2010 +0100

    Win32 build of Java binding fixed

 builds/msvc/java/java.vcproj |   36 ++++++++++++++++++++++++++++++++----
 1 file changed, 32 insertions(+), 4 deletions(-)

commit 4440b13c359dab2c1ba55e31c604ac093172d68e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 26 15:55:36 2010 +0100

    Poller object implemented in Java binding

 bindings/java/Poller.cpp          |  126 ++++++++++++++++++++++++++++++++++
 bindings/java/org/zmq/Poller.java |  135 +++++++++++++++++++++++++++++++++++++
 2 files changed, 261 insertions(+)

commit 1c4daf79ce12da75acb8010c99b3c1d509a7a950
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 26 14:28:20 2010 +0100

    MIT license text added

 COPYING.LESSER |   31 ++++++++++++++++++++++++++++---
 1 file changed, 28 insertions(+), 3 deletions(-)

commit 57e057c825156b6effd15c07ee302f4ccdd2561c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 25 16:29:17 2010 +0100

    1st version of Java poll added

 bindings/java/Context.cpp          |  140 ++++++++++++++++++++++++++++++------
 bindings/java/Socket.cpp           |   89 +++++++++--------------
 bindings/java/org/zmq/Context.java |   21 +++++-
 bindings/java/org/zmq/Socket.java  |    5 +-
 4 files changed, 173 insertions(+), 82 deletions(-)

commit ed8fe68383ca94ca33a9919bc2ed5b5a5d62cab0
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 24 17:27:31 2010 +0100

    handle invalid PGM connection string decently

 src/pgm_socket.cpp |    6 ++++++
 1 file changed, 6 insertions(+)

commit be51cfa419bb6c75eb24d241769a7c5543c432a7
Merge: 0b4172b b7f01f9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 24 16:19:53 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 0b4172b8689b60ce254c6823d69962bbdbd031d4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 24 16:19:14 2010 +0100

    minor cast issues on cygwin fixed

 src/ip.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b7f01f9071c26292c30517bac18dae92efaf3ffb
Author: unknown <bundra@.(none)>
Date:   Wed Feb 24 15:33:03 2010 +0100

    chat example removed from win build; missing fd_signaler_t::poll on win added

 builds/msvc/msvc.sln |   18 ------------------
 src/fd_signaler.cpp  |   26 +++++++++++++++++++-------
 2 files changed, 19 insertions(+), 25 deletions(-)

commit 476ebde6280a428e2dd8fee7c70670aa449831c9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 24 13:02:29 2010 +0100

    use binary UUIDs instead of string representation to save some bytes

 src/uuid.cpp     |   87 +++++++++++++++++++++++++++++++++++++++++++++++-------
 src/uuid.hpp     |   22 +++++++++++---
 src/zmq_init.cpp |    6 ++--
 3 files changed, 98 insertions(+), 17 deletions(-)

commit cc5c30f5dc2d6490c0199709ceb2d86e3cc3895d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Feb 24 12:09:24 2010 +0100

    Fix: OpenPGM is now distributed as .tar.gz

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bba36e6ee6ecdee5f3ded30b9f11e7684393bfd2
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Feb 24 12:07:24 2010 +0100

    Disable IPv6 support

    The current IPv6 support is half-assed and breaks for too many people.
    Revert back to IPv4 only for now.

 src/ip.cpp |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 39b89619742cf4aed25a5b3ccc5ff6d23d9d15cf
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Feb 24 09:41:10 2010 +0100

    Update OpenPGM to 2.0.24 (stable)

 .gitignore                               |    1 +
 configure.in                             |   16 ++++++++--------
 foreign/openpgm/libpgm-2.0.23rc8.tar.bz2 |  Bin 321822 -> 0 bytes
 foreign/openpgm/libpgm-2.0.24.tar.gz     |  Bin 0 -> 407110 bytes
 4 files changed, 9 insertions(+), 8 deletions(-)

commit ccd47f1ee8c9268b99478c6cce3d8b1aada62566
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 24 09:17:05 2010 +0100

    chat example moved to separate repo

 Makefile.am               |    4 +--
 configure.in              |   13 +--------
 examples/Makefile.am      |    7 -----
 examples/chat/Makefile.am |   11 --------
 examples/chat/README      |   42 ----------------------------
 examples/chat/display.cpp |   50 ---------------------------------
 examples/chat/prompt.cpp  |   67 ---------------------------------------------
 7 files changed, 3 insertions(+), 191 deletions(-)

commit 8980a985828579d03f031b18a1bebcd65eded417
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 24 08:29:29 2010 +0100

    zmq_error used from ruby binding

 bindings/ruby/rbzmq.cpp |   27 +++++++++++++--------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit 551fa104ffdb8c417b7d75ce70c463992e7d4652
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 23 23:43:31 2010 +0100

    zmq_errno used in C++ binding

 bindings/cpp/zmq.hpp |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 95329719cda2b941e422d06daad3a7ba4c4a8829
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 23 23:37:05 2010 +0100

    zmq_errno is exported from the DLL

 bindings/c/zmq.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2441ef11a22170499d7ae12865dc98a61230f7ed
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 23 23:28:25 2010 +0100

    zmq_errno helper function added

 bindings/c/zmq.h |   10 ++++++++++
 src/zmq.cpp      |    5 +++++
 2 files changed, 15 insertions(+)

commit 2dd55605ea3956413cb25cab705ffdbdb2e00da5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 23 22:13:56 2010 +0100

    recv fails after polling for IN on REQ socket

 src/req.cpp |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 025c9e173c58971993858ea66fb2eeaf08de195d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 23 17:22:52 2010 +0100

    execution disabled on certain source files; some comments on java binding; MSVC temp files added to .gitignore

 .gitignore                         |    9 +++++++++
 bindings/java/org/zmq/Context.java |    2 ++
 bindings/java/org/zmq/Socket.java  |    2 ++
 3 files changed, 13 insertions(+)

commit 71b4947f951f0120e4aadccb42f2452bb95dba06
Author: unknown <bundra@.(none)>
Date:   Tue Feb 23 12:02:55 2010 +0100

    Win32 build fixed

 builds/msvc/libzmq/libzmq.vcproj |    4 ++++
 1 file changed, 4 insertions(+)

commit 7c0df6ee02eb792c6afea7f047539840addb2f02
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 23 11:52:33 2010 +0100

    Java binding beautified, inline documentation added

 AUTHORS                            |    1 +
 bindings/java/Context.cpp          |  106 ++++++++++++-------
 bindings/java/Socket.cpp           |  197 +++++++++++++++++++++++++++---------
 bindings/java/org/zmq/Context.java |   17 ++--
 bindings/java/org/zmq/Socket.java  |   59 +++++++----
 5 files changed, 267 insertions(+), 113 deletions(-)

commit ef1b5974891a30b15299464859023a531c2328f8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 23 10:01:54 2010 +0100

    minor fix in zmq_socket(3) man page

 doc/zmq_socket.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b9a612ff3f74a3add607b054213d0f52e85cc426
Merge: f249555 61f0ef5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 22 18:19:51 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit f24955519ac0d3b0da5dd87fbb7bfc8cc1e24295
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 22 18:19:26 2010 +0100

    zmq_poll doesn't exit when infinite timeout is set and interrupt occurs

 src/zmq.cpp |   56 +++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 39 insertions(+), 17 deletions(-)

commit 61f0ef569b2f879b6b4e1f247253ceec08e774c7
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 22 18:16:40 2010 +0100

    NetBSD: Check for and use atomic_ops(3) if available

 configure.in |   18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 3a69cca386a895313729f418ee44443794feed0f
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 22 16:42:13 2010 +0100

    Fix $build_doc/$install_man check yet again

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1294c1d33a1c73218eb94bf18ceb9ae873d08891
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Feb 21 16:58:53 2010 +0100

    typo in zmq_ipc(7) fixed

 doc/zmq_ipc.txt |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ff99d753ae30a7b5fef730fdcf1643e2928d9993
Author: malosek <malosek@fastmq.com>
Date:   Sat Feb 20 21:03:12 2010 +0100

    Minor buid system tunning

 autogen.sh   |    8 ++++++++
 configure.in |    1 -
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 740e531fbb47ad324737c075251c674e9dced6f1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 20 09:11:30 2010 +0100

    Aleksey Yeschenko added to the credit section of AUTHORS file

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit 57148b1fdeec0080b77ecfa837add9557226261c
Author: Martin Lucina <mato@kotelna.sk>
Date:   Fri Feb 19 18:23:54 2010 +0100

    Add missing check for install_man=yes

    Fixes git builds w/o asciidoc, bug introduced in 46824abe

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b86dcf81cc7b80267f334f4f26dfd319532ad25
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 19 17:50:47 2010 +0100

    build on cygwin enabled

 AUTHORS        |    1 +
 configure.in   |    3 +++
 src/poller.hpp |    2 ++
 3 files changed, 6 insertions(+)

commit 727054547f32680f7db098497c2d7b1a0b20e2d8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 19 17:02:07 2010 +0100

    don't check for identity, if the connection is anonymous

 src/session.cpp |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit aff1f6621ae13083c7f15f7f1f808560254a2dcb
Merge: 75f571c 2a79a94
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 19 15:25:05 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 75f571c8844231f4172f131e1dd6ba2348eb54e5
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 19 15:24:43 2010 +0100

    Multi-hop REQ/REP, part XII., generate unique identities for anonymous connections

 doc/zmq_setsockopt.txt |   10 ++++++----
 src/options.cpp        |    9 +++++++++
 src/session.cpp        |    6 +++---
 src/uuid.hpp           |    6 +++---
 src/zmq_encoder.cpp    |    1 -
 src/zmq_engine.cpp     |    4 +++-
 src/zmq_init.cpp       |   40 ++++++++++++++++++++--------------------
 7 files changed, 44 insertions(+), 32 deletions(-)

commit 2a79a943de417679c562cd4a917e1d1bc19b0d25
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 18 19:38:15 2010 +0100

    Add NetBSD support

 configure.in           |   13 +++++++++++++
 src/atomic_bitmap.hpp  |   16 ++++++++--------
 src/atomic_counter.hpp |   14 +++++++-------
 src/atomic_ptr.hpp     |   14 +++++++-------
 src/ip.cpp             |   11 ++---------
 src/ip.hpp             |   10 ++++++++++
 src/kqueue.cpp         |   17 ++++++++++++++---
 src/kqueue.hpp         |    3 ++-
 src/poll.cpp           |    3 ++-
 src/poll.hpp           |    3 ++-
 src/poller.hpp         |    2 ++
 src/tcp_listener.cpp   |    2 +-
 src/uuid.cpp           |    2 +-
 src/uuid.hpp           |    4 ++--
 src/zmq.cpp            |    6 ++++--
 15 files changed, 77 insertions(+), 43 deletions(-)

commit 776b12633981fd95050e138daeeba00a65d9532b
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 18 19:27:35 2010 +0100

    Fix typo

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab27f84b14a317d78a9dd145ef5c82e0ef88f583
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 18 19:27:15 2010 +0100

    libstdc++ depends on libm on some platforms

 configure.in |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 495f0d105f809a265c34aa9a0eb20af0dcdcf283
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 18 17:29:14 2010 +0100

    Fix detection of libstdc++

    We only care about libstdc++ when using GNU C++.
    Further, libstdc++ depends on libm on some platforms, fix this.

 configure.in |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 46824abeb2b016c51f406401d965816f71189aed
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 18 17:25:49 2010 +0100

    Never build docs from tarball releases

    This fixes the build_doc logic to work as advertised and never
    try to (re)build documentation when working with a tarball release.

 configure.in    |   14 +++++++++++---
 doc/Makefile.am |    3 ++-
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 8be491b7bdb8525eb37cebf355697c566a482e2d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 18 13:46:00 2010 +0100

    Use feature test macros more conservatively

    It turns out that feature test macros are a complete mess, and defining
    _GNU_SOURCE and _POSIX_C_SOURCE together breaks some systems. So we try
    and define the appropriate "make everything visible" combination specific
    to each system instead. This may still break something, so people should
    test their platforms and speak up if so.

 configure.in |   15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit d008637bc42da3fca50e423c2df0736be2745ac7
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 17 21:16:59 2010 +0100

    one more attempt to fix the previous win32 problem

 src/socket_base.cpp |   28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit f97da5e6449b183ad3ebb9b0ba8c37ff3dc17387
Merge: e385319 41354bf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 17 20:33:46 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit e385319e5aaff6deafddfb216b24f026b461caa6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 17 20:33:00 2010 +0100

    recv returning -1 while errno=0 fixed

 src/socket_base.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit 41354bfa9820eb4495cf98342177d036df2a7dc7
Author: unknown <bundra@.(none)>
Date:   Wed Feb 17 20:16:19 2010 +0100

    zmq_version fixed on Win32 platform

 builds/msvc/platform.hpp |    5 +++++
 1 file changed, 5 insertions(+)

commit f745c96a9bcf930d10fe31de5f7b3e772cccfa83
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Feb 17 15:40:26 2010 +0100

    Add POSIX and GNU Feature Test Macros

    This should fix more exotic POSIX platforms such as HPUX which insist on
    having _POSIX_C_SOURCE defined to get proper threading behaviour. We also
    define _GNU_SOURCE so that we get any extensions on systems with glibc, e.g.
    eventfd.

 configure.in |   16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 9d8623b28f09f5a6db94c7d69ae264984ef1fbe3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 17 08:30:27 2010 +0100

    ZMQII-76: Bug in how replies are handled when the REQ endpoint goes away

 src/rep.cpp |   22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit 33cb20a747a2ca2c7b0487b023cfd6548ffe11e8
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 16 23:31:17 2010 +0100

    ZMQII-77: Put librbzmq symbols into ZMQ module

 AUTHORS                 |    1 +
 bindings/ruby/rbzmq.cpp |   75 ++++++++++++++++++++++++-----------------------
 perf/ruby/local_lat.rb  |    4 +--
 perf/ruby/local_thr.rb  |    6 ++--
 perf/ruby/remote_lat.rb |    4 +--
 perf/ruby/remote_thr.rb |    4 +--
 6 files changed, 49 insertions(+), 45 deletions(-)

commit 1e7878489dc5d3013b5e5858fe404ab6b4a6947a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 16 23:02:59 2010 +0100

    exconf.rb checks for libzmq.so installation

 AUTHORS                  |    1 +
 bindings/ruby/extconf.rb |    8 ++++++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 8214d386c3f10dcc7f034a1159e82aa2d470829f
Merge: 4190f64 96b2690
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 16 22:20:09 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 4190f64d8cfc3950bc456ea7793db72130d05feb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 16 22:19:33 2010 +0100

    Special exception clause added to LGPL license

 COPYING.LESSER |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 96b2690716a811a4c782de0eccfb9affa398cfe4
Merge: 60ce5cc a2f9899
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Feb 16 19:59:32 2010 +0100

    Merge branch 'master' of github.com:sustrik/zeromq2

commit 60ce5cc82a48d5881cb493a5b6b3afba19bd0863
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Feb 16 19:58:55 2010 +0100

    PGM tarball should be removed on 'distclean', not 'clean'

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b9caa319e279cd8cd367e0a64308b9e80c4ead3d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 16 18:30:38 2010 +0100

    Multi-hop REQ/REP, part XI., finalise the XREQ/XREP functionality

 src/downstream.cpp   |    2 +-
 src/downstream.hpp   |    3 ++-
 src/i_endpoint.hpp   |    4 +++-
 src/i_engine.hpp     |    9 +++++----
 src/p2p.cpp          |    2 +-
 src/p2p.hpp          |    3 ++-
 src/pgm_receiver.cpp |    8 +++++++-
 src/pgm_receiver.hpp |    3 ++-
 src/pgm_sender.cpp   |    8 +++++++-
 src/pgm_sender.hpp   |    3 ++-
 src/pub.cpp          |    2 +-
 src/pub.hpp          |    3 ++-
 src/rep.cpp          |    2 +-
 src/rep.hpp          |    3 ++-
 src/req.cpp          |    2 +-
 src/req.hpp          |    3 ++-
 src/session.cpp      |    7 ++++++-
 src/session.hpp      |    3 ++-
 src/socket_base.cpp  |   12 ++++++------
 src/socket_base.hpp  |    5 +++--
 src/sub.cpp          |    2 +-
 src/sub.hpp          |    3 ++-
 src/upstream.cpp     |    2 +-
 src/upstream.hpp     |    3 ++-
 src/xrep.cpp         |   51 ++++++++++++++++++++++++++++++++++++++++++++------
 src/xrep.hpp         |   10 +++++++++-
 src/xreq.cpp         |    2 +-
 src/xreq.hpp         |    3 ++-
 src/zmq_decoder.cpp  |   48 +++++++++++++++++++++++++++++------------------
 src/zmq_encoder.cpp  |   15 +++++++++++----
 src/zmq_engine.cpp   |    8 ++++++--
 src/zmq_engine.hpp   |    3 ++-
 src/zmq_init.cpp     |    6 +-----
 33 files changed, 171 insertions(+), 72 deletions(-)

commit 2ddce205350f11dacd8d8550f7d4e6e088c7fbcd
Merge: 43620b3 a2f9899
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 16 18:03:41 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit a2f9899f6a1fad3f9c73fc7599445bdde0b95ec4
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 16 17:50:36 2010 +0100

    missing COPYING file added

 .gitignore       |    1 -
 COPYING          |  674 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_poll.txt |    3 +-
 3 files changed, 676 insertions(+), 2 deletions(-)

commit afb526f31a82b8697b5f7e73e50b14705a3a74b2
Author: Martin Lucina <mato@kotelna.sk>
Date:   Tue Feb 16 00:11:38 2010 +0100

    Fix 'make dist' to work with no special magic

 bindings/java/Makefile.am |   13 +++++++------
 perf/c/Makefile.am        |    4 ++--
 2 files changed, 9 insertions(+), 8 deletions(-)

commit 8e9b78af271ae54882abf3010260d1e80ddd70f2
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 23:59:35 2010 +0100

    Correct path for pgm distclean

 Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit df0c18ca17aa0dcd0e9f3737666a794b943f0982
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 23:54:49 2010 +0100

    Missed one instance of pgm2

 Makefile.am |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b09eeeb2fac380da1e3455cdf97278850842e1c8
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 23:52:08 2010 +0100

    Update gitignore

 .gitignore |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 80c820d758aa65d71fbf4a24fd59d11de1f72fa5
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 23:51:05 2010 +0100

    Cleaning up more PGM cruft

 Makefile.am        |    3 +++
 configure.in       |   65 +++++++++++++++++++---------------------------------
 perf/c/Makefile.am |    4 ++--
 src/Makefile.am    |   12 +++++++---
 4 files changed, 37 insertions(+), 47 deletions(-)

commit 635e314643885ce8508ee64632bed7d6228fe8b6
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 23:09:57 2010 +0100

    Clarify python.h messages

 configure.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 55800cea8c63ea84bd99e4c660ef1fd17a353e32
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 23:02:24 2010 +0100

    Fix typo

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5687661ba4a1ecf70e130047dc288cb6cff6f21a
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 22:58:45 2010 +0100

    Cleanup messages from configure.in

 configure.in |   44 ++++++++++++++++++++++----------------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit 48a90cfb347bc983362ce2bc021591d513d6a5ec
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 22:25:01 2010 +0100

    Replace check for sparc with host_cpu

 configure.in |   25 ++++++++-----------------
 1 file changed, 8 insertions(+), 17 deletions(-)

commit 0ded6c1973596436d7e5c54cfb89ada4d6c7473d
Author: Martin Lucina <mato@kotelna.sk>
Date:   Mon Feb 15 22:17:18 2010 +0100

    Multiple fixes to --with-pgm

    Disallow build --with-pgm on non-x86/AMB64 CPUs
    Check correctly for all dependencies required by --with-pgm
    Don't assume tar has -j
    Reorder --with-pgm checks

 configure.in |   70 +++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 42 insertions(+), 28 deletions(-)

commit 94c74d5c18183b49507d633c7b06713841cfcb03
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 15 21:04:34 2010 +0100

    Brian Granger added to credits list

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit f96f53c9687b5a032ef45ce42154a7f944492eec
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 15 21:03:11 2010 +0100

    ZMQ_POLLERR placeholder added to zmq.h

 bindings/c/zmq.h |    1 +
 1 file changed, 1 insertion(+)

commit 5041b0bc0bce43e5b6d8b6c6264141d33f3c2a7c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 15 20:35:00 2010 +0100

    fixing the previous commit :(

 src/ip.cpp |    1 -
 1 file changed, 1 deletion(-)

commit 7778010d76e6da534307ca3f0a3506d3d7f0ec5d
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 15 19:58:47 2010 +0100

    care taken of the fact that AI_NUMERICSERV is not defined on OSX 10.5

 src/ip.cpp |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 817c89a78ea7b773046b010ca129fd1206e1c8f0
Author: malosek <malosek@fastmq.com>
Date:   Mon Feb 15 19:42:05 2010 +0100

    removed first dummy run of PKG_CHECK_EXISTS

 configure.in |    5 -----
 1 file changed, 5 deletions(-)

commit 43620b3d35e3f3a6e49046fdc0426651bf58dedb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Feb 14 13:34:48 2010 +0100

    Multi-hop REQ/REP, part X., optional delayed creation of pipes during connect

 src/options.cpp     |    1 +
 src/options.hpp     |    6 ++++++
 src/rep.cpp         |    5 +++++
 src/session.cpp     |   48 +++++++++++++++++++++-----------------------
 src/socket_base.cpp |   55 ++++++++++++++++++++++++++++++++-------------------
 src/xrep.cpp        |    4 ++++
 6 files changed, 74 insertions(+), 45 deletions(-)

commit 4405250d93a2ad6eb3940c4bc4fe8ea32bd52f9e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 13 15:30:03 2010 +0100

    Multi-hop REQ/REP, part IX., pass the peer identity as far as socket_base_t

 src/command.cpp     |    4 ++++
 src/command.hpp     |    2 ++
 src/object.cpp      |   28 ++++++++++++++++++++++++----
 src/object.hpp      |    4 ++--
 src/options.cpp     |    2 +-
 src/options.hpp     |    5 ++---
 src/pgm_socket.cpp  |    7 +++++--
 src/session.cpp     |    2 +-
 src/socket_base.cpp |    5 +++--
 src/socket_base.hpp |    3 ++-
 10 files changed, 46 insertions(+), 16 deletions(-)

commit f5ce81f2893ec0707c2f4346740878e68b51e13a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 13 14:07:30 2010 +0100

    Multi-hop REQ/REP, part VIII., new blob_t type used for holding identity

 src/Makefile.am      |    1 +
 src/blob.hpp         |   33 +++++++++++++++++++++++++++++++++
 src/i_engine.hpp     |    5 +++--
 src/object.cpp       |   19 +++++++++----------
 src/object.hpp       |    7 ++++---
 src/pgm_receiver.cpp |    3 +--
 src/pgm_receiver.hpp |    2 +-
 src/pgm_sender.cpp   |    3 +--
 src/pgm_sender.hpp   |    2 +-
 src/session.cpp      |   32 +++++++++++---------------------
 src/session.hpp      |   13 +++++--------
 src/socket_base.cpp  |   24 ++++++++++--------------
 src/socket_base.hpp  |   14 ++++++--------
 src/zmq_decoder.cpp  |   34 +++++++++++++---------------------
 src/zmq_decoder.hpp  |    6 +++---
 src/zmq_engine.cpp   |    5 ++---
 src/zmq_engine.hpp   |    2 +-
 src/zmq_init.cpp     |   17 ++++++-----------
 src/zmq_init.hpp     |    5 ++---
 19 files changed, 113 insertions(+), 114 deletions(-)

commit cdc2efe9b5f0d1f45065b1c32e5eabd7e9f78a12
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 13 13:07:33 2010 +0100

    Multi-hop REQ/REP, part VII., identity-related algorithms rewritten

 src/session.cpp     |  114 +++++++++++++++++++++++++++++++--------------------
 src/session.hpp     |   10 +----
 src/socket_base.cpp |   25 ++++++-----
 src/socket_base.hpp |    9 ++--
 src/zmq_init.cpp    |    4 +-
 5 files changed, 93 insertions(+), 69 deletions(-)

commit 923eacd28a725a6b32de588fe7a54dbe252d84aa
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Feb 13 09:09:40 2010 +0100

    Multi-hop REQ/REP, part VI., session 'name' renamed to 'peer_identity'

 src/session.cpp  |   16 ++++++++--------
 src/session.hpp  |   14 +++++++++-----
 src/zmq_init.cpp |    7 ++++---
 3 files changed, 21 insertions(+), 16 deletions(-)

commit 2e78e48503375a415d95ee8df80df9c065172abc
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 12 20:49:00 2010 +0100

    Multi-hop REQ/REP, part V., peer identity is passed from init object to session

 src/command.cpp  |   10 ++++++++++
 src/command.hpp  |    2 ++
 src/object.cpp   |   22 ++++++++++++++++++++--
 src/object.hpp   |    6 ++++--
 src/session.cpp  |    3 ++-
 src/session.hpp  |    3 ++-
 src/zmq_init.cpp |    3 ++-
 7 files changed, 42 insertions(+), 7 deletions(-)

commit d8430f4b9a43bf8c99854298edc9f1bc35c0e8ec
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 12 20:03:02 2010 +0100

    Multi-hop REQ/REP, part IV., add command deallocation mechanism

 src/Makefile.am    |    1 +
 src/command.cpp    |   24 ++++++++++++++++++++++++
 src/command.hpp    |    3 +++
 src/dispatcher.cpp |    4 ++++
 src/object.cpp     |   18 +++++++++++-------
 5 files changed, 43 insertions(+), 7 deletions(-)

commit 313b5dfadd8753b341197cc109bce40e08856cf6
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 12 19:42:35 2010 +0100

    Multi-hop REQ/REP, part III., change 'type' in options to simple 'traceroute' flag

 src/downstream.cpp |    1 -
 src/options.cpp    |    4 ++--
 src/options.hpp    |    6 +++---
 src/p2p.cpp        |    1 -
 src/pub.cpp        |    1 -
 src/rep.cpp        |    1 -
 src/req.cpp        |    1 -
 src/sub.cpp        |    1 -
 src/upstream.cpp   |    1 -
 src/xrep.cpp       |    5 ++++-
 src/xreq.cpp       |    1 -
 src/zmq_init.cpp   |    2 +-
 12 files changed, 10 insertions(+), 15 deletions(-)

commit 96e0442332fcc680ddafdcaa8fcbdc6acd992c76
Merge: 36a5763 dc8f4b1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 12 15:58:22 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 36a576370ccfed3c104850b5b95a6ed3870edbea
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 12 15:57:54 2010 +0100

    Multi-hop REQ/REP, part I., tracerouting switched on on XREP socket

 src/i_engine.hpp     |    8 ++++++++
 src/pgm_receiver.cpp |    9 ++++++++-
 src/pgm_receiver.hpp |    1 +
 src/pgm_sender.cpp   |    9 ++++++++-
 src/pgm_sender.hpp   |    1 +
 src/zmq_decoder.cpp  |   27 +++++++++++++--------------
 src/zmq_decoder.hpp  |    6 +++++-
 src/zmq_encoder.cpp  |   13 +++++++++----
 src/zmq_encoder.hpp  |    8 ++++++--
 src/zmq_engine.cpp   |   11 +++++++++--
 src/zmq_engine.hpp   |    1 +
 src/zmq_init.cpp     |    6 ++++++
 12 files changed, 75 insertions(+), 25 deletions(-)

commit dc8f4b1b761103784b422b7604bc8f36d429d3f4
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Feb 12 15:08:57 2010 +0100

    Fix memory leak in bind()

 src/socket_base.cpp  |    4 +++-
 src/zmq_listener.hpp |    3 +--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 7b4cf2a4d040057f6f378cac2cd125513a859c1b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 12 13:33:50 2010 +0100

    Multi-hop REQ/REP, part I., socket type is known to all associated objects

 src/downstream.cpp |    1 +
 src/options.cpp    |    1 +
 src/options.hpp    |    3 +++
 src/p2p.cpp        |    1 +
 src/pub.cpp        |    1 +
 src/rep.cpp        |    1 +
 src/req.cpp        |    1 +
 src/sub.cpp        |    1 +
 src/upstream.cpp   |    1 +
 src/xrep.cpp       |    1 +
 src/xreq.cpp       |    1 +
 11 files changed, 13 insertions(+)

commit cd7300fd4f25754f844b17a77685ec837ebecbbb
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Fri Feb 12 12:12:49 2010 +0100

    Resolve command starvation in recv()

 src/socket_base.cpp |   38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit 7f7ac843d58b3d8a77f681fa4c35bd21726b6f31
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 11 17:51:47 2010 +0100

    Next 0MQ release will be 2.0.6

    As decided on the mailing list, there have been five 2.x releases to
    date, so the upcoming release will be numbered 2.0.6.

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de41c9da31246314bb2b0c55dfe3b2884d48df3b
Merge: 30b967e 92d0147
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 11 17:51:08 2010 +0100

    Merge branch 'master' of github.com:sustrik/zeromq2

commit 30b967e2a439ce76b1141d34fa3c8ee9f87a88a8
Author: Martin Lucina <mato@kotelna.sk>
Date:   Thu Feb 11 17:49:40 2010 +0100

    Integrate version numbering into autoconf

    configure.in is now the master source for the package version number,
    this propagates to src/platform.hpp (for zmq_version) and doc/Makefile.am
    (for documentation generation) automagically.

 configure.in      |   28 +++++++++++++++++++++++++++-
 doc/Makefile.am   |    6 ++++--
 doc/asciidoc.conf |    2 +-
 src/config.hpp    |    5 -----
 src/zmq.cpp       |    6 +++---
 5 files changed, 35 insertions(+), 12 deletions(-)

commit 92d0147b20f77cad5d20e257aec502f628e7889e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 11 16:50:40 2010 +0100

    python binding build with 2.4 version of python fixed

 bindings/python/pyzmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 432fbd796bb4905fb19ceee802009b17e88e9256
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 11 10:43:59 2010 +0100

    ZMQII-72: Add zmq_version function (documentation)

 doc/Makefile.am     |    4 ++--
 doc/zmq_version.txt |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+), 2 deletions(-)

commit bd9213e71222df66634d59581264ffe67210222c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 11 10:29:33 2010 +0100

    ZMQII-72: Add zmq_version function

 bindings/c/zmq.h |    6 ++++++
 src/config.hpp   |    4 ++++
 src/zmq.cpp      |    8 ++++++++
 3 files changed, 18 insertions(+)

commit 7cab423fc20e46f54fa561e51b566cc8a63ca5c1
Merge: bc9b7f1 354efc5
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Feb 10 17:14:21 2010 +0100

    Merge branch 'master' of github.com:sustrik/zeromq2

commit bc9b7f1f54b9dcf754021f1f7eb766d71cc97f29
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Feb 10 12:48:04 2010 +0100

    lb: bugfix - never skip active pipe when sending msg

 src/lb.cpp |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 6b3c1798e7554dd1ce63b2ad137e327f3f32fcf1
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Feb 10 12:47:34 2010 +0100

    fq: bugfix - don't read msg from inactive pipe

 src/fq.cpp |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 354efc513fdb4096f8830e6c2e3e8f1311303e61
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Feb 10 16:18:46 2010 +0100

    Convert documentation to AsciiDoc

 .gitignore                   |    5 ++
 Makefile.am                  |    8 +-
 configure.in                 |   19 ++++-
 doc/Makefile.am              |   41 ++++++++++
 doc/asciidoc.conf            |   34 ++++++++
 doc/zmq.txt                  |  175 ++++++++++++++++++++++++++++++++++++++++++
 doc/zmq_bind.txt             |   67 ++++++++++++++++
 doc/zmq_close.txt            |   52 +++++++++++++
 doc/zmq_connect.txt          |   63 +++++++++++++++
 doc/zmq_cpp.txt              |   89 +++++++++++++++++++++
 doc/zmq_flush.txt            |   59 ++++++++++++++
 doc/zmq_forwarder.txt        |   32 ++++++++
 doc/zmq_init.txt             |   61 +++++++++++++++
 doc/zmq_inproc.txt           |   50 ++++++++++++
 doc/zmq_ipc.txt              |   44 +++++++++++
 doc/zmq_java.txt             |   27 +++++++
 doc/zmq_msg_close.txt        |   53 +++++++++++++
 doc/zmq_msg_copy.txt         |   60 +++++++++++++++
 doc/zmq_msg_data.txt         |   50 ++++++++++++
 doc/zmq_msg_init.txt         |   54 +++++++++++++
 doc/zmq_msg_init_data.txt    |   67 ++++++++++++++++
 doc/zmq_msg_init_size.txt    |   61 +++++++++++++++
 doc/zmq_msg_move.txt         |   55 +++++++++++++
 doc/zmq_msg_size.txt         |   53 +++++++++++++
 doc/zmq_pgm.txt              |  106 +++++++++++++++++++++++++
 doc/zmq_poll.txt             |   85 ++++++++++++++++++++
 doc/zmq_python.txt           |   27 +++++++
 doc/zmq_queue.txt            |   32 ++++++++
 doc/zmq_recv.txt             |   66 ++++++++++++++++
 doc/zmq_send.txt             |   77 +++++++++++++++++++
 doc/zmq_setsockopt.txt       |  155 +++++++++++++++++++++++++++++++++++++
 doc/zmq_socket.txt           |  126 ++++++++++++++++++++++++++++++
 doc/zmq_streamer.txt         |   32 ++++++++
 doc/zmq_strerror.txt         |   50 ++++++++++++
 doc/zmq_tcp.txt              |   93 ++++++++++++++++++++++
 doc/zmq_term.txt             |   49 ++++++++++++
 doc/zmq_udp.txt              |   56 ++++++++++++++
 man/Makefile.am              |   22 ------
 man/convert2html.sh          |   55 -------------
 man/convert2pdf.sh           |   88 ---------------------
 man/man1/zmq_forwarder.1     |   11 ---
 man/man1/zmq_queue.1         |   11 ---
 man/man1/zmq_streamer.1      |   11 ---
 man/man3/zmq_bind.3          |   52 -------------
 man/man3/zmq_close.3         |   30 --------
 man/man3/zmq_connect.3       |   49 ------------
 man/man3/zmq_flush.3         |   37 ---------
 man/man3/zmq_init.3          |   40 ----------
 man/man3/zmq_msg_close.3     |   32 --------
 man/man3/zmq_msg_copy.3      |   43 -----------
 man/man3/zmq_msg_data.3      |   27 -------
 man/man3/zmq_msg_init.3      |   33 --------
 man/man3/zmq_msg_init_data.3 |   55 -------------
 man/man3/zmq_msg_init_size.3 |   44 -----------
 man/man3/zmq_msg_move.3      |   38 ---------
 man/man3/zmq_msg_size.3      |   30 --------
 man/man3/zmq_poll.3          |   71 -----------------
 man/man3/zmq_recv.3          |   52 -------------
 man/man3/zmq_send.3          |   64 ---------------
 man/man3/zmq_setsockopt.3    |  137 ---------------------------------
 man/man3/zmq_socket.3        |  110 --------------------------
 man/man3/zmq_strerror.3      |   27 -------
 man/man3/zmq_term.3          |   25 ------
 man/man7/zmq.7               |  151 ------------------------------------
 man/man7/zmq_cl.7            |  124 ------------------------------
 man/man7/zmq_cpp.7           |  103 -------------------------
 man/man7/zmq_inproc.7        |   42 ----------
 man/man7/zmq_ipc.7           |   34 --------
 man/man7/zmq_java.7          |    9 ---
 man/man7/zmq_pgm.7           |   98 -----------------------
 man/man7/zmq_python.7        |    9 ---
 man/man7/zmq_tcp.7           |   80 -------------------
 man/man7/zmq_udp.7           |   45 -----------
 73 files changed, 2224 insertions(+), 1898 deletions(-)

commit 2d44bf3644c8e12aa86c48e9da4df19bfa9ea703
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 10 11:04:28 2010 +0100

    ZMQII-69: Make 0MQ build on HP-UX

 src/fd_signaler.cpp   |    4 ++--
 src/tcp_connecter.cpp |    6 +++++-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 8c25bab31d63bf5e2c4eec6d9084cf7d1c1e5dd3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 10 10:42:54 2010 +0100

    ZMQII-70: zmq_poll on win32 fails with EINVAL

 src/zmq.cpp |   27 ++++++++++++++-------------
 1 file changed, 14 insertions(+), 13 deletions(-)

commit 8f86cac2f6721eec4b600383eb113f7fedf41ce1
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 9 19:23:15 2010 +0100

    ZMQII-69: Make 0MQ build on HP-UX

 src/fd_signaler.cpp   |   78 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/ip.cpp            |    4 +--
 src/tcp_connecter.hpp |    9 +++++-
 3 files changed, 87 insertions(+), 4 deletions(-)

commit fd673ae231119682a242967551cfa034fa32791a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 9 15:21:26 2010 +0100

    couple of typos in the documentation fixed

 examples/chat/README |    2 +-
 man/man3/zmq_term.3  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6b2ca4e158c3394f5aba8f0f01ff1734423683f9
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 9 15:15:44 2010 +0100

    ZMQII-67: Build checks for python even if it's not needed

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c870ede7fdecaf1f952b01096e09cc03a7c7aef
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 9 09:08:37 2010 +0100

    ZMQII-57: Shutdown OpenPGM library

 src/pgm_socket.cpp |   31 +------------------------------
 src/zmq.cpp        |   47 ++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 47 insertions(+), 31 deletions(-)

commit 396e41a2a4b31f91ef4c4458d53be9e3a9b4bb92
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 8 18:55:51 2010 +0100

    minor change to README

 README |    2 --
 1 file changed, 2 deletions(-)

commit 01533a5aefb49e23be95cab9cfa5ca32cd438d25
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 8 18:37:48 2010 +0100

    ZMQII-65: Two OS threads are mapped to the same app_thread_t

 src/app_thread.cpp |   23 +++------------
 src/app_thread.hpp |   19 -------------
 src/dispatcher.cpp |   79 +++++++++++++++++++++++++++++++++-------------------
 src/dispatcher.hpp |   29 ++++++++++++++-----
 4 files changed, 76 insertions(+), 74 deletions(-)

commit 7593d815ac57f2877480c5056b2f1aa65460f5c3
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Mon Feb 8 10:34:12 2010 +0100

     ZMQII-64: First message stuck in 0MQ in case of immediate disconnection

 src/zmq_engine.cpp |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 427bc3276aa236c8691fee7e634717d0579a3055
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Feb 7 16:24:14 2010 +0100

    minor code cleanup

 src/socket_base.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b0ee6b0c8ab8a5052a5e111dda24308dd00c0d62
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Feb 7 11:31:05 2010 +0100

    ZMQII-62: zmq_close after sending message via P2P socket fails

 src/p2p.cpp |    5 +++++
 1 file changed, 5 insertions(+)

commit bbaa494fb569d94c356ddecca7dbf249ffc217cf
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Feb 7 09:14:43 2010 +0100

    ZMQII-59: TCP server crashes sometimes when message is send and socket is closed immediately

 src/dispatcher.cpp |   23 +++++++++++++++++++++++
 src/dispatcher.hpp |   16 ++--------------
 src/object.cpp     |   12 +++++-------
 3 files changed, 30 insertions(+), 21 deletions(-)

commit d21bf21a362cf6d20d8d060bb91ee2fdca1dd88b
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Fri Feb 5 13:00:49 2010 +0100

    allow async connect on Win32 return WSAECONNABORTED

 src/tcp_connecter.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0888fcd06f1c66ec3dfab744bfc24d1486737c7e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 4 23:58:41 2010 +0100

    yqueue_t uses malloc/free instead of new/delete

 src/yqueue.hpp |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 30076c4f7a5b0c70ef0c5a6574cac531bc996f5e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 4 17:46:47 2010 +0100

    ZMQII-58: TCP connecting asserts on Win32 (same fix for POSIX)

 src/tcp_connecter.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c46b7ed1978ead346022577ff015b092f3257c84
Author: unknown <bundra@.(none)>
Date:   Thu Feb 4 17:40:04 2010 +0100

    ZMQII-58: TCP connecting asserts on Win32

 src/tcp_connecter.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b86483acbe109566f4e0fb43266fdd98e7648d55
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 4 14:50:59 2010 +0100

    ZMQII-50: Document Ruby Bindings

 man/Makefile.am     |    2 +-
 man/convert2html.sh |    1 -
 man/convert2pdf.sh  |    2 --
 man/man7/zmq_ruby.7 |    9 ---------
 4 files changed, 1 insertion(+), 13 deletions(-)

commit bc90231227a84f4b7dffe432a8efa70b75c19031
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Thu Feb 4 09:39:57 2010 +0100

    contrain interface name resolving in OpenPGM to IPv4 interfaces

 src/pgm_socket.cpp |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0f697fe2b460dfbec7481f6d535b95f6b4cc2eac
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 3 20:04:44 2010 +0100

    ZMQII-56: Avoid allocation of chunk in yqueue.hpp by keeping a spare one

 AUTHORS        |    1 +
 src/yqueue.hpp |   31 ++++++++++++++++++++++++++-----
 2 files changed, 27 insertions(+), 5 deletions(-)

commit 72bbc92b70a67fab1dbba6fbd53f574944bdd8e4
Merge: 6502c16 4172fdd
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Feb 3 15:54:39 2010 +0100

    Merge branch 'master' of github.com:sustrik/zeromq2

commit 6502c16a7fd878e61f0672a47e2cdb4d56ab0eb2
Author: Martin Lucina <mato@kotelna.sk>
Date:   Wed Feb 3 15:52:11 2010 +0100

    Update OpenPGM to 2.0.23rc8

 configure.in                             |   10 +++++-----
 foreign/openpgm/libpgm-2.0.21rc6.tar.bz2 |  Bin 323697 -> 0 bytes
 foreign/openpgm/libpgm-2.0.23rc8.tar.bz2 |  Bin 0 -> 321822 bytes
 src/Makefile.am                          |    3 ++-
 4 files changed, 7 insertions(+), 6 deletions(-)

commit 4172fdd6970d4b42443442bf6633f9a9bd4c6f2b
Author: unknown <bundra@.(none)>
Date:   Wed Feb 3 14:55:46 2010 +0100

    Win32 build fixed

 builds/msvc/libzmq/libzmq.vcproj |    8 +++++
 builds/msvc/msvc.sln             |    9 +++++
 builds/msvc/ruby/ruby.vcproj     |   68 ++++++++++++++++++++++++++++++++++++++
 3 files changed, 85 insertions(+)

commit 7c25feb51bdbc9563cc65ff4829f761ef7231483
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Wed Feb 3 13:06:34 2010 +0100

    ZMQII-55: At most one PGM/UDP transport can be opened

 src/pgm_socket.cpp |   38 ++++++++++++++++++++------------------
 1 file changed, 20 insertions(+), 18 deletions(-)

commit 9cee8f9c3e22f1e880988271ab1c31c92827efde
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 2 15:11:25 2010 +0100

    problem with PGM messages larger than 1 MTU fixed

 src/pgm_receiver.cpp |  104 ++++++++++++++++++++++++++------------------------
 1 file changed, 54 insertions(+), 50 deletions(-)

commit 27e47bdcc0358b84a57378e19359556e2dbcb50e
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 2 13:29:31 2010 +0100

    ZMQII-54: Affinity isn't honoured

 src/dispatcher.cpp |   15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit 5d16070ffcd426e81ea27520f6847d68e5e5af80
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 2 08:46:35 2010 +0100

    ZMQII-53: Memory leak when using invalid socket type

 src/dispatcher.cpp |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit a1e70f29575994798df1d57314193782f6d9cdcb
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 2 08:27:38 2010 +0100

    ZMQII-52: Asserion during reconnection

 src/zmq_init.cpp |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 528610ff55ef283b99cbcda007200a6b4092be59
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Tue Feb 2 08:14:23 2010 +0100

    typo in zmq_socket(3) man page fixed

 man/man3/zmq_socket.3 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 00b9a5dedeb47efd78aea59b579a4b5befba743a
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sun Jan 31 20:14:30 2010 +0100

    ZMQII-51: Implement O(1) topic matching

 src/Makefile.am     |    2 +
 src/prefix_tree.cpp |  175 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/prefix_tree.hpp |   55 ++++++++++++++++
 src/sub.cpp         |   44 ++-----------
 src/sub.hpp         |   13 ++--
 5 files changed, 242 insertions(+), 47 deletions(-)

commit 70ea8e9d4b88a1ecb1c076eccc2e9bd872c2230c
Author: Martin Sustrik <sustrik@250bpm.com>
Date:   Sat Jan 30 13:40:50 2010 +0100

    ZMQII-48: Implement P2P socket type

 src/p2p.cpp |   56 ++++++++++++++++++++++++++++++++++++++++++++------------
 src/p2p.hpp |    5 +++++
 2 files changed, 49 insertions(+), 12 deletions(-)

commit eb47c1b064ec2f433d3889b7fd4a297a965166bb
Merge: 2784f90 4d5e643
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 29 08:39:36 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 2784f90d595a253e071244d440f78e667f6a957c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 29 08:39:19 2010 +0100

    moving debian directory to the root of the project

 debian/README.Debian                     |    6 ++
 debian/changelog                         |    6 ++
 debian/cl-zeromq.files                   |    7 ++
 debian/cl-zeromq.install                 |    6 ++
 debian/cl-zeromq.links                   |    1 +
 debian/compat                            |    1 +
 debian/control                           |  161 ++++++++++++++++++++++++++++++
 debian/copyright                         |   18 ++++
 debian/dirs                              |    5 +
 debian/docs                              |    2 +
 debian/libzeromq-dev.files               |   37 +++++++
 debian/libzeromq-dev.install             |   19 ++++
 debian/libzeromq-python.files            |    1 +
 debian/libzeromq-python.install          |    1 +
 debian/libzeromq-ruby.files              |    1 +
 debian/libzeromq-ruby.install            |    1 +
 debian/libzeromq0.files                  |    2 +
 debian/libzeromq0.install                |    1 +
 debian/rules                             |  136 +++++++++++++++++++++++++
 debian/shlibs.local                      |    1 +
 debian/zeromq-examples.files             |    2 +
 debian/zeromq-examples.install           |    2 +
 debian/zeromq-perf.files                 |   10 ++
 debian/zeromq-perf.install               |   10 ++
 debian/zeromq-utils.files                |    6 ++
 debian/zeromq-utils.install              |    6 ++
 packages/debian/README.Debian            |    6 --
 packages/debian/changelog                |    6 --
 packages/debian/cl-zeromq.files          |    7 --
 packages/debian/cl-zeromq.install        |    6 --
 packages/debian/cl-zeromq.links          |    1 -
 packages/debian/compat                   |    1 -
 packages/debian/control                  |  161 ------------------------------
 packages/debian/copyright                |   18 ----
 packages/debian/dirs                     |    5 -
 packages/debian/docs                     |    2 -
 packages/debian/libzeromq-dev.files      |   37 -------
 packages/debian/libzeromq-dev.install    |   19 ----
 packages/debian/libzeromq-python.files   |    1 -
 packages/debian/libzeromq-python.install |    1 -
 packages/debian/libzeromq-ruby.files     |    1 -
 packages/debian/libzeromq-ruby.install   |    1 -
 packages/debian/libzeromq0.files         |    2 -
 packages/debian/libzeromq0.install       |    1 -
 packages/debian/rules                    |  136 -------------------------
 packages/debian/shlibs.local             |    1 -
 packages/debian/zeromq-examples.files    |    2 -
 packages/debian/zeromq-examples.install  |    2 -
 packages/debian/zeromq-perf.files        |   10 --
 packages/debian/zeromq-perf.install      |   10 --
 packages/debian/zeromq-utils.files       |    6 --
 packages/debian/zeromq-utils.install     |    6 --
 52 files changed, 449 insertions(+), 449 deletions(-)

commit 4d5e643299e22b53120173319490957b98c0199e
Author: malosek <malosek@fastmq.com>
Date:   Thu Jan 28 19:19:25 2010 +0100

    patching libtool script moved at the end of configure

 configure.in |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 849095a042b8326f5789baa04d1dbb7ca36d4632
Merge: f17f0fa e5ff617
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 28 12:45:37 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit f17f0fa67bc5a373f3fc7964aaad4f08aa1dc761
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 28 12:45:12 2010 +0100

    CL binding ripped out of the tree

 .gitignore                  |    3 +
 bindings/Makefile.am        |    8 +-
 bindings/cl/Makefile.am     |    9 --
 bindings/cl/meta.lisp       |   59 ----------
 bindings/cl/package.lisp    |  108 -------------------
 bindings/cl/zeromq-api.lisp |  180 -------------------------------
 bindings/cl/zeromq.asd      |   38 -------
 bindings/cl/zeromq.lisp     |  250 -------------------------------------------
 configure.in                |   21 ----
 perf/Makefile.am            |    2 +-
 perf/cl/Makefile.am         |    2 -
 perf/cl/lat-parms.lisp      |   22 ----
 perf/cl/local-lat-poll.lisp |   43 --------
 perf/cl/local-lat.lisp      |   52 ---------
 perf/cl/local-thr.lisp      |   54 ----------
 perf/cl/remote-lat.lisp     |   50 ---------
 perf/cl/remote-thr.lisp     |   41 -------
 perf/cl/thr-parms.lisp      |   25 -----
 18 files changed, 6 insertions(+), 961 deletions(-)

commit e5ff617c4e061d29c9a019efa2292fd09c87a71e
Author: malosek <malosek@fastmq.com>
Date:   Wed Jan 27 20:58:40 2010 +0100

    fixed OpenPGM compilation on mingw32

 src/windows.hpp |    4 ++++
 1 file changed, 4 insertions(+)

commit 8f57ff4634ae44cd998bc0b864a8987f241e2fce
Author: malosek <malosek@fastmq.com>
Date:   Wed Jan 27 20:45:43 2010 +0100

    fixed OpenPGM compilation on mingw32

 perf/c/Makefile.am |    1 +
 src/Makefile.am    |    1 +
 2 files changed, 2 insertions(+)

commit 2056c888d2567ab96c3539fd60bfb652e19df335
Author: malosek <malosek@fastmq.com>
Date:   Wed Jan 27 18:29:45 2010 +0100

    changed version of the master branch back to dev

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b97e7a4f23f7add763ac6e0fc945c9a342a7d32
Author: malosek <malosek@fastmq.com>
Date:   Wed Jan 27 11:30:22 2010 +0100

    libpgm updated to 2.6.21rc6

 configure.in                             |   12 ++++++------
 foreign/openpgm/libpgm-2.0.20rc5.tar.bz2 |  Bin 316958 -> 0 bytes
 foreign/openpgm/libpgm-2.0.21rc6.tar.bz2 |  Bin 0 -> 323697 bytes
 perf/c/Makefile.am                       |    6 ++++++
 src/Makefile.am                          |   13 +++++++++++--
 src/pgm_socket.cpp                       |   25 +++++++++++++++++++------
 6 files changed, 42 insertions(+), 14 deletions(-)

commit 943125bd12dbf181f4dfce7babddf1af7bcb7e18
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 27 08:47:01 2010 +0100

    Hard-wired constant on OpenVMS replaced by symbolic constant

 src/fd_signaler.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit aa27034db5d47f4630f464da53f63a0e62c34daa
Author: unknown <bundra@.(none)>
Date:   Sun Jan 24 08:38:18 2010 +0100

    IPv6 patch - part V. (win32)

 src/ip.cpp |   21 +++------------------
 1 file changed, 3 insertions(+), 18 deletions(-)

commit adc5d7693d9279134c0494210b9d2b885e95d950
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Jan 24 08:19:02 2010 +0100

    IPv6 patch - part IV.

 src/ip.cpp |   41 ++++++++++++++++++++++++++++++++++-------
 1 file changed, 34 insertions(+), 7 deletions(-)

commit fca9a2159a1fb963901d11dc6f734a622baa92d6
Merge: 079d327 454f43a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Jan 23 11:14:53 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 079d327670d9137d93f4dbe9eb6cfa6d4165b903
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Jan 23 11:14:30 2010 +0100

    IPv6 patch - part III.

 src/ip.cpp |   42 ++++++++++++++++++++++++------------------
 1 file changed, 24 insertions(+), 18 deletions(-)

commit 454f43a45b2d453b53984387e8a8a50cad568f41
Author: unknown <bundra@.(none)>
Date:   Sat Jan 23 09:08:31 2010 +0100

    IP address resolving on Win32 fixed

 src/ip.cpp |   20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit df4548aa76617314cb1a47e6d408cc663640cd70
Merge: 2634934 d762e1a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Jan 23 08:20:01 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 2634934999408124837afceaf577b75ed58116d7
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Jan 23 08:19:30 2010 +0100

    IPv6 patch part 2/2

 src/ip.cpp            |   26 +++++++++++++++++++-------
 src/ip.hpp            |   11 +++++++----
 src/tcp_connecter.cpp |   17 ++++++++++-------
 src/tcp_connecter.hpp |    1 +
 src/tcp_listener.cpp  |   11 ++++++-----
 src/tcp_listener.hpp  |    1 +
 6 files changed, 44 insertions(+), 23 deletions(-)

commit 6aaf095dd259dc42d78cc7bd8c5a7f867eb23166
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 22 16:32:48 2010 +0100

    IPv6 support -part II.

 src/ip.cpp |  158 +++++++++++++++++++++++-------------------------------------
 1 file changed, 60 insertions(+), 98 deletions(-)

commit d762e1a9c976680dde2d2f38dac9f5861bd82dad
Author: unknown <bundra@.(none)>
Date:   Fri Jan 22 13:29:46 2010 +0100

    Win32 build fixed

 bindings/cpp/zmq.hpp |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 34d65e22c557671c74d6c51026b2434912966319
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 22 13:13:52 2010 +0100

    Tero Marttila's Ipv6 patch - part I.

 src/fd_signaler.cpp   |    1 -
 src/ip.cpp            |   24 ++++++++++++++----------
 src/ip.hpp            |    6 +++---
 src/tcp_connecter.cpp |   17 +++++++++--------
 src/tcp_connecter.hpp |    2 +-
 src/tcp_listener.cpp  |   16 ++++++++--------
 6 files changed, 35 insertions(+), 31 deletions(-)

commit 6edec4fe93c60693a5faee7e4e8821eac4f43d4d
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 22 11:38:17 2010 +0100

    zmq_udp(7) man page fixed

 man/man7/zmq_udp.7 |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 70601c243fa7e91f5cceaa80190d7b413940020b
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 22 11:21:28 2010 +0100

    zmq_pgm(7) man page fixed

 man/man7/zmq_pgm.7 |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d1e09578b275aca93c50cde078322a0348342c60
Author: unknown <bundra@.(none)>
Date:   Fri Jan 22 07:54:16 2010 +0100

    Hardcoded loopback address removed from fd_signaler

 AUTHORS             |    1 +
 src/fd_signaler.cpp |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit f4832faf29df6470bf59f1f1866c07fa4278a75b
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 21 16:30:42 2010 +0100

    small fix to man pages to comply with lintian

 man/Makefile.am       |    2 +-
 man/convert2html.sh   |    1 +
 man/convert2pdf.sh    |    2 ++
 man/man7/zmq_cl.7     |    2 +-
 man/man7/zmq_cpp.7    |    2 +-
 man/man7/zmq_inproc.7 |    2 +-
 man/man7/zmq_ipc.7    |    2 +-
 man/man7/zmq_java.7   |    9 +++++++++
 man/man7/zmq_pgm.7    |    2 +-
 man/man7/zmq_python.7 |    2 +-
 man/man7/zmq_ruby.7   |    2 +-
 man/man7/zmq_tcp.7    |    2 +-
 man/man7/zmq_udp.7    |    2 +-
 13 files changed, 22 insertions(+), 10 deletions(-)

commit b1b66df37c0b05ba05d9636234bad0cc02a1bd03
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 21 12:07:42 2010 +0100

    PGM man page improved

 man/man7/zmq_pgm.7 |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 66ef22993f22a0d47703c1203f57d95c4316bc70
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 21 10:38:40 2010 +0100

    zmq_close man page improved

 man/man3/zmq_close.3 |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit a008af6088ef1ad3baf1b9e6ae699cc07367efa3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 21 10:01:05 2010 +0100

    Asko Kauppi added to the list of authors

 AUTHORS |    1 +
 1 file changed, 1 insertion(+)

commit f0757c003eb232247a460631276b40e4fc02f3c9
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 21 09:58:49 2010 +0100

    ZMQII-43: Race condition when writing to pipe

 src/session.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6a46ca75e5970733cfe135ecf77074b69fdda34f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 20 09:22:41 2010 +0100

    ZMQ-42: Building with ICC fails

 src/tcp_connecter.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 111f0ff078372e8a0f5c0b98170d451d6561e85e
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 20 09:19:03 2010 +0100

    ZMQII-41: Poll function in C++ binding doesn't convert errors to exceptions

 bindings/cpp/zmq.hpp |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 6b0457fcaad3fa9a2e632b3799119c40da8dd6ca
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Jan 19 12:48:38 2010 +0100

    minor documentation patch

 man/man3/zmq_setsockopt.3 |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 7094edd6baf0d69c3879da7f16c7222388952931
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Jan 18 15:57:33 2010 +0100

    error handling in C perf tests improved

 perf/c/local_lat.c  |   51 ++++++++++++++++++++++++++++++++----------
 perf/c/local_thr.c  |   61 ++++++++++++++++++++++++++++++++++++++++-----------
 perf/c/remote_lat.c |   51 ++++++++++++++++++++++++++++++++----------
 perf/c/remote_thr.c |   41 ++++++++++++++++++++++++++--------
 4 files changed, 160 insertions(+), 44 deletions(-)

commit 4ceb83935062bb84fd5da702679a126d12aed8be
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Jan 18 13:16:14 2010 +0100

    typos in man pages fixed

 .gitignore             |   13 +++++++++++++
 man/man3/zmq_bind.3    |    2 +-
 man/man3/zmq_connect.3 |    2 +-
 man/man3/zmq_recv.3    |    2 +-
 man/man3/zmq_send.3    |    2 +-
 man/man3/zmq_socket.3  |    8 ++++----
 man/man7/zmq.7         |    4 ++--
 man/man7/zmq_cpp.7     |    2 +-
 man/man7/zmq_inproc.7  |    2 +-
 man/man7/zmq_ipc.7     |    8 ++++----
 man/man7/zmq_pgm.7     |   10 +++++-----
 man/man7/zmq_tcp.7     |    4 ++--
 man/man7/zmq_udp.7     |   12 ++++++------
 13 files changed, 42 insertions(+), 29 deletions(-)

commit bddff50271b7c4c15c34d7a0aa1c04f3e3e3c107
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Jan 18 11:01:41 2010 +0100

    ZMQII-40: wrong return code from recolve_ip_interface

 src/ip.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 55944729ed5527692b1ead17af553aa32c316781
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Jan 18 10:53:46 2010 +0100

    ChangeLog modified for 2.0-beta2 version

 ChangeLog |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit f40e3a6931fb6463c349ef765d99515edc569fd7
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Jan 17 17:49:34 2010 +0100

    version number bumped

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51e012c446b500fe3dfb46b6475ebf018ecfeaa0
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Jan 16 09:39:44 2010 +0100

    Solaris build fixed

 AUTHORS               |    1 +
 src/ip.cpp            |    2 +-
 src/tcp_connecter.cpp |    6 ++++--
 src/tcp_listener.cpp  |    7 +++----
 4 files changed, 9 insertions(+), 7 deletions(-)

commit a507d16e13fdd6b13e1e69d0d305750995513a1f
Author: unknown <bundra@.(none)>
Date:   Fri Jan 15 14:21:20 2010 +0100

    Win32 build fixed

 src/tcp_connecter.cpp |    2 ++
 src/tcp_listener.cpp  |    4 +++-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 2bb57ac57ace37203c505ff17147210feca34d73
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 15 14:11:39 2010 +0100

    ZMQII-39: Implement IPC transport

 man/Makefile.am       |    2 +-
 man/convert2html.sh   |    1 +
 man/convert2pdf.sh    |    2 +
 man/man7/zmq.7        |    3 +
 man/man7/zmq_inproc.7 |    3 +-
 man/man7/zmq_ipc.7    |   34 ++++++++++
 man/man7/zmq_pgm.7    |    1 +
 man/man7/zmq_tcp.7    |    1 +
 man/man7/zmq_udp.7    |    1 +
 src/ip.cpp            |   17 +++++
 src/ip.hpp            |    9 +++
 src/socket_base.cpp   |   23 +++++--
 src/tcp_connecter.cpp |  117 +++++++++++++++++++++++-----------
 src/tcp_connecter.hpp |    4 +-
 src/tcp_listener.cpp  |  166 ++++++++++++++++++++++++++++++++++---------------
 src/tcp_listener.hpp  |   10 ++-
 src/zmq_connecter.cpp |   10 +--
 src/zmq_connecter.hpp |    7 ++-
 src/zmq_engine.cpp    |    9 ++-
 src/zmq_engine.hpp    |    6 +-
 src/zmq_init.cpp      |    4 +-
 src/zmq_init.hpp      |    3 +-
 src/zmq_listener.cpp  |    6 +-
 src/zmq_listener.hpp  |    4 +-
 24 files changed, 323 insertions(+), 120 deletions(-)

commit 56c369272c279224562d11b0a66590ac7826f4f3
Merge: b9b0124 b60342a
Author: unknown <bundra@.(none)>
Date:   Thu Jan 14 15:50:54 2010 +0100

    Merge branch 'master' of github.com:sustrik/zeromq2

commit b9b0124d553b30932d8b78fb774ae258fa0d0f4d
Author: unknown <bundra@.(none)>
Date:   Thu Jan 14 15:50:12 2010 +0100

    ZMQII-34: ensure that poll won't return POLLIN event when the message will be filtered out anyway (Win32)

 src/zmq.cpp |   54 +++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 37 insertions(+), 17 deletions(-)

commit b60342ae1a95dbb303705f5b89a94b33805a3841
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 14 14:11:34 2010 +0100

    man pages are more specific on NIC name issue

 man/man3/zmq_bind.3    |   12 ++++++++----
 man/man3/zmq_connect.3 |   12 ++++++++----
 man/man7/zmq_pgm.7     |    5 +++++
 man/man7/zmq_tcp.7     |    5 +++++
 man/man7/zmq_udp.7     |    5 +++++
 5 files changed, 31 insertions(+), 8 deletions(-)

commit 067ba3b9f77a253d4ce58e05ef1fa7702c32b2a3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 13 19:21:23 2010 +0100

    ZMQII-34: ensure that poll won't return POLLIN event when the message will be filtered out anyway (POSIX)

 src/socket_base.cpp |    4 +--
 src/sub.cpp         |   92 +++++++++++++++++++++++++++++++++++++--------------
 src/sub.hpp         |   10 ++++++
 src/zmq.cpp         |   50 ++++++++++++++++++----------
 4 files changed, 110 insertions(+), 46 deletions(-)

commit 06105d164230800e8ea42ddd513e2f7fb27e6f2f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 13 15:15:01 2010 +0100

    transports man pages updated

 man/man7/zmq_inproc.7 |   34 +++++++++++++++++++++-
 man/man7/zmq_pgm.7    |   77 ++++++++++++++++++++++++++++++++++++++++++++++++-
 man/man7/zmq_tcp.7    |    5 ++++
 man/man7/zmq_udp.7    |   32 +++++++++++++++++++-
 4 files changed, 145 insertions(+), 3 deletions(-)

commit 30a107e06d48ebbc7a635ba4fb21a24e385cf4e4
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 13 13:35:13 2010 +0100

    timeout parameter for zmq_poll added in cl binding

 bindings/cl/zeromq-api.lisp |   12 +++++++-----
 bindings/cl/zeromq.lisp     |    3 ++-
 2 files changed, 9 insertions(+), 6 deletions(-)

commit 20a8edcf5c2d9d5099d194e5a87c501d49c47328
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 13 13:24:29 2010 +0100

    ZMQII-38: Compiler complains about missing virtual constructors

 src/i_endpoint.hpp |    2 ++
 src/i_inout.hpp    |    2 ++
 2 files changed, 4 insertions(+)

commit 76dbb4f3bb88f73bc40e3de72e258e321375cd2f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Jan 12 13:08:37 2010 +0100

    zmq_tcp man page added

 man/man7/zmq_tcp.7 |   62 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 61 insertions(+), 1 deletion(-)

commit bcd278a5a5fa9c08af6786c6f3c1ec5fa974fadf
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Jan 12 08:14:55 2010 +0100

    ZMQII-37: SIGSEGV when polling on REQ socket

 src/req.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c613b39faebe18af95cab07a7d5f687285c4655
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Jan 12 08:02:03 2010 +0100

    script to convert man pages to html added

 man/convert2html.sh |   54 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 72b2f07a707724b353e9733f60cb4bade9b43966
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Jan 11 07:47:19 2010 +0100

    ZMQII-36: Chat example & forwarder broken because of changes subscribe semantics

 devices/zmq_forwarder/zmq_forwarder.cpp |    2 +-
 examples/chat/display.cpp               |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 65f450f22e311d9a9251d05f8fb902a8fa2afe54
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Jan 10 17:41:59 2010 +0100

    minor man page fix

 man/man3/zmq_connect.3 |    2 --
 1 file changed, 2 deletions(-)

commit bd07baf0281ddb5f332bd03b06038fc0ac048285
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Jan 9 22:24:59 2010 +0100

    ZMQII-33: zmq_poll may exceed timeout if signal interrupts the waiting

 src/zmq.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e806615dd18e625b0b7fb1074cc4da5fda18529b
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Jan 8 15:44:51 2010 +0100

    ZMQII-31: memory leak in zmq_poll (on timeout)

 AUTHORS     |    1 +
 src/zmq.cpp |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 9fc8827b8a8e9d842b85b7f7f9790fc0a2ef88f6
Merge: ddf5f75 e9a4ad3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 7 14:45:13 2010 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit ddf5f75549f01a0615ee3f49b6b5d53aefd8fbd2
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jan 7 14:44:43 2010 +0100

    zmq.cpp build probelm on non-linux platforms fixed

 man/man3/zmq_setsockopt.3 |   10 ++++------
 src/zmq.cpp               |    5 ++++-
 2 files changed, 8 insertions(+), 7 deletions(-)

commit e9a4ad38ce04ee21a7f81d5a36e3c58cf7138f5d
Author: malosek <malosek@fastmq.com>
Date:   Wed Jan 6 20:10:27 2010 +0100

    updated version to 2.0-beta1 in configure.in

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7546526e667b35c05c80515d651e950a771813e1
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jan 6 19:42:15 2010 +0100

    ChangeLog updated for 2.0-beta1

 ChangeLog |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit e21b33e9cfe12725de23bf2ef44967f53bcb2a10
Author: malosek <malosek@fastmq.com>
Date:   Tue Jan 5 18:34:27 2010 +0100

    forced WINVER to 0x0501 for mingv32 build

 src/windows.hpp |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit ef049efe2ec56bb0ff5395ba8cba6e1722922e43
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Jan 5 14:45:10 2010 +0100

    perf tests modified to reflect change in subscription format

 perf/c/local_thr.c       |    2 +-
 perf/cl/local-thr.lisp   |    2 +-
 perf/cpp/local_thr.cpp   |    2 +-
 perf/java/local_thr.java |    2 +-
 perf/python/local_thr.py |    2 +-
 perf/ruby/local_thr.rb   |    2 +-
 src/zmq_engine.cpp       |    8 +++++---
 7 files changed, 11 insertions(+), 9 deletions(-)

commit 8d339e959694107df8f1666634a34f54ad76ae41
Author: malosek <malosek@fastmq.com>
Date:   Tue Jan 5 13:46:35 2010 +0100

    Fixed newer autotools warningng about AC_CONFIG_MACRO_DIR

 Makefile.am  |    2 ++
 configure.in |    1 +
 2 files changed, 3 insertions(+)

commit 11fec367d1a13c3f0248f8542eb805b8d9571685
Author: malosek <malosek@fastmq.com>
Date:   Tue Jan 5 11:22:14 2010 +0100

    added pending event fd handling by the pgm_sender

 src/pgm_sender.cpp |    9 ++++++++-
 src/pgm_sender.hpp |    1 +
 src/pgm_socket.cpp |   10 +++++++---
 src/pgm_socket.hpp |    2 +-
 4 files changed, 17 insertions(+), 5 deletions(-)

commit 472ddf8de2c93f750831d52b5473cdbed1db51e8
Merge: d10c605 4f6baf4
Author: malosek <malosek@fastmq.com>
Date:   Tue Jan 5 11:05:03 2010 +0100

    fixed failed merge with autogen.sh

commit d10c605fa94a8fe8265785043aeef63983e07f3f
Author: malosek <malosek@fastmq.com>
Date:   Tue Jan 5 10:51:54 2010 +0100

    updated to libpgm-2.0.20rc5

 configure.in                             |   10 +++++-----
 foreign/openpgm/libpgm-2.0.19rc4.tar.bz2 |  Bin 317223 -> 0 bytes
 foreign/openpgm/libpgm-2.0.20rc5.tar.bz2 |  Bin 0 -> 316958 bytes
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 4f6baf4dde627656b63cc4e2acdb78a8577ba640
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Jan 5 08:29:35 2010 +0100

    Copyrights transferred from FastMQ to iMatix

 autogen.sh                              |    7 +------
 bindings/c/zmq.h                        |    2 +-
 bindings/cpp/zmq.hpp                    |    2 +-
 bindings/java/Context.cpp               |    2 +-
 bindings/java/Socket.cpp                |    2 +-
 bindings/java/org/zmq/Context.java      |    2 +-
 bindings/java/org/zmq/Socket.java       |    2 +-
 bindings/python/pyzmq.cpp               |    2 +-
 bindings/ruby/extconf.rb                |    2 +-
 bindings/ruby/rbzmq.cpp                 |    2 +-
 builds/msvc/platform.hpp                |    2 +-
 devices/zmq_forwarder/zmq_forwarder.cpp |    2 +-
 devices/zmq_queue/zmq_queue.cpp         |    2 +-
 devices/zmq_streamer/zmq_streamer.cpp   |    2 +-
 examples/chat/display.cpp               |    2 +-
 examples/chat/prompt.cpp                |    2 +-
 man/convert2pdf.sh                      |    2 +-
 man/man1/zmq_forwarder.1                |    2 +-
 man/man1/zmq_queue.1                    |    2 +-
 man/man1/zmq_streamer.1                 |    2 +-
 man/man3/zmq_bind.3                     |    2 +-
 man/man3/zmq_close.3                    |    2 +-
 man/man3/zmq_connect.3                  |    2 +-
 man/man3/zmq_flush.3                    |    2 +-
 man/man3/zmq_init.3                     |    2 +-
 man/man3/zmq_msg_close.3                |    2 +-
 man/man3/zmq_msg_copy.3                 |    2 +-
 man/man3/zmq_msg_data.3                 |    2 +-
 man/man3/zmq_msg_init.3                 |    2 +-
 man/man3/zmq_msg_init_data.3            |    2 +-
 man/man3/zmq_msg_init_size.3            |    2 +-
 man/man3/zmq_msg_move.3                 |    2 +-
 man/man3/zmq_msg_size.3                 |    2 +-
 man/man3/zmq_poll.3                     |    2 +-
 man/man3/zmq_recv.3                     |    2 +-
 man/man3/zmq_send.3                     |    2 +-
 man/man3/zmq_setsockopt.3               |    2 +-
 man/man3/zmq_socket.3                   |    2 +-
 man/man3/zmq_strerror.3                 |    2 +-
 man/man3/zmq_term.3                     |    2 +-
 man/man7/zmq.7                          |    2 +-
 man/man7/zmq_cl.7                       |    2 +-
 man/man7/zmq_cpp.7                      |    2 +-
 man/man7/zmq_inproc.7                   |    2 +-
 man/man7/zmq_pgm.7                      |    2 +-
 man/man7/zmq_python.7                   |    2 +-
 man/man7/zmq_ruby.7                     |    2 +-
 man/man7/zmq_tcp.7                      |    2 +-
 man/man7/zmq_udp.7                      |    2 +-
 packages/debian/copyright               |    2 +-
 perf/c/local_lat.c                      |    2 +-
 perf/c/local_thr.c                      |    2 +-
 perf/c/remote_lat.c                     |    2 +-
 perf/c/remote_thr.c                     |    2 +-
 perf/cpp/local_lat.cpp                  |    2 +-
 perf/cpp/local_thr.cpp                  |    2 +-
 perf/cpp/remote_lat.cpp                 |    2 +-
 perf/cpp/remote_thr.cpp                 |    2 +-
 perf/java/local_lat.java                |    2 +-
 perf/java/local_thr.java                |    2 +-
 perf/java/remote_lat.java               |    2 +-
 perf/java/remote_thr.java               |    2 +-
 perf/python/local_lat.py                |    2 +-
 perf/python/local_thr.py                |    2 +-
 perf/python/remote_lat.py               |    2 +-
 perf/python/remote_thr.py               |    2 +-
 perf/ruby/local_lat.rb                  |    2 +-
 perf/ruby/local_thr.rb                  |    2 +-
 perf/ruby/remote_lat.rb                 |    2 +-
 perf/ruby/remote_thr.rb                 |    2 +-
 src/app_thread.cpp                      |    2 +-
 src/app_thread.hpp                      |    2 +-
 src/atomic_bitmap.hpp                   |    2 +-
 src/atomic_counter.hpp                  |    2 +-
 src/atomic_ptr.hpp                      |    2 +-
 src/command.hpp                         |    2 +-
 src/config.hpp                          |    2 +-
 src/decoder.hpp                         |    2 +-
 src/devpoll.cpp                         |    2 +-
 src/devpoll.hpp                         |    2 +-
 src/dispatcher.cpp                      |    2 +-
 src/dispatcher.hpp                      |    2 +-
 src/downstream.cpp                      |    2 +-
 src/downstream.hpp                      |    2 +-
 src/encoder.hpp                         |    2 +-
 src/epoll.cpp                           |    2 +-
 src/epoll.hpp                           |    2 +-
 src/err.cpp                             |    2 +-
 src/err.hpp                             |    2 +-
 src/fd.hpp                              |    2 +-
 src/fd_signaler.cpp                     |    2 +-
 src/fd_signaler.hpp                     |    2 +-
 src/fq.cpp                              |    2 +-
 src/fq.hpp                              |    2 +-
 src/i_endpoint.hpp                      |    2 +-
 src/i_engine.hpp                        |    2 +-
 src/i_inout.hpp                         |    2 +-
 src/i_poll_events.hpp                   |    2 +-
 src/i_signaler.hpp                      |    2 +-
 src/io_object.cpp                       |    2 +-
 src/io_object.hpp                       |    2 +-
 src/io_thread.cpp                       |    2 +-
 src/io_thread.hpp                       |    2 +-
 src/ip.cpp                              |    2 +-
 src/ip.hpp                              |    2 +-
 src/kqueue.cpp                          |    2 +-
 src/kqueue.hpp                          |    2 +-
 src/lb.cpp                              |    2 +-
 src/lb.hpp                              |    2 +-
 src/likely.hpp                          |    2 +-
 src/msg_content.hpp                     |    2 +-
 src/mutex.hpp                           |    2 +-
 src/object.cpp                          |    2 +-
 src/object.hpp                          |    2 +-
 src/options.cpp                         |    2 +-
 src/options.hpp                         |    2 +-
 src/owned.cpp                           |    2 +-
 src/owned.hpp                           |    2 +-
 src/p2p.cpp                             |    2 +-
 src/p2p.hpp                             |    2 +-
 src/pgm_receiver.cpp                    |    2 +-
 src/pgm_receiver.hpp                    |    2 +-
 src/pgm_sender.cpp                      |    2 +-
 src/pgm_sender.hpp                      |    2 +-
 src/pgm_socket.cpp                      |    2 +-
 src/pgm_socket.hpp                      |    2 +-
 src/pipe.cpp                            |    2 +-
 src/pipe.hpp                            |    2 +-
 src/poll.cpp                            |    2 +-
 src/poll.hpp                            |    2 +-
 src/poller.hpp                          |    2 +-
 src/pub.cpp                             |    2 +-
 src/pub.hpp                             |    2 +-
 src/rep.cpp                             |    2 +-
 src/rep.hpp                             |    2 +-
 src/req.cpp                             |    2 +-
 src/req.hpp                             |    2 +-
 src/select.cpp                          |    2 +-
 src/select.hpp                          |    2 +-
 src/session.cpp                         |    2 +-
 src/session.hpp                         |    2 +-
 src/simple_semaphore.hpp                |    2 +-
 src/socket_base.cpp                     |    2 +-
 src/socket_base.hpp                     |    2 +-
 src/stdint.hpp                          |    2 +-
 src/sub.cpp                             |    2 +-
 src/sub.hpp                             |    2 +-
 src/tcp_connecter.cpp                   |    2 +-
 src/tcp_connecter.hpp                   |    2 +-
 src/tcp_listener.cpp                    |    2 +-
 src/tcp_listener.hpp                    |    2 +-
 src/tcp_socket.cpp                      |    2 +-
 src/tcp_socket.hpp                      |    2 +-
 src/thread.cpp                          |    2 +-
 src/thread.hpp                          |    2 +-
 src/upstream.cpp                        |    2 +-
 src/upstream.hpp                        |    2 +-
 src/uuid.cpp                            |    2 +-
 src/uuid.hpp                            |    2 +-
 src/windows.hpp                         |    2 +-
 src/wire.hpp                            |    2 +-
 src/xrep.cpp                            |    2 +-
 src/xrep.hpp                            |    2 +-
 src/xreq.cpp                            |    2 +-
 src/xreq.hpp                            |    2 +-
 src/yarray.hpp                          |    2 +-
 src/yarray_item.hpp                     |    2 +-
 src/ypipe.hpp                           |    2 +-
 src/ypollset.cpp                        |    2 +-
 src/ypollset.hpp                        |    2 +-
 src/yqueue.hpp                          |    2 +-
 src/zmq.cpp                             |    2 +-
 src/zmq_connecter.cpp                   |    2 +-
 src/zmq_connecter.hpp                   |    2 +-
 src/zmq_decoder.cpp                     |    2 +-
 src/zmq_decoder.hpp                     |    2 +-
 src/zmq_encoder.cpp                     |    2 +-
 src/zmq_encoder.hpp                     |    2 +-
 src/zmq_engine.cpp                      |    2 +-
 src/zmq_engine.hpp                      |    2 +-
 src/zmq_init.cpp                        |    2 +-
 src/zmq_init.hpp                        |    2 +-
 src/zmq_listener.cpp                    |    2 +-
 src/zmq_listener.hpp                    |    2 +-
 184 files changed, 184 insertions(+), 189 deletions(-)

commit bf01727f4b5d2e12daa5e4289c556fb3b7ade3f3
Author: malosek <malosek@fastmq.com>
Date:   Mon Jan 4 16:04:40 2010 +0100

    updated to libpgm 2.0.19rc4

 configure.in                             |   10 +++++-----
 foreign/openpgm/libpgm-2.0.18rc3.tar.bz2 |  Bin 315989 -> 0 bytes
 foreign/openpgm/libpgm-2.0.19rc4.tar.bz2 |  Bin 0 -> 317223 bytes
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 1528edb963b2c9d292758f7704eeda336d358db2
Author: malosek <malosek@fastmq.com>
Date:   Mon Jan 4 16:03:49 2010 +0100

    fixed autogen.sh complaining about existing config dir

 autogen.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2b235db165e459f7f265993477dae0dc987125a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Jan 4 15:46:20 2010 +0100

    ZMQII-29: Add timeout to zmq_poll function

 bindings/c/zmq.h     |    2 +-
 bindings/cpp/zmq.hpp |    4 ++--
 man/man3/zmq_poll.3  |   10 ++++++++--
 src/zmq.cpp          |   23 ++++++++++++++++++-----
 4 files changed, 29 insertions(+), 10 deletions(-)

commit 7884f4541aa6f95b76e0b2429baaf11108c543a1
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Jan 4 15:13:04 2010 +0100

    problem with new version of autoreconf fixed

 autogen.sh |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 1b90e5f6f50ecb512b22f73850f763a9a009c483
Author: malosek <malosek@fastmq.com>
Date:   Thu Dec 31 16:53:00 2009 +0100

    added missing likely.hpp file into the dist

 src/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 9bda63cd6378682af3b685dbbe0c47cdc4455295
Author: malosek <malosek@fastmq.com>
Date:   Thu Dec 31 16:35:04 2009 +0100

    fixed minor gcc warning in src/pgm_receiver.cpp

 src/pgm_receiver.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 819590c04cb24f1627b140883e4106bb8a6f62eb
Author: malosek <malosek@fastmq.com>
Date:   Thu Dec 31 16:31:13 2009 +0100

    libpgm updated to 2.0.18rc3

 configure.in                             |   10 +++++-----
 foreign/openpgm/libpgm-2.0.17rc2.tar.bz2 |  Bin 315051 -> 0 bytes
 foreign/openpgm/libpgm-2.0.18rc3.tar.bz2 |  Bin 0 -> 315989 bytes
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 9fadf0b218b66e8448a2356f124dc1bb10f1f81d
Author: malosek <malosek@fastmq.com>
Date:   Thu Dec 31 16:18:45 2009 +0100

    fixed minor gcc warning in src/pgm_socket.cpp

 src/pgm_socket.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d6da7903d0fc42356adbf4c43e04774a1b465632
Author: malosek <malosek@fastmq.com>
Date:   Thu Dec 31 15:47:44 2009 +0100

    removed unused foreign/openpgm/create_custom_gsi_1.patch file

 Makefile.am                               |    1 -
 foreign/openpgm/create_custom_gsi_1.patch |   43 -----------------------------
 2 files changed, 44 deletions(-)

commit 7cb02fb3e7cbe614caefbb5d9ab34936fba2724f
Author: malosek <malosek@fastmq.com>
Date:   Thu Dec 31 15:44:42 2009 +0100

    fixed make dist for non pgm configuration

 configure.in |    3 +++
 1 file changed, 3 insertions(+)

commit 102077471c5863242b5e9a2e063e272edd5b48ea
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 29 16:50:28 2009 +0100

    error in zmq_poll manpage fixed

 man/man3/zmq_poll.3 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e9cebc86ed8eeff2cc5dde49807a4851b43d1232
Author: unknown <bundra@.(none)>
Date:   Tue Dec 29 16:42:56 2009 +0100

    EINPROGRESS definition added on Win32 platform

 bindings/c/zmq.h |    3 +++
 1 file changed, 3 insertions(+)

commit 23e5c3b342793ca871747b7d6681d445b34925bb
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 29 07:53:33 2009 +0100

    polling on SUB socket fixed

 src/sub.cpp |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 72161fb075025410312c6735d681c3de9a36a4e5
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 28 21:29:31 2009 +0100

    format of subscriptions changed (no * needed anymore)

 src/socket_base.cpp |   11 ++++---
 src/sub.cpp         |   90 +++++++++++++++++++++------------------------------
 src/sub.hpp         |    9 ++----
 src/zmq_engine.cpp  |    7 ++--
 4 files changed, 51 insertions(+), 66 deletions(-)

commit c97967ed4b70de700db38cc2661bbe43262bc029
Author: unknown <bundra@.(none)>
Date:   Mon Dec 28 16:20:21 2009 +0100

    MSVC build fixed

 builds/msvc/libzmq/libzmq.vcproj |   16 ++++------------
 src/zmq_init.cpp                 |    1 +
 2 files changed, 5 insertions(+), 12 deletions(-)

commit 5852db451a76905336601c5ba3e4f33006f007fb
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 28 11:51:06 2009 +0100

    PGM code cleanup

 src/pgm_receiver.cpp |  148 ++++++++++++++++-------------------------
 src/pgm_receiver.hpp |   13 ++--
 src/pgm_sender.cpp   |   94 ++++++++++----------------
 src/pgm_sender.hpp   |   16 +----
 src/pgm_socket.cpp   |  178 +++++++++++++++-----------------------------------
 src/pgm_socket.hpp   |   37 ++---------
 6 files changed, 159 insertions(+), 327 deletions(-)

commit aebff623f36efddc0de7a3192832b61802f8cec8
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 23 19:37:56 2009 +0100

    ZMQII-28: Bidirectional introduction on TCP connection establishment

 src/Makefile.am            |    8 +-
 src/i_inout.hpp            |    6 +-
 src/pgm_receiver.cpp       |    3 +-
 src/pgm_receiver.hpp       |    6 +-
 src/pgm_sender.cpp         |    3 +-
 src/pgm_sender.hpp         |    6 +-
 src/session.cpp            |   54 +++++++++---
 src/session.hpp            |   24 ++++--
 src/socket_base.cpp        |   83 +++++++++++++------
 src/socket_base.hpp        |   27 +++---
 src/zmq_connecter.cpp      |   15 ++--
 src/zmq_connecter.hpp      |    8 +-
 src/zmq_connecter_init.cpp |  132 ------------------------------
 src/zmq_connecter_init.hpp |   79 ------------------
 src/zmq_engine.cpp         |    2 +-
 src/zmq_init.cpp           |  195 ++++++++++++++++++++++++++++++++++++++++++++
 src/zmq_init.hpp           |   89 ++++++++++++++++++++
 src/zmq_listener.cpp       |    6 +-
 src/zmq_listener_init.cpp  |  137 -------------------------------
 src/zmq_listener_init.hpp  |   79 ------------------
 20 files changed, 445 insertions(+), 517 deletions(-)

commit b3bd4c15fe869de4f5c530ecc5942968677a85c3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 22 09:01:01 2009 +0100

    OpenPGM error handling fixed

 src/pgm_socket.cpp |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 7cf18a2aec8300099e3c3e236ac3cefa3be746d0
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 21 20:45:52 2009 +0100

    minor fixes

 src/app_thread.cpp |    4 ++--
 src/object.hpp     |    4 ----
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 5a0674dfeccf0d80dc92e77a8630be280c71fb84
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 21 18:50:24 2009 +0100

    OpenPGM error handling improved

 bindings/python/pyzmq.cpp |    2 +-
 src/pgm_socket.cpp        |   64 +++++++++++++++++++++++++++++++++++----------
 src/pgm_socket.hpp        |   12 ++++-----
 3 files changed, 57 insertions(+), 21 deletions(-)

commit 990a1e8686bdeb3472a27d00cb2436936a4d0d26
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 18 16:01:58 2009 +0100

    zmq_cl(7) man page added

 man/man7/zmq_cl.7 |  121 +++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 118 insertions(+), 3 deletions(-)

commit bad224251e97205abaf987e8e998bc14af32223c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 18 15:46:21 2009 +0100

    minor errors in zmq_cpp man page fixed

 man/man7/zmq_cpp.7 |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit d50c7daf9eafe36ca2df7210ff2e82487e85f842
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 18 14:34:57 2009 +0100

    hint parameter (zmq_free_fn) added to Lisp binding

 bindings/cl/zeromq.lisp |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 1924cba88985a36cb1422efd2fb287292b41eb44
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 18 14:33:22 2009 +0100

    memory management in Lisp binding fixed

 bindings/cl/zeromq-api.lisp |   59 ++++++++++++++++++++++++++++++-------------
 1 file changed, 41 insertions(+), 18 deletions(-)

commit 86d68cbcbd24e6dfe6dd1ed230c7806408b70668
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 18 14:19:28 2009 +0100

    memory leaks related to OpenPGM errors fixed

 src/pgm_socket.cpp |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 500d32a540d762d30a59e952a4f2216d73e4654c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 16 17:19:20 2009 +0100

    examples & perf added to the Debian package

 packages/debian/control                 |   50 +++++++++++++++++++++++++++----
 packages/debian/dirs                    |    3 ++
 packages/debian/rules                   |    7 +++--
 packages/debian/zeromq-examples.files   |    2 ++
 packages/debian/zeromq-examples.install |    2 ++
 packages/debian/zeromq-perf.files       |   10 +++++++
 packages/debian/zeromq-perf.install     |   10 +++++++
 7 files changed, 75 insertions(+), 9 deletions(-)

commit 667d1a8280e2dedd7f3ccdbd39605263ba8e98d7
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 16 15:20:14 2009 +0100

    man page updated to match change in zmq_free_fn

 man/man3/zmq_msg_init_data.3 |   23 +++++++++++++++--------
 1 file changed, 15 insertions(+), 8 deletions(-)

commit ab5abf6c7ec7668c4a8373d87c491d22d0db144d
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 16 15:08:37 2009 +0100

    hint parameter added to zmq_free function

 bindings/c/zmq.h     |    4 ++--
 bindings/cpp/zmq.hpp |   10 ++++++----
 src/msg_content.hpp  |    1 +
 src/zmq.cpp          |    6 ++++--
 4 files changed, 13 insertions(+), 8 deletions(-)

commit 02202ec30ecca9e538cc807ce86b54d822c823bd
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 16 14:54:11 2009 +0100

    addition to CREDITS section of AUTHORS file

 AUTHORS |    2 ++
 1 file changed, 2 insertions(+)

commit 5e77a1daa46f1b757b08f65895778f803575469c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 16 14:43:50 2009 +0100

    debian package added

 packages/debian/README.Debian            |    6 ++
 packages/debian/changelog                |    6 ++
 packages/debian/cl-zeromq.files          |    7 ++
 packages/debian/cl-zeromq.install        |    6 ++
 packages/debian/cl-zeromq.links          |    1 +
 packages/debian/compat                   |    1 +
 packages/debian/control                  |  123 +++++++++++++++++++++++++++
 packages/debian/copyright                |   18 ++++
 packages/debian/dirs                     |    2 +
 packages/debian/docs                     |    2 +
 packages/debian/libzeromq-dev.files      |   37 ++++++++
 packages/debian/libzeromq-dev.install    |   19 +++++
 packages/debian/libzeromq-python.files   |    1 +
 packages/debian/libzeromq-python.install |    1 +
 packages/debian/libzeromq-ruby.files     |    1 +
 packages/debian/libzeromq-ruby.install   |    1 +
 packages/debian/libzeromq0.files         |    2 +
 packages/debian/libzeromq0.install       |    1 +
 packages/debian/rules                    |  135 ++++++++++++++++++++++++++++++
 packages/debian/shlibs.local             |    1 +
 packages/debian/zeromq-utils.files       |    6 ++
 packages/debian/zeromq-utils.install     |    6 ++
 22 files changed, 383 insertions(+)

commit 7479871cde46371c593f35c0ace3d9e984fddb1a
Merge: 8aa0908 3e64083
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 15 23:50:32 2009 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 8aa0908635f255e2d533539d5330b92b62dc88ba
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 15 23:49:55 2009 +0100

    all news converted to nothrow variant

 src/app_thread.cpp         |   23 ++++++++++++-----------
 src/dispatcher.cpp         |   12 ++++++++----
 src/epoll.cpp              |    3 ++-
 src/io_thread.cpp          |    4 +++-
 src/kqueue.cpp             |    3 ++-
 src/pgm_receiver.cpp       |    4 +++-
 src/pgm_socket.cpp         |    2 ++
 src/session.cpp            |    8 ++++++--
 src/socket_base.cpp        |   33 +++++++++++++++++++++------------
 src/tcp_listener.cpp       |    1 -
 src/yqueue.hpp             |    5 +++--
 src/zmq.cpp                |    4 ++--
 src/zmq_connecter.cpp      |    6 ++++--
 src/zmq_connecter_init.cpp |    5 ++++-
 src/zmq_engine.cpp         |    4 +++-
 src/zmq_listener.cpp       |    6 ++++--
 src/zmq_listener_init.cpp  |    9 ++++++---
 17 files changed, 85 insertions(+), 47 deletions(-)

commit 3e640836674872961f48efb4dc7badb20d736407
Author: unknown <bundra@.(none)>
Date:   Tue Dec 15 18:00:00 2009 +0100

    win32 build fixed

 builds/msvc/libzmq/libzmq.vcproj |   16 ++++++++++++++++
 src/zmq_listener_init.cpp        |    1 +
 2 files changed, 17 insertions(+)

commit 2cef05d86976784f4bc1083cb0fa548e267ac132
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 15 17:49:40 2009 +0100

    reconnection mechanism added to tcp transport

 src/i_inout.hpp            |   15 +++++++++++++--
 src/io_object.hpp          |    1 +
 src/io_thread.hpp          |    1 +
 src/object.hpp             |    5 +++--
 src/session.cpp            |   23 +++++++++++++++++++++--
 src/session.hpp            |    5 ++++-
 src/zmq_connecter.cpp      |   10 +++++++---
 src/zmq_connecter.hpp      |    5 ++++-
 src/zmq_connecter_init.cpp |   36 +++++++++++++++++++++---------------
 src/zmq_connecter_init.hpp |   11 +++++++----
 src/zmq_engine.cpp         |   23 ++++++++++++++++++++---
 src/zmq_engine.hpp         |    5 ++++-
 src/zmq_listener_init.cpp  |   22 ++++++++++++++++++++--
 src/zmq_listener_init.hpp  |    5 ++++-
 14 files changed, 130 insertions(+), 37 deletions(-)

commit 14b112301e62af5115ab870d97ae448c2e3deddb
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 15 13:58:21 2009 +0100

    handle error during connecting by eventual reconnection

 src/zmq_connecter.cpp |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit e49115224a7957b0e5d49326bc02ae6af186eaf9
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 15 09:09:19 2009 +0100

    zmq_encoder/decoder are able to add/trim prefixes from messages; fair queueing and load balancing algorithms factorised into separate classes

 src/Makefile.am      |    4 ++
 src/downstream.cpp   |   34 +++-------------
 src/downstream.hpp   |   10 ++---
 src/fq.cpp           |  106 +++++++++++++++++++++++++++++++++++++++++++++++
 src/fq.hpp           |   64 +++++++++++++++++++++++++++++
 src/lb.cpp           |  111 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/lb.hpp           |   63 ++++++++++++++++++++++++++++
 src/pgm_receiver.cpp |    2 +-
 src/pgm_sender.cpp   |    2 +-
 src/sub.cpp          |   50 ++++-------------------
 src/sub.hpp          |   21 +++-------
 src/upstream.cpp     |   58 ++++----------------------
 src/upstream.hpp     |   14 ++-----
 src/xrep.cpp         |   17 ++++----
 src/xrep.hpp         |    5 ++-
 src/xreq.cpp         |   28 ++++++-------
 src/xreq.hpp         |    8 +++-
 src/zmq_decoder.cpp  |   40 ++++++++++++++----
 src/zmq_decoder.hpp  |    7 +++-
 src/zmq_encoder.cpp  |   21 ++++++++--
 src/zmq_encoder.hpp  |    4 +-
 src/zmq_engine.cpp   |    4 +-
 22 files changed, 476 insertions(+), 197 deletions(-)

commit bd792faa9d6c78c375dbc52c6d773e157335da36
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 14 11:46:30 2009 +0100

    ZMQ_SNDBUF and ZMQ_RCVBUF honoured in PGM transport

 src/pgm_socket.cpp |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 68488215da8e03a74ca4da6b822e4cfa3b71d73a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Dec 13 18:32:22 2009 +0100

    Man pages for XREQ/XREP/zmq_queue updated

 man/Makefile.am       |    2 +-
 man/convert2pdf.sh    |    2 ++
 man/man1/zmq_queue.1  |   11 +++++++++++
 man/man3/zmq_socket.3 |   37 +++++++++++++++++++++++++++++++++++--
 4 files changed, 49 insertions(+), 3 deletions(-)

commit 0637e06387ac0676e9595246eb60a6809664b01a
Author: unknown <bundra@.(none)>
Date:   Sun Dec 13 14:59:25 2009 +0100

    zmq_streamer & zmq_queue are built under MSVC

 builds/msvc/libzmq/libzmq.vcproj             |   20 ++-
 builds/msvc/msvc.sln                         |   18 +++
 builds/msvc/zmq_queue/zmq_queue.vcproj       |  174 ++++++++++++++++++++++++++
 builds/msvc/zmq_streamer/zmq_streamer.vcproj |  174 ++++++++++++++++++++++++++
 src/xrep.cpp                                 |    5 +
 src/xreq.cpp                                 |    5 +
 6 files changed, 394 insertions(+), 2 deletions(-)

commit fa6bf24d8030b0e54fd25b167064482e4cf08a36
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Dec 13 14:45:23 2009 +0100

    XREP & XREQ socket types added; zmq_queue device added

 bindings/c/zmq.h                        |    6 +-
 bindings/cl/zeromq.lisp                 |    6 +-
 bindings/java/org/zmq/Socket.java       |    6 +-
 bindings/python/pyzmq.cpp               |    6 ++
 bindings/ruby/rbzmq.cpp                 |    2 +
 configure.in                            |   15 +++-
 devices/Makefile.am                     |    8 +-
 devices/zmq_forwarder/Makefile.am       |    2 +-
 devices/zmq_forwarder/zmq_forwarder.cpp |    2 +-
 devices/zmq_queue/Makefile.am           |    9 +++
 devices/zmq_queue/zmq_queue.cpp         |  122 +++++++++++++++++++++++++++++++
 devices/zmq_streamer/Makefile.am        |    2 +-
 devices/zmq_streamer/zmq_streamer.cpp   |    2 +-
 src/Makefile.am                         |    4 +
 src/app_thread.cpp                      |    8 ++
 src/pgm_sender.cpp                      |    4 -
 src/xrep.cpp                            |   95 ++++++++++++++++++++++++
 src/xrep.hpp                            |   57 +++++++++++++++
 src/xreq.cpp                            |   95 ++++++++++++++++++++++++
 src/xreq.hpp                            |   57 +++++++++++++++
 20 files changed, 490 insertions(+), 18 deletions(-)

commit c43aded531014895973c283fdd82bb2e5e85c789
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Dec 13 11:27:43 2009 +0100

    debug code removed from PGM engines

 src/pgm_receiver.cpp |   21 ------------
 src/pgm_receiver.hpp |   10 +++---
 src/pgm_sender.cpp   |   33 ++----------------
 src/pgm_socket.cpp   |   92 +++++---------------------------------------------
 src/pgm_socket.hpp   |   24 +++++--------
 5 files changed, 24 insertions(+), 156 deletions(-)

commit f4ac8d7a443bd1afb35634d1cccb79943cc316e0
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Dec 13 09:56:02 2009 +0100

    OpenPGM v1 support removed

 Makefile.am                           |    4 +-
 configure.in                          |  134 ++-----------------
 foreign/openpgm/libpgm-1.2.14.tar.bz2 |  Bin 280029 -> 0 bytes
 foreign/openpgm/lost_data_tsi.patch   |   76 -----------
 src/Makefile.am                       |   59 ---------
 src/pgm_receiver.cpp                  |   10 --
 src/pgm_sender.cpp                    |   18 ---
 src/pgm_sender.hpp                    |    2 -
 src/pgm_socket.cpp                    |  226 +--------------------------------
 src/pgm_socket.hpp                    |   16 ---
 10 files changed, 18 insertions(+), 527 deletions(-)

commit 73b765e4b497f6a505cbf88c524085fa0e58e59c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Dec 13 09:11:08 2009 +0100

    PGM transport fixed

 src/encoder.hpp      |   26 ++++---
 src/pgm_receiver.cpp |    5 +-
 src/pgm_sender.cpp   |    6 +-
 src/pgm_socket.cpp   |  193 ++++++++++++++++++++------------------------------
 src/pgm_socket.hpp   |    5 +-
 src/zmq_engine.cpp   |    4 +-
 6 files changed, 105 insertions(+), 134 deletions(-)

commit d5670f34baa0751a5b4567a28caea4e4fa208727
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 11 22:29:04 2009 +0100

    ZMQII-26: Use zero-copy for large messages (rx side)

 src/decoder.hpp     |   87 +++++++++++++++++++++++++++++++++--------
 src/encoder.hpp     |  107 ++++++++++++++++++++++++++++++---------------------
 src/zmq_decoder.cpp |    3 +-
 src/zmq_decoder.hpp |    2 +-
 src/zmq_encoder.cpp |    3 +-
 src/zmq_encoder.hpp |    2 +-
 src/zmq_engine.cpp  |   72 +++++++++++++++-------------------
 src/zmq_engine.hpp  |   13 ++-----
 8 files changed, 174 insertions(+), 115 deletions(-)

commit 770178724f9493e99c832863031aef016f143e9f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Dec 10 21:34:40 2009 +0100

    errors are never predicted in branch prediction (likely/unlikely macros added)

 src/atomic_counter.hpp |    1 -
 src/err.hpp            |   91 +++++++++++++++++++++++++++++-------------------
 src/likely.hpp         |   32 +++++++++++++++++
 3 files changed, 87 insertions(+), 37 deletions(-)

commit d4fdc26efc6b21103e446f712a484af910a57f2f
Author: unknown <bundra@.(none)>
Date:   Thu Dec 10 16:46:22 2009 +0100

    zmq_poll implemented on Win32 platform

 bindings/c/zmq.h |    7 +++
 src/zmq.cpp      |  125 +++++++++++++++++++++++++++++++++++++++++++++++++++---
 2 files changed, 125 insertions(+), 7 deletions(-)

commit 986ab66b8f260614b2bd18f870ad98402c0f247a
Author: unknown <bundra@.(none)>
Date:   Thu Dec 10 10:39:24 2009 +0100

    ZMQII-27: Allow setting SNDBUF and RCVBUF size from 0MQ API (Win32)

 src/tcp_socket.cpp |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 8d58643655b653c520fcdcc2a89b5067788f32fc
Author: unknown <bundra@.(none)>
Date:   Thu Dec 10 10:33:07 2009 +0100

    MSVC build for chat example added

 builds/msvc/display/display.vcproj |  176 ++++++++++++++++++++++++++++++++++++
 builds/msvc/msvc.sln               |   18 ++++
 builds/msvc/prompt/prompt.vcproj   |  176 ++++++++++++++++++++++++++++++++++++
 examples/chat/prompt.cpp           |    5 +
 4 files changed, 375 insertions(+)

commit 2e39f892c353851fe90261db0a0875abab50539f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Dec 10 09:47:24 2009 +0100

    ZMQII-27: Allow setting SNDBUF and RCVBUF size from 0MQ API (POSIX)

 bindings/c/zmq.h                  |    2 ++
 bindings/cl/zeromq.lisp           |    2 ++
 bindings/java/org/zmq/Socket.java |    2 ++
 bindings/python/pyzmq.cpp         |    6 ++++++
 bindings/ruby/rbzmq.cpp           |    2 ++
 man/man3/zmq_setsockopt.3         |   24 ++++++++++++++++++++++++
 src/options.cpp                   |   18 ++++++++++++++++++
 src/options.hpp                   |    3 +++
 src/tcp_socket.cpp                |   17 +++++++++++++++--
 src/tcp_socket.hpp                |    3 ++-
 src/zmq_connecter_init.cpp        |    2 +-
 src/zmq_engine.cpp                |    8 +++++---
 src/zmq_engine.hpp                |    5 ++++-
 src/zmq_listener_init.cpp         |    2 +-
 14 files changed, 87 insertions(+), 9 deletions(-)

commit 72dacc35702a14ab0bb5a2650dffbb3bbda63175
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Dec 10 08:25:21 2009 +0100

    zero-copy on tx side optimised to minimise number of user/kernel space transitions

 src/encoder.hpp |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 1c1dfb50f88002ce7a024f2d8980b968d3aee1ae
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 9 14:12:25 2009 +0100

    zmq_cpp(7) man page filled in

 man/man7/zmq_cpp.7 |   97 ++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 95 insertions(+), 2 deletions(-)

commit cab5a4a1596e5019c7fd306ad49aac67209b467c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 9 09:19:16 2009 +0100

    minor documentation updates

 examples/chat/README |    4 ++--
 src/encoder.hpp      |   12 ++++++------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit c98e29fb6e017a667452cd0a50536da691600353
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 8 21:48:39 2009 +0100

    README added to chat example

 examples/chat/README |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 902d4f2282f4ed59f942be6fa1013b20dd964536
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 8 16:13:51 2009 +0100

    minor fix of zero-copy on tx side

 src/encoder.hpp |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 9be877c68503c35f9f72c8b92bd11454e4fcad97
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 8 15:41:50 2009 +0100

    ZMQII-26: Use zero-copy for large messages

 src/encoder.hpp    |   28 +++++++++++++++++++++++-----
 src/zmq_engine.cpp |   21 +++++++++++++--------
 src/zmq_engine.hpp |   12 ++++++++----
 3 files changed, 44 insertions(+), 17 deletions(-)

commit bfef2fcd0ba590169ad46ea45da9d36dca1b5b97
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 7 21:52:10 2009 +0100

    autotools build system builds chat example now

 Makefile.am               |    4 ++--
 configure.in              |   25 ++++++++++++++++++-------
 examples/Makefile.am      |    7 +++++++
 examples/chat/Makefile.am |   11 +++++++++++
 4 files changed, 38 insertions(+), 9 deletions(-)

commit a08a72dd082e5e62f0d043c71ea7d9b6fb80b57e
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 7 21:06:54 2009 +0100

    chat example added

 examples/chat/display.cpp |   50 ++++++++++++++++++++++++++++++++++++
 examples/chat/prompt.cpp  |   62 +++++++++++++++++++++++++++++++++++++++++++++
 src/fd_signaler.cpp       |    2 +-
 3 files changed, 113 insertions(+), 1 deletion(-)

commit 82012667cca5249ba7aa16ac5880b86ac54f3e98
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Dec 7 17:28:43 2009 +0100

    Deadlock on zmq_close

 src/fd_signaler.cpp |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 9f495942736bfc1c1ef5f0b23d5a1bdab56d3757
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Dec 5 11:20:57 2009 +0100

    C & C++ header files clean-up

 bindings/c/zmq.h     |  257 ++++----------------------------------------------
 bindings/cpp/zmq.hpp |   62 ++++++------
 src/ypipe.hpp        |   12 +--
 3 files changed, 53 insertions(+), 278 deletions(-)

commit 356ce8fe917c1b3b645555bcd2ff0ff989c6829a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 4 10:06:46 2009 +0100

    man pages updated

 man/man1/zmq_forwarder.1 |    2 +-
 man/man1/zmq_streamer.1  |    2 +-
 man/man7/zmq.7           |  145 +++++++++++++++++++++++++++++++++++++++++++++-
 man/man7/zmq_cl.7        |    2 +-
 man/man7/zmq_cpp.7       |    3 +-
 man/man7/zmq_inproc.7    |    2 +-
 man/man7/zmq_pgm.7       |    2 +-
 man/man7/zmq_python.7    |    2 +-
 man/man7/zmq_ruby.7      |    2 +-
 man/man7/zmq_tcp.7       |    2 +-
 man/man7/zmq_udp.7       |    2 +-
 11 files changed, 153 insertions(+), 13 deletions(-)

commit 3e051e874ad03299cc9a9693cf8f20d6e37af329
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 4 10:03:38 2009 +0100

    Vitaly Mayatskikh added to authors section

 AUTHORS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 721e37a371713ddb20c4dfcca253fe01f71a4af7
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Dec 4 10:02:25 2009 +0100

    platform.hpp.in removed from the codebase

 src/platform.hpp.in |  234 ---------------------------------------------------
 1 file changed, 234 deletions(-)

commit 734aaa2dcbd130cfc5d8ef0bd31bd259117f6c0c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Dec 3 12:58:16 2009 +0100

    placeholders for new man pages added

 man/Makefile.am         |    9 ++++++---
 man/convert2pdf.sh      |   18 ++++++++++++++++++
 man/man1/zmq_streamer.1 |   11 +++++++++++
 man/man7/zmq_cl.7       |    9 +++++++++
 man/man7/zmq_cpp.7      |    9 +++++++++
 man/man7/zmq_inproc.7   |    9 +++++++++
 man/man7/zmq_pgm.7      |    9 +++++++++
 man/man7/zmq_python.7   |    9 +++++++++
 man/man7/zmq_ruby.7     |    9 +++++++++
 man/man7/zmq_tcp.7      |    9 +++++++++
 man/man7/zmq_udp.7      |    9 +++++++++
 11 files changed, 107 insertions(+), 3 deletions(-)

commit 6fcdc5fa69ea44d38e5505c23a6e9645efd35027
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Dec 3 10:14:07 2009 +0100

    common lisp binding & perf tests added

 bindings/Makefile.am        |    8 +-
 bindings/cl/Makefile.am     |    9 ++
 bindings/cl/meta.lisp       |   59 +++++++++++
 bindings/cl/package.lisp    |  108 +++++++++++++++++++
 bindings/cl/zeromq-api.lisp |  155 +++++++++++++++++++++++++++
 bindings/cl/zeromq.asd      |   38 +++++++
 bindings/cl/zeromq.lisp     |  244 +++++++++++++++++++++++++++++++++++++++++++
 configure.in                |   21 ++++
 perf/Makefile.am            |    2 +-
 perf/cl/Makefile.am         |    2 +
 perf/cl/lat-parms.lisp      |   22 ++++
 perf/cl/local-lat-poll.lisp |   43 ++++++++
 perf/cl/local-lat.lisp      |   52 +++++++++
 perf/cl/local-thr.lisp      |   54 ++++++++++
 perf/cl/remote-lat.lisp     |   50 +++++++++
 perf/cl/remote-thr.lisp     |   41 ++++++++
 perf/cl/thr-parms.lisp      |   25 +++++
 17 files changed, 930 insertions(+), 3 deletions(-)

commit 7146ef85e96551ce6f7b80d014463f246d09c878
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Dec 2 21:26:47 2009 +0100

    seqnum mechanism automated

 src/dispatcher.cpp         |    2 ++
 src/object.cpp             |   27 ++++++++++++++++++++-------
 src/object.hpp             |   12 +++++++++---
 src/owned.cpp              |   26 ++++++++------------------
 src/owned.hpp              |   14 ++------------
 src/session.cpp            |    5 -----
 src/socket_base.cpp        |   12 ++++++------
 src/socket_base.hpp        |    1 +
 src/zmq_connecter.cpp      |    1 -
 src/zmq_connecter_init.cpp |    4 ++--
 src/zmq_listener.cpp       |    2 --
 src/zmq_listener_init.cpp  |    6 ++++--
 12 files changed, 54 insertions(+), 58 deletions(-)

commit cb84580bbced0b5d34ddcbac6e0aed5d0ad7cae6
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 1 19:09:58 2009 +0100

    harmless uninitialised memory read fixed

 src/yqueue.hpp |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 9bd309bda6522dfdd514dd0c4edae04322c83ed1
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 1 18:50:54 2009 +0100

    annoying optimisation in 'bind' command removed

 src/command.hpp     |    4 +---
 src/object.cpp      |   11 ++++-------
 src/object.hpp      |    6 +++---
 src/session.cpp     |    5 ++---
 src/socket_base.cpp |   13 +++----------
 src/socket_base.hpp |    3 +--
 6 files changed, 14 insertions(+), 28 deletions(-)

commit c04583ff6ca3c27de5628a61b6b6ce59fd13c9d9
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Dec 1 15:12:42 2009 +0100

    minor code beautification

 src/pipe.cpp |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 0d704fceee5e1bd0fe9438fa380452b69cd29114
Author: unknown <bundra@.(none)>
Date:   Tue Dec 1 14:58:00 2009 +0100

    MSVC warnings fixed

 src/pipe.cpp |   32 ++++++++++++++++++++++++--------
 src/pipe.hpp |    6 ++++--
 2 files changed, 28 insertions(+), 10 deletions(-)

commit 9cff475af849897f669049fd7748f875fa1cd6c3
Author: malosek <malosek@fastmq.com>
Date:   Mon Nov 30 18:18:13 2009 +0100

    added libpgm-2.0.17rc2 into the dist package

 Makefile.am                              |    4 ++--
 configure.in                             |   21 +++++++++++++++------
 foreign/openpgm/libpgm-2.0.17rc2.tar.bz2 |  Bin 0 -> 315051 bytes
 3 files changed, 17 insertions(+), 8 deletions(-)

commit 82242f6a9e06d855ff2ac5616196a97868838a6c
Author: malosek <malosek@fastmq.com>
Date:   Mon Nov 30 17:48:16 2009 +0100

    minor formatting fix in zmq_init.3 man page

 man/man3/zmq_init.3 |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c637bf292d0dc97be5c94c5c96a033c2d665576c
Merge: 9ccf2b4 fa1641a
Author: malosek <malosek@fastmq.com>
Date:   Mon Nov 30 16:45:36 2009 +0100

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 9ccf2b42cf932b4c29ea20cc9c6e3d5d8e7a62b4
Author: malosek <malosek@fastmq.com>
Date:   Mon Nov 30 16:45:18 2009 +0100

    minor tweaks in pgm code

 src/pgm_sender.cpp |    4 ++++
 src/pgm_socket.cpp |    2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit fa1641afc593be5926e558381861112b584e861a
Author: malosek <malosek@fastmq.com>
Date:   Fri Nov 27 14:30:48 2009 +0100

    msvc build fixed

 bindings/c/zmq.h                 |    3 +++
 builds/msvc/libzmq/libzmq.vcproj |   16 ++++++++++++++++
 2 files changed, 19 insertions(+)

commit 19ce7c0e77f703ed2ec3b54685ddf4a6f2329ffe
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Nov 26 12:41:50 2009 +0100

    zmq_msg_data.3 referenced twice in Makefile.am - fixed

 AUTHORS         |    1 +
 man/Makefile.am |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 8d85638f77ec0aa886170ba6bb49763ef165393b
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Nov 26 12:01:26 2009 +0100

    memory leak in message encoder fixed

 AUTHORS                   |    1 +
 perf/c/local_thr.c        |    3 +++
 src/session.cpp           |    4 ----
 src/zmq_decoder.cpp       |    8 +++++++-
 src/zmq_encoder.cpp       |    7 ++++++-
 src/zmq_listener_init.cpp |    1 -
 6 files changed, 17 insertions(+), 7 deletions(-)

commit 92aa9e94e21b652839faa3dda27c67571bad315d
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Nov 25 08:55:03 2009 +0100

    experimental code to use futexes instead of mutexes added to simple_semapthore_t

 src/simple_semaphore.hpp |   60 +++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 57 insertions(+), 3 deletions(-)

commit c98fd6bc3f2a49d7cb0b820a07354168c98f60b7
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Nov 24 11:23:10 2009 +0100

    ZMQII-25: Implement streamed request/reply

 bindings/c/zmq.h                        |    6 ++
 bindings/java/org/zmq/Socket.java       |    2 +
 bindings/python/pyzmq.cpp               |    6 ++
 bindings/ruby/rbzmq.cpp                 |    2 +
 configure.in                            |   15 +++-
 devices/Makefile.am                     |    8 +-
 devices/zmq_forwarder/zmq_forwarder.cpp |    7 +-
 devices/zmq_streamer/Makefile.am        |    9 ++
 devices/zmq_streamer/zmq_streamer.cpp   |  122 ++++++++++++++++++++++++++
 man/man3/zmq_socket.3                   |    9 ++
 src/Makefile.am                         |    4 +
 src/app_thread.cpp                      |   14 ++-
 src/downstream.cpp                      |  131 ++++++++++++++++++++++++++++
 src/downstream.hpp                      |   64 ++++++++++++++
 src/p2p.hpp                             |    4 +-
 src/pub.hpp                             |    4 +-
 src/rep.cpp                             |    2 +-
 src/rep.hpp                             |    4 +-
 src/req.hpp                             |    4 +-
 src/sub.hpp                             |    4 +-
 src/upstream.cpp                        |  143 +++++++++++++++++++++++++++++++
 src/upstream.hpp                        |   69 +++++++++++++++
 22 files changed, 612 insertions(+), 21 deletions(-)

commit 5cd98bc575517ea72c435770a5313711484f7d34
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Nov 23 09:22:25 2009 +0100

    the rest of man3 man pages filled in

 man/man3/zmq_msg_close.3     |   20 ++++++++++++++++
 man/man3/zmq_msg_copy.3      |   31 ++++++++++++++++++++++++
 man/man3/zmq_msg_data.3      |   15 ++++++++++++
 man/man3/zmq_msg_init.3      |   21 +++++++++++++++++
 man/man3/zmq_msg_init_data.3 |   33 ++++++++++++++++++++++++++
 man/man3/zmq_msg_init_size.3 |   32 +++++++++++++++++++++++++
 man/man3/zmq_msg_move.3      |   26 +++++++++++++++++++++
 man/man3/zmq_msg_size.3      |   18 ++++++++++++++
 man/man3/zmq_poll.3          |   53 ++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 249 insertions(+)

commit e90ada0d044636201c57786307a49a52f9cf7643
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Nov 22 16:51:21 2009 +0100

    more man pages filled in

 bindings/c/zmq.h          |    2 +-
 man/man3/zmq_bind.3       |   36 ++++++++++++++++
 man/man3/zmq_close.3      |   15 +++++++
 man/man3/zmq_connect.3    |   37 +++++++++++++++-
 man/man3/zmq_flush.3      |   25 +++++++++++
 man/man3/zmq_init.3       |    3 +-
 man/man3/zmq_recv.3       |   40 ++++++++++++++++++
 man/man3/zmq_send.3       |   52 +++++++++++++++++++++++
 man/man3/zmq_setsockopt.3 |  103 +++++++++++++++++++++++++++++++++++++++++++++
 man/man3/zmq_socket.3     |   56 ++++++++++++++++++++++++
 man/man3/zmq_term.3       |    2 +
 11 files changed, 368 insertions(+), 3 deletions(-)

commit 6602cce9af93539df8f1c43235e7e7130a3df60d
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Nov 22 12:05:11 2009 +0100

    zmq_init, zmq_term & zmq_strerror man pages added

 man/Makefile.am         |    2 +-
 man/convert2pdf.sh      |    2 ++
 man/man3/zmq_init.3     |   26 ++++++++++++++++++++++++++
 man/man3/zmq_strerror.3 |   27 +++++++++++++++++++++++++++
 man/man3/zmq_term.3     |   11 +++++++++++
 5 files changed, 67 insertions(+), 1 deletion(-)

commit ed5563f75285197aa0cdbe8a0dc6f80c5bb1f89c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Nov 22 10:25:53 2009 +0100

    man pages (dummy) added for zmq_msg_* functions

 man/Makefile.am              |    5 ++++-
 man/convert2pdf.sh           |   16 ++++++++++++++++
 man/man3/zmq_msg_close.3     |   12 ++++++++++++
 man/man3/zmq_msg_copy.3      |   12 ++++++++++++
 man/man3/zmq_msg_data.3      |   12 ++++++++++++
 man/man3/zmq_msg_init.3      |   12 ++++++++++++
 man/man3/zmq_msg_init_data.3 |   15 +++++++++++++++
 man/man3/zmq_msg_init_size.3 |   12 ++++++++++++
 man/man3/zmq_msg_move.3      |   12 ++++++++++++
 man/man3/zmq_msg_size.3      |   12 ++++++++++++
 10 files changed, 119 insertions(+), 1 deletion(-)

commit 55b64a02e7f3b1ce9e512240a9f9a337ead3b54c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Nov 22 08:47:06 2009 +0100

    man pages - initial (dummy) version

 Makefile.am               |    8 ++++++--
 configure.in              |    8 +++++++-
 man/Makefile.am           |   16 +++++++++++++++
 man/convert2pdf.sh        |   48 +++++++++++++++++++++++++++++++++++++++++++++
 man/man1/zmq_forwarder.1  |   11 +++++++++++
 man/man3/zmq_bind.3       |   12 ++++++++++++
 man/man3/zmq_close.3      |   12 ++++++++++++
 man/man3/zmq_connect.3    |   12 ++++++++++++
 man/man3/zmq_flush.3      |   12 ++++++++++++
 man/man3/zmq_init.3       |   12 ++++++++++++
 man/man3/zmq_poll.3       |   12 ++++++++++++
 man/man3/zmq_recv.3       |   12 ++++++++++++
 man/man3/zmq_send.3       |   12 ++++++++++++
 man/man3/zmq_setsockopt.3 |   12 ++++++++++++
 man/man3/zmq_socket.3     |   12 ++++++++++++
 man/man3/zmq_term.3       |   12 ++++++++++++
 man/man7/zmq.7            |    9 +++++++++
 17 files changed, 229 insertions(+), 3 deletions(-)

commit c41daca3da6ffd033f93c3e24898414567f71eb3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Nov 21 21:30:09 2009 +0100

    race condition in inproc transport shutdown fixed

 src/command.hpp     |    3 +++
 src/object.cpp      |    9 ++++++---
 src/object.hpp      |    6 +++---
 src/session.cpp     |    4 +++-
 src/socket_base.cpp |   16 ++++++++++++----
 src/socket_base.hpp |    3 ++-
 6 files changed, 29 insertions(+), 12 deletions(-)

commit 64634605b3ccb90d582cfdf380535c89bf900a0e
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Nov 21 21:13:29 2009 +0100

    obsolete parameter removed from 'bind' command

 src/command.hpp     |    1 -
 src/object.cpp      |    9 +++------
 src/object.hpp      |    6 +++---
 src/session.cpp     |    2 +-
 src/socket_base.cpp |    6 ++----
 src/socket_base.hpp |    3 +--
 6 files changed, 10 insertions(+), 17 deletions(-)

commit 0e9ab2e8a3f5bc22f2c331c14236a2918a5512a8
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Nov 21 20:59:55 2009 +0100

    inproc transport - initial commit

 src/dispatcher.cpp  |   56 ++++++++++++++++++++++++++++++++++++++++++++++
 src/dispatcher.hpp  |   12 ++++++++++
 src/object.cpp      |   15 +++++++++++++
 src/object.hpp      |    6 +++++
 src/socket_base.cpp |   62 +++++++++++++++++++++++++++++++++++++++++++++++++--
 src/socket_base.hpp |   12 ++++++++++
 src/zmq.cpp         |    6 +++--
 7 files changed, 165 insertions(+), 4 deletions(-)

commit 14f2fecdcd9732fe741c211138a4ba327816a937
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Nov 19 09:53:49 2009 +0100

    ZMQII-24: SEGFAULT when anonymous session disconnects

 src/pipe.cpp |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c2e0661b0afb2f50f47e0275fa6603947f26d240
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Nov 19 08:06:52 2009 +0100

    uninitialised variable in devpoll_t and kqueue_t

 src/devpoll.cpp |    3 ++-
 src/kqueue.cpp  |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 26ca5ed8c62f8a88a32106a5c9e003712f4ca655
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Nov 14 18:57:04 2009 +0100

    Fixing concurrency issue in rep.cpp resulting in broken connections with multiple requesters under heavy load.

 src/rep.cpp |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 84585a9561b5e3bd39baa8d49b889455362334ea
Author: malosek <malosek@fastmq.com>
Date:   Wed Nov 4 18:59:19 2009 +0100

    pgm_transport_recvmsgv in process_upstream returns PGM_IO_STATUS_RATE_LIMITED on busy sender

 src/pgm_socket.cpp |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c2cd7977f7a82e978d77b2d4d8e23d78f71e809c
Author: malosek <malosek@fastmq.com>
Date:   Tue Nov 3 19:54:43 2009 +0100

    update pgm_socket to recent openpgm2

 src/pgm_socket.cpp |   19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit 08b02a43ae21e833a04d274fb20ef3bbc73c0d09
Author: malosek <malosek@fastmq.com>
Date:   Tue Nov 3 14:11:53 2009 +0100

    fixed get_sender_fds and get_receiver_fds for openpgm2

 src/pgm_socket.cpp |   83 +++++++++++++++++++++++++++++++---------------------
 src/pgm_socket.hpp |    2 +-
 2 files changed, 51 insertions(+), 34 deletions(-)

commit 7d672d3ab8c74371b58b293f807db74760b18155
Author: malosek <malosek@fastmq.com>
Date:   Tue Nov 3 14:06:25 2009 +0100

    minor fixes for MSVC++ 2005 build

 src/app_thread.cpp |    3 +++
 src/fd.hpp         |    2 +-
 src/windows.hpp    |    5 +++++
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 7cbdcc954213b715ce83316538403bbce1fac99f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Oct 22 13:21:27 2009 +0200

    ZMQII-21: Problem with fd_signaler_t::poll on socket close

 src/fd_signaler.cpp |   31 ++++++++++++++++++++++++-------
 1 file changed, 24 insertions(+), 7 deletions(-)

commit 55acf365ea76b908388ca9726232bde90242cdcb
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Oct 20 18:44:17 2009 +0200

    releasing python global lock when doing blocking operations

 bindings/python/pyzmq.cpp |    5 +++++
 1 file changed, 5 insertions(+)

commit 8b08047cb08dd6ba7ae142007f82607183574ef6
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 19 19:00:04 2009 +0200

    added --with-pgm2-examples configure option

 configure.in       |   17 +++++++++
 perf/c/Makefile.am |  104 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/Makefile.am    |    4 +-
 3 files changed, 123 insertions(+), 2 deletions(-)

commit 71e455bfe5dd1df1220e9280e536be56238d2178
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 19 15:19:22 2009 +0200

    ZMQII-19: add --disable-eventfd configure option

 configure.in |   27 +++++++++++++++++++++++++--
 1 file changed, 25 insertions(+), 2 deletions(-)

commit 50c7d12be6c10c294143491b479c50349a3c84a3
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 12 22:53:11 2009 +0200

    added HAVE_LIBWS2_32 into platform.hpp.in

 src/platform.hpp.in |    3 +++
 1 file changed, 3 insertions(+)

commit 0ce02058ebc35184b91399eee35d44ef01cd9e38
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 12 22:51:41 2009 +0200

    updated 0MQ to recent OpenPGM2 rev.562

 src/Makefile.am    |    1 +
 src/pgm_socket.cpp |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit ea2f6558fd2a759b78364ded493c598f5ca5a2d3
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 12 22:50:01 2009 +0200

    mingw fixed winsock linking issue

 configure.in |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7afc61ae7c4859fa1a6273e1964d378c00142746
Author: malosek <malosek@fastmq.com>
Date:   Tue Oct 6 12:57:24 2009 +0200

    0MQ compilable on winXP mingw with --with-pgm2 option

 configure.in         |   12 +++++++++---
 src/Makefile.am      |   53 ++++++++++++++++++++++++++++++++------------------
 src/pgm_receiver.cpp |    5 +++++
 src/pgm_receiver.hpp |    8 +++++++-
 src/pgm_sender.cpp   |    6 ++++--
 src/pgm_sender.hpp   |    4 ++++
 src/pgm_socket.cpp   |   23 ++++++++++++++--------
 src/pgm_socket.hpp   |   13 +++++--------
 src/platform.hpp.in  |    3 +++
 9 files changed, 86 insertions(+), 41 deletions(-)

commit ac83175ef0f0084f281a416785679f8b56f551b9
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 16:57:26 2009 +0200

    updated to recent PGM2 changes

 foreign/openpgm/create_custom_gsi_1.patch |    2 +-
 src/pgm_socket.cpp                        |   26 +++++++++++++++++---------
 2 files changed, 18 insertions(+), 10 deletions(-)

commit 3daeff2786ce1d6d8e58f0ad15e693f2c48c94f9
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 15:06:40 2009 +0200

    mingw port

 configure.in        |   13 ++++++++-----
 src/fd.hpp          |    4 ++--
 src/platform.hpp.in |    3 +++
 src/uuid.hpp        |    7 ++++++-
 src/windows.hpp     |    6 ++++++
 5 files changed, 25 insertions(+), 8 deletions(-)

commit de2e439a52e93a4cb17a19e9ef9cadfd5ebf2cea
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 15:06:08 2009 +0200

    1 minor change in xmlParser.cpp

 foreign/xmlParser/xmlParser.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14dc1f45cd1a328415db09ef1e06def6179dae00
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 12:28:34 2009 +0200

    build system tuning - fixed make dist

 Makefile.am     |    7 ++++---
 configure.in    |   15 +++++++++++----
 src/Makefile.am |   11 ++++++-----
 3 files changed, 21 insertions(+), 12 deletions(-)

commit b0c97a5f8b88fca73338c1c173b446515e2ed366
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 10:37:49 2009 +0200

    build system tuning

 Makefile.am     |    1 +
 src/Makefile.am |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit d57ee0984ac3f8712063a7f83d7200be25ca5513
Merge: ff65e26 4efe236
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 10:22:31 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit ff65e26ce7567ea6a907e566f8530f4988231d68
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 10:22:12 2009 +0200

    create_custom_gsi.patch renamed to create_custom_gsi_1.patch

 configure.in                              |    4 +--
 foreign/openpgm/create_custom_gsi.patch   |   43 -----------------------------
 foreign/openpgm/create_custom_gsi_1.patch |   43 +++++++++++++++++++++++++++++
 3 files changed, 45 insertions(+), 45 deletions(-)

commit e1b9fcd4b185cdcfd460a5d2ecb29d085856bb20
Author: malosek <malosek@fastmq.com>
Date:   Mon Oct 5 10:18:24 2009 +0200

    moved pgm_create_custom_gsi into PGM1 and drop ssl dependency

 configure.in                            |   18 ++++++-------
 foreign/openpgm/create_custom_gsi.patch |   43 +++++++++++++++++++++++++++++++
 foreign/openpgm/lost_data_tsi.patch     |    4 +--
 src/pgm_socket.cpp                      |   18 +------------
 src/pgm_socket.hpp                      |    3 ---
 src/platform.hpp.in                     |    6 -----
 6 files changed, 54 insertions(+), 38 deletions(-)

commit 4efe2366d7394e8969fc9aa64c50be6842d8455f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Oct 2 10:46:36 2009 +0200

    poller is a concept now rather than virtualised class

 src/Makefile.am   |    2 +-
 src/devpoll.cpp   |   41 ++++++++++++--------------
 src/devpoll.hpp   |   13 +++++----
 src/epoll.cpp     |   16 +++++-----
 src/epoll.hpp     |   14 ++++-----
 src/i_poller.hpp  |   84 -----------------------------------------------------
 src/io_object.cpp |    2 +-
 src/io_object.hpp |    6 ++--
 src/io_thread.cpp |   41 ++------------------------
 src/io_thread.hpp |    8 ++---
 src/kqueue.cpp    |   17 +++++------
 src/kqueue.hpp    |   13 +++++----
 src/poll.cpp      |   18 +++++-------
 src/poll.hpp      |   13 +++++----
 src/poller.hpp    |   68 +++++++++++++++++++++++++++++++++++++++++++
 src/select.cpp    |   33 +++++++++------------
 src/select.hpp    |   13 +++++----
 17 files changed, 170 insertions(+), 232 deletions(-)

commit 4a3b4dadead8fe2af65443d0be4cc8462b9aa597
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Oct 2 09:42:13 2009 +0200

    ZMQII-9: Check and implement speculative reads & writes

 src/ypollset.cpp   |    1 -
 src/zmq_engine.cpp |    6 ++++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 49a9ef5fcb661827ee174415b4608e609bd0a65b
Author: unknown <sustrik@.(none)>
Date:   Thu Oct 1 13:48:04 2009 +0200

    windows error handling improved

 bindings/c/zmq.h      |   12 ++++++++++++
 src/err.cpp           |   43 +++++++++++++++++++++++++++++++++++++++++--
 src/err.hpp           |    1 +
 src/tcp_connecter.cpp |   10 +++++-----
 src/tcp_listener.cpp  |   17 ++++++++++++-----
 src/zmq.cpp           |    8 ++++++++
 6 files changed, 79 insertions(+), 12 deletions(-)

commit cc631c4c6649b0d67114db13386a949426e35dbf
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Oct 1 10:56:17 2009 +0200

    ZMQII-18: Implement I/O multiplexing (first approximation)

 bindings/c/zmq.h     |   33 ++++++++++++++
 bindings/cpp/zmq.hpp |    5 +++
 src/fd_signaler.hpp  |    2 -
 src/i_signaler.hpp   |    6 +++
 src/p2p.cpp          |   11 +++++
 src/p2p.hpp          |    2 +
 src/pub.cpp          |   11 +++++
 src/pub.hpp          |    2 +
 src/rep.cpp          |   17 ++++++++
 src/rep.hpp          |    2 +
 src/req.cpp          |   13 ++++++
 src/req.hpp          |    2 +
 src/socket_base.cpp  |   15 +++++++
 src/socket_base.hpp  |   12 ++++++
 src/sub.cpp          |   13 ++++++
 src/sub.hpp          |    2 +
 src/ypollset.cpp     |    6 +++
 src/ypollset.hpp     |    1 +
 src/zmq.cpp          |  117 +++++++++++++++++++++++++++++++++++++++++++++++++-
 19 files changed, 269 insertions(+), 3 deletions(-)

commit f2ff2c6e5c4e244dea28e1ac6ec3f886b7ebc356
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 30 10:08:35 2009 +0200

    checking for available messages added to ypipe/pipe

 src/pipe.cpp  |   11 +++++++++++
 src/pipe.hpp  |    3 +++
 src/ypipe.hpp |   24 ++++++++++++++++--------
 3 files changed, 30 insertions(+), 8 deletions(-)

commit 84d854a088d27b642355d4e835a2d93e405452ae
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Sep 29 15:40:29 2009 +0200

    documentation error in zmq.h fixed

 bindings/c/zmq.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 64e68e748607473befbcf2d96590d45dc7bc98db
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 29 13:56:19 2009 +0200

    detecting data loss for PGM2 receiver

 src/pgm_receiver.cpp |   10 ++++++++++
 src/pgm_socket.cpp   |   40 ++++++++++++++++++++++++++++++++++------
 2 files changed, 44 insertions(+), 6 deletions(-)

commit 39d915ded8ccb612ae1f9aaefcd93f349f4c8f4c
Author: malosek <malosek@fastmq.com>
Date:   Mon Sep 28 18:06:06 2009 +0200

    PGM2 sender

 src/pgm_receiver.cpp |    2 +-
 src/pgm_sender.cpp   |   26 +++++++++++++--
 src/pgm_sender.hpp   |    3 ++
 src/pgm_socket.cpp   |   85 +++++++++++++++++++++++++++++++++++++++-----------
 src/pgm_socket.hpp   |    8 +++--
 5 files changed, 100 insertions(+), 24 deletions(-)

commit cf6cc0128ff4d26e0059f399bbb8342ce259b996
Author: malosek <malosek@fastmq.com>
Date:   Fri Sep 25 17:50:12 2009 +0200

    pgm2 receiver working (partly)

 src/Makefile.am     |    3 +-
 src/pgm_socket.cpp  |  161 +++++++++++++++++++++++++++++++++++----------------
 src/pgm_socket.hpp  |   14 ++++-
 src/socket_base.cpp |    4 +-
 4 files changed, 129 insertions(+), 53 deletions(-)

commit 72c5c5fff42fc0b4c9d1eaaaebe9d6e1dd8824f2
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 24 16:23:49 2009 +0200

    --with-pgm2 compilable

 configure.in         |   10 +++---
 src/pgm_receiver.cpp |    2 +-
 src/pgm_receiver.hpp |    2 +-
 src/pgm_sender.cpp   |    2 +-
 src/pgm_sender.hpp   |    2 +-
 src/pgm_socket.cpp   |   91 +++++++++++++++++++++++++++++++++++++++++++-------
 src/pgm_socket.hpp   |    9 +----
 7 files changed, 89 insertions(+), 29 deletions(-)

commit 33afdcd1adccd19ebd9f4ec9cc6d23a37975d135
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 24 12:43:35 2009 +0200

    added --with-pgm2 into build system

 configure.in         |  116 +++++++++++++++++++++++++++++++++++++++++---------
 src/Makefile.am      |   89 ++++++++++++++++++++++++++++++++++++--
 src/pgm_receiver.cpp |    2 +-
 src/pgm_receiver.hpp |    2 +-
 src/pgm_sender.cpp   |    2 +-
 src/pgm_sender.hpp   |    2 +-
 src/pgm_socket.cpp   |    2 +-
 src/pgm_socket.hpp   |    2 +-
 src/platform.hpp.in  |    8 +++-
 src/socket_base.cpp  |    4 +-
 10 files changed, 196 insertions(+), 33 deletions(-)

commit 5aee5fd0cfc6351e843de1540eafa4e757066edc
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 23 12:14:44 2009 +0200

    Updated libzmq.vcproj file

 builds/msvc/libzmq/libzmq.vcproj |   28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 27d8627cb5d8c91df2f09ecc1272e84be4fe3c80
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 23 11:31:03 2009 +0200

    Updated changelog for alpha3 release

 ChangeLog |   26 ++++++++++++++++----------
 1 file changed, 16 insertions(+), 10 deletions(-)

commit b0a1a16fc2a84afa0eb2715f680297caef521b54
Merge: 088a2db 2521130
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 23 10:23:53 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 088a2db6746488c1ce4a73c357caaece50bbdf60
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 23 10:22:54 2009 +0200

    ZMQII-16: Change "struct zmq_msg_t" to "zmq_msg_t" in C binding

 bindings/c/zmq.h    |   24 ++++++++++++------------
 perf/c/local_lat.c  |    2 +-
 perf/c/local_thr.c  |    2 +-
 perf/c/remote_lat.c |    2 +-
 perf/c/remote_thr.c |    2 +-
 src/p2p.cpp         |    4 ++--
 src/p2p.hpp         |    4 ++--
 src/pipe.cpp        |    2 +-
 src/pipe.hpp        |    4 ++--
 src/pub.cpp         |    4 ++--
 src/pub.hpp         |    4 ++--
 src/rep.cpp         |    4 ++--
 src/rep.hpp         |    4 ++--
 src/req.cpp         |    4 ++--
 src/req.hpp         |    4 ++--
 src/socket_base.hpp |   10 ++++++----
 src/sub.cpp         |    4 ++--
 src/sub.hpp         |    6 +++---
 18 files changed, 46 insertions(+), 44 deletions(-)

commit 25211307696752acc17e91783aa662dc9e423b21
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 23 10:22:39 2009 +0200

    ZMQII-14: Change default for ZMQ_MCAST_LOOP to true

 src/options.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 85cbd7f83c10c70da8fa44fe7673143703f9710d
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 22 15:12:51 2009 +0200

    added PGM bus functionality

 Makefile.am                         |    1 +
 configure.in                        |   20 +++-
 foreign/openpgm/lost_data_tsi.patch |   76 +++++++++++++++
 src/pgm_receiver.cpp                |  176 ++++++++++++++++++-----------------
 src/pgm_receiver.hpp                |   37 +++++---
 src/pgm_socket.cpp                  |  159 ++++++++-----------------------
 src/pgm_socket.hpp                  |   19 ++--
 src/platform.hpp.in                 |    6 ++
 8 files changed, 265 insertions(+), 229 deletions(-)

commit 3bd8f83f6d412221e4673ceb90b8ca7fa74ff2f1
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Sep 22 13:00:05 2009 +0200

    language bindings use zmq_strerror instead of strerror

 bindings/cpp/zmq.hpp      |    9 +--------
 bindings/java/Context.cpp |   12 +++---------
 bindings/java/Socket.cpp  |   11 ++---------
 bindings/python/pyzmq.cpp |   20 ++++++++++----------
 bindings/ruby/rbzmq.cpp   |   18 +++++++++---------
 5 files changed, 25 insertions(+), 45 deletions(-)

commit a0db7f6b811e687eda452a7de9f5db112f715544
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 22 12:08:18 2009 +0200

    POSIX error codes unsupported on win platform faked

 bindings/c/zmq.h |   16 +++++++++++++---
 src/zmq.cpp      |   13 +++++++++++++
 2 files changed, 26 insertions(+), 3 deletions(-)

commit e136d923b7060ef64d44264f88e49057e6638f31
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Sep 22 11:52:35 2009 +0200

    ZMQ-specific error codes added

 bindings/c/zmq.h    |   34 +++++++++++++++++++++++++++++-----
 src/dispatcher.cpp  |    2 +-
 src/err.cpp         |    5 +++++
 src/pub.cpp         |    2 +-
 src/rep.cpp         |    6 +++---
 src/req.cpp         |    8 ++++----
 src/socket_base.cpp |   10 +++++-----
 src/sub.cpp         |    4 ++--
 src/zmq.cpp         |   15 +++++++++++++++
 9 files changed, 65 insertions(+), 21 deletions(-)

commit cc8136896d30890efb24aadc2d3058652aa43d45
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Sep 22 10:57:46 2009 +0200

    documentation in zmq.h improved

 bindings/c/zmq.h     |  283 ++++++++++++++++++++++++++++++++++++--------------
 bindings/cpp/zmq.hpp |   13 ---
 src/zmq.cpp          |   28 +----
 3 files changed, 208 insertions(+), 116 deletions(-)

commit e6ca5da1815023e90306914dab101eeef4b6f199
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 22 08:30:15 2009 +0200

    Windows build fixed

 src/fd_signaler.cpp |   31 ++++++++++++++++---------------
 src/p2p.cpp         |    3 +++
 src/rep.cpp         |    2 ++
 3 files changed, 21 insertions(+), 15 deletions(-)

commit b15f695976d21300beabc3e0ecef87c1a0b4dc4c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 21 17:20:13 2009 +0200

    different fixes to req/rep

 src/dispatcher.cpp  |    8 ++++----
 src/fd_signaler.cpp |   22 +++++++++++-----------
 src/options.cpp     |    4 +++-
 src/options.hpp     |    5 +++++
 src/p2p.cpp         |   14 +++-----------
 src/p2p.hpp         |    2 --
 src/pub.cpp         |   14 +++-----------
 src/pub.hpp         |    2 --
 src/rep.cpp         |   14 +++-----------
 src/rep.hpp         |    2 --
 src/req.cpp         |   14 +++-----------
 src/req.hpp         |    2 --
 src/session.cpp     |   36 ++++++++++++++++++++++++------------
 src/socket_base.cpp |   40 +++++++++++++---------------------------
 src/socket_base.hpp |   13 ++++---------
 src/sub.cpp         |   14 +++-----------
 src/sub.hpp         |    2 --
 17 files changed, 79 insertions(+), 129 deletions(-)

commit cb1b6fe32cbf3c7cf5961bb4156f2de743693a3a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 21 14:39:59 2009 +0200

    initial version of req/rep sockets

 src/Makefile.am     |    8 +
 src/app_thread.cpp  |   20 ++-
 src/app_thread.hpp  |    3 +-
 src/i_endpoint.hpp  |    7 +-
 src/options.cpp     |   80 +++++++++
 src/options.hpp     |    3 +
 src/p2p.cpp         |   92 +++++++++++
 src/p2p.hpp         |   56 +++++++
 src/pipe.cpp        |   28 +---
 src/pipe.hpp        |   19 +--
 src/pub.cpp         |  129 ++++++++++++++-
 src/pub.hpp         |   24 ++-
 src/rep.cpp         |  204 +++++++++++++++++++++++
 src/rep.hpp         |   79 +++++++++
 src/req.cpp         |  206 +++++++++++++++++++++++
 src/req.hpp         |   84 ++++++++++
 src/session.cpp     |   49 +++---
 src/session.hpp     |    6 +-
 src/socket_base.cpp |  460 ++++++++++++++-------------------------------------
 src/socket_base.hpp |   77 ++++-----
 src/sub.cpp         |   88 +++++++++-
 src/sub.hpp         |   38 ++++-
 src/yarray.hpp      |  110 ++++++++++++
 src/yarray_item.hpp |   62 +++++++
 24 files changed, 1460 insertions(+), 472 deletions(-)

commit 7668b246fc3cf4a2a3b3ee9b1283ad8a4b12ac4f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Sep 20 12:03:14 2009 +0200

    ZMQ_POLL option forces fd_signaler to be used in app_thread

 src/app_thread.cpp  |   18 +++++++++++++++---
 src/app_thread.hpp  |    5 ++---
 src/fd_signaler.cpp |   39 ++++++++++++++++++++++++---------------
 src/fd_signaler.hpp |    3 ---
 src/i_signaler.hpp  |    4 ++--
 src/ypollset.cpp    |    4 ++++
 src/ypollset.hpp    |    2 +-
 7 files changed, 48 insertions(+), 27 deletions(-)

commit 495a2228cd08a29946f9e9ce2e0721e789203e35
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Sun Sep 20 10:58:00 2009 +0200

    MSVC warnings removed

 src/fd_signaler.cpp |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit f99b8fc921bc0e6aa55276d8c55e43c9d7f4375a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Sep 20 10:47:27 2009 +0200

    receiving side of signaler virtualised

 src/app_thread.cpp  |    4 ++--
 src/fd_signaler.cpp |   55 +++++++++++++++++++++++++++++++++++++++------------
 src/fd_signaler.hpp |   12 +++--------
 src/i_signaler.hpp  |   11 +++++++++++
 src/io_thread.cpp   |    4 ++--
 src/ypollset.cpp    |    8 ++++----
 src/ypollset.hpp    |   18 ++++++-----------
 7 files changed, 70 insertions(+), 42 deletions(-)

commit 50a8b9ea0c4a819073b46449dee8fc839b837ae5
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Sep 20 10:14:21 2009 +0200

    'flags' parameter added to zmq_init

 bindings/c/zmq.h                   |    6 +++++-
 bindings/cpp/zmq.hpp               |    4 ++--
 bindings/java/Context.cpp          |    4 ++--
 bindings/java/org/zmq/Context.java |    8 +++++---
 bindings/python/pyzmq.cpp          |   13 ++++++++-----
 bindings/ruby/rbzmq.cpp            |   11 +++++++----
 perf/c/local_lat.c                 |    2 +-
 perf/c/local_thr.c                 |    2 +-
 perf/c/remote_lat.c                |    2 +-
 perf/c/remote_thr.c                |    2 +-
 perf/java/local_lat.java           |    2 +-
 perf/java/local_thr.java           |    2 +-
 perf/java/remote_lat.java          |    2 +-
 perf/java/remote_thr.java          |    2 +-
 perf/ruby/local_lat.rb             |    2 +-
 perf/ruby/local_thr.rb             |    2 +-
 perf/ruby/remote_lat.rb            |    2 +-
 perf/ruby/remote_thr.rb            |    2 +-
 src/app_thread.cpp                 |    3 ++-
 src/app_thread.hpp                 |    3 ++-
 src/dispatcher.cpp                 |    8 +++++---
 src/dispatcher.hpp                 |    2 +-
 src/fd_signaler.cpp                |    6 ++++++
 src/io_thread.cpp                  |    3 ++-
 src/io_thread.hpp                  |    3 ++-
 src/zmq.cpp                        |    8 ++++----
 26 files changed, 65 insertions(+), 41 deletions(-)

commit edecf75b611cf0e6b1c2658846cff013434edad4
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Sep 17 12:29:32 2009 +0200

    python binding checks ctx argument type

 bindings/python/pyzmq.cpp |   22 ++++++++++++----------
 1 file changed, 12 insertions(+), 10 deletions(-)

commit 8cdf75327d847c464415ab32554d155febcf7c5e
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Sep 17 11:44:39 2009 +0200

    ChangeLog updated

 ChangeLog |  336 ++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 175 insertions(+), 161 deletions(-)

commit dffbdbb60c5d5caf01d13063a3d1babab0411338
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 17 11:31:28 2009 +0200

    fixed compiler warning cast from uint64 to bool in socket_base.cpp

 src/socket_base.cpp |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 1bd6d5e0f6a6013b2d43abb2a82f0027a92fcc96
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 17 11:26:39 2009 +0200

    fixed missing xmlParser in dist package

 Makefile.am |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 2be152967c90834bf02ab84e39980281d3f05002
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 17 10:49:02 2009 +0200

    java binding Makefile.am cleanup

 bindings/java/Makefile.am |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit cff6eb43766ddbbc894237c1ffffc824ca3c79b6
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 17 10:29:02 2009 +0200

    msvc directory moved into builds dir

 bindings/java/Socket.cpp                         |    2 +-
 builds/msvc/c_local_lat/c_local_lat.vcproj       |  176 +++++++
 builds/msvc/c_local_thr/c_local_thr.vcproj       |  176 +++++++
 builds/msvc/c_remote_lat/c_remote_lat.vcproj     |  176 +++++++
 builds/msvc/c_remote_thr/c_remote_thr.vcproj     |  176 +++++++
 builds/msvc/cpp_local_lat/cpp_local_lat.vcproj   |  176 +++++++
 builds/msvc/cpp_local_thr/cpp_local_thr.vcproj   |  176 +++++++
 builds/msvc/cpp_remote_lat/cpp_remote_lat.vcproj |  176 +++++++
 builds/msvc/cpp_remote_thr/cpp_remote_thr.vcproj |  176 +++++++
 builds/msvc/j_local_lat/j_local_lat.vcproj       |   78 +++
 builds/msvc/j_local_thr/j_local_thr.vcproj       |   78 +++
 builds/msvc/j_remote_lat/j_remote_lat.vcproj     |   78 +++
 builds/msvc/j_remote_thr/j_remote_thr.vcproj     |   78 +++
 builds/msvc/java/java.vcproj                     |  244 ++++++++++
 builds/msvc/libzmq/libzmq.vcproj                 |  562 ++++++++++++++++++++++
 builds/msvc/msvc.sln                             |  154 ++++++
 builds/msvc/platform.hpp                         |   59 +++
 builds/msvc/python/python.vcproj                 |  176 +++++++
 builds/msvc/zmq_forwarder/zmq_forwarder.vcproj   |  174 +++++++
 msvc/c_local_lat/c_local_lat.vcproj              |  176 -------
 msvc/c_local_thr/c_local_thr.vcproj              |  176 -------
 msvc/c_remote_lat/c_remote_lat.vcproj            |  176 -------
 msvc/c_remote_thr/c_remote_thr.vcproj            |  176 -------
 msvc/cpp_local_lat/cpp_local_lat.vcproj          |  176 -------
 msvc/cpp_local_thr/cpp_local_thr.vcproj          |  176 -------
 msvc/cpp_remote_lat/cpp_remote_lat.vcproj        |  176 -------
 msvc/cpp_remote_thr/cpp_remote_thr.vcproj        |  176 -------
 msvc/j_local_lat/j_local_lat.vcproj              |   78 ---
 msvc/j_local_thr/j_local_thr.vcproj              |   78 ---
 msvc/j_remote_lat/j_remote_lat.vcproj            |   78 ---
 msvc/j_remote_thr/j_remote_thr.vcproj            |   78 ---
 msvc/java/java.vcproj                            |  244 ----------
 msvc/libzmq/libzmq.vcproj                        |  538 ---------------------
 msvc/msvc.sln                                    |  154 ------
 msvc/platform.hpp                                |   59 ---
 msvc/python/python.vcproj                        |  176 -------
 msvc/zmq_forwarder/zmq_forwarder.vcproj          |  174 -------
 37 files changed, 3090 insertions(+), 3066 deletions(-)

commit 3ebe9932f9c208966f8cb97d631d26df0367c151
Merge: 1a65504 d16b3bc
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 17:07:15 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 1a655045951c29edda0b616640b9dac507cda164
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 17:06:59 2009 +0200

    ruby directory moved into bindings dir

 Makefile.am               |    9 +-
 bindings/Makefile.am      |    8 +-
 bindings/ruby/Makefile.am |   11 ++
 bindings/ruby/extconf.rb  |   24 ++++
 bindings/ruby/rbzmq.cpp   |  277 +++++++++++++++++++++++++++++++++++++++++++++
 configure.in              |    2 +-
 ruby/Makefile.am          |   11 --
 ruby/extconf.rb           |   24 ----
 ruby/rbzmq.cpp            |  277 ---------------------------------------------
 9 files changed, 322 insertions(+), 321 deletions(-)

commit c63387ca3657848c0eaa8014a863148c1e6525ff
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 17:00:32 2009 +0200

    python directory moved into bindings dir

 Makefile.am                 |    8 +-
 bindings/Makefile.am        |   11 +
 bindings/python/Makefile.am |    7 +
 bindings/python/pyzmq.cpp   |  528 +++++++++++++++++++++++++++++++++++++++++++
 bindings/python/setup.py.in |   14 ++
 configure.in                |    3 +-
 python/Makefile.am          |    7 -
 python/pyzmq.cpp            |  528 -------------------------------------------
 python/setup.py.in          |   14 --
 9 files changed, 564 insertions(+), 556 deletions(-)

commit 1b2a426656134b85ff4c75cb0cccbc53f2b83447
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 16:49:09 2009 +0200

    c and cpp directories moved into bindings directory

 bindings/c/zmq.h                        |  216 +++++++++++++++++++++++
 bindings/cpp/zmq.hpp                    |  283 +++++++++++++++++++++++++++++++
 bindings/java/Makefile.am               |    2 +-
 c/zmq.h                                 |  216 -----------------------
 cpp/zmq.hpp                             |  283 -------------------------------
 devices/zmq_forwarder/Makefile.am       |    2 +-
 devices/zmq_forwarder/zmq_forwarder.cpp |    2 +-
 perf/c/Makefile.am                      |    2 +-
 perf/cpp/Makefile.am                    |    2 +-
 perf/java/Makefile.am                   |    2 +-
 src/Makefile.am                         |    4 +-
 src/app_thread.cpp                      |    2 +-
 src/dispatcher.cpp                      |    2 +-
 src/i_inout.hpp                         |    2 +-
 src/io_thread.cpp                       |    2 +-
 src/msg_content.hpp                     |    2 +-
 src/pipe.cpp                            |    2 +-
 src/pipe.hpp                            |    2 +-
 src/pub.cpp                             |    2 +-
 src/socket_base.cpp                     |    2 +-
 src/sub.cpp                             |    2 +-
 src/zmq.cpp                             |    2 +-
 src/zmq_decoder.hpp                     |    2 +-
 src/zmq_encoder.hpp                     |    2 +-
 24 files changed, 520 insertions(+), 520 deletions(-)

commit 6bfb9e6aaf0adad441d693a679c30ef30aeb5c14
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 16:22:23 2009 +0200

    java directory moved into bindings directory II

 Makefile.am               |    8 ++------
 bindings/java/Makefile.am |    2 +-
 configure.in              |    4 ++--
 3 files changed, 5 insertions(+), 9 deletions(-)

commit 3de435a07d460e7eb2423a75e71a409b0f1143e2
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 16:22:00 2009 +0200

    java directory moved into bindings directory

 bindings/java/Context.cpp          |   96 +++++++++++++
 bindings/java/Makefile.am          |   58 ++++++++
 bindings/java/Socket.cpp           |  272 ++++++++++++++++++++++++++++++++++++
 bindings/java/org/zmq/Context.java |   50 +++++++
 bindings/java/org/zmq/Socket.java  |  112 +++++++++++++++
 java/Context.cpp                   |   96 -------------
 java/Makefile.am                   |   58 --------
 java/Socket.cpp                    |  272 ------------------------------------
 java/org/zmq/Context.java          |   50 -------
 java/org/zmq/Socket.java           |  112 ---------------
 10 files changed, 588 insertions(+), 588 deletions(-)

commit d16b3bc0c93452a4be7d06525793ac5190e38031
Merge: 35c58dc 10dd8c5
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 16 15:52:39 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 35c58dc7331e3c5033b16829dff40437efe97a81
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 16 15:37:20 2009 +0200

    ZMQII-1: fix for devpoll, kqueue & poll

 src/devpoll.cpp |    3 ++-
 src/kqueue.cpp  |    3 ++-
 src/poll.cpp    |    4 ++--
 3 files changed, 6 insertions(+), 4 deletions(-)

commit 10dd8c53460a28849aacf7d2e24b63d7fae11ae0
Merge: 03d494d fc7715b
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 15:36:56 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 03d494d4f074a8707274e6d5fd21ac6dca917344
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 15:36:38 2009 +0200

    added udp:// transport prefix for PGM UDP encapsulation

 src/pgm_receiver.cpp |    4 ++--
 src/pgm_receiver.hpp |    2 +-
 src/pgm_sender.cpp   |   10 ++++------
 src/pgm_sender.hpp   |    2 +-
 src/pgm_socket.cpp   |   33 +++++++--------------------------
 src/pgm_socket.hpp   |    2 +-
 src/socket_base.cpp  |   13 +++++++++----
 7 files changed, 25 insertions(+), 41 deletions(-)

commit fc7715b4636be7a0d49f27234359ddfddce23f5b
Merge: f1c72d6 c6665f4
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 16 15:27:39 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit f1c72d693e3bd252866a1f78e575493573eb57fe
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 16 15:26:49 2009 +0200

    ZMQII-4: Failure in dev/poll poller

 src/zmq_connecter.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit c6665f46be7eb701866441087c35cdb1a08fc641
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 14:57:22 2009 +0200

    set rc to 0 in its declaration (pyzmq.cpp)

 python/pyzmq.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b2c3cae095abf9b61cd72cf19f053071a8c614a
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 14:55:11 2009 +0200

    setsockopt cleanup in rbzmq

 perf/ruby/local_thr.rb |    2 +-
 ruby/rbzmq.cpp         |  106 +++++++++++++++++++-----------------------------
 2 files changed, 43 insertions(+), 65 deletions(-)

commit 3534732c0614a764731fbea2431247068fa63330
Merge: 17800ac a71d002
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 14:26:04 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 17800ac85e667d18124d0e90f9387d6c90887570
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 14:25:49 2009 +0200

    setsockopt cleanup in pyzmq.cpp

 python/pyzmq.cpp |   31 +++++++++++++++++++++++--------
 1 file changed, 23 insertions(+), 8 deletions(-)

commit a71d00288008b7ed1dc91b6ad3d5fdf25a5e683e
Merge: 4631fde 7a5db60
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 16 14:03:42 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 4631fde7e385ea31e85f41290614afb9bda391c9
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 16 14:02:43 2009 +0200

    ZMQII-8: Failure during orphan pipe deallocation

 src/dispatcher.cpp         |    4 ++--
 src/session.cpp            |    6 +++++-
 src/zmq_connecter_init.cpp |    6 +++++-
 3 files changed, 12 insertions(+), 4 deletions(-)

commit 7a5db6041f4f11ed502fa7446da900509dedb00f
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 12:22:36 2009 +0200

    added newly added socket options to all language bindings, P2P model changed to PUB/SUB for throughput tests

 c/zmq.h                   |    2 +-
 java/Socket.cpp           |    1 +
 java/org/zmq/Socket.java  |    1 +
 perf/c/local_thr.c        |    8 +++++-
 perf/c/remote_thr.c       |    5 +++-
 perf/cpp/local_thr.cpp    |    8 +++++-
 perf/cpp/remote_thr.cpp   |    6 +++-
 perf/java/local_thr.java  |   68 ++++++++++++++++++++++++---------------------
 perf/java/remote_thr.java |   60 ++++++++++++++++++++-------------------
 perf/python/local_thr.py  |    8 +++++-
 perf/python/remote_thr.py |    6 +++-
 perf/ruby/local_thr.rb    |    7 ++++-
 perf/ruby/remote_thr.rb   |    6 +++-
 python/pyzmq.cpp          |   18 +++++++++++-
 ruby/rbzmq.cpp            |    5 ++++
 src/socket_base.cpp       |   11 ++++++--
 16 files changed, 149 insertions(+), 71 deletions(-)

commit 9c522dccaf0b2c8074bd96fbfb4c968f45748ba4
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 16 11:02:18 2009 +0200

    reconnect added to zmq_connecter

 perf/c/remote_lat.c        |   10 ++++++----
 perf/cpp/remote_lat.cpp    |    5 ++++-
 src/session.cpp            |    9 ++++++---
 src/session.hpp            |    5 ++++-
 src/socket_base.cpp        |    4 ++--
 src/zmq_connecter.cpp      |   22 +++++++++++++++++-----
 src/zmq_connecter.hpp      |    5 ++++-
 src/zmq_connecter_init.cpp |   22 ++++++++++++++++++++--
 src/zmq_engine.cpp         |    1 +
 src/zmq_engine.hpp         |    1 +
 src/zmq_listener_init.cpp  |    2 +-
 11 files changed, 66 insertions(+), 20 deletions(-)

commit 6e03cb2f3eb083e1de8e7161d3ab21b52c87eece
Merge: bce2e60 9fbdcc7
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 16 10:56:55 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 9fbdcc7940823634d82f51d2b124ccfbca6e9b17
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 10:35:23 2009 +0200

    removed reset method from zmq_decoder_t

 src/pgm_receiver.cpp |   25 +++++++++++++++----------
 src/pgm_receiver.hpp |    2 +-
 src/zmq_decoder.cpp  |   10 ----------
 src/zmq_decoder.hpp  |    2 --
 4 files changed, 16 insertions(+), 23 deletions(-)

commit 969522bbf55467b6f6e8113be28451d087060843
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 16 10:11:01 2009 +0200

    added OpenPGM receiver - ZMQ_SUB

 c/zmq.h              |    1 +
 src/Makefile.am      |    2 +
 src/options.cpp      |    3 +-
 src/options.hpp      |    7 +-
 src/pgm_receiver.cpp |  202 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/pgm_receiver.hpp |   98 ++++++++++++++++++++++++
 src/pgm_sender.cpp   |    7 +-
 src/pgm_sender.hpp   |    2 +-
 src/pgm_socket.cpp   |   17 +++--
 src/socket_base.cpp  |   75 +++++++++++++++++--
 src/sub.cpp          |    6 ++
 11 files changed, 395 insertions(+), 25 deletions(-)

commit bce2e60bbb3b7f799a532d9b8f2e171c570b9fea
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 16 09:50:39 2009 +0200

    more errors from send & recv handled decently on windows

 src/tcp_socket.cpp |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 0381a78c0484012e760d61051f325c71136df17e
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 13:47:15 2009 +0200

    added reset method into zmq_decoder_t class

 src/zmq_decoder.cpp |   10 ++++++++++
 src/zmq_decoder.hpp |    2 ++
 2 files changed, 12 insertions(+)

commit 79d4a6debf2f4a6970c1137f15426ba0c3535ac0
Merge: 7653f34 98b8e9b
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 12:01:07 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 7653f34df0aae4689d0ccc563a2f111f4793e539
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 12:00:48 2009 +0200

    fixed pub_t class creating ZMQ_SUB socket_base_t

 src/pub.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98b8e9b54dd8c67006422106b478a3a6eab07869
Merge: a841774 3a3bcd3
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 15 10:06:42 2009 +0200

    Merge branch 'master' of github.com:sustrik/zeromq2

commit a841774cbd6363e6ddccc7a56e9a97d1c1481a76
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 15 10:04:43 2009 +0200

    forwarder renamed to zmq_forwarder (MSVC build)

 msvc/forwarder/forwarder.vcproj         |  174 -------------------------------
 msvc/msvc.sln                           |   10 +-
 msvc/zmq_forwarder/zmq_forwarder.vcproj |  174 +++++++++++++++++++++++++++++++
 3 files changed, 179 insertions(+), 179 deletions(-)

commit 3a3bcd337fb8000aef6c8f5ca3dd1b10475d7ab0
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 09:57:11 2009 +0200

    pgm_sender code beautiication

 src/pgm_sender.hpp |   11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit f44b215a60f50e8730a50522d7b9f2d5b4381d19
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 09:47:25 2009 +0200

    added out_event call into pgm_sender_t revive

 src/pgm_sender.cpp |   23 +----------------------
 1 file changed, 1 insertion(+), 22 deletions(-)

commit 712c7bd8954a801526e87e652840f7087f9af706
Merge: 3642813 35e82b4
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 09:46:08 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 35e82b460549e227f6c3409be32d2c657955628c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Tue Sep 15 09:45:32 2009 +0200

    forwarder renamed to zmq_forwarder

 configure.in                            |    2 +-
 devices/Makefile.am                     |    4 +-
 devices/forwarder/Makefile.am           |    9 ---
 devices/forwarder/forwarder.cpp         |  122 -------------------------------
 devices/zmq_forwarder/Makefile.am       |    9 +++
 devices/zmq_forwarder/zmq_forwarder.cpp |  122 +++++++++++++++++++++++++++++++
 6 files changed, 134 insertions(+), 134 deletions(-)

commit 364281343ce0fd03b25bc6b1b451ee7ba8db436b
Merge: bdf22e9 f7ad4a2
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 09:44:44 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit bdf22e9c2fe82366283f4edc02fd59c37fdb2c4b
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 15 09:43:42 2009 +0200

    deleted useles iostream include from socket_base.cpp

 src/socket_base.cpp |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit f7ad4a203ad184d97002111f4ffb8bfe6a8f7c01
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Mon Sep 14 17:04:57 2009 +0200

    forwarder device compilable on windows

 foreign/xmlParser/xmlParser.cpp |   12 ++-
 msvc/forwarder/forwarder.vcproj |  174 +++++++++++++++++++++++++++++++++++++++
 msvc/msvc.sln                   |    9 ++
 python/pyzmq.cpp                |    3 -
 ruby/rbzmq.cpp                  |    3 +-
 5 files changed, 196 insertions(+), 5 deletions(-)

commit 6cfd175e31eec44d215bbc237f2f1d94bfeac06d
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 14 16:45:53 2009 +0200

    forwarder device added

 Makefile.am                     |    4 +-
 configure.in                    |   39 +++++++++----
 devices/Makefile.am             |    6 ++
 devices/forwarder/Makefile.am   |    9 +++
 devices/forwarder/forwarder.cpp |  122 +++++++++++++++++++++++++++++++++++++++
 5 files changed, 168 insertions(+), 12 deletions(-)

commit e2900ce0a1b11ec212aeaf42bbefb26a54697c25
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 14 14:30:15 2009 +0200

    xmlParser added

 foreign/xmlParser/xmlParser.cpp | 2888 +++++++++++++++++++++++++++++++++++++++
 foreign/xmlParser/xmlParser.hpp |  762 +++++++++++
 2 files changed, 3650 insertions(+)

commit 2bc9419ced21151fe90c530758dc85b7024fdb70
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 14 13:54:30 2009 +0200

    ZMQII-10: Make connections interrupted during the init phase be closed silently

 src/zmq_decoder.cpp       |   13 +++++++++++--
 src/zmq_listener_init.cpp |    7 +++++--
 2 files changed, 16 insertions(+), 4 deletions(-)

commit 37cacc5700eaaaddbe2df6e3affeca4a335b023a
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Mon Sep 14 12:28:13 2009 +0200

    ZMQII-1: Win32 - failure on shutdown

 java/Socket.cpp           |    2 ++
 msvc/libzmq/libzmq.vcproj |    4 ++++
 src/select.cpp            |    4 ++--
 src/socket_base.cpp       |    2 +-
 4 files changed, 9 insertions(+), 3 deletions(-)

commit c806aabb2d3e6b1ba9e3f61319f23d45c7f9a007
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 14 11:25:57 2009 +0200

    java binding sets socket options using setsockopt function

 c/zmq.h                  |   19 ++++----
 java/Socket.cpp          |  114 +++++++++++++++++++---------------------------
 java/org/zmq/Socket.java |   58 ++++++-----------------
 src/options.cpp          |    5 +-
 src/options.hpp          |    1 -
 src/socket_base.cpp      |   16 ++-----
 6 files changed, 77 insertions(+), 136 deletions(-)

commit 36707529a7d82b164b59d42fe0d5d8a35c3dd279
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 14 09:40:35 2009 +0200

    minor merge problem corrected

 src/pub.cpp |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 89b1f2782ca6a1db9c68b7d642b5a41cc4d56414
Merge: 47350ad 1a4d6f9
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 11 18:18:25 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 47350adcb6ea48512d732bc323eb1835a5ac9908
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 11 18:16:47 2009 +0200

    separate class for PUB-style socket added

 c/zmq.h            |    6 +++---
 src/Makefile.am    |    2 ++
 src/app_thread.cpp |    5 ++++-
 src/pub.cpp        |   39 +++++++++++++++++++++++++++++++++++++++
 src/pub.hpp        |   41 +++++++++++++++++++++++++++++++++++++++++
 src/sub.cpp        |   12 ++++++++++++
 src/sub.hpp        |    2 ++
 7 files changed, 103 insertions(+), 4 deletions(-)

commit 1a4d6f91194c52795808baa07dcd61a20ff599be
Author: malosek <malosek@fastmq.com>
Date:   Fri Sep 11 17:58:37 2009 +0200

    added OpenPGM sender - ZMQ_PUB

 Makefile.am         |    4 +-
 c/zmq.h             |    2 +
 src/Makefile.am     |    6 +-
 src/app_thread.cpp  |    2 +-
 src/config.hpp      |    4 +-
 src/options.cpp     |    4 +-
 src/options.hpp     |    6 +
 src/pgm_sender.cpp  |  224 +++++++++++++++
 src/pgm_sender.hpp  |  109 ++++++++
 src/pgm_socket.cpp  |  754 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/pgm_socket.hpp  |  153 +++++++++++
 src/socket_base.cpp |  105 ++++++-
 src/socket_base.hpp |    5 +-
 src/sub.cpp         |    2 +-
 14 files changed, 1360 insertions(+), 20 deletions(-)

commit e940878b3f8ff332df534c4df463cfdf085cc787
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Fri Sep 11 16:59:47 2009 +0200

    build on win32 fixed

 msvc/libzmq/libzmq.vcproj |    8 ++++++++
 src/socket_base.cpp       |    2 +-
 src/tcp_connecter.cpp     |    2 +-
 3 files changed, 10 insertions(+), 2 deletions(-)

commit 7be7962f9802b48e66663416097eb76edfa83e1e
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 11 16:23:16 2009 +0200

    prefix-style message filtering added

 src/sub.cpp |   61 +++++++++++++++++++++++++++++++++++++++++++++--------------
 src/sub.hpp |   10 ++++++++--
 2 files changed, 55 insertions(+), 16 deletions(-)

commit 42ad2aa02d3b14eaa3c36c3f1a5a5789546ba411
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 11 15:51:35 2009 +0200

    ZMQII-7: Pipe detach fails on shutdown

 src/socket_base.cpp |    1 +
 1 file changed, 1 insertion(+)

commit 29c5930d0b9a4a1df3b90819bdfbfff6a66fedd0
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 11 14:17:57 2009 +0200

    asserts for invalid indexes in pipe reader & writer added

 src/pipe.cpp |    2 ++
 1 file changed, 2 insertions(+)

commit e0d1294c4bae51a2bc83a09225e89dddc9b6dcf4
Merge: 5daa0de a91b449
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 11 13:20:57 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 5daa0dec0f473c84aab6b12cdc5541335e74f07f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 11 13:20:24 2009 +0200

    ZMQII-5: Only one consumer in a process gets the message

 src/session.cpp            |   23 ++++++++++++++---------
 src/zmq_connecter_init.cpp |    4 +++-
 src/zmq_engine.cpp         |    2 ++
 src/zmq_listener_init.cpp  |    4 +++-
 4 files changed, 22 insertions(+), 11 deletions(-)

commit a91b44977201e4b3891c70da0472a332f60a39fc
Author: malosek <malosek@fastmq.com>
Date:   Fri Sep 11 11:21:40 2009 +0200

    Revert "link libzmq with glib when congifured --with-pgm"

    This reverts commit 88695aaee607e6f4db1f4fd052e2596653fb18b2.

 c/zmq.h                 |    2 --
 perf/cpp/remote_thr.cpp |   13 +--------
 src/Makefile.am         |    6 +---
 src/config.hpp          |    4 +--
 src/options.cpp         |    4 +--
 src/options.hpp         |    6 ----
 src/socket_base.cpp     |   74 ++++++++---------------------------------------
 7 files changed, 16 insertions(+), 93 deletions(-)

commit 88695aaee607e6f4db1f4fd052e2596653fb18b2
Author: malosek <malosek@fastmq.com>
Date:   Fri Sep 11 11:13:15 2009 +0200

    link libzmq with glib when congifured --with-pgm

 c/zmq.h                 |    2 ++
 perf/cpp/remote_thr.cpp |   13 ++++++++-
 src/Makefile.am         |    6 +++-
 src/config.hpp          |    4 ++-
 src/options.cpp         |    4 ++-
 src/options.hpp         |    6 ++++
 src/socket_base.cpp     |   74 +++++++++++++++++++++++++++++++++++++++--------
 7 files changed, 93 insertions(+), 16 deletions(-)

commit f824b8a067c60b32260c56020742d6428ed3bb98
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Sep 10 16:59:22 2009 +0200

    classify error from async connect as network related or 0MQ bugs

 src/tcp_connecter.cpp |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit f674c9269e04546da22e45ef6fff9303441680ea
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Sep 10 16:32:06 2009 +0200

    ZMQII-2: SIGSEGV in zmq_connecter_init_t::read

 src/zmq_decoder.cpp |    2 +-
 src/zmq_encoder.cpp |    2 +-
 src/zmq_engine.cpp  |    2 ++
 3 files changed, 4 insertions(+), 2 deletions(-)

commit 93e70ee583489034c9f3b92fb87b374707afd5d5
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Sep 10 15:20:54 2009 +0200

    throughput tests use P2P sockets consistently

 perf/cpp/remote_thr.cpp   |    2 +-
 perf/java/local_thr.java  |    2 +-
 perf/java/remote_thr.java |    2 +-
 perf/ruby/local_thr.rb    |    2 +-
 perf/ruby/remote_thr.rb   |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit 95944551be93665fe4dcadbe00168da553b7d82f
Merge: 5acef9f b3f32e2
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 10 12:04:26 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit b3f32e219ec15a582b6fd03b155e0861443690f6
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Sep 10 12:00:47 2009 +0200

    ZMQII-3: cheap and nasty implementation of message filtering

 c/zmq.h             |    2 ++
 src/Makefile.am     |    2 ++
 src/app_thread.cpp  |   18 +++++++++--
 src/socket_base.cpp |    5 ++++
 src/socket_base.hpp |    2 +-
 src/sub.cpp         |   82 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/sub.hpp         |   51 ++++++++++++++++++++++++++++++++
 7 files changed, 159 insertions(+), 3 deletions(-)

commit 5acef9fc96280df934176b02de724eb904e4bba3
Author: malosek <malosek@fastmq.com>
Date:   Thu Sep 10 11:21:05 2009 +0200

    added --with-pgm option, libpgm-1.2.14 build within 0mq build system

 Makefile.am                           |    3 +
 configure.in                          |  119 +++++++++++++++++++++++++++++++--
 foreign/openpgm/libpgm-1.2.14.tar.bz2 |  Bin 0 -> 280029 bytes
 src/Makefile.am                       |   64 +++++++++++++++++-
 src/platform.hpp.in                   |    3 +
 5 files changed, 183 insertions(+), 6 deletions(-)

commit d81d3412520c9fed36f39462840c7d35815f4a87
Merge: 1864832 4cc923b
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 9 12:14:04 2009 +0200

    Merge branch 'master' of github.com:sustrik/zeromq2

commit 1864832adaa173b7c85d4321b8ff8c396ce6b9af
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 9 12:13:19 2009 +0200

    building zmq.jar on win32 fixed

 msvc/java/java.vcproj |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4cc923b0252a0f1f0ee52508b7a3108e8e3c0950
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 9 11:19:05 2009 +0200

    Stop configure, when could not link with libuuid

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65b8b2d2c78867ee2671f995f5f7c805abd00df2
Merge: 305b81d d743d97
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 9 11:08:39 2009 +0200

    Merge branch 'master' of github.com:sustrik/zeromq2

commit 305b81dbdf63ab1b66733a330b2c64a980712b8b
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 9 11:07:48 2009 +0200

    higher precision time measurement in python perf tests

 perf/python/local_thr.py  |    8 ++++----
 perf/python/remote_lat.py |   11 ++++++-----
 2 files changed, 10 insertions(+), 9 deletions(-)

commit d743d97e365b1d430b6c63de2782392a5f8f5305
Author: malosek <malosek@fastmq.com>
Date:   Wed Sep 9 10:37:40 2009 +0200

    Updated AUTHORS, ChangeLog, README and added COPYING.LESSER files

 AUTHORS        |   38 ++++++++++
 COPYING.LESSER |  166 ++++++++++++++++++++++++++++++++++++++++
 ChangeLog      |  231 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 README         |    4 +
 4 files changed, 439 insertions(+)

commit 4d07d7cabe1a865812cf5d95a84557880e3c3096
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 9 10:08:46 2009 +0200

    fix of async connect on win32

 src/tcp_connecter.cpp |    4 +++-
 src/zmq_connecter.cpp |    2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit c99f39abc669084fd3a94675ee98e235448ad5a4
Merge: 37d8371 cb78991
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 9 09:07:11 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 37d8371967308ab1e541cf58b91e368b3e0b526c
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Wed Sep 9 09:03:30 2009 +0200

    async connect bug fixed

 src/zmq_connecter.cpp |   19 ++++++-------------
 1 file changed, 6 insertions(+), 13 deletions(-)

commit cb78991f8e20fa35d99fa209be659c0aed59de47
Merge: 734a62c d3fb9f9
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 8 16:55:28 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 734a62c12d2e2fb009ccf97d7d188060a474cc17
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 8 16:55:03 2009 +0200

    Sparc solaris port

 configure.in       |    1 +
 src/devpoll.cpp    |    6 ++++--
 src/object.hpp     |    2 +-
 src/tcp_socket.cpp |    3 ++-
 src/zmq.cpp        |    3 ++-
 5 files changed, 10 insertions(+), 5 deletions(-)

commit d3fb9f90af73a46e02b7e8780a8db95a31360d56
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 8 16:16:01 2009 +0200

    missing java MSVC project added

 msvc/java/java.vcproj |  244 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 244 insertions(+)

commit dadfd243649fbde768a24c677fa952f90d00589d
Merge: ef34c94 844b590
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 8 15:11:19 2009 +0200

    Merge branch 'master' of github.com:sustrik/zeromq2

commit ef34c94c3a9cbda87b0a4512ec56415b023aff0b
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 8 15:10:10 2009 +0200

    win build for python

 msvc/msvc.sln             |    8 +++
 msvc/python/python.vcproj |  176 +++++++++++++++++++++++++++++++++++++++++++++
 python/pyzmq.cpp          |    9 +++
 3 files changed, 193 insertions(+)

commit 844b590b5e348d8513ed574f6548cc0be41574af
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 8 15:06:08 2009 +0200

    added libzmq.pc.in file

 configure.in     |    2 +-
 src/Makefile.am  |    2 ++
 src/libzmq.pc.in |   10 ++++++++++
 3 files changed, 13 insertions(+), 1 deletion(-)

commit b3fc14522574ccad233bee02ea135d8a93fb2441
Merge: 2a4a10c 3069b6b
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 8 14:54:52 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 2a4a10c8be92c5ce6314378fc4de163888075279
Author: malosek <malosek@fastmq.com>
Date:   Tue Sep 8 14:54:04 2009 +0200

    build system tuning

 Makefile.am             |    8 ++++++--
 configure.in            |   37 +++++++++++++++++++++++++++++++++----
 java/Makefile.am        |    6 +++---
 perf/Makefile.am        |   25 +++++++++++++++++++++++--
 perf/java/Makefile.am   |    5 +++++
 perf/python/Makefile.am |    6 +-----
 perf/ruby/Makefile.am   |    1 +
 python/pyzmq.cpp        |    2 +-
 ruby/rbzmq.cpp          |    3 ++-
 src/Makefile.am         |    2 +-
 10 files changed, 76 insertions(+), 19 deletions(-)

commit 3069b6bd54486346f7bfcce58d6a5e34d129965c
Author: Martin Sustrik <sustrik@fastmq.com>
Date:   Tue Sep 8 13:55:13 2009 +0200

    win port of java binding + java perf tests

 java/Context.cpp                      |    7 ++
 java/Message.cpp                      |  138 ---------------------------------
 java/Socket.cpp                       |    7 ++
 java/org/zmq/Socket.java              |    2 +-
 msvc/j_local_lat/j_local_lat.vcproj   |   78 +++++++++++++++++++
 msvc/j_local_thr/j_local_thr.vcproj   |   78 +++++++++++++++++++
 msvc/j_remote_lat/j_remote_lat.vcproj |   78 +++++++++++++++++++
 msvc/j_remote_thr/j_remote_thr.vcproj |   78 +++++++++++++++++++
 msvc/msvc.sln                         |   45 +++++++++++
 perf/c/local_thr.c                    |    3 +-
 10 files changed, 374 insertions(+), 140 deletions(-)

commit ec6822a477b89ac77afc90425bf36c4829dbef3d
Author: unknown <sustrik@.(none)>
Date:   Tue Sep 8 11:30:49 2009 +0200

    win port for c and cpp perf tests

 c/zmq.h                                   |    8 +-
 cpp/zmq.hpp                               |    7 ++
 msvc/c_local_lat/c_local_lat.vcproj       |  176 +++++++++++++++++++++++++++++
 msvc/c_local_thr/c_local_thr.vcproj       |  176 +++++++++++++++++++++++++++++
 msvc/c_remote_lat/c_remote_lat.vcproj     |  176 +++++++++++++++++++++++++++++
 msvc/c_remote_thr/c_remote_thr.vcproj     |  176 +++++++++++++++++++++++++++++
 msvc/cpp_local_lat/cpp_local_lat.vcproj   |  176 +++++++++++++++++++++++++++++
 msvc/cpp_local_thr/cpp_local_thr.vcproj   |  176 +++++++++++++++++++++++++++++
 msvc/cpp_remote_lat/cpp_remote_lat.vcproj |  176 +++++++++++++++++++++++++++++
 msvc/cpp_remote_thr/cpp_remote_thr.vcproj |  176 +++++++++++++++++++++++++++++
 msvc/libzmq/libzmq.vcproj                 |   10 +-
 msvc/msvc.sln                             |   72 ++++++++++++
 perf/c/local_lat.c                        |    3 +-
 perf/c/local_thr.c                        |   24 ++--
 perf/c/remote_lat.c                       |   19 +---
 perf/c/remote_thr.c                       |    3 +-
 perf/cpp/local_lat.cpp                    |    3 +-
 perf/cpp/local_thr.cpp                    |   20 +---
 perf/cpp/remote_lat.cpp                   |   16 +--
 perf/cpp/remote_thr.cpp                   |    3 +-
 src/fd_signaler.cpp                       |    2 +-
 src/tcp_connecter.cpp                     |   18 ++-
 src/tcp_listener.cpp                      |   89 ++++++++++++++-
 src/tcp_socket.cpp                        |    5 +
 src/zmq.cpp                               |   67 ++++++++++-
 25 files changed, 1702 insertions(+), 75 deletions(-)

commit b71c3005e68d02f800ff09bcacece79d167bff75
Author: malosek <malosek@fastmq.com>
Date:   Mon Sep 7 17:06:47 2009 +0200

    include directory split into c and cpp dirs, added --with-c and --with-cpp configure options

 Makefile.am          |    2 -
 autogen.sh           |    8 +-
 c/zmq.h              |  206 +++++++++++++++++++++++++++++++++++++
 configure.in         |   45 +++++---
 cpp/zmq.hpp          |  276 ++++++++++++++++++++++++++++++++++++++++++++++++++
 include/zmq.h        |  206 -------------------------------------
 include/zmq.hpp      |  276 --------------------------------------------------
 perf/c/Makefile.am   |    4 +-
 perf/cpp/Makefile.am |    4 +-
 src/Makefile.am      |   15 ++-
 src/app_thread.cpp   |    2 +-
 src/dispatcher.cpp   |    2 +-
 src/i_inout.hpp      |    2 +-
 src/io_thread.cpp    |    2 +-
 src/msg_content.hpp  |    2 +-
 src/pipe.cpp         |    2 +-
 src/pipe.hpp         |    2 +-
 src/socket_base.cpp  |    2 +-
 src/zmq.cpp          |    2 +-
 src/zmq_decoder.hpp  |    2 +-
 src/zmq_encoder.hpp  |    2 +-
 21 files changed, 547 insertions(+), 517 deletions(-)

commit f895426c1885729f4a4a20b1eb543a92915aed85
Author: unknown <sustrik@.(none)>
Date:   Mon Sep 7 15:41:43 2009 +0200

    initial changes for win port

 include/zmq.h             |    5 +-
 msvc/libzmq/libzmq.vcproj |  520 +++++++++++++++++++++++++++++++++++++++++++++
 msvc/msvc.sln             |   20 ++
 msvc/platform.hpp         |   59 +++++
 src/app_thread.cpp        |    2 +
 src/fd_signaler.cpp       |    1 +
 src/options.hpp           |    2 +
 src/pipe.cpp              |    4 +-
 src/tcp_connecter.cpp     |   75 ++++++-
 src/tcp_listener.cpp      |    1 -
 src/tcp_socket.cpp        |   74 ++++++-
 src/uuid.cpp              |   13 +-
 src/uuid.hpp              |   11 +-
 src/zmq_connecter.cpp     |    2 +-
 14 files changed, 764 insertions(+), 25 deletions(-)

commit 87ccbb9fae0f9234f82f9a9ec6a215f5e73209d3
Merge: 67253f3 d62c742
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Sep 7 11:10:58 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit d62c74232a4c1edd38004933afd0c7dc119bd98b
Merge: 11a6cb9 63b56d7
Author: Martin Sustrik <sustrik@jozsi.(none)>
Date:   Mon Sep 7 11:01:42 2009 +0200

    Merge branch 'master' of git://github.com/sustrik/zeromq2

commit 11a6cb925f7ff3d17f48edccc886839b4d49ef0b
Author: Martin Sustrik <sustrik@jozsi.(none)>
Date:   Mon Sep 7 11:00:20 2009 +0200

    Ruby binding functional

 perf/ruby/local_lat.rb  |   66 ++-----
 perf/ruby/local_thr.rb  |   90 +++-------
 perf/ruby/remote_lat.rb |   64 +++----
 perf/ruby/remote_thr.rb |   48 ++---
 ruby/Makefile.am        |    2 +-
 ruby/rbzmq.cpp          |  292 ++++++++++++++++++++++++++++++
 ruby/zmq.cpp            |  460 -----------------------------------------------
 7 files changed, 382 insertions(+), 640 deletions(-)

commit 67253f3186488db93dee23bd9194419f58f0b1d3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Sep 5 09:30:12 2009 +0200

    Java perf tests added

 java/Context.cpp          |   15 ++---
 java/Makefile.am          |   22 ++-----
 java/Socket.cpp           |  140 +++++++++++++++++++++++----------------------
 java/org/zmq/Context.java |    3 +
 java/org/zmq/Message.java |   66 ---------------------
 java/org/zmq/Socket.java  |   42 +++++++-------
 perf/cpp/local_thr.cpp    |    2 +-
 perf/cpp/remote_lat.cpp   |    6 +-
 perf/java/local_lat.java  |   55 ++++++++++++++++++
 perf/java/local_thr.java  |   65 +++++++++++++++++++++
 perf/java/remote_lat.java |   60 +++++++++++++++++++
 perf/java/remote_thr.java |   53 +++++++++++++++++
 12 files changed, 343 insertions(+), 186 deletions(-)

commit 63b56d7fb38624c32111f9188d54b6fefb10a0e5
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 4 16:21:39 2009 +0200

    python perf tests are included into distribution package

 configure.in            |    3 ++-
 perf/Makefile.am        |    4 ++--
 perf/python/Makefile.am |    5 +++++
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 4307baf7bcc71ca91da0175e79cdfbf6cc1ad770
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 4 16:02:41 2009 +0200

    python binding functional

 perf/c/local_lat.c        |   11 +++++++----
 perf/c/local_thr.c        |   10 ++++++----
 perf/c/remote_lat.c       |   11 +++++++----
 perf/c/remote_thr.c       |   11 +++++++----
 perf/cpp/local_lat.cpp    |    8 ++++----
 perf/cpp/local_thr.cpp    |    8 ++++----
 perf/cpp/remote_lat.cpp   |    8 ++++----
 perf/cpp/remote_thr.cpp   |    8 ++++----
 perf/python/local_lat.py  |    6 +++---
 perf/python/remote_lat.py |    4 ++--
 perf/python/remote_thr.py |    2 +-
 src/app_thread.cpp        |    4 +---
 src/dispatcher.cpp        |   36 +++++++++++++++++++++++++++++++++++-
 src/dispatcher.hpp        |   25 ++++++++++++++++++++++---
 src/object.cpp            |    5 +++++
 src/object.hpp            |    1 +
 src/session.cpp           |    7 ++++++-
 src/socket_base.cpp       |   12 +++++++++++-
 src/zmq.cpp               |    3 +--
 19 files changed, 131 insertions(+), 49 deletions(-)

commit 450b31c3b263ee6ceea27517a2a969d0c74bcd7e
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 4 11:08:13 2009 +0200

    bug in python binding fixed

 python/pyzmq.cpp |   25 ++++++++-----------------
 1 file changed, 8 insertions(+), 17 deletions(-)

commit 103cbee6a509e55ff5def82eb5ec3ef7feb319a3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Sep 4 09:51:42 2009 +0200

    couple of bugs fixed

 src/Makefile.am            |    6 +++++-
 src/tcp_socket.cpp         |    2 +-
 src/zmq_connecter_init.cpp |    1 -
 src/zmq_engine.cpp         |    7 ++-----
 src/zmq_listener_init.cpp  |    3 ++-
 5 files changed, 10 insertions(+), 9 deletions(-)

commit 4914e5c9d192ac6763e5da6fa28ea503ee769bf0
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 2 16:16:25 2009 +0200

    O(1) socket removal

 src/app_thread.cpp  |   12 ++++++------
 src/socket_base.cpp |   14 +++++++++++++-
 src/socket_base.hpp |    7 +++++++
 3 files changed, 26 insertions(+), 7 deletions(-)

commit f92de9b2a9ad73fd7cd966e65b5a06b725e779fc
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 2 14:59:53 2009 +0200

    bug during terminal shutdown fixed

 perf/c/local_lat.c      |   13 +++++++++----
 perf/c/local_thr.c      |    5 ++++-
 perf/c/remote_lat.c     |   15 ++++++++++-----
 perf/c/remote_thr.c     |    3 +++
 perf/cpp/local_thr.cpp  |    2 +-
 perf/cpp/remote_lat.cpp |    2 +-
 src/session.cpp         |   18 +++++++++++++-----
 7 files changed, 41 insertions(+), 17 deletions(-)

commit 702fdbb5dd6a83e7f656e8d1190e695ebb636765
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 2 11:58:39 2009 +0200

    messages that may have been received in the init phase are flushed immediately after engine is plugged in

 src/zmq_engine.cpp |    3 +++
 1 file changed, 3 insertions(+)

commit 75a5a8732cd5be1bb3bff608e352bf4ac624ffd4
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 2 10:59:31 2009 +0200

    --disable-shared & C perf tests: a better way

 configure.in        |    1 +
 perf/c/Makefile.am  |    8 ++++----
 src/platform.hpp.in |    3 +++
 3 files changed, 8 insertions(+), 4 deletions(-)

commit 947b46319314dfab0e545282e9ccfc708d6f57e3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 2 10:46:10 2009 +0200

    building C perf tests with --disable-shared fixed

 perf/c/Makefile.am |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5e08a89d1c0edf44e15f262dd0f27a1c03bcd699
Merge: 6a5120b 1f06d99
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 2 10:23:01 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 6a5120b1f1c48d19b777f76ac756b00fb624d110
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Sep 2 10:22:23 2009 +0200

    python extension & perf tests

 include/zmq.h             |    6 +-
 perf/c/local_thr.c        |    6 +-
 perf/cpp/local_thr.cpp    |    5 +-
 perf/python/local_lat.py  |   42 +--
 perf/python/local_thr.py  |   44 +--
 perf/python/remote_lat.py |   43 +--
 perf/python/remote_thr.py |   17 +-
 python/pyzmq.cpp          |  924 ++++++++++++++++-----------------------------
 src/i_endpoint.hpp        |    2 +
 src/session.cpp           |   29 +-
 src/session.hpp           |   13 +-
 src/socket_base.cpp       |   30 +-
 src/socket_base.hpp       |    2 +
 13 files changed, 452 insertions(+), 711 deletions(-)

commit 1f06d99a0f563fdc32e9c00392f9875ba3009593
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Aug 31 13:11:46 2009 +0200

    Add Java binding

 Makefile.am               |    8 +-
 configure.in              |   54 ++++++++-
 java/Context.cpp          |   92 +++++++++++++++
 java/Makefile.am          |   72 ++++++++++++
 java/Message.cpp          |  138 +++++++++++++++++++++++
 java/Socket.cpp           |  276 +++++++++++++++++++++++++++++++++++++++++++++
 java/org/zmq/Context.java |   47 ++++++++
 java/org/zmq/Message.java |   66 +++++++++++
 java/org/zmq/Socket.java  |  141 +++++++++++++++++++++++
 9 files changed, 891 insertions(+), 3 deletions(-)

commit 0aacee389fdb553ef9925d0135eefcb501a67726
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Aug 31 11:31:32 2009 +0200

    POSIX threads don't use errno to report errors

    Fix simple_semaphore to follow POSIX threads convention for reporting
    errors.

 src/err.hpp              |    9 +++++----
 src/simple_semaphore.hpp |   12 ++++++------
 2 files changed, 11 insertions(+), 10 deletions(-)

commit 72fdf47d16c8d3ecd9da657b4649978e414d775c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Aug 31 12:50:53 2009 +0200

    python perf tests added

 perf/python/local_lat.py  |   67 ++++++++++++++++++++++++++++++++++++++++++++
 perf/python/local_thr.py  |   68 +++++++++++++++++++++++++++++++++++++++++++++
 perf/python/remote_lat.py |   59 +++++++++++++++++++++++++++++++++++++++
 perf/python/remote_thr.py |   50 +++++++++++++++++++++++++++++++++
 4 files changed, 244 insertions(+)

commit b6d345f4a6402cf2e831a8b9d113f036b394a0bc
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Aug 31 12:45:42 2009 +0200

    Ruby perf tests added

 perf/ruby/local_lat.rb  |   75 +++++++++++++++++++++++++++++++++++++++
 perf/ruby/local_thr.rb  |   90 +++++++++++++++++++++++++++++++++++++++++++++++
 perf/ruby/remote_lat.rb |   61 ++++++++++++++++++++++++++++++++
 perf/ruby/remote_thr.rb |   55 +++++++++++++++++++++++++++++
 4 files changed, 281 insertions(+)

commit 314deb61851a0ddc37228d24e9f4eb106461370a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 30 15:47:39 2009 +0200

    build system for perf/C and perf/C++

 Makefile.am             |    4 ++--
 configure.in            |    3 ++-
 include/zmq.h           |   24 ++++++++++++------------
 perf/Makefile.am        |    2 ++
 perf/c/Makefile.am      |   20 ++++++++++++++++++++
 perf/c/local_lat.c      |    2 +-
 perf/c/local_thr.c      |   19 ++++++++++---------
 perf/c/remote_lat.c     |    7 +++----
 perf/c/remote_thr.c     |    4 ++--
 perf/cpp/Makefile.am    |   20 ++++++++++++++++++++
 perf/cpp/local_lat.cpp  |    3 ++-
 perf/cpp/local_thr.cpp  |   10 ++++++----
 perf/cpp/remote_lat.cpp |    3 ++-
 perf/cpp/remote_thr.cpp |    3 ++-
 14 files changed, 86 insertions(+), 38 deletions(-)

commit 6c36673949b2256158e8914119d218dce311c585
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 30 15:03:16 2009 +0200

    C perf tests added

 perf/c/local_lat.c  |   70 +++++++++++++++++++++++++++++++++++++++
 perf/c/local_thr.c  |   91 +++++++++++++++++++++++++++++++++++++++++++++++++++
 perf/c/remote_lat.c |   90 ++++++++++++++++++++++++++++++++++++++++++++++++++
 perf/c/remote_thr.c |   67 +++++++++++++++++++++++++++++++++++++
 4 files changed, 318 insertions(+)

commit 4617fd9e9c50a9fa3a8cbf3b25e6061e3a8f10c8
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 30 09:14:15 2009 +0200

    c++ perf tests added

 .gitignore              |   12 +++++++-
 perf/cpp/local_lat.cpp  |   52 ++++++++++++++++++++++++++++++++++
 perf/cpp/local_thr.cpp  |   72 +++++++++++++++++++++++++++++++++++++++++++++++
 perf/cpp/remote_lat.cpp |   69 +++++++++++++++++++++++++++++++++++++++++++++
 perf/cpp/remote_thr.cpp |   50 ++++++++++++++++++++++++++++++++
 5 files changed, 254 insertions(+), 1 deletion(-)

commit 176879e5bbce6115ff5741f2426f689bda312109
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 30 08:18:31 2009 +0200

    engine virtualised; chatroom example removed

 .gitignore                 |    5 +++
 Makefile.am                |    5 ++-
 configure.in               |    3 +-
 examples/Makefile.am       |    2 --
 examples/chat/Makefile.am  |   15 ---------
 examples/chat/chatroom.cpp |   74 --------------------------------------------
 examples/chat/display.cpp  |   55 --------------------------------
 examples/chat/prompt.cpp   |   61 ------------------------------------
 src/Makefile.am            |    1 +
 src/command.hpp            |    2 +-
 src/i_engine.hpp           |   43 +++++++++++++++++++++++++
 src/object.cpp             |    5 ++-
 src/object.hpp             |    4 +--
 src/owned.cpp              |    2 +-
 src/owned.hpp              |    2 +-
 src/session.cpp            |    4 +--
 src/session.hpp            |    4 +--
 src/zmq_engine.hpp         |    9 +++---
 18 files changed, 67 insertions(+), 229 deletions(-)

commit 1d650934e477be32db9a3c64de077deed0416689
Author: tamara <tamara@jozsi.(none)>
Date:   Sat Aug 29 11:31:32 2009 +0200

    Ruby bidning added

 Makefile.am         |    8 +-
 configure.in        |   57 ++++++-
 ruby/Makefile.am    |   11 ++
 ruby/extconf.rb     |   24 +++
 ruby/zmq.cpp        |  460 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/platform.hpp.in |    3 +
 6 files changed, 559 insertions(+), 4 deletions(-)

commit 3666a49022f84b3d1888f630a78f3f8f28aadde1
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Aug 29 10:32:21 2009 +0200

    bug in identifying current thread fixed

 src/app_thread.cpp |    8 +++++---
 src/app_thread.hpp |    9 ++++++---
 src/thread.cpp     |   20 ++++++++++++++++++++
 src/thread.hpp     |    9 +++++++++
 4 files changed, 40 insertions(+), 6 deletions(-)

commit 6996ef6f1a0a50a754608df9444e425d0900b143
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Aug 29 09:41:50 2009 +0200

    improved error handling

 include/zmq.hpp      |  127 +++++++++++++++++++++-----------------------------
 src/ip.cpp           |    3 +-
 src/tcp_listener.cpp |    9 ++--
 src/tcp_listener.hpp |    5 +-
 src/zmq_listener.cpp |    4 --
 5 files changed, 61 insertions(+), 87 deletions(-)

commit cb09c6951e2c4405318b422a1f9213af3e4b6b8a
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Aug 28 16:51:46 2009 +0200

    pipe deallocation added

 src/command.hpp     |   11 +++++++
 src/dispatcher.cpp  |   20 +++++++++++++
 src/dispatcher.hpp  |   18 ++++++++++++
 src/i_endpoint.hpp  |    2 ++
 src/object.cpp      |   44 ++++++++++++++++++++++++++++
 src/object.hpp      |    8 +++++
 src/pipe.cpp        |   81 +++++++++++++++++++++++++++++++++++++++++++++++++--
 src/pipe.hpp        |   30 ++++++++++++++++---
 src/session.cpp     |   18 ++++++++++++
 src/session.hpp     |    2 ++
 src/socket_base.cpp |   80 +++++++++++++++++++++++++++++++++++++-------------
 src/socket_base.hpp |   13 +++------
 12 files changed, 290 insertions(+), 37 deletions(-)

commit 2dd501651592baa7f9e49f52e1321ae2b9b4e126
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Aug 27 16:24:21 2009 +0200

    multiple bugs fixed

 src/i_inout.hpp            |    8 ++++++++
 src/pipe.hpp               |    3 ++-
 src/session.cpp            |   13 ++++++++++++-
 src/session.hpp            |    1 +
 src/zmq_connecter_init.cpp |    6 ++++++
 src/zmq_connecter_init.hpp |    1 +
 src/zmq_encoder.cpp        |    1 -
 src/zmq_engine.cpp         |    5 ++++-
 src/zmq_listener_init.cpp  |   33 ++++++++++++++++++++++-----------
 src/zmq_listener_init.hpp  |    5 +++++
 10 files changed, 61 insertions(+), 15 deletions(-)

commit 67194267f89d63391288600f127205a2b7a8a5ae
Merge: 99c5d92 67c69f9
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Aug 27 10:55:26 2009 +0200

    Merge branch 'master' of git@github.com:sustrik/zeromq2

commit 99c5d9283622a0b37ee80f83ff4875c059fc5990
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Aug 27 10:54:28 2009 +0200

    pipes added

 include/zmq.h             |    2 +-
 src/Makefile.am           |    2 +
 src/app_thread.cpp        |   26 +++---
 src/app_thread.hpp        |    4 +-
 src/command.hpp           |   11 ++-
 src/config.hpp            |    8 ++
 src/i_endpoint.hpp        |   33 +++++++
 src/object.cpp            |   30 +++++-
 src/object.hpp            |    9 +-
 src/pipe.cpp              |  112 ++++++++++++++++++++++
 src/pipe.hpp              |  102 ++++++++++++++++++++
 src/session.cpp           |   56 ++++++++++-
 src/session.hpp           |   24 ++++-
 src/socket_base.cpp       |  227 +++++++++++++++++++++++++++++++++++++++++++--
 src/socket_base.hpp       |   42 ++++++++-
 src/ypipe.hpp             |   22 ++---
 src/yqueue.hpp            |    2 +-
 src/zmq_encoder.cpp       |    4 +-
 src/zmq_engine.cpp        |    7 +-
 src/zmq_engine.hpp        |    4 +
 src/zmq_listener_init.cpp |    3 +-
 21 files changed, 680 insertions(+), 50 deletions(-)

commit 67c69f952c956fb151c654726b4fc67e122722ff
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Wed Aug 26 15:50:37 2009 +0200

    make configure respect --with-python option

 configure.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit aacdb7a454686bfac93164d0e67e785658d48a3c
Author: tamara <tamara@jozsi.(none)>
Date:   Mon Aug 24 12:04:15 2009 +0200

    python build fix

 Makefile.am |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 77bc3790fa9e781ad26ec881175d22d807e16acf
Author: tamara <tamara@jozsi.(none)>
Date:   Mon Aug 24 11:17:16 2009 +0200

    python extension added

 Makefile.am        |    4 +-
 configure.in       |   59 +++-
 python/Makefile.am |    7 +
 python/pyzmq.cpp   |  756 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 python/setup.py.in |   14 +
 5 files changed, 837 insertions(+), 3 deletions(-)

commit 6be4b0143793ab5ceebc5d9d6bbe5c2f1333a0d2
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Fri Aug 21 14:29:22 2009 +0200

    session management implemented

 include/zmq.h              |   28 +++++------
 include/zmq.hpp            |   11 +++--
 src/Makefile.am            |   10 ++--
 src/i_inout.hpp            |    4 +-
 src/msg.hpp                |   49 -------------------
 src/msg_content.hpp        |   50 ++++++++++++++++++++
 src/object.cpp             |    5 +-
 src/object.hpp             |    4 ++
 src/owned.cpp              |   10 +++-
 src/owned.hpp              |    4 ++
 src/pipe.hpp               |    2 +-
 src/session.cpp            |   39 +++++++++++----
 src/session.hpp            |   15 ++++--
 src/socket_base.cpp        |   77 ++++++++++++++++++++----------
 src/socket_base.hpp        |   24 ++++++----
 src/zmq.cpp                |  111 +++++++++++++++++++++++--------------------
 src/zmq_connecter.cpp      |   11 +++--
 src/zmq_connecter.hpp      |   10 ++--
 src/zmq_connecter_init.cpp |   94 +++++++++++++++++++++++++++++++++++++
 src/zmq_connecter_init.hpp |   75 +++++++++++++++++++++++++++++
 src/zmq_decoder.hpp        |    2 +-
 src/zmq_encoder.hpp        |    2 +-
 src/zmq_init.cpp           |  112 --------------------------------------------
 src/zmq_init.hpp           |   82 --------------------------------
 src/zmq_listener.cpp       |    5 +-
 src/zmq_listener_init.cpp  |   96 +++++++++++++++++++++++++++++++++++++
 src/zmq_listener_init.hpp  |   71 ++++++++++++++++++++++++++++
 27 files changed, 621 insertions(+), 382 deletions(-)

commit a801b6d8b37557ccfb53030dca22f89a3f99b59c
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Aug 20 11:32:23 2009 +0200

    couple of bugs in shutdown mechanism fixed

 src/command.hpp       |   11 +++++++---
 src/object.cpp        |   43 ++++++++++++++++++++++++++++++++-------
 src/object.hpp        |   19 +++++++++++-------
 src/owned.cpp         |   53 ++++++++++++++++++++++++-------------------------
 src/owned.hpp         |   33 ++++++++++++++++++++----------
 src/session.cpp       |    5 ++++-
 src/session.hpp       |    2 +-
 src/socket_base.cpp   |   40 +++++++++++++++++++++++++++++++++++--
 src/socket_base.hpp   |   26 +++++++++++++++++++++---
 src/zmq_connecter.cpp |    4 ++--
 src/zmq_connecter.hpp |    2 +-
 src/zmq_engine.cpp    |    3 +--
 src/zmq_init.cpp      |    8 +++++---
 src/zmq_init.hpp      |    2 +-
 src/zmq_listener.cpp  |    4 ++--
 src/zmq_listener.hpp  |    2 +-
 16 files changed, 184 insertions(+), 73 deletions(-)

commit 131f2e309668d1e64cfcb4aeb869665d8018bcfe
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Aug 17 14:07:34 2009 +0200

    subscribe API removed

 examples/chat/display.cpp |    1 -
 include/zmq.h             |    3 ---
 include/zmq.hpp           |    6 ------
 src/socket_base.cpp       |    5 -----
 src/socket_base.hpp       |    1 -
 src/zmq.cpp               |    5 -----
 6 files changed, 21 deletions(-)

commit 059beca59d39d90a8ee0e1b07f840994962ea89e
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Aug 12 09:40:16 2009 +0200

    listener/connecter/init/session added

 include/zmq.h         |    2 +-
 src/Makefile.am       |   13 +++
 src/atomic.hpp        |  310 -------------------------------------------------
 src/i_inout.hpp       |   37 ++++++
 src/io_object.cpp     |   47 +-------
 src/io_object.hpp     |   50 +++-----
 src/options.cpp       |   29 +++++
 src/options.hpp       |   42 +++++++
 src/owned.cpp         |   74 ++++++++++++
 src/owned.hpp         |   82 +++++++++++++
 src/session.cpp       |   58 +++++++++
 src/session.hpp       |   57 +++++++++
 src/socket_base.cpp   |   29 ++---
 src/socket_base.hpp   |    8 +-
 src/zmq_connecter.cpp |   36 +++---
 src/zmq_connecter.hpp |   17 ++-
 src/zmq_decoder.cpp   |   78 +++++++++++++
 src/zmq_decoder.hpp   |   57 +++++++++
 src/zmq_encoder.cpp   |   76 ++++++++++++
 src/zmq_encoder.hpp   |   55 +++++++++
 src/zmq_engine.cpp    |  107 ++++++++++++++++-
 src/zmq_engine.hpp    |   33 +++++-
 src/zmq_init.cpp      |  110 ++++++++++++++++++
 src/zmq_init.hpp      |   82 +++++++++++++
 src/zmq_listener.cpp  |   25 ++--
 src/zmq_listener.hpp  |   11 +-
 26 files changed, 1070 insertions(+), 455 deletions(-)

commit bda766ab401b6c565fe9c2d0bc80c11bbbe84488
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 9 16:30:22 2009 +0200

    redundant interface (i_api) removed

 src/Makefile.am       |    2 --
 src/app_thread.cpp    |    5 ++---
 src/app_thread.hpp    |    6 ++---
 src/dispatcher.cpp    |    3 +--
 src/dispatcher.hpp    |    2 +-
 src/i_api.hpp         |   43 -----------------------------------
 src/i_poll_events.hpp |   60 ++++++++++++++++++++++++-------------------------
 src/socket_base.hpp   |   21 +++++++++--------
 src/zmq.cpp           |   19 ++++++++--------
 9 files changed, 57 insertions(+), 104 deletions(-)

commit 9f1f823b7b69ced56bdb0416feef71230cc7fd55
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 9 16:12:09 2009 +0200

    zmq_listener/zmq_connecter implemented

 src/Makefile.am       |    2 +
 src/io_object.cpp     |   13 +++---
 src/io_object.hpp     |   18 ++++----
 src/socket_base.cpp   |   12 +++++-
 src/tcp_connecter.cpp |   24 ++++++-----
 src/tcp_connecter.hpp |    9 +++-
 src/zmq_connecter.cpp |  110 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/zmq_connecter.hpp |   70 +++++++++++++++++++++++++++++++
 src/zmq_listener.cpp  |    9 ++--
 src/zmq_listener.hpp  |    5 +--
 10 files changed, 239 insertions(+), 33 deletions(-)

commit 3147ff8523d9736039c4582f5f62c323b23940d1
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 9 11:57:21 2009 +0200

    getsockopt implemented

 include/zmq.h       |    1 +
 src/socket_base.cpp |   69 +++++++++++++++++++++++++++++++++++++++++++++++----
 src/socket_base.hpp |   10 ++++++++
 3 files changed, 75 insertions(+), 5 deletions(-)

commit bde396f1561fb5e57e6e413a40d904586e186d42
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 9 11:21:47 2009 +0200

    fix to 3-thread synchronisation algorithm

 src/io_object.cpp    |   48 +++++++++++++++++++++++++++++++++++++++++++++++-
 src/io_object.hpp    |   21 ++++++++++++++++++++-
 src/socket_base.cpp  |    6 +++++-
 src/tcp_listener.cpp |   19 +++++++++++--------
 src/tcp_listener.hpp |   11 +++++++++--
 src/zmq_listener.cpp |   36 +++++++++++++++++++++++++++++++++++-
 src/zmq_listener.hpp |   15 +++++++++++++++
 7 files changed, 142 insertions(+), 14 deletions(-)

commit 5b5b513330e96e3e08d0c2c60d03044091976420
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sun Aug 9 09:24:48 2009 +0200

    socket options interface modeled as in BSD sockets

 include/zmq.h        |   28 ++++++++++++++--------------
 include/zmq.hpp      |   14 ++++++++++----
 src/Makefile.am      |    2 ++
 src/epoll.cpp        |    4 +++-
 src/i_api.hpp        |    6 ++++--
 src/io_object.cpp    |   45 ++++++++++++++++++++++++++++++++++++++++++++-
 src/io_object.hpp    |   23 ++++++++++++++++++-----
 src/io_thread.hpp    |    2 +-
 src/socket_base.cpp  |   33 ++++++++++++++++++++-------------
 src/socket_base.hpp  |    9 +++++----
 src/zmq.cpp          |   13 +++++++++----
 src/zmq_engine.cpp   |   35 +++++++++++++++++++++++++++++++++++
 src/zmq_engine.hpp   |   47 +++++++++++++++++++++++++++++++++++++++++++++++
 src/zmq_listener.cpp |    9 +++++++--
 src/zmq_listener.hpp |    5 +++--
 15 files changed, 222 insertions(+), 53 deletions(-)

commit a8b410e66c3c75809c8e9c01dd3e35c579f02347
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Sat Aug 8 16:01:58 2009 +0200

    lockfree interaction patter for 3 theads implemented

 include/zmq.hpp      |    8 +--
 src/Makefile.am      |   14 +++--
 src/app_thread.cpp   |   37 +++++++++---
 src/app_thread.hpp   |   13 +++--
 src/command.hpp      |   59 ++++++++-----------
 src/context.cpp      |  153 ------------------------------------------------
 src/context.hpp      |  122 --------------------------------------
 src/dispatcher.cpp   |  149 +++++++++++++++++++++++++++++++++++++++++++++++
 src/dispatcher.hpp   |  122 ++++++++++++++++++++++++++++++++++++++
 src/err.hpp          |    6 ++
 src/i_api.hpp        |   34 ++++++-----
 src/i_socket.hpp     |   36 ------------
 src/io_object.cpp    |   41 +++++++++++++
 src/io_object.hpp    |   62 ++++++++++++++++++++
 src/io_thread.cpp    |    8 +--
 src/io_thread.hpp    |    2 +-
 src/mutex.hpp        |   30 +++++-----
 src/object.cpp       |  158 +++++++++++++++-----------------------------------
 src/object.hpp       |   42 +++++---------
 src/socket_base.cpp  |  129 +++++++++++++++++++++++++++++++++++++++++
 src/socket_base.hpp  |   72 +++++++++++++++++++++++
 src/zmq.cpp          |   19 +++---
 src/zmq_listener.cpp |   35 +++++++++++
 src/zmq_listener.hpp |   46 +++++++++++++++
 24 files changed, 849 insertions(+), 548 deletions(-)

commit 0b5cc026fbe7ccc6de66907be29471562a2d344d
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Aug 6 12:51:32 2009 +0200

    clean up - session/socket/engine stuff removed

 src/Makefile.am           |   51 +--------
 src/app_thread.cpp        |  106 ++----------------
 src/app_thread.hpp        |   27 ++---
 src/connecter.cpp         |  189 -------------------------------
 src/connecter.hpp         |   99 ----------------
 src/context.cpp           |  139 +++--------------------
 src/context.hpp           |   52 +--------
 src/data_distributor.cpp  |  155 -------------------------
 src/data_distributor.hpp  |   70 ------------
 src/devpoll.cpp           |    9 +-
 src/devpoll.hpp           |    3 +-
 src/dummy_aggregator.cpp  |  111 ------------------
 src/dummy_aggregator.hpp  |   73 ------------
 src/dummy_distributor.cpp |   85 --------------
 src/dummy_distributor.hpp |   68 -----------
 src/epoll.cpp             |   10 +-
 src/epoll.hpp             |    3 +-
 src/fair_aggregator.cpp   |  143 ------------------------
 src/fair_aggregator.hpp   |   77 -------------
 src/i_api.hpp             |   42 +++----
 src/i_demux.hpp           |   57 ----------
 src/i_engine.hpp          |   53 ---------
 src/i_mux.hpp             |   60 ----------
 src/i_poller.hpp          |    7 +-
 src/i_session.hpp         |   37 ------
 src/i_socket.hpp          |   36 ++++++
 src/i_thread.hpp          |   38 -------
 src/io_object.cpp         |   37 ------
 src/io_object.hpp         |   51 ---------
 src/io_thread.cpp         |   31 -----
 src/io_thread.hpp         |   27 +----
 src/kqueue.cpp            |    9 +-
 src/kqueue.hpp            |    3 +-
 src/listener.cpp          |  170 ----------------------------
 src/listener.hpp          |  110 ------------------
 src/load_balancer.cpp     |  130 ---------------------
 src/load_balancer.hpp     |   73 ------------
 src/object.cpp            |   33 ------
 src/object.hpp            |    8 --
 src/p2p.cpp               |   29 -----
 src/p2p.hpp               |   42 -------
 src/pipe.cpp              |   47 --------
 src/pipe.hpp              |   23 +---
 src/pipe_reader.cpp       |  118 --------------------
 src/pipe_reader.hpp       |   89 ---------------
 src/pipe_writer.cpp       |  120 --------------------
 src/pipe_writer.hpp       |   88 ---------------
 src/poll.cpp              |   13 ++-
 src/poll.hpp              |    3 +-
 src/pub.cpp               |   38 -------
 src/pub.hpp               |   45 --------
 src/rep.cpp               |   29 -----
 src/rep.hpp               |   42 -------
 src/req.cpp               |   29 -----
 src/req.hpp               |   42 -------
 src/safe_object.cpp       |   76 -------------
 src/safe_object.hpp       |   68 -----------
 src/select.cpp            |   13 ++-
 src/select.hpp            |    2 +-
 src/session.cpp           |  273 ---------------------------------------------
 src/session.hpp           |  107 ------------------
 src/session_stub.cpp      |  110 ------------------
 src/session_stub.hpp      |   83 --------------
 src/socket_base.cpp       |  267 --------------------------------------------
 src/socket_base.hpp       |   96 ----------------
 src/sub.cpp               |   45 --------
 src/sub.hpp               |   46 --------
 src/zmq.cpp               |    2 +-
 src/zmq_decoder.cpp       |   79 -------------
 src/zmq_decoder.hpp       |   57 ----------
 src/zmq_encoder.cpp       |   75 -------------
 src/zmq_encoder.hpp       |   54 ---------
 src/zmq_tcp_engine.cpp    |  185 ------------------------------
 src/zmq_tcp_engine.hpp    |   92 ---------------
 74 files changed, 131 insertions(+), 4878 deletions(-)

commit b8b4acef4c2ba1a169ce84c1fb4c70a5676ebba3
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Aug 6 10:47:34 2009 +0200

    dispatcher renamed to context

 src/Makefile.am     |    4 +-
 src/app_thread.cpp  |    8 +-
 src/app_thread.hpp  |    4 +-
 src/context.cpp     |  266 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/context.hpp     |  170 ++++++++++++++++++++++++++++++++
 src/dispatcher.cpp  |  266 ---------------------------------------------------
 src/dispatcher.hpp  |  170 --------------------------------
 src/io_thread.cpp   |    8 +-
 src/io_thread.hpp   |    2 +-
 src/object.cpp      |   26 ++---
 src/object.hpp      |    6 +-
 src/pipe.hpp        |    8 +-
 src/pipe_reader.cpp |    2 +-
 src/pipe_reader.hpp |    6 +-
 src/pipe_writer.hpp |    6 +-
 src/safe_object.cpp |    6 +-
 src/safe_object.hpp |    2 +-
 src/zmq.cpp         |   15 ++-
 18 files changed, 487 insertions(+), 488 deletions(-)

commit 43fa72b7ee6b6d97b84a555ce8902cee855aeb72
Author: Martin Hurton <hurtonm@gmail.com>
Date:   Mon Aug 3 11:59:55 2009 +0200

    C++ binding uses exceptions to signal failure

 include/zmq.hpp |   83 ++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 73 insertions(+), 10 deletions(-)

commit cc3755a16f00026af882ed14d122cc8aa6d50e82
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Mon Aug 3 11:30:13 2009 +0200

    renamed from zs to zmq

 .gitignore                 |    3 +
 Makefile.am                |    2 +-
 configure.in               |   38 ++++----
 examples/chat/Makefile.am  |    6 +-
 examples/chat/chatroom.cpp |   12 +--
 examples/chat/display.cpp  |   10 +-
 examples/chat/prompt.cpp   |    8 +-
 include/zmq.h              |  207 +++++++++++++++++++++++++++++++++++++++
 include/zmq.hpp            |  231 ++++++++++++++++++++++++++++++++++++++++++++
 include/zs.h               |  206 ---------------------------------------
 include/zs.hpp             |  231 --------------------------------------------
 src/Makefile.am            |   10 +-
 src/app_thread.cpp         |   70 +++++++-------
 src/app_thread.hpp         |    8 +-
 src/atomic.hpp             |   62 ++++++------
 src/atomic_bitmap.hpp      |   82 ++++++++--------
 src/atomic_counter.hpp     |   72 +++++++-------
 src/atomic_ptr.hpp         |   72 +++++++-------
 src/command.hpp            |    6 +-
 src/config.hpp             |    6 +-
 src/connecter.cpp          |   48 ++++-----
 src/connecter.hpp          |   12 +--
 src/data_distributor.cpp   |   42 ++++----
 src/data_distributor.hpp   |   10 +-
 src/decoder.hpp            |    6 +-
 src/devpoll.cpp            |   38 ++++----
 src/devpoll.hpp            |    8 +-
 src/dispatcher.cpp         |   52 +++++-----
 src/dispatcher.hpp         |    8 +-
 src/dummy_aggregator.cpp   |   34 +++----
 src/dummy_aggregator.hpp   |    8 +-
 src/dummy_distributor.cpp  |   28 +++---
 src/dummy_distributor.hpp  |    8 +-
 src/encoder.hpp            |    6 +-
 src/epoll.cpp              |   36 +++----
 src/epoll.hpp              |    8 +-
 src/err.cpp                |    8 +-
 src/err.hpp                |   16 +--
 src/fair_aggregator.cpp    |   30 +++---
 src/fair_aggregator.hpp    |    8 +-
 src/fd.hpp                 |    8 +-
 src/fd_signaler.cpp        |   54 +++++------
 src/fd_signaler.hpp        |    8 +-
 src/i_api.hpp              |   14 +--
 src/i_demux.hpp            |   11 ++-
 src/i_engine.hpp           |    8 +-
 src/i_mux.hpp              |   11 ++-
 src/i_poll_events.hpp      |    6 +-
 src/i_poller.hpp           |    6 +-
 src/i_session.hpp          |   10 +-
 src/i_signaler.hpp         |    6 +-
 src/i_thread.hpp           |    6 +-
 src/io_object.cpp          |    6 +-
 src/io_object.hpp          |    6 +-
 src/io_thread.cpp          |   72 +++++++-------
 src/io_thread.hpp          |    8 +-
 src/ip.cpp                 |   36 +++----
 src/ip.hpp                 |    8 +-
 src/kqueue.cpp             |   40 ++++----
 src/kqueue.hpp             |    8 +-
 src/listener.cpp           |   42 ++++----
 src/listener.hpp           |    6 +-
 src/load_balancer.cpp      |   32 +++---
 src/load_balancer.hpp      |   10 +-
 src/msg.hpp                |   16 +--
 src/mutex.hpp              |   10 +-
 src/object.cpp             |   88 ++++++++---------
 src/object.hpp             |    6 +-
 src/p2p.cpp                |    4 +-
 src/p2p.hpp                |    6 +-
 src/pipe.cpp               |   14 +--
 src/pipe.hpp               |   10 +-
 src/pipe_reader.cpp        |   26 ++---
 src/pipe_reader.hpp        |    8 +-
 src/pipe_writer.cpp        |   30 +++---
 src/pipe_writer.hpp        |    8 +-
 src/platform.hpp.in        |   26 ++---
 src/poll.cpp               |   40 ++++----
 src/poll.hpp               |   14 +--
 src/pub.cpp                |    6 +-
 src/pub.hpp                |    8 +-
 src/rep.cpp                |    4 +-
 src/rep.hpp                |    6 +-
 src/req.cpp                |    4 +-
 src/req.hpp                |    6 +-
 src/safe_object.cpp        |   14 +--
 src/safe_object.hpp        |    6 +-
 src/select.cpp             |   40 ++++----
 src/select.hpp             |   10 +-
 src/session.cpp            |   46 ++++-----
 src/session.hpp            |   10 +-
 src/session_stub.cpp       |   30 +++---
 src/session_stub.hpp       |   10 +-
 src/simple_semaphore.hpp   |   12 +--
 src/socket_base.cpp        |   56 +++++------
 src/socket_base.hpp        |   14 +--
 src/stdint.hpp             |    6 +-
 src/sub.cpp                |    8 +-
 src/sub.hpp                |    8 +-
 src/tcp_connecter.cpp      |   20 ++--
 src/tcp_connecter.hpp      |    6 +-
 src/tcp_listener.cpp       |   20 ++--
 src/tcp_listener.hpp       |    6 +-
 src/tcp_socket.cpp         |   18 ++--
 src/tcp_socket.hpp         |    6 +-
 src/thread.cpp             |   14 +--
 src/thread.hpp             |   10 +-
 src/uuid.cpp               |   40 ++++----
 src/uuid.hpp               |   18 ++--
 src/windows.hpp            |    4 +-
 src/wire.hpp               |    6 +-
 src/ypipe.hpp              |    8 +-
 src/ypollset.cpp           |   10 +-
 src/ypollset.hpp           |    6 +-
 src/yqueue.hpp             |   10 +-
 src/zmq.cpp                |  223 ++++++++++++++++++++++++++++++++++++++++++
 src/zmq_decoder.cpp        |   25 ++---
 src/zmq_decoder.hpp        |   10 +-
 src/zmq_encoder.cpp        |   18 ++--
 src/zmq_encoder.hpp        |   10 +-
 src/zmq_tcp_engine.cpp     |   44 ++++-----
 src/zmq_tcp_engine.hpp     |    6 +-
 src/zs.cpp                 |  222 ------------------------------------------
 123 files changed, 1778 insertions(+), 1770 deletions(-)

commit 183b6887644ac05c951a3f9143248ed86e91052f
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Thu Jul 30 13:53:46 2009 +0200

    git ignoring intermediary files

 0 files changed

commit 4ed70a930202b103e7e80b8dc925e0aaa4622595
Author: Martin Sustrik <sustrik@fastmq.commkdir>
Date:   Wed Jul 29 12:07:54 2009 +0200

    initial commit

 Makefile.am                |    4 +
 autogen.sh                 |   29 +++++
 configure.in               |  188 +++++++++++++++++++++++++++
 examples/Makefile.am       |    2 +
 examples/chat/Makefile.am  |   15 +++
 examples/chat/chatroom.cpp |   74 +++++++++++
 examples/chat/display.cpp  |   56 ++++++++
 examples/chat/prompt.cpp   |   61 +++++++++
 include/zs.h               |  206 +++++++++++++++++++++++++++++
 include/zs.hpp             |  231 +++++++++++++++++++++++++++++++++
 src/Makefile.am            |  120 +++++++++++++++++
 src/app_thread.cpp         |  221 +++++++++++++++++++++++++++++++
 src/app_thread.hpp         |   95 ++++++++++++++
 src/atomic.hpp             |  310 ++++++++++++++++++++++++++++++++++++++++++++
 src/atomic_bitmap.hpp      |  286 ++++++++++++++++++++++++++++++++++++++++
 src/atomic_counter.hpp     |  197 ++++++++++++++++++++++++++++
 src/atomic_ptr.hpp         |  189 +++++++++++++++++++++++++++
 src/command.hpp            |   98 ++++++++++++++
 src/config.hpp             |   71 ++++++++++
 src/connecter.cpp          |  189 +++++++++++++++++++++++++++
 src/connecter.hpp          |   99 ++++++++++++++
 src/data_distributor.cpp   |  155 ++++++++++++++++++++++
 src/data_distributor.hpp   |   70 ++++++++++
 src/decoder.hpp            |  101 +++++++++++++++
 src/devpoll.cpp            |  224 ++++++++++++++++++++++++++++++++
 src/devpoll.hpp            |  110 ++++++++++++++++
 src/dispatcher.cpp         |  266 +++++++++++++++++++++++++++++++++++++
 src/dispatcher.hpp         |  170 ++++++++++++++++++++++++
 src/dummy_aggregator.cpp   |  111 ++++++++++++++++
 src/dummy_aggregator.hpp   |   73 +++++++++++
 src/dummy_distributor.cpp  |   85 ++++++++++++
 src/dummy_distributor.hpp  |   68 ++++++++++
 src/encoder.hpp            |  108 +++++++++++++++
 src/epoll.cpp              |  214 ++++++++++++++++++++++++++++++
 src/epoll.hpp              |  107 +++++++++++++++
 src/err.cpp                |  146 +++++++++++++++++++++
 src/err.hpp                |   90 +++++++++++++
 src/fair_aggregator.cpp    |  143 ++++++++++++++++++++
 src/fair_aggregator.hpp    |   77 +++++++++++
 src/fd.hpp                 |   44 +++++++
 src/fd_signaler.cpp        |  278 +++++++++++++++++++++++++++++++++++++++
 src/fd_signaler.hpp        |   92 +++++++++++++
 src/i_api.hpp              |   39 ++++++
 src/i_demux.hpp            |   56 ++++++++
 src/i_engine.hpp           |   53 ++++++++
 src/i_mux.hpp              |   59 +++++++++
 src/i_poll_events.hpp      |   45 +++++++
 src/i_poller.hpp           |   89 +++++++++++++
 src/i_session.hpp          |   37 ++++++
 src/i_signaler.hpp         |   38 ++++++
 src/i_thread.hpp           |   38 ++++++
 src/io_object.cpp          |   37 ++++++
 src/io_object.hpp          |   51 ++++++++
 src/io_thread.cpp          |  177 +++++++++++++++++++++++++
 src/io_thread.hpp          |   99 ++++++++++++++
 src/ip.cpp                 |  310 ++++++++++++++++++++++++++++++++++++++++++++
 src/ip.hpp                 |   47 +++++++
 src/kqueue.cpp             |  214 ++++++++++++++++++++++++++++++
 src/kqueue.hpp             |  112 ++++++++++++++++
 src/listener.cpp           |  170 ++++++++++++++++++++++++
 src/listener.hpp           |  110 ++++++++++++++++
 src/load_balancer.cpp      |  130 +++++++++++++++++++
 src/load_balancer.hpp      |   73 +++++++++++
 src/msg.hpp                |   49 +++++++
 src/mutex.hpp              |  116 +++++++++++++++++
 src/object.cpp             |  294 +++++++++++++++++++++++++++++++++++++++++
 src/object.hpp             |  105 +++++++++++++++
 src/p2p.cpp                |   29 +++++
 src/p2p.hpp                |   42 ++++++
 src/pipe.cpp               |   47 +++++++
 src/pipe.hpp               |   57 ++++++++
 src/pipe_reader.cpp        |  118 +++++++++++++++++
 src/pipe_reader.hpp        |   89 +++++++++++++
 src/pipe_writer.cpp        |  120 +++++++++++++++++
 src/pipe_writer.hpp        |   88 +++++++++++++
 src/platform.hpp.in        |  210 ++++++++++++++++++++++++++++++
 src/poll.cpp               |  205 +++++++++++++++++++++++++++++
 src/poll.hpp               |  112 ++++++++++++++++
 src/pub.cpp                |   38 ++++++
 src/pub.hpp                |   45 +++++++
 src/rep.cpp                |   29 +++++
 src/rep.hpp                |   42 ++++++
 src/req.cpp                |   29 +++++
 src/req.hpp                |   42 ++++++
 src/safe_object.cpp        |   76 +++++++++++
 src/safe_object.hpp        |   68 ++++++++++
 src/select.cpp             |  236 +++++++++++++++++++++++++++++++++
 src/select.hpp             |  122 +++++++++++++++++
 src/session.cpp            |  273 ++++++++++++++++++++++++++++++++++++++
 src/session.hpp            |  107 +++++++++++++++
 src/session_stub.cpp       |  110 ++++++++++++++++
 src/session_stub.hpp       |   83 ++++++++++++
 src/simple_semaphore.hpp   |  188 +++++++++++++++++++++++++++
 src/socket_base.cpp        |  267 ++++++++++++++++++++++++++++++++++++++
 src/socket_base.hpp        |   96 ++++++++++++++
 src/stdint.hpp             |   70 ++++++++++
 src/sub.cpp                |   45 +++++++
 src/sub.hpp                |   46 +++++++
 src/tcp_connecter.cpp      |  138 ++++++++++++++++++++
 src/tcp_connecter.hpp      |   65 ++++++++++
 src/tcp_listener.cpp       |  165 +++++++++++++++++++++++
 src/tcp_listener.hpp       |   65 ++++++++++
 src/tcp_socket.cpp         |  116 +++++++++++++++++
 src/tcp_socket.hpp         |   70 ++++++++++
 src/thread.cpp             |   88 +++++++++++++
 src/thread.hpp             |   77 +++++++++++
 src/uuid.cpp               |  136 +++++++++++++++++++
 src/uuid.hpp               |   82 ++++++++++++
 src/windows.hpp            |   56 ++++++++
 src/wire.hpp               |   98 ++++++++++++++
 src/ypipe.hpp              |  209 +++++++++++++++++++++++++++++
 src/ypollset.cpp           |   56 ++++++++
 src/ypollset.hpp           |   74 +++++++++++
 src/yqueue.hpp             |  138 ++++++++++++++++++++
 src/zmq_decoder.cpp        |   78 +++++++++++
 src/zmq_decoder.hpp        |   57 ++++++++
 src/zmq_encoder.cpp        |   75 +++++++++++
 src/zmq_encoder.hpp        |   54 ++++++++
 src/zmq_tcp_engine.cpp     |  185 ++++++++++++++++++++++++++
 src/zmq_tcp_engine.hpp     |   92 +++++++++++++
 src/zs.cpp                 |  222 +++++++++++++++++++++++++++++++
 121 files changed, 13546 insertions(+)
