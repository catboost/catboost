PY23_LIBRARY()

LICENSE(
    BSD
)

# Version: 0.19.1



PEERDIR(
    contrib/python/Jinja2
    contrib/python/dateutil
    contrib/python/numpy
    contrib/python/pytz
)

ADDINCL(
    contrib/python/pandas/pandas
    contrib/python/pandas/pandas/src
    contrib/python/pandas/pandas/datetime
    contrib/python/pandas/pandas/klib
    contrib/python/pandas/pandas/msgpack
    contrib/python/pandas/pandas/ujson/lib
    contrib/python/pandas/pandas/ujson/python
    contrib/python/numpy/numpy/core/include
)

NO_COMPILER_WARNINGS()

NO_LINT()

CFLAGS(
    # For pandas.json and pandas.msgpack.
    -D__LITTLE_ENDIAN__=1
    # For pandas.util._move.
    -Dinit_move=init6pandas4util5_move
    # Resolve clashes with contrib/python/numpy/numpy/core/src/multiarray/
    -Dadd_minutes_to_datetimestruct=pandas_add_minutes_to_datetimestruct
    -Dadd_seconds_to_datetimestruct=pandas_add_seconds_to_datetimestruct
    -Dcan_cast_datetime64_units=pandas_can_cast_datetime64_units
    -Dcan_cast_timedelta64_units=pandas_can_cast_timedelta64_units
    -Dconvert_datetime_to_datetimestruct=pandas_convert_datetime_to_datetimestruct
    -Dconvert_datetimestruct_to_datetime=pandas_convert_datetimestruct_to_datetime
    -Dconvert_pydatetime_to_datetimestruct=pandas_convert_pydatetime_to_datetimestruct
    -Dget_datetimestruct_days=pandas_get_datetimestruct_days
    -Dis_leapyear=pandas_is_leapyear
    -Dnpy_casting_to_string=pandas_npy_casting_to_string
    -Dget_datetime_iso_8601_strlen=pandas_get_datetime_iso_8601_strlen
    -Dmake_iso_8601_datetime=pandas_make_iso_8601_datetime
    -Dparse_iso_8601_datetime=pandas_parse_iso_8601_datetime
)

PY_REGISTER(pandas.json=json)
PY_REGISTER(pandas.util._move=_move)

# SRCS and PY_SRCS generated by YANDEX.generate.sh
SRCS(
    pandas/datetime/np_datetime.c
    pandas/datetime/np_datetime_strings.c
    pandas/parser/io.c
    pandas/parser/tokenizer.c
    pandas/period_helper.c
    pandas/ujson/lib/ultrajsondec.c
    pandas/ujson/lib/ultrajsonenc.c
    pandas/ujson/python/JSONtoObj.c
    pandas/ujson/python/objToJSON.c
    pandas/ujson/python/ujson.c
    pandas/util/move.c
)

PY_SRCS(
    TOP_LEVEL

    # Other pyx are included from these pyx and should not be listed directly.
    CYTHON_C
    pandas/_join.pyx
    pandas/_period.pyx
    pandas/_sparse.pyx
    pandas/_testing.pyx
    pandas/_window.pyx
    pandas/algos.pyx
    pandas/hashtable.pyx
    pandas/index.pyx
    pandas/io/sas/saslib.pyx
    pandas/lib.pyx
    pandas/parser.pyx
    pandas/tslib.pyx
    CYTHON_CPP
    pandas/msgpack/_packer.pyx
    pandas/msgpack/_unpacker.pyx

    # pandas.tseries.converter and pandas.tseries.plotting are provided by ./matplotlib
    pandas/__init__.py
    pandas/_version.py
    pandas/api/__init__.py
    pandas/api/types/__init__.py
    pandas/compat/__init__.py
    pandas/compat/chainmap.py
    pandas/compat/chainmap_impl.py
    pandas/compat/numpy/__init__.py
    pandas/compat/numpy/function.py
    pandas/compat/openpyxl_compat.py
    pandas/compat/pickle_compat.py
    pandas/computation/__init__.py
    pandas/computation/align.py
    pandas/computation/api.py
    pandas/computation/common.py
    pandas/computation/engines.py
    pandas/computation/eval.py
    pandas/computation/expr.py
    pandas/computation/expressions.py
    pandas/computation/ops.py
    pandas/computation/pytables.py
    pandas/computation/scope.py
    pandas/core/__init__.py
    pandas/core/algorithms.py
    pandas/core/api.py
    pandas/core/base.py
    pandas/core/categorical.py
    pandas/core/common.py
    pandas/core/config.py
    pandas/core/config_init.py
    pandas/core/datetools.py
    pandas/core/frame.py
    pandas/core/generic.py
    pandas/core/groupby.py
    pandas/core/index.py
    pandas/core/indexing.py
    pandas/core/internals.py
    pandas/core/missing.py
    pandas/core/nanops.py
    pandas/core/ops.py
    pandas/core/panel.py
    pandas/core/panel4d.py
    pandas/core/panelnd.py
    pandas/core/reshape.py
    pandas/core/series.py
    pandas/core/sparse.py
    pandas/core/strings.py
    pandas/core/window.py
    pandas/formats/__init__.py
    pandas/formats/format.py
    pandas/formats/printing.py
    pandas/formats/style.py
    pandas/indexes/__init__.py
    pandas/indexes/api.py
    pandas/indexes/base.py
    pandas/indexes/category.py
    pandas/indexes/multi.py
    pandas/indexes/numeric.py
    pandas/indexes/range.py
    pandas/info.py
    pandas/io/__init__.py
    pandas/io/api.py
    pandas/io/auth.py
    pandas/io/clipboard.py
    pandas/io/common.py
    pandas/io/data.py
    pandas/io/date_converters.py
    pandas/io/excel.py
    pandas/io/ga.py
    pandas/io/gbq.py
    pandas/io/html.py
    pandas/io/json.py
    pandas/io/packers.py
    pandas/io/parsers.py
    pandas/io/pickle.py
    pandas/io/pytables.py
    pandas/io/s3.py
    pandas/io/sas/__init__.py
    pandas/io/sas/sas7bdat.py
    pandas/io/sas/sas_constants.py
    pandas/io/sas/sas_xport.py
    pandas/io/sas/sasreader.py
    pandas/io/sql.py
    pandas/io/stata.py
    pandas/io/wb.py
    pandas/msgpack/__init__.py
    pandas/msgpack/_version.py
    pandas/msgpack/exceptions.py
    pandas/rpy/__init__.py
    pandas/rpy/base.py
    pandas/rpy/common.py
    pandas/rpy/mass.py
    pandas/rpy/vars.py
    pandas/sparse/__init__.py
    pandas/sparse/api.py
    pandas/sparse/array.py
    pandas/sparse/frame.py
    pandas/sparse/list.py
    pandas/sparse/scipy_sparse.py
    pandas/sparse/series.py
    pandas/stats/__init__.py
    pandas/stats/api.py
    pandas/stats/common.py
    pandas/stats/fama_macbeth.py
    pandas/stats/interface.py
    pandas/stats/math.py
    pandas/stats/misc.py
    pandas/stats/moments.py
    pandas/stats/ols.py
    pandas/stats/plm.py
    pandas/stats/var.py
    pandas/tools/__init__.py
    pandas/tools/merge.py
    pandas/tools/pivot.py
    pandas/tools/plotting.py
    pandas/tools/tile.py
    pandas/tools/util.py
    pandas/tseries/__init__.py
    pandas/tseries/api.py
    pandas/tseries/base.py
    pandas/tseries/common.py
    pandas/tseries/frequencies.py
    pandas/tseries/holiday.py
    pandas/tseries/index.py
    pandas/tseries/interval.py
    pandas/tseries/offsets.py
    pandas/tseries/period.py
    pandas/tseries/resample.py
    pandas/tseries/tdi.py
    pandas/tseries/timedeltas.py
    pandas/tseries/tools.py
    pandas/tseries/util.py
    pandas/types/__init__.py
    pandas/types/api.py
    pandas/types/cast.py
    pandas/types/common.py
    pandas/types/concat.py
    pandas/types/dtypes.py
    pandas/types/generic.py
    pandas/types/inference.py
    pandas/types/missing.py
    pandas/util/__init__.py
    pandas/util/clipboard.py
    pandas/util/decorators.py
    pandas/util/depr_module.py
    pandas/util/doctools.py
    pandas/util/nosetester.py
    pandas/util/print_versions.py
    pandas/util/terminal.py
    pandas/util/testing.py
    pandas/util/validators.py
)

END()
