### Types to hold CTR's data

class catboost_model_ctr(object):
    def __init__(self, base_hash, base_ctr_type, target_border_idx, prior_num, prior_denom, shift, scale):
        self.base_hash = base_hash
        self.base_ctr_type = base_ctr_type
        self.target_border_idx = target_border_idx
        self.prior_num = prior_num
        self.prior_denom = prior_denom
        self.shift = shift
        self.scale = scale

    def calc(self, count_in_class, total_count):
        ctr = (count_in_class + self.prior_num) / float(total_count + self.prior_denom)
        return (ctr + self.shift) * self.scale


class catboost_bin_feature_index_value(object):
    def __init__(self, bin_index, check_value_equal, value):
        self.bin_index = bin_index
        self.check_value_equal = check_value_equal
        self.value = value


class catboost_ctr_mean_history(object):
    def __init__(self, sum, count):
        self.sum = sum
        self.count = count


class catboost_ctr_value_table(object):
    def __init__(self, index_hash_viewer, target_classes_count, counter_denominator, ctr_mean_history, ctr_total):
        self.index_hash_viewer = index_hash_viewer
        self.target_classes_count = target_classes_count
        self.counter_denominator = counter_denominator
        self.ctr_mean_history = ctr_mean_history
        self.ctr_total = ctr_total

    def resolve_hash_index(self, hash):
        try:
            return self.index_hash_viewer[hash]
        except KeyError:
            return None


class catboost_ctr_data(object):
    def __init__(self, learn_ctrs):
        self.learn_ctrs = learn_ctrs


class catboost_projection(object):
    def __init__(self, transposed_cat_feature_indexes, binarized_indexes):
        self.transposed_cat_feature_indexes = transposed_cat_feature_indexes
        self.binarized_indexes = binarized_indexes


class catboost_compressed_model_ctr(object):
    def __init__(self, projection, model_ctrs):
        self.projection = projection
        self.model_ctrs = model_ctrs


class catboost_model_ctrs_container(object):
    def __init__(self, used_model_ctrs_count, compressed_model_ctrs, ctr_data):
        self.used_model_ctrs_count = used_model_ctrs_count
        self.compressed_model_ctrs = compressed_model_ctrs
        self.ctr_data = ctr_data


###  Model data
class catboost_model(object):
    float_features_index = [
        0, 1, 2, 3, 4, 5,
    ]
    float_feature_count = 6
    cat_feature_count = 11
    binary_feature_count = 35
    tree_count = 40
    float_feature_borders = [
        [30.5, 36.5, 38.5, 41.5, 45.5, 48, 53.5, 61.5],
        [51773, 66768, 73183.5, 124942, 126119, 160753.5, 167944, 185890.5, 202819.5, 204331, 213107.5, 216825, 222939, 231641.5, 288417.5, 313025.5, 332801, 337225.5],
        [8, 10.5, 11.5, 12.5, 13.5],
        [3280],
        [1738],
        [38.5, 42, 46.5, 49, 55]
    ]
    tree_depth = [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6]
    tree_split_border = [7, 1, 1, 5, 3, 2, 2, 4, 1, 1, 1, 3, 1, 4, 4, 1, 1, 2, 1, 2, 3, 1, 4, 2, 2, 5, 4, 2, 2, 8, 1, 5, 3, 3, 5, 255, 2, 7, 1, 8, 2, 1, 2, 4, 3, 1, 3, 4, 1, 2, 5, 1, 12, 5, 4, 2, 5, 3, 4, 2, 2, 1, 1, 1, 5, 3, 1, 5, 3, 2, 255, 15, 2, 2, 5, 1, 14, 6, 2, 3, 2, 2, 2, 10, 3, 2, 1, 16, 18, 4, 1, 2, 1, 1, 1, 2, 3, 5, 4, 6, 4, 5, 1, 1, 3, 3, 1, 4, 1, 3, 4, 3, 4, 2, 11, 4, 1, 4, 2, 4, 2, 5, 255, 1, 7, 1, 2, 3, 1, 4, 5, 1, 6, 3, 1, 2, 4, 1, 1, 5, 5, 17, 3, 1, 5, 3, 5, 3, 5, 1, 1, 5, 1, 2, 2, 3, 1, 5, 1, 2, 3, 6, 1, 1, 5, 2, 5, 1, 1, 3, 1, 6, 1, 5, 3, 5, 4, 4, 1, 1, 1, 4, 5, 6, 3, 2, 2, 1, 9, 5, 3, 4, 5, 2, 13, 3, 3, 1, 1, 2, 1, 3, 4, 1, 1, 8, 1, 3, 2, 1, 1, 5, 1, 5, 4, 4, 3, 3, 2, 3, 2, 5, 3, 1, 5, 2, 2, 1, 1, 1, 2, 2, 1, 1, 5, 5, 3, 3, 3]
    tree_split_feature_index = [17, 19, 12, 14, 22, 21, 10, 15, 30, 13, 34, 11, 8, 0, 20, 31, 18, 32, 3, 26, 7, 33, 25, 9, 24, 2, 16, 23, 28, 1, 29, 16, 5, 27, 21, 6, 0, 0, 18, 0, 20, 11, 25, 8, 23, 3, 11, 17, 8, 29, 13, 18, 1, 7, 17, 2, 7, 24, 10, 30, 8, 4, 1, 15, 1, 17, 3, 2, 15, 14, 6, 1, 25, 2, 14, 28, 1, 14, 10, 0, 27, 12, 24, 1, 5, 17, 3, 1, 1, 14, 24, 13, 14, 26, 1, 5, 5, 17, 9, 1, 1, 24, 3, 30, 25, 10, 0, 14, 17, 22, 7, 14, 25, 2, 1, 24, 15, 22, 15, 11, 8, 14, 6, 23, 1, 20, 26, 2, 21, 8, 21, 3, 0, 33, 18, 11, 14, 3, 9, 2, 17, 1, 5, 3, 2, 8, 25, 1, 0, 3, 22, 2, 9, 1, 26, 32, 27, 22, 23, 26, 2, 17, 2, 5, 2, 21, 5, 1, 14, 20, 9, 14, 0, 8, 22, 2, 13, 28, 18, 34, 3, 2, 17, 0, 5, 22, 16, 3, 1, 2, 16, 33, 17, 12, 1, 9, 12, 10, 1, 21, 7, 28, 5, 3, 9, 1, 24, 25, 13, 25, 32, 33, 16, 22, 21, 32, 24, 5, 31, 13, 26, 8, 22, 3, 2, 17, 7, 10, 25, 15, 15, 33, 23, 3, 22, 8, 25, 8, 21]
    tree_split_xor_mask = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    cat_features_index = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    one_hot_cat_feature_index = [9]
    one_hot_hash_values = [
        [-1291328762]
    ]
    ctr_feature_borders = [
        [0.381648958, 0.599734068, 0.708776593, 0.763297915, 0.817819178],
        [0.255357146, 0.514285684, 0.669642866, 0.773214281, 0.876785696],
        [0.5, 0.800000012, 0.899999976, 0.949999988],
        [0.0294117667, 0.0539215691, 0.0637254938, 0.377451003],
        [0.0572916679, 0.401041687, 0.515625, 0.744791687],
        [0.471354157, 0.604166627, 0.78125],
        [0.475000024, 0.512499988, 0.737500012, 0.774999976, 0.850000024],
        [0.0147058833, 0.0245098043, 0.0735294148, 0.142156869, 0.191176474, 0.235294133],
        [0.243243247, 0.364864886, 0.486486495, 0.608108103],
        [0.428716242, 0.471621633, 0.514527023, 0.600337863, 0.771959484],
        [0.512499988, 0.587499976, 0.625, 0.662500024, 0.700000048, 0.887500048, 0.925000072],
        [0.387254894],
        [0.461538464],
        [0.605769217, 0.694711506, 0.828125, 0.917067289],
        [0.78125, 0.84375, 0.875, 0.90625, 0.9375],
        [0.0147058833, 0.0539215691, 0.102941178, 0.117647067, 0.142156869],
        [0.417613626, 0.536931813, 0.596590877],
        [0.284801126, 0.551136374, 0.604403436, 0.657670498, 0.924005687],
        [0.4375, 0.578125, 0.625, 0.765625, 0.8125],
        [0.176470593, 0.284313738],
        [0.6875, 0.744791687, 0.802083373],
        [0.729166627, 0.7578125, 0.786458313, 0.815104127],
        [0.7421875, 0.7890625],
        [0.0882352963, 0.460784316],
        [0.376096487, 0.805921078],
        [0.734375, 0.786458373, 0.838541687, 0.890625],
        [0.729166687, 0.791666687, 0.8125, 0.833333373, 0.895833373],
        [0.0147058833]
    ]

    ## Aggregated array of leaf values for trees. Each tree is represented by a separate line:
    leaf_values = [
        0, 0, 0, 0, 0, 0, 0, 0.02225975133478642, 0, 0, 0, 0, 0, 0, 0.01112987566739321, 0.01780780218541622, -0.09991592913866043, 0.02225975133478642, -0.03996637463569641, 0, -0.04586857929825783, 0.01780780218541622, -0.03996637463569641, 0.02782469056546688, 0, 0, 0, 0, -0.04586857929825783, 0.02543971687555313, 0.02543971687555313, 0.02225975133478642, 0, 0, 0, 0.01112987566739321, -0.02306919731199741, 0.02225975133478642, 0.01780780218541622, 0.02967966720461845, 0, 0, 0, 0, 0, 0.02225975133478642, -0.06115810573101044, 0.02782469056546688, 0, 0, -0.03996637463569641, 0.01112987566739321, 0.01112987566739321, -0.01180441491305828, -0.04586857929825783, 0.03116365149617195, 0, 0, 0, 0, 0, 0.01112987566739321, -0.004783088341355324, 0.03237782046198845,
        0, 0, 0, 0, 0, 0, 0, 0, 0, -0.03878762200474739, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.03486104309558868, -0.05580219626426697, 0, 0.01598797552287579, 0, 0.009830000810325146, 0, 0.0207432322204113, -0.06043752282857895, -0.008124238811433315, 0, 0.02414713054895401, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.02247539162635803, 0.009613356553018093, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01576049812138081, -0.07113559544086456, -0.007517957128584385, 0.01594248227775097, 0.03615366667509079,
        0, 0.02343179099261761, 0, 0, 0, 0, 0, 0, 0.0091755585744977, 0.03084632754325867, 0, 0.02906287461519241, 0, 0.02049209363758564, 0, 0.01317229215055704, -0.03680572286248207, -0.02063793875277042, 0, -0.04187193885445595, 0, 0, 0, 0, 0, -0.002670755842700601, -0.07919859886169434, -0.0379980206489563, 0, 0, -0.03320666030049324, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.008145167492330074, 0, 0.008379527367651463, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.03444592654705048, -0.03645728528499603, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, -0.03150992840528488, 0, -0.06505794823169708, -0.02994114905595779, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.02054129354655743, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.02222488075494766, 0, 0.01399419270455837, 0, 0, 0, 0, 0, -0.0325043722987175, -0.03451572731137276, 0.01689772307872772, 0, -0.009961167350411415, -0.07208022475242615, 0.01095087826251984, 0, -0.03269660845398903, 0, 0.0136753972619772, 0, 0, 0, 0.01173785980790854, -0.0311382208019495, 0, 0, 0.02595781534910202, 0, 0, 0,
        -0.007579086348414421, -0.01255275122821331, -0.06653240323066711, -0.02954717352986336, 0, 0.01375634502619505, 0.01003241818398237, 0, 0, 0.01189403980970383, 0, 0, 0, 0.01904140785336494, 0, 0.007657139096409082, -0.001413720776326954, 0, 0, 0, 0, 0, 0, 0, 0, 0.008291858248412609, 0, 0, 0, 0.01772942766547203, 0, 0, -0.01033233478665352, 0.0142089482396841, -0.04645746573805809, 0, 0.006983238738030195, 0, 0, 0, 0, 0.01128052826970816, 0, -0.03475700691342354, 0, 0.01924506202340126, 0, 0.006364207714796066, -0.0379529595375061, 0, 0, 0, 0, 0.006294762250036001, 0, 0, 0, -0.02716356329619884, 0, -0.0293616522103548, 0, 0.01409779395908117, 0, 0,
        0.01976137608289719, 0, 0.01498338580131531, 0.009524967521429062, 0, 0, 0, 0.00425175204873085, 0, 0.007868176326155663, 0, 0, 0, 0, 0, 0, -0.01827763393521309, -0.017729127779603, 0.01077134720981121, 0.01253357902169228, 0.009688433259725571, 0, 0, 0, 0, 0.01099357102066278, 0, 0.004410892259329557, 0, 0, 0, 0, -0.00377731048502028, -0.02130901254713535, 0.01038486417382956, 0.007529269903898239, -0.05806173384189606, -0.07250869274139404, 0.006039019674062729, 0.003895511152222753, 0, 0, 0, 0.004005349706858397, 0, 0, 0, 0, 0.008728388696908951, -0.001157807186245918, 0.009144460782408714, 0.015165900811553, 0.01755212992429733, -0.04272159188985825, 0.003880210220813751, 0, 0, 0, 0, 0.009988016448915005, 0, 0, 0, 0,
        0.009193390607833862, 0.008692521601915359, 0, 0.01060861069709063, -0.03101376630365849, -0.03018118627369404, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01364627666771412, 0.004944190382957458, 0, 0.008801079355180264, 0, -0.02544346824288368, 0, -0.02359269373118877, 0, 0, 0, 0, 0, 0, 0, 0, 0.01466025970876217, 0.009659862145781517, 0, 0.0103001780807972, -0.01996265165507793, -0.05546626448631287, 0, -0.02500017732381821, 0, 0, 0, 0.003535490948706865, 0, 0, 0, -0.03045289404690266, 0.0148655828088522, 0.00579497404396534, 0, 0.009740905836224556, 0.03788544237613678, -0.02420934289693832, 0, 0.003774001961573958, 0, 0, 0, 0.01043183915317059, 0, 0, 0, -0.03075368888676167,
        -0.009943543002009392, -0.0363725945353508, -0.02913453057408333, 0.003278282005339861, 0, -0.0223871972411871, 0, 0, 0, -0.02501029893755913, 0, 0, 0, 0, 0, 0, -0.0222456268966198, -0.02708756551146507, 0.01860148645937443, 0.004874540027230978, 0, 0, 0, 0, -0.02437123842537403, 0, -0.06764634698629379, 0, 0, 0, 0, 0, 0, -0.005546146538108587, 0, 0.01433419995009899, 0, 0.008980524726212025, 0, 0.01299540977925062, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.005236919037997723, 0, 0.01414542365819216, 0, 0.01225019246339798, 0, 0, 0, 0, 0, 0, 0, 0,
        0.005547841545194387, 0.008208698593080044, 0, 0.006845465395599604, 0, 0.01248141564428806, 0, 0.01396866701543331, 0, -0.0456596240401268, 0, 0, -0.05015383288264275, -0.02572581917047501, 0, -0.0312773771584034, 0, 0.004795511718839407, 0, 0.002636970486491919, 0, 0.01068228203803301, 0, 0.002871196484193206, 0, 0.02217857725918293, -0.01946383714675903, 0, -0.02258609421551228, 0.02608054503798485, -0.04013143479824066, 0, 0, 0.007489569019526243, 0, 0.01068226434290409, 0, 0.007232232019305229, 0, 0.005951573140919209, 0, -0.01117824204266071, 0, 0, 0, -0.01327822078019381, 0, -0.01235407311469316, 0, 0.00249892077408731, 0, 0.004700840916484594, 0, 0.008405519649386406, 0, 0, 0, -0.02177382819354534, 0, 0.01064997259527445, 0, 0.02394522912800312, 0, -0.01069718040525913,
        0, 0, -0.02687043324112892, 0, 0, 0, 0, 0, 0, 0.01122476253658533, 0, 0.006285820621997118, 0, 0, 0, 0, 0, 0, 0, 0, 0.02509150840342045, 0, 0.01010579895228148, 0.008788301609456539, 0, 0.004557359963655472, 0, 0.002502231160178781, 0, 0.004975226707756519, 0, 0.00535484729334712, -0.02959215268492699, 0, -0.03147424012422562, -0.02967922389507294, 0, 0, 0, 0, -0.02314081974327564, 0.00784358661621809, -0.03247364610433578, 0.00724315270781517, 0, 0, 0, 0, 0.01705708913505077, 0.01096649188548326, 0, 0, 0.005600300617516041, 0, -0.04641455411911011, 0.004539841786026955, 0, 0.008921099826693535, 0, 0.008369279094040394, 0.007436474785208702, 0.007528218906372786, -0.02735490910708904, 0.006378063932061195,
        0, 0, 0, 0, -0.01834364794194698, 0, 0, 0, 0, -0.03008119575679302, 0, 0, -0.03365330025553703, 0.03120208904147148, 0, -0.01954656280577183, 0, 0, 0, 0, -0.02549745514988899, 0.01288878638297319, 0.01778332516551018, 0, 0, 0, 0, 0, -0.03715743124485016, -0.004761854186654091, -0.02195841073989868, -0.03228186070919037, 0, 0, 0, 0, -0.02816272526979446, 0.008293989114463329, 0, 0, 0, 0.001315048313699663, 0, 0, 0, 0.009438018314540386, 0, 0, 0, 0, 0, 0, 0.007425583899021149, 0.007842604070901871, 0, 0, 0, 0, 0, 0, -0.001333386986516416, 0.009247502312064171, 0, 0.002133360598236322,
        0, 0, 0, 0, 0, 0, 0, 0, 0.007343338336795568, 0, -0.0267237164080143, 0, 0.00740019092336297, 0, 0.004962403327226639, 0, 0, 0, -0.01688143610954285, 0, -0.01179863605648279, 0, -0.02571386098861694, 0, 0.01070994418114424, -0.0556597113609314, -0.03741739317774773, -0.01802049204707146, 0.006377343088388443, 0, 0.008972832933068275, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.009832744486629963, 0, 0, 0, 0.005453905556350946, 0, 0, 0, 0, 0, 0.01687466166913509, 0, 0, 0, 0, 0, -0.001644275616854429, 0, -0.01804634556174278, 0, 0.006809437647461891, 0, -0.01496248692274094, 0,
        0.01987425424158573, 0.001492144307121634, -0.0216311477124691, -0.007938203401863575, 0.02310259826481342, 0.0130295567214489, 0, 0, 0, 0.009515848942101002, -0.03451700136065483, 0.003219124395400286, -0.03902067244052887, -0.009894419461488724, 0, 0, 0.01231423206627369, 0.006858997512608767, -0.006478546652942896, 0.004047526512295008, 0.01973509043455124, 0.002700354438275099, 0, 0, 0, 0.006951878312975168, -0.01712424494326115, -0.01655330881476402, 0, 0.01200266275554895, 0, 0, 0, 0, 0, 0, -0.01098081842064857, -0.002221357543021441, 0, 0, 0, 0, 0, 0, 0.005014385562390089, 0.003137481864541769, 0, 0, 0, 0, 0, 0, 0.0106129813939333, 0.002579885302111506, 0, 0, 0, 0, 0, 0, -0.01793735846877098, 0.001707324292510748, 0, 0,
        0, -0.009604480117559433, -0.01508885528892279, -0.02774766832590103, 0, 0, 0, 0, 0, 0.00739889033138752, -0.02643356472253799, -0.01718542911112309, 0, 0, 0, -0.0008980568964034319, 0, 0.01015503704547882, -0.01669410057365894, 0.007048649247735739, 0, 0, 0, 0.00380755914375186, 0.002092939568683505, 0.004166676197201014, -0.02109813317656517, 0.009354403242468834, 0.002162942197173834, 0.002052073134109378, 0.00654215132817626, 0.003696184605360031, 0, -0.01359990052878857, 0, 0.007852813228964806, 0, 0.01017613895237446, 0, 0, 0, 0.0007750307559035718, -0.01702082715928555, 0.02834775298833847, 0, 0, 0, -0.03055238537490368, 0, 0, -0.016016636043787, -0.01619839668273926, 0, 0, 0, -0.01335214730352163, 0.002313146833330393, 0.004094324074685574, 0, 0.008210817351937294, 0, 0.00329717667773366, 0, 0,
        0.02481650933623314, -0.03530100360512733, 0.003893492743372917, -0.01904712989926338, -0.01584109477698803, 0, 0, 0, -0.03178815171122551, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.02047871053218842, 0, 0.01098948158323765, 0, 0, 0, 0, 0, 0.01715260371565819, -0.04695065319538116, 0.003483145497739315, 0.008572183549404144, -0.0444423146545887, -0.01109811943024397, 0, 0, -0.01615112647414207, 0, 0, 0.00142323924228549, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01727823726832867, 0.003624126315116882, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0004339089791756123, 0, 0, 0, 0, 0, 0.0009622455108910799, 0.01549517549574375, -0.004086407832801342, 0, 0, 0, 0, 0, -0.009614866226911545, -0.02146042510867119, 0.002679563593119383, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.02382047474384308, 0, 0, 0, 0, 0, 0, 0, 0.009769709780812263, 0, 0, 0, 0.01489582564681768, 0, -0.02510052360594273, 0.01001574099063873, -0.01178494561463594,
        0.01024255622178316, -0.02764555439352989, 0.00343476003035903, 0, 0, -0.01123157981783152, -0.00723348231986165, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.01804427430033684, 0, 0, 0, -0.0150808421894908, 0, 0, 0.007141897920519114, -0.003703800030052662, -0.02559898234903812, 0.005311028566211462, 0, 0.01593677885830402, -0.02524846419692039, 0.007538535166531801, 0, 0, 0, 0.001220774254761636, 0, 0, 0, 0.006217730697244406, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0008189600193873048, 0.00407592486590147, 0, 0, 0, 0, 0, 0, 0.002270183525979519, 0.005889337509870529, 0, 0, 0.003385185729712248, 0,
        0, 0, 0, 0, 0, 0, 0, 0, -0.02017462812364101, 0, 0, 0, 0.003436579834669828, 0, 0.005846241023391485, 0, 0, 0, 0, 0, 0, 0, -0.005413452628999949, -0.0143102677538991, 0, 0, -0.001663660863414407, 0, 0.003976115956902504, 0, -0.006005736067891121, 0, 0, 0, 0, 0, 0, 0, 0.002493057865649462, 0, 0, 0, 0.0230197049677372, 0, 0.001859741052612662, 0, 0.003148970426991582, 0, 0, 0, -0.02884220518171787, -0.02005881816148758, 0, 0, -0.01976573653519154, 0, 0, 0, 0.005873358808457851, -0.03437362983822823, 0, 0, 0.004562912974506617, 0,
        0, 0, 0.008774672634899616, 0, 0, 0.006185143254697323, 0.01860617473721504, 0, -0.01875578239560127, -0.0154277253895998, -0.001040034228935838, -0.01379980053752661, 0.001732043921947479, -0.03011548332870007, 0.0174503605812788, -0.004276387393474579, 0, 0.007097083143889904, 0, 0.006176637019962072, 0, 0.001582565368153155, 0, 0.001741311396472156, 0, 0.00339307077229023, 0, 0.0007433819118887186, 0, 0.001776952180080116, 0, 0.0004768744111061096, -0.004590701777487993, 0, -0.009034385904669762, -0.01203822251409292, 0.008709119632840157, 0, 0, -0.01955411396920681, 0, 0, -0.007595938164740801, -0.007968728430569172, 0, 0, -0.0188184455037117, -0.01184892002493143, 0, 0.002613547025248408, 0, 0, 0, 0.001950269681401551, 0, 0.00326098408550024, 0, 0.00143717578612268, -0.01916811801493168, -0.003557805437594652, 0, 0.0009183396468870342, 0, 0.008637134917080402,
        -0.004532336723059416, 0.0007106511620804667, 0.004349576774984598, 0, 0.01034977659583092, 0, 0, 0, -0.02266670018434525, 0.008326318114995956, 0, 0, 0.01467800885438919, 0, 0, 0, 0, 0, 0, 0, 0, 0.01130657829344273, 0.004106978885829449, 0.001821598270907998, 0, 0, 0, 0, -0.0004202294221613556, -0.01681568659842014, -0.001385505893267691, 0, 0, 0, 0.003154172794893384, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.0323813371360302, 0.01793555542826653, 0.002376930322498083, 0.0006376913515850902, 0, 0, 0, 0, -0.0061454176902771, -0.008871481753885746, 0.001322366297245026, 0.0006510736420750618,
        -0.02150851674377918, 0.01392801851034164, 0, 0.009533404372632504, -0.009170075878500938, 0.009230455383658409, 0, 0.003967825323343277, 0, 0.009119114838540554, -0.01614286750555038, -0.0002384649560553953, -0.01252885349094868, -0.005857710726559162, -0.01893834955990314, 0.007801879197359085, 0, 0.008746926672756672, 0, 0, 0.0006380273844115436, 0.007900875993072987, 0, 0.01459169294685125, 0.003871724242344499, 0.001499407924711704, 0.001440761028788984, -0.0004985252162441611, -0.01610669307410717, -0.006887191906571388, -0.01039341744035482, -0.004319575615227222,
        0.0004103098472114652, -0.0006808624020777643, -0.0121103199198842, 0, -0.003421121276915073, 0, -0.005879346281290054, 0, 0, 0.001587506616488099, 0, 0, 0, 0, 0, -0.006070814561098814, 0.0004569774027913809, 0.007457399740815163, -0.00630699098110199, 0.002955050207674503, 0.01309648342430592, 0.001680928282439709, -0.03193112090229988, -0.009264306165277958, 0, 0.001019586226902902, 0, 0.003524490166455507, 0, 0.0003949134552385658, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.005138761829584837, -0.003907509613782167, 0, -0.006899136118590832, -0.01142996177077293, 0.002622062340378761, -0.00432565389201045, -0.00870151910930872, 0, 0, 0, 0, 0, 0, 0, 0, -0.0008807702106423676, 0.002718085888773203, 0.007497170008718967, 0.006045312620699406, 0.003405487630516291, 0.004515117034316063, 0, 0,
        0.006252940744161606, 0, 0.01043301541358232, 0, 0.006003736518323421, 0, 0.001515108975581825, 0, -0.004603087902069092, -0.01171386893838644, -0.008487178012728691, 0, -0.02757550776004791, 0, -0.02032353356480598, 0, 0.0006519221351481974, 0, 0.006138731725513935, 0, 0, 0, 0.001595040084794164, 0, 0.005334398709237576, 0, 0.01784876175224781, 0, 0, 0, 0, 0, 0.00843959953635931, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0003474775003269315, 0, 0.0002648720401339233, 0, 0.002172166248783469, 0, 0.0001991226599784568, 0, 0.0033381471876055, -0.01830042339861393, 0.0008448832668364048, -0.01855484396219254, 0.005395206622779369, -0.01277835015207529, 0, 0,
        -0.02965663745999336, 0, 0.02332506701350212, -0.02838071621954441, 0, 0, -0.01002281159162521, -0.01111533492803574, 0, 0, 0.0015492596430704, 0, 0.004451742395758629, 0, -0.00898438598960638, 0, -0.01734809763729572, 0, 0.009844627231359482, 0, 0, 0, 0.01402728259563446, 0, 0.0001889473933260888, 0, 0.003700175322592258, 0, 0, 0, 0, 0, -0.008954721502959728, -0.004812535829842091, -0.03781067207455635, 0, -0.004540477879345417, 0, -0.02226012945175171, 0, 0.0006431916845031083, 0, 0.006231543142348528, 0, 0, 0, 0.00517468573525548, 0, 0, 0, 0.01767221838235855, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000669965345878154, 0, 0, 0, -0.01646167412400246, 0, 0, 0, 0.00732739781960845, -0.02127237431704998, -0.01783580519258976, 0, 0.002690789988264441, 0, 0.004224274773150682, 0, 0.00151705916505307, 0, 0, 0, 0, 0, 0, 0, -0.01861471869051456, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00801561214029789, 0, -0.01583342999219894, -0.004566633142530918, 0.007201651576906443, 0, 0.02495305985212326, -0.01382014993578196, -0.01176471542567015, 0, -0.000471903127618134, 0, -0.02016980201005936, -0.01054738275706768, 0.004090132657438517, 0, 0.004910278134047985, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.0008103224099613726, 0, 0, 0, 0.007606043480336666, 0, 0, 0, -0.008107283152639866, 0, 0, 0, 0.004008429124951363, 0, 0.001313592540100217, 0, 0.003615217981860042, 0, 0, 0, -0.01011038105934858, -0.01000845059752464, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.01766357757151127, 0, 0, 0, 0, 0, -0.01562054362148046, 0, -0.02157520689070225, -0.00433329539373517, 0, 0, -0.004676453303545713, 0, 0, 0, 0.0122592868283391, -0.02301683649420738, 0, 0, -0.01217377465218306, 0,
        0.006431406829506159, 0, 0.006743722595274448, 0, 0, 0, 0, 0, 0.001024801749736071, 0, -0.001711194519884884, 0, 0.0009428146877326071, 0, -0.0001311165251536295, 0, 0.006403270177543163, 0, -0.0007984824478626251, 0, 0.004454517271369696, 0, 0.005514136049896479, 0, 0, 0, -0.0153599176555872, 0, 0.008250091224908829, 0, 0.01314036548137665, 0, 0.002157262060791254, 0, 0.006181805394589901, 0, -0.007650680840015411, 0, 0.01062565017491579, 0, 0.003595028771087527, 0, -0.004492728039622307, 0, -0.000630153575912118, 0, 0.003591910935938358, 0, -0.004326304886490107, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.01157410349696875, 0, 0, 0, -0.01721412129700184, 0,
        0, 0, -0.0001014675508486107, -0.001855527400039136, 0, 0.0002916278899647295, 0.001297672977671027, 0.0004556123167276382, 0, 0, 0, 0, 0, 0, -0.01805011369287968, 0.01081390399485826, 0, 0.0008374881581403315, 0.01251223776489496, -0.001186354551464319, 0.01449456159025431, 0.004850281868129969, -0.02116888575255871, 0.002711192471906543, 0, 0, 0, 0, 0, 0, 0.0070200408808887, -0.01638983376324177, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.003092466853559017, 0, 0, 0, 0, 0, 0, 0, 0.01773669384419918, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, -0.01027152501046658, 0, 0, 0, 0, 0, 0, 5.464977584779263e-05, 0.003356776665896177, 0, 0, 0, 0.004286094568669796, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001694557256996632, 0, 0, 0, -0.00131977756973356, 0, 0, 0, -0.002302471781149507, 0, 0, 0, -0.002150652464479208, 0, 0.01342695392668247, 0, -0.002443477278575301, 0, 0, -0.01489455066621304, -2.147941631847061e-05, 0, 0, 0, -0.007389385718852282, 0, 0, 0, -0.02016442641615868, 0, 0, 0, -0.00115513289347291, 0, 0, 0, 0.005304682999849319,
        0.001706712762825191, 0, 0.0022165656555444, 0, 0, 0, 0.00619994755834341, 0.00718062836676836, 0.001187854213640094, 1.21179027701146e-05, 0.0004914540913887322, -0.002071861177682877, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001379130175337195, 0, 0.001970922807231545, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.01307414565235376, 0, -0.01955035701394081, -0.004822935909032822, -0.0003667207784019411, 0.009438370354473591, 0.01274088677018881, 0, -0.01542752329260111, -0.009705768898129463, 0.005007605534046888, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01325212884694338, 0, 0, 0, 0, 0,
        -0.006677460856735706, 0.005749107804149389, 0, -0.01285589206963778, 0, 0.01756280846893787, -0.007455401588231325, -0.007552308961749077, 0, -0.0001277012925129384, 0, 0, 0.0006600580527447164, -0.0001786681532394141, 0, 0, 0, 0.008567539043724537, 0, -0.005926044657826424, 0, -0.00598093681037426, 0, -0.004190797917544842, 0, 0.002582812448963523, 0, 0, 0, -0.005564672406762838, 0, 0, 0, -0.0237753838300705, 0, 0, 0, -0.01077377516776323, 0, 0, 0, 0.00111264071892947, 0, 0, 0, 0.00508428830653429, 0, 0, 0, -0.0005781001527793705, 0, 0, 0, -0.002138130366802216, 0, -0.002022024244070053, 0, 0, 0, 0, 0, 0.003561581484973431, 0, 0,
        0.005881319753825665, 0.001319928793236613, 0.001428514253348112, 0.001306019257754087, 0, -0.00707445852458477, 0, -0.007679928094148636, -0.01165470480918884, 0.01639826968312263, -0.02755325101315975, 0.004629188217222691, 0, -0.01129416842013597, 0, 0, 0, -0.004930683877319098, 0, -0.01367566920816898, 0, -0.007166414055973291, 0, 0, 0.01119248103350401, 0, 0, -0.005675333086401224, 0, 0, 0, 0, 0, 0, 0.0007586448336951435, 0.0009128538076765835, 0, 0, 0, 0, 0, 0, 0.001624384778551757, -0.00149031518958509, 0, 0, 0, 0, 0, 0, 0, 0.007980461232364178, 0, 0, 0, 0, 0, 0, 0, -0.004414828959852457, 0, 0, 0, 0,
        -0.002854422433301806, 0, 0.005629315041005611, 0, 0.01129941362887621, 0, -0.002810069592669606, 0.0004302999877836555, -0.004253925755620003, -0.01105919294059277, 0, 0, 0, 0, -1.760950726747978e-05, 0.0005464612040668726, -0.007942218333482742, 0, 0.007314725313335657, -0.01365612633526325, 0.006823964416980743, 0, -0.001181134372018278, 0, 0.003027369501069188, 0, 0, 0.004443385638296604, 0.003755899146199226, 0, 0, 0, 0, 0, 0, 0, -0.006601655855774879, -0.00284848315641284, -0.0003565779188647866, 0, 0, 0, 0, 0, 0.003606242593377829, 0, -0.001426101662218571, 0.0005829167203046381, 0, 0, 0, 0, -0.009456949308514595, 0, 0.0002426408609608188, 0.0005875673377886415, 0, 0, 0, 0, 0.006965663749724627, 0, 0.001427021925337613, 0,
        0, 0, -0.006394419819116592, -0.003410939127206802, 0, 0, -0.01292651891708374, -0.007973904721438885, 0, 4.842462203669129e-06, 0, 0.0009644225356169045, 0, 0, 0, -0.0002966176252812147, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0002938125981017947, 0, 0, 0, 0.007303602527827024, 0, 0, 0, 0.0008917927625589073, 0, 0, 0, -0.003497957717627287, 0, 0, 0, -0.004397077485918999, 0, -0.0128351291641593, 0, 0.01093344856053591, 0, 0, 0, -0.001585939084179699, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.001156592974439263, 0, 0, 0, -0.005064187105745077, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.002356393961235881, 0, 0.003213068936020136, -0.006067689042538404, -0.001504903426393867, 0, 0.004228599369525909, 0, 0, 0, 0.009186839684844017, 0, -0.01008667331188917, 0, 0.002214695559814572, 0, -0.01226602215319872, 0, 0.01644594222307205, -0.007813619449734688, -0.007677361834794283, -0.0008255643770098686, -0.0008230222738347948, -0.01285306643694639, 0, 0, 0, 0, 0, 0, 0, 0, -0.008985007181763649, 0, -0.001111097284592688, 0, -0.001519153825938702, 0, 9.871077054413036e-05, 0,
        0, -0.002214978914707899, 0, 0, 0, 0, 0, 0, 0, -0.00156546151265502, 0, -0.008186970837414265, 0, 0.00296520721167326, 0, 0.0004642185522243381, 0, 0.008717425167560577, 0, -0.0004498694033827633, 0, 0, 0, 0, 0, 0.008092491887509823, 0, 0.002260056557133794, 0, -0.00621746527031064, 0, 0.0008050395408645272, 0, 0.008807939477264881, 0, 0, 0, -0.00957128219306469, 0, 0, 0, 0.008443813771009445, 0, -0.003699937136843801, 0, 0.00388789433054626, 0, 0, 0.002101534279063344, -0.01163927465677261, 0, 0.005452740471810102, 0, 0, 0, 0, 0, 0, 0, 0.004687796346843243, 0, -0.01249413937330246, 0, 0,
        0.007951369509100914, 0, -0.0003565862134564668, 0, 0, 0, 0.003599039744585752, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.004316344857215881, 0, -0.001148554845713079, 0, 0, 0, 0.002044525695964694, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.004540179390460253, 0, 0, 0, -0.003723246045410633, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001235490432009101, 0, 0.003763150656595826, 0, -0.01173089351505041, 0, -0.009655994363129139, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        -0.01393881812691689, 0, -0.001685716561041772, 0, 0, 0, -0.0004235052620060742, 0, 0.01040220633149147, 0, -0.003546274965628982, 0, 0, 0, -0.0053211092017591, 0, 0.002655259799212217, 0, 0.001634517218917608, 0, 0, 0, 0, 0, 0, 0, -0.007950040511786938, 0, 0, 0, 0, 0, -0.001849894295446575, -0.008181951940059662, 0.008962936699390411, 0.009715992026031017, -0.003949793055653572, 0, -0.01302787102758884, -0.002929674461483955, 0, 0, -0.003640355309471488, 0, 0, 0, 0, 0, 0.0001152749682660215, 0.001425154972821474, -0.0002264891663799062, -0.001173610333353281, 0, 0, 0, 0, 0, 0, 0.003415141953155398, -0.002166089368984103, 0, 0, 0, 0,
        0, 0.001473052660003304, 0, 0.005048515275120735, 0, 0, 0, 0.01051878090947866, 0, 0, 0, 0, 0, 0, 0, 0.007995191961526871, 0, 0, 0, -0.01069289445877075, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00305617437697947, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.01285661291331053, 8.028969750739634e-05, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.006243716459721327,
        -0.006847850978374481, 0, 0, 0, 0, 0, 0, 0, -0.0009812857024371624, -0.004392296075820923, 0.001432910445146263, 0, 0, 0, 0, 0, -0.002566962735727429, -0.009660361334681511, 0.01334126386791468, -0.004978199489414692, 0, 0, 0, -0.002784081734716892, 0.0005290105473250151, 0, 0.001388062839396298, 0, 0.0002734377048909664, 0, -0.002060597529634833, 0, 0.01154465787112713, 0, -0.01036462094634771, -0.0004059682250954211, 0, 0, 0, 0, -0.003827707143500447, 0, -0.01112370006740093, 0, 0, 0, 0, 0, -0.01191148068755865, -0.003428943455219269, 0.004513827618211508, 0, -0.007494180463254452, 0, 0.006451081018894911, 0, 0.002257360145449638, 0, -0.001419040956534445, 0, 0.0009907516650855541, 0, 0.003097499720752239, 0
    ]
    scale = 1
    bias = 0.7821782231
    model_ctrs = catboost_model_ctrs_container(
        used_model_ctrs_count = 28,
        compressed_model_ctrs = [
            catboost_compressed_model_ctr(
                projection = catboost_projection(
                    transposed_cat_feature_indexes = [3],
                    binarized_indexes = []
                ),
                model_ctrs = [
                    catboost_model_ctr(base_hash = 768791580653471478, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471478, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0.5, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471478, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 1, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 8405694746487331134, base_ctr_type = "FeatureFreq", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1)
                ]
            ),
            catboost_compressed_model_ctr(
                projection = catboost_projection(
                    transposed_cat_feature_indexes = [4],
                    binarized_indexes = []
                ),
                model_ctrs = [
                    catboost_model_ctr(base_hash = 768791580653471473, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471473, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0.5, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471473, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 1, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 8405694746487331129, base_ctr_type = "FeatureFreq", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1)
                ]
            ),
            catboost_compressed_model_ctr(
                projection = catboost_projection(
                    transposed_cat_feature_indexes = [5],
                    binarized_indexes = []
                ),
                model_ctrs = [
                    catboost_model_ctr(base_hash = 768791580653471472, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471472, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0.5, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471472, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 1, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 8405694746487331128, base_ctr_type = "FeatureFreq", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1)
                ]
            ),
            catboost_compressed_model_ctr(
                projection = catboost_projection(
                    transposed_cat_feature_indexes = [6],
                    binarized_indexes = []
                ),
                model_ctrs = [
                    catboost_model_ctr(base_hash = 768791580653471475, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471475, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0.5, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471475, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 1, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 8405694746487331131, base_ctr_type = "FeatureFreq", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1)
                ]
            ),
            catboost_compressed_model_ctr(
                projection = catboost_projection(
                    transposed_cat_feature_indexes = [7],
                    binarized_indexes = []
                ),
                model_ctrs = [
                    catboost_model_ctr(base_hash = 768791580653471474, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471474, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0.5, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471474, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 1, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 8405694746487331130, base_ctr_type = "FeatureFreq", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1)
                ]
            ),
            catboost_compressed_model_ctr(
                projection = catboost_projection(
                    transposed_cat_feature_indexes = [8],
                    binarized_indexes = []
                ),
                model_ctrs = [
                    catboost_model_ctr(base_hash = 768791580653471469, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471469, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0.5, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471469, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 1, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 8405694746487331109, base_ctr_type = "FeatureFreq", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1)
                ]
            ),
            catboost_compressed_model_ctr(
                projection = catboost_projection(
                    transposed_cat_feature_indexes = [10],
                    binarized_indexes = []
                ),
                model_ctrs = [
                    catboost_model_ctr(base_hash = 768791580653471471, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471471, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 0.5, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 768791580653471471, base_ctr_type = "Borders", target_border_idx = 0, prior_num = 1, prior_denom = 1, shift = 0, scale = 1),
                    catboost_model_ctr(base_hash = 8405694746487331111, base_ctr_type = "FeatureFreq", target_border_idx = 0, prior_num = 0, prior_denom = 1, shift = 0, scale = 1)
                ]
            )
        ],
        ctr_data = catboost_ctr_data(
            learn_ctrs = {
                768791580653471469 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 18446744073709551615 : 0, 8473802870189803490 : 0, 7071392469244395075 : 2, 18446744073709551615 : 0, 8806438445905145973 : 3, 619730330622847022 : 1, 18446744073709551615 : 0},
                    target_classes_count = 2,
                    counter_denominator = 0,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 2.94273e-44, count = 61), catboost_ctr_mean_history(sum = 0, count = 12), catboost_ctr_mean_history(sum = 1.4013e-45, count = 5), catboost_ctr_mean_history(sum = 0, count = 1)],
                    ctr_total = [21, 61, 0, 12, 1, 5, 0, 1]
                ),
                768791580653471471 :
                catboost_ctr_value_table(
                    index_hash_viewer = {2136296385601851904 : 0, 7428730412605434673 : 2, 9959754109938180626 : 6, 14256903225472974739 : 1, 8056048104805248435 : 3, 18446744073709551615 : 0, 12130603730978457510 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 10789443546307262781 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0},
                    target_classes_count = 2,
                    counter_denominator = 0,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 2.8026e-44, count = 73), catboost_ctr_mean_history(sum = 0, count = 1), catboost_ctr_mean_history(sum = 0, count = 2), catboost_ctr_mean_history(sum = 0, count = 2), catboost_ctr_mean_history(sum = 0, count = 1), catboost_ctr_mean_history(sum = 1.4013e-45, count = 0), catboost_ctr_mean_history(sum = 1.4013e-45, count = 0)],
                    ctr_total = [20, 73, 0, 1, 0, 2, 0, 2, 0, 1, 1, 0, 1, 0]
                ),
                768791580653471472 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 18446744073709551615 : 0, 13987540656699198946 : 3, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18089724839685297862 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 10353740403438739754 : 1, 3922001124998993866 : 2, 13686716744772876732 : 4, 18293943161539901837 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0},
                    target_classes_count = 2,
                    counter_denominator = 0,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 0, count = 13), catboost_ctr_mean_history(sum = 3.08286e-44, count = 20), catboost_ctr_mean_history(sum = 0, count = 37), catboost_ctr_mean_history(sum = 0, count = 2), catboost_ctr_mean_history(sum = 0, count = 4), catboost_ctr_mean_history(sum = 0, count = 3)],
                    ctr_total = [0, 13, 22, 20, 0, 37, 0, 2, 0, 4, 0, 3]
                ),
                768791580653471473 :
                catboost_ctr_value_table(
                    index_hash_viewer = {7537614347373541888 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 5903587924673389870 : 2, 18278593470046426063 : 6, 10490918088663114479 : 3, 18446744073709551615 : 0, 407784798908322194 : 7, 5726141494028968211 : 1, 1663272627194921140 : 10, 8118089682304925684 : 8, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 15431483020081801594 : 9, 18446744073709551615 : 0, 18446744073709551615 : 0, 1403990565605003389 : 5, 3699047549849816830 : 11, 14914630290137473119 : 0},
                    target_classes_count = 2,
                    counter_denominator = 0,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 9.80909e-45, count = 3), catboost_ctr_mean_history(sum = 1.4013e-45, count = 3), catboost_ctr_mean_history(sum = 5.60519e-45, count = 24), catboost_ctr_mean_history(sum = 0, count = 3), catboost_ctr_mean_history(sum = 5.60519e-45, count = 16), catboost_ctr_mean_history(sum = 4.2039e-45, count = 16), catboost_ctr_mean_history(sum = 0, count = 4), catboost_ctr_mean_history(sum = 0, count = 5), catboost_ctr_mean_history(sum = 1.4013e-45, count = 1), catboost_ctr_mean_history(sum = 0, count = 1), catboost_ctr_mean_history(sum = 0, count = 3), catboost_ctr_mean_history(sum = 2.8026e-45, count = 0)],
                    ctr_total = [7, 3, 1, 3, 4, 24, 0, 3, 4, 16, 3, 16, 0, 4, 0, 5, 1, 1, 0, 1, 0, 3, 2, 0]
                ),
                768791580653471474 :
                catboost_ctr_value_table(
                    index_hash_viewer = {3607388709394294015 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18356215166324018775 : 2, 18365206492781874408 : 1, 18446744073709551615 : 0, 18446744073709551615 : 0, 14559146096844143499 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 11416626865500250542 : 3, 5549384008678792175 : 0},
                    target_classes_count = 2,
                    counter_denominator = 0,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 0, count = 22), catboost_ctr_mean_history(sum = 2.8026e-45, count = 3), catboost_ctr_mean_history(sum = 0, count = 14), catboost_ctr_mean_history(sum = 2.66247e-44, count = 17), catboost_ctr_mean_history(sum = 0, count = 22), catboost_ctr_mean_history(sum = 1.4013e-45, count = 1)],
                    ctr_total = [0, 22, 2, 3, 0, 14, 19, 17, 0, 22, 1, 1]
                ),
                768791580653471475 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 14452488454682494753 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 1388452262538353895 : 9, 8940247467966214344 : 1, 4415016594903340137 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 41084306841859596 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 8678739366408346384 : 2, 18446744073709551615 : 0, 4544226147037566482 : 11, 14256903225472974739 : 8, 16748601451484174196 : 7, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 5913522704362245435 : 6, 1466902651052050075 : 10, 2942073219785550491 : 12, 15383677753867481021 : 3, 18446744073709551615 : 0},
                    target_classes_count = 2,
                    counter_denominator = 0,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 8.40779e-45, count = 10), catboost_ctr_mean_history(sum = 2.8026e-45, count = 8), catboost_ctr_mean_history(sum = 0, count = 6), catboost_ctr_mean_history(sum = 2.8026e-45, count = 14), catboost_ctr_mean_history(sum = 1.4013e-45, count = 4), catboost_ctr_mean_history(sum = 2.8026e-45, count = 9), catboost_ctr_mean_history(sum = 0, count = 11), catboost_ctr_mean_history(sum = 0, count = 3), catboost_ctr_mean_history(sum = 1.4013e-45, count = 5), catboost_ctr_mean_history(sum = 9.80909e-45, count = 6), catboost_ctr_mean_history(sum = 0, count = 2), catboost_ctr_mean_history(sum = 1.4013e-45, count = 0), catboost_ctr_mean_history(sum = 0, count = 1)],
                    ctr_total = [6, 10, 2, 8, 0, 6, 2, 14, 1, 4, 2, 9, 0, 11, 0, 3, 1, 5, 7, 6, 0, 2, 1, 0, 0, 1]
                ),
                768791580653471478 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 15379737126276794113 : 5, 18446744073709551615 : 0, 14256903225472974739 : 3, 18048946643763804916 : 1, 2051959227349154549 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 7024059537692152076 : 6, 18446744073709551615 : 0, 15472181234288693070 : 2, 8864790892067322495 : 0},
                    target_classes_count = 2,
                    counter_denominator = 0,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 1.4013e-44, count = 58), catboost_ctr_mean_history(sum = 0, count = 4), catboost_ctr_mean_history(sum = 1.4013e-45, count = 6), catboost_ctr_mean_history(sum = 1.4013e-45, count = 5), catboost_ctr_mean_history(sum = 4.2039e-45, count = 6), catboost_ctr_mean_history(sum = 2.8026e-45, count = 0), catboost_ctr_mean_history(sum = 7.00649e-45, count = 0)],
                    ctr_total = [10, 58, 0, 4, 1, 6, 1, 5, 3, 6, 2, 0, 5, 0]
                ),
                8405694746487331109 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 18446744073709551615 : 0, 8473802870189803490 : 0, 7071392469244395075 : 2, 18446744073709551615 : 0, 8806438445905145973 : 3, 619730330622847022 : 1, 18446744073709551615 : 0},
                    target_classes_count = 0,
                    counter_denominator = 101,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 1.14906e-43, count = 12), catboost_ctr_mean_history(sum = 8.40779e-45, count = 1)],
                    ctr_total = [82, 12, 6, 1]
                ),
                8405694746487331111 :
                catboost_ctr_value_table(
                    index_hash_viewer = {2136296385601851904 : 0, 7428730412605434673 : 2, 9959754109938180626 : 6, 14256903225472974739 : 1, 8056048104805248435 : 3, 18446744073709551615 : 0, 12130603730978457510 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 10789443546307262781 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0},
                    target_classes_count = 0,
                    counter_denominator = 101,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 1.30321e-43, count = 1), catboost_ctr_mean_history(sum = 2.8026e-45, count = 2), catboost_ctr_mean_history(sum = 1.4013e-45, count = 1)],
                    ctr_total = [93, 1, 2, 2, 1, 1, 1]
                ),
                8405694746487331128 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 18446744073709551615 : 0, 13987540656699198946 : 3, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18089724839685297862 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 10353740403438739754 : 1, 3922001124998993866 : 2, 13686716744772876732 : 4, 18293943161539901837 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0},
                    target_classes_count = 0,
                    counter_denominator = 101,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 1.82169e-44, count = 42), catboost_ctr_mean_history(sum = 5.1848e-44, count = 2), catboost_ctr_mean_history(sum = 5.60519e-45, count = 3)],
                    ctr_total = [13, 42, 37, 2, 4, 3]
                ),
                8405694746487331129 :
                catboost_ctr_value_table(
                    index_hash_viewer = {7537614347373541888 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 5903587924673389870 : 2, 18278593470046426063 : 6, 10490918088663114479 : 3, 18446744073709551615 : 0, 407784798908322194 : 7, 5726141494028968211 : 1, 1663272627194921140 : 10, 8118089682304925684 : 8, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 15431483020081801594 : 9, 18446744073709551615 : 0, 18446744073709551615 : 0, 1403990565605003389 : 5, 3699047549849816830 : 11, 14914630290137473119 : 0},
                    target_classes_count = 0,
                    counter_denominator = 101,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 1.4013e-44, count = 4), catboost_ctr_mean_history(sum = 3.92364e-44, count = 3), catboost_ctr_mean_history(sum = 2.8026e-44, count = 19), catboost_ctr_mean_history(sum = 5.60519e-45, count = 5), catboost_ctr_mean_history(sum = 2.8026e-45, count = 1), catboost_ctr_mean_history(sum = 4.2039e-45, count = 2)],
                    ctr_total = [10, 4, 28, 3, 20, 19, 4, 5, 2, 1, 3, 2]
                ),
                8405694746487331130 :
                catboost_ctr_value_table(
                    index_hash_viewer = {3607388709394294015 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18356215166324018775 : 2, 18365206492781874408 : 1, 18446744073709551615 : 0, 18446744073709551615 : 0, 14559146096844143499 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 11416626865500250542 : 3, 5549384008678792175 : 0},
                    target_classes_count = 0,
                    counter_denominator = 101,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 3.08286e-44, count = 5), catboost_ctr_mean_history(sum = 1.96182e-44, count = 36), catboost_ctr_mean_history(sum = 3.08286e-44, count = 2)],
                    ctr_total = [22, 5, 14, 36, 22, 2]
                ),
                8405694746487331131 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 14452488454682494753 : 5, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 1388452262538353895 : 9, 8940247467966214344 : 1, 4415016594903340137 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 41084306841859596 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 8678739366408346384 : 2, 18446744073709551615 : 0, 4544226147037566482 : 11, 14256903225472974739 : 8, 16748601451484174196 : 7, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 5913522704362245435 : 6, 1466902651052050075 : 10, 2942073219785550491 : 12, 15383677753867481021 : 3, 18446744073709551615 : 0},
                    target_classes_count = 0,
                    counter_denominator = 101,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 2.24208e-44, count = 10), catboost_ctr_mean_history(sum = 8.40779e-45, count = 16), catboost_ctr_mean_history(sum = 7.00649e-45, count = 11), catboost_ctr_mean_history(sum = 1.54143e-44, count = 3), catboost_ctr_mean_history(sum = 8.40779e-45, count = 13), catboost_ctr_mean_history(sum = 2.8026e-45, count = 1)],
                    ctr_total = [16, 10, 6, 16, 5, 11, 11, 3, 6, 13, 2, 1, 1]
                ),
                8405694746487331134 :
                catboost_ctr_value_table(
                    index_hash_viewer = {18446744073709551615 : 0, 15379737126276794113 : 5, 18446744073709551615 : 0, 14256903225472974739 : 3, 18048946643763804916 : 1, 2051959227349154549 : 4, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 18446744073709551615 : 0, 7024059537692152076 : 6, 18446744073709551615 : 0, 15472181234288693070 : 2, 8864790892067322495 : 0},
                    target_classes_count = 0,
                    counter_denominator = 101,
                    ctr_mean_history = [catboost_ctr_mean_history(sum = 9.52883e-44, count = 4), catboost_ctr_mean_history(sum = 9.80909e-45, count = 6), catboost_ctr_mean_history(sum = 1.26117e-44, count = 2)],
                    ctr_total = [68, 4, 7, 6, 9, 2, 5]
                )
            }
        )
    )


### Routines to compute CTRs

def calc_hash(a, b):
    max_int = 0xffFFffFFffFFffFF
    MAGIC_MULT = 0x4906ba494954cb65
    return (MAGIC_MULT * ((a + MAGIC_MULT * b) & max_int)) & max_int


def calc_hashes(binarized_features, hashed_cat_features, transposed_cat_feature_indexes, binarized_feature_indexes):
    result = 0
    for cat_feature_index in transposed_cat_feature_indexes:
        result = calc_hash(result, hashed_cat_features[cat_feature_index])
    for bin_feature_index in binarized_feature_indexes:
        binary_feature = binarized_features[bin_feature_index.bin_index]
        if not(bin_feature_index.check_value_equal):
            result = calc_hash(result, 1 if (binary_feature >= bin_feature_index.value) else 0)
        else:
            result = calc_hash(result, 1 if (binary_feature == bin_feature_index.value) else 0)
    return result


def calc_ctrs(model_ctrs, binarized_features, hashed_cat_features, result):
    ctr_hash = 0
    result_index = 0

    for i in range(len(model_ctrs.compressed_model_ctrs)):
        proj = model_ctrs.compressed_model_ctrs[i].projection
        ctr_hash = calc_hashes(binarized_features, hashed_cat_features, proj.transposed_cat_feature_indexes, proj.binarized_indexes)
        for j in range(len(model_ctrs.compressed_model_ctrs[i].model_ctrs)):
            ctr = model_ctrs.compressed_model_ctrs[i].model_ctrs[j]
            learn_ctr = model_ctrs.ctr_data.learn_ctrs[ctr.base_hash]
            ctr_type = ctr.base_ctr_type
            bucket = learn_ctr.resolve_hash_index(ctr_hash)
            if bucket is None:
                result[result_index] = ctr.calc(0, 0)
            else:
                if ctr_type == "BinarizedTargetMeanValue" or ctr_type == "FloatTargetMeanValue":
                    ctr_mean_history = learn_ctr.ctr_mean_history[bucket]
                    result[result_index] = ctr.calc(ctr_mean_history.sum, ctr_mean_history.count)
                elif ctr_type == "Counter" or ctr_type == "FeatureFreq":
                    ctr_total = learn_ctr.ctr_total
                    denominator = learn_ctr.counter_denominator
                    result[result_index] = ctr.calc(ctr_total[bucket], denominator)
                elif ctr_type == "Buckets":
                    ctr_history = learn_ctr.ctr_total
                    target_classes_count = learn_ctr.target_classes_count
                    total_count = 0
                    good_count = ctr_history[bucket * target_classes_count + ctr.target_border_idx];
                    for class_id in range(target_classes_count):
                        total_count += ctr_history[bucket * target_classes_count + class_id]
                    result[result_index] = ctr.calc(good_count, total_count)
                else:
                    ctr_history = learn_ctr.ctr_total;
                    target_classes_count = learn_ctr.target_classes_count;

                    if target_classes_count > 2:
                        good_count = 0
                        total_count = 0
                        for class_id in range(ctr.target_border_idx + 1):
                            total_count += ctr_history[bucket * target_classes_count + class_id]
                        for class_id in range(ctr.target_border_idx + 1, target_classes_count):
                            good_count += ctr_history[bucket * target_classes_count + class_id]
                        total_count += good_count;
                        result[result_index] = ctr.calc(good_count, total_count);
                    else:
                        result[result_index] = ctr.calc(ctr_history[bucket * 2 + 1], ctr_history[bucket * 2] + ctr_history[bucket * 2 + 1])
            result_index += 1



cat_features_hashes = {
    "Female": -2114564283,
    "Protective-serv": -2075156126,
    "Assoc-voc": -2029370604,
    "Married-civ-spouse": -2019910086,
    "Federal-gov": -1993066135,
    "Transport-moving": -1903253868,
    "Farming-fishing": -1888947309,
    "Prof-school": -1742589394,
    "Self-emp-inc": -1732053524,
    "?": -1576664757,
    "Handlers-cleaners": -1555793520,
    "0": -1438285038,
    "Philippines": -1437257447,
    "Male": -1291328762,
    "11th": -1209300766,
    "Unmarried": -1158645841,
    "Local-gov": -1105932163,
    "Divorced": -993514283,
    "Some-college": -870577664,
    "Asian-Pac-Islander": -787966085,
    "Sales": -760428919,
    "Self-emp-not-inc": -661998850,
    "Widowed": -651660490,
    "Masters": -453513993,
    "State-gov": -447941100,
    "Doctorate": -434936054,
    "White": -218697806,
    "Own-child": -189887997,
    "Amer-Indian-Eskimo": -86031875,
    "Exec-managerial": -26537793,
    "Husband": 60472414,
    "Italy": 117615621,
    "Not-in-family": 143014663,
    "n": 239748506,
    "Married-spouse-absent": 261588508,
    "Prof-specialty": 369959660,
    "Assoc-acdm": 475479755,
    "Adm-clerical": 495735304,
    "Bachelors": 556725573,
    "HS-grad": 580496350,
    "Craft-repair": 709691013,
    "Other-relative": 739168919,
    "Other-service": 786213683,
    "9th": 840896980,
    "Separated": 887350706,
    "10th": 888723975,
    "Mexico": 972041323,
    "Hong": 995245846,
    "1": 1121341681,
    "Tech-support": 1150039955,
    "Black": 1161225950,
    "Canada": 1510821218,
    "Wife": 1708186408,
    "United-States": 1736516096,
    "Never-married": 1959200218,
    "Machine-op-inspct": 2039859473,
    "7th-8th": 2066982375,
    "Private": 2084267031,
}

def hash_uint64(string):
    return cat_features_hashes.get(str(string), 0x7fFFffFF)


### Applicator for the CatBoost model

def apply_catboost_model(float_features, cat_features=[], ntree_start=0, ntree_end=catboost_model.tree_count):
    """
    Applies the model built by CatBoost.

    Parameters
    ----------

    float_features : list of float features

    cat_features : list of categorical features
        You need to pass float and categorical features separately in the same order they appeared in train dataset.
        For example if you had features f1,f2,f3,f4, where f2 and f4 were considered categorical, you need to pass here float_features=f1,f3, cat_features=f2,f4


    Returns
    -------
    prediction : formula value for the model and the features

    """
    if ntree_end == 0:
        ntree_end = catboost_model.tree_count
    else:
        ntree_end = min(ntree_end, catboost_model.tree_count)

    model = catboost_model

    assert len(float_features) >= model.float_feature_count
    assert len(cat_features) >= model.cat_feature_count

    # Binarise features
    binary_features = [0] * model.binary_feature_count
    binary_feature_index = 0

    for i in range(len(model.float_feature_borders)):
        for border in model.float_feature_borders[i]:
            binary_features[binary_feature_index] += 1 if (float_features[model.float_features_index[i]] > border) else 0
        binary_feature_index += 1
    transposed_hash = [0] * model.cat_feature_count
    for i in range(model.cat_feature_count):
        transposed_hash[i] = hash_uint64(cat_features[i])

    if len(model.one_hot_cat_feature_index) > 0:
        cat_feature_packed_indexes = {}
        for i in range(model.cat_feature_count):
            cat_feature_packed_indexes[model.cat_features_index[i]] = i
        for i in range(len(model.one_hot_cat_feature_index)):
            cat_idx = cat_feature_packed_indexes[model.one_hot_cat_feature_index[i]]
            hash = transposed_hash[cat_idx]
            for border_idx in range(len(model.one_hot_hash_values[i])):
                binary_features[binary_feature_index] |= (1 if hash == model.one_hot_hash_values[i][border_idx] else 0) * (border_idx + 1)
            binary_feature_index += 1

    if hasattr(model, 'model_ctrs') and model.model_ctrs.used_model_ctrs_count > 0:
        ctrs = [0.] * model.model_ctrs.used_model_ctrs_count;
        calc_ctrs(model.model_ctrs, binary_features, transposed_hash, ctrs)
        for i in range(len(model.ctr_feature_borders)):
            for border in model.ctr_feature_borders[i]:
                binary_features[binary_feature_index] += 1 if ctrs[i] > border else 0
            binary_feature_index += 1

    # Extract and sum values from trees
    result = 0.
    tree_splits_index = 0
    current_tree_leaf_values_index = 0
    for tree_id in range(ntree_start, ntree_end):
        current_tree_depth = model.tree_depth[tree_id]
        index = 0
        for depth in range(current_tree_depth):
            border_val = model.tree_split_border[tree_splits_index + depth]
            feature_index = model.tree_split_feature_index[tree_splits_index + depth]
            xor_mask = model.tree_split_xor_mask[tree_splits_index + depth]
            index |= ((binary_features[feature_index] ^ xor_mask) >= border_val) << depth
        result += model.leaf_values[current_tree_leaf_values_index + index]
        tree_splits_index += current_tree_depth
        current_tree_leaf_values_index += (1 << current_tree_depth)
    return model.scale * result + model.bias



